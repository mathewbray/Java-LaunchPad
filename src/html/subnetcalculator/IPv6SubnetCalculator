<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>IPv6 Subnet Calculator</title>  
<!--  START TOOLS OPERATION INCLUDES -->
<script type="text/javascript">
//* $Id$ */
(function(E,A){function U(){return false}function ba(){return true}function ja(a,b,d){d[0].type=a;return c.event.handle.apply(b,d)}function Ga(a){var b,d,e=[],f=[],h,k,l,n,s,v,B,D;k=c.data(this,this.nodeType?"events":"__events__");if(typeof k==="function")k=k.events;if(!(a.liveFired===this||!k||!k.live||a.button&&a.type==="click")){if(a.namespace)D=RegExp("(^|\\.)"+a.namespace.split(".").join("\\.(?:.*\\.)?")+"(\\.|$)");a.liveFired=this;var H=k.live.slice(0);for(n=0;n<H.length;n++){k=H[n];k.origType.replace(X,
"")===a.type?f.push(k.selector):H.splice(n--,1)}f=c(a.target).closest(f,a.currentTarget);s=0;for(v=f.length;s<v;s++){B=f[s];for(n=0;n<H.length;n++){k=H[n];if(B.selector===k.selector&&(!D||D.test(k.namespace))){l=B.elem;h=null;if(k.preType==="mouseenter"||k.preType==="mouseleave"){a.type=k.preType;h=c(a.relatedTarget).closest(k.selector)[0]}if(!h||h!==l)e.push({elem:l,handleObj:k,level:B.level})}}}s=0;for(v=e.length;s<v;s++){f=e[s];if(d&&f.level>d)break;a.currentTarget=f.elem;a.data=f.handleObj.data;
a.handleObj=f.handleObj;D=f.handleObj.origHandler.apply(f.elem,arguments);if(D===false||a.isPropagationStopped()){d=f.level;if(D===false)b=false}}return b}}function Y(a,b){return(a&&a!=="*"?a+".":"")+b.replace(Ha,"`").replace(Ia,"&")}function ka(a,b,d){if(c.isFunction(b))return c.grep(a,function(f,h){return!!b.call(f,h,f)===d});else if(b.nodeType)return c.grep(a,function(f){return f===b===d});else if(typeof b==="string"){var e=c.grep(a,function(f){return f.nodeType===1});if(Ja.test(b))return c.filter(b,
e,!d);else b=c.filter(b,e)}return c.grep(a,function(f){return c.inArray(f,b)>=0===d})}function la(a,b){var d=0;b.each(function(){if(this.nodeName===(a[d]&&a[d].nodeName)){var e=c.data(a[d++]),f=c.data(this,e);if(e=e&&e.events){delete f.handle;f.events={};for(var h in e)for(var k in e[h])c.event.add(this,h,e[h][k],e[h][k].data)}}})}function Ka(a,b){b.src?c.ajax({url:b.src,async:false,dataType:"script"}):c.globalEval(b.text||b.textContent||b.innerHTML||"");b.parentNode&&b.parentNode.removeChild(b)}
function ma(a,b,d){var e=b==="width"?a.offsetWidth:a.offsetHeight;if(d==="border")return e;c.each(b==="width"?La:Ma,function(){d||(e-=parseFloat(c.css(a,"padding"+this))||0);if(d==="margin")e+=parseFloat(c.css(a,"margin"+this))||0;else e-=parseFloat(c.css(a,"border"+this+"Width"))||0});return e}function ca(a,b,d,e){if(c.isArray(b)&&b.length)c.each(b,function(f,h){d||Na.test(a)?e(a,h):ca(a+"["+(typeof h==="object"||c.isArray(h)?f:"")+"]",h,d,e)});else if(!d&&b!=null&&typeof b==="object")c.isEmptyObject(b)?
e(a,""):c.each(b,function(f,h){ca(a+"["+f+"]",h,d,e)});else e(a,b)}function S(a,b){var d={};c.each(na.concat.apply([],na.slice(0,b)),function(){d[this]=a});return d}function oa(a){if(!da[a]){var b=c("<"+a+">").appendTo("body"),d=b.css("display");b.remove();if(d==="none"||d==="")d="block";da[a]=d}return da[a]}function ea(a){return c.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:false}var u=E.document,c=function(){function a(){if(!b.isReady){try{u.documentElement.doScroll("left")}catch(i){setTimeout(a,
1);return}b.ready()}}var b=function(i,r){return new b.fn.init(i,r)},d=E.jQuery,e=E.$,f,h=/^(?:[^<]*(<[\w\W]+>)[^>]*$|#([\w\-]+)$)/,k=/\S/,l=/^\s+/,n=/\s+$/,s=/\W/,v=/\d/,B=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,D=/^[\],:{}\s]*$/,H=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,w=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,G=/(?:^|:|,)(?:\s*\[)+/g,M=/(webkit)[ \/]([\w.]+)/,g=/(opera)(?:.*version)?[ \/]([\w.]+)/,j=/(msie) ([\w.]+)/,o=/(mozilla)(?:.*? rv:([\w.]+))?/,m=navigator.userAgent,p=false,
q=[],t,x=Object.prototype.toString,C=Object.prototype.hasOwnProperty,P=Array.prototype.push,N=Array.prototype.slice,R=String.prototype.trim,Q=Array.prototype.indexOf,L={};b.fn=b.prototype={init:function(i,r){var y,z,F;if(!i)return this;if(i.nodeType){this.context=this[0]=i;this.length=1;return this}if(i==="body"&&!r&&u.body){this.context=u;this[0]=u.body;this.selector="body";this.length=1;return this}if(typeof i==="string")if((y=h.exec(i))&&(y[1]||!r))if(y[1]){F=r?r.ownerDocument||r:u;if(z=B.exec(i))if(b.isPlainObject(r)){i=
[u.createElement(z[1])];b.fn.attr.call(i,r,true)}else i=[F.createElement(z[1])];else{z=b.buildFragment([y[1]],[F]);i=(z.cacheable?z.fragment.cloneNode(true):z.fragment).childNodes}return b.merge(this,i)}else{if((z=u.getElementById(y[2]))&&z.parentNode){if(z.id!==y[2])return f.find(i);this.length=1;this[0]=z}this.context=u;this.selector=i;return this}else if(!r&&!s.test(i)){this.selector=i;this.context=u;i=u.getElementsByTagName(i);return b.merge(this,i)}else return!r||r.jquery?(r||f).find(i):b(r).find(i);
else if(b.isFunction(i))return f.ready(i);if(i.selector!==A){this.selector=i.selector;this.context=i.context}return b.makeArray(i,this)},selector:"",jquery:"1.4.3",length:0,size:function(){return this.length},toArray:function(){return N.call(this,0)},get:function(i){return i==null?this.toArray():i<0?this.slice(i)[0]:this[i]},pushStack:function(i,r,y){var z=b();b.isArray(i)?P.apply(z,i):b.merge(z,i);z.prevObject=this;z.context=this.context;if(r==="find")z.selector=this.selector+(this.selector?" ":
"")+y;else if(r)z.selector=this.selector+"."+r+"("+y+")";return z},each:function(i,r){return b.each(this,i,r)},ready:function(i){b.bindReady();if(b.isReady)i.call(u,b);else q&&q.push(i);return this},eq:function(i){return i===-1?this.slice(i):this.slice(i,+i+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(N.apply(this,arguments),"slice",N.call(arguments).join(","))},map:function(i){return this.pushStack(b.map(this,function(r,y){return i.call(r,
y,r)}))},end:function(){return this.prevObject||b(null)},push:P,sort:[].sort,splice:[].splice};b.fn.init.prototype=b.fn;b.extend=b.fn.extend=function(){var i=arguments[0]||{},r=1,y=arguments.length,z=false,F,I,K,J,fa;if(typeof i==="boolean"){z=i;i=arguments[1]||{};r=2}if(typeof i!=="object"&&!b.isFunction(i))i={};if(y===r){i=this;--r}for(;r<y;r++)if((F=arguments[r])!=null)for(I in F){K=i[I];J=F[I];if(i!==J)if(z&&J&&(b.isPlainObject(J)||(fa=b.isArray(J)))){if(fa){fa=false;clone=K&&b.isArray(K)?K:[]}else clone=
K&&b.isPlainObject(K)?K:{};i[I]=b.extend(z,clone,J)}else if(J!==A)i[I]=J}return i};b.extend({noConflict:function(i){E.$=e;if(i)E.jQuery=d;return b},isReady:false,readyWait:1,ready:function(i){i===true&&b.readyWait--;if(!b.readyWait||i!==true&&!b.isReady){if(!u.body)return setTimeout(b.ready,1);b.isReady=true;if(!(i!==true&&--b.readyWait>0)){if(q){for(var r=0;i=q[r++];)i.call(u,b);q=null}b.fn.triggerHandler&&b(u).triggerHandler("ready")}}},bindReady:function(){if(!p){p=true;if(u.readyState==="complete")return setTimeout(b.ready,
1);if(u.addEventListener){u.addEventListener("DOMContentLoaded",t,false);E.addEventListener("load",b.ready,false)}else if(u.attachEvent){u.attachEvent("onreadystatechange",t);E.attachEvent("onload",b.ready);var i=false;try{i=E.frameElement==null}catch(r){}u.documentElement.doScroll&&i&&a()}}},isFunction:function(i){return b.type(i)==="function"},isArray:Array.isArray||function(i){return b.type(i)==="array"},isWindow:function(i){return i&&typeof i==="object"&&"setInterval"in i},isNaN:function(i){return i==
null||!v.test(i)||isNaN(i)},type:function(i){return i==null?String(i):L[x.call(i)]||"object"},isPlainObject:function(i){if(!i||b.type(i)!=="object"||i.nodeType||b.isWindow(i))return false;if(i.constructor&&!C.call(i,"constructor")&&!C.call(i.constructor.prototype,"isPrototypeOf"))return false;for(var r in i);return r===A||C.call(i,r)},isEmptyObject:function(i){for(var r in i)return false;return true},error:function(i){throw i;},parseJSON:function(i){if(typeof i!=="string"||!i)return null;i=b.trim(i);
if(D.test(i.replace(H,"@").replace(w,"]").replace(G,"")))return E.JSON&&E.JSON.parse?E.JSON.parse(i):(new Function("return "+i))();else b.error("Invalid JSON: "+i)},noop:function(){},globalEval:function(i){if(i&&k.test(i)){var r=u.getElementsByTagName("head")[0]||u.documentElement,y=u.createElement("script");y.type="text/javascript";if(b.support.scriptEval)y.appendChild(u.createTextNode(i));else y.text=i;r.insertBefore(y,r.firstChild);r.removeChild(y)}},nodeName:function(i,r){return i.nodeName&&i.nodeName.toUpperCase()===
r.toUpperCase()},each:function(i,r,y){var z,F=0,I=i.length,K=I===A||b.isFunction(i);if(y)if(K)for(z in i){if(r.apply(i[z],y)===false)break}else for(;F<I;){if(r.apply(i[F++],y)===false)break}else if(K)for(z in i){if(r.call(i[z],z,i[z])===false)break}else for(y=i[0];F<I&&r.call(y,F,y)!==false;y=i[++F]);return i},trim:R?function(i){return i==null?"":R.call(i)}:function(i){return i==null?"":i.toString().replace(l,"").replace(n,"")},makeArray:function(i,r){var y=r||[];if(i!=null){var z=b.type(i);i.length==
null||z==="string"||z==="function"||z==="regexp"||b.isWindow(i)?P.call(y,i):b.merge(y,i)}return y},inArray:function(i,r){if(r.indexOf)return r.indexOf(i);for(var y=0,z=r.length;y<z;y++)if(r[y]===i)return y;return-1},merge:function(i,r){var y=i.length,z=0;if(typeof r.length==="number")for(var F=r.length;z<F;z++)i[y++]=r[z];else for(;r[z]!==A;)i[y++]=r[z++];i.length=y;return i},grep:function(i,r,y){var z=[],F;y=!!y;for(var I=0,K=i.length;I<K;I++){F=!!r(i[I],I);y!==F&&z.push(i[I])}return z},map:function(i,
r,y){for(var z=[],F,I=0,K=i.length;I<K;I++){F=r(i[I],I,y);if(F!=null)z[z.length]=F}return z.concat.apply([],z)},guid:1,proxy:function(i,r,y){if(arguments.length===2)if(typeof r==="string"){y=i;i=y[r];r=A}else if(r&&!b.isFunction(r)){y=r;r=A}if(!r&&i)r=function(){return i.apply(y||this,arguments)};if(i)r.guid=i.guid=i.guid||r.guid||b.guid++;return r},access:function(i,r,y,z,F,I){var K=i.length;if(typeof r==="object"){for(var J in r)b.access(i,J,r[J],z,F,y);return i}if(y!==A){z=!I&&z&&b.isFunction(y);
for(J=0;J<K;J++)F(i[J],r,z?y.call(i[J],J,F(i[J],r)):y,I);return i}return K?F(i[0],r):A},now:function(){return(new Date).getTime()},uaMatch:function(i){i=i.toLowerCase();i=M.exec(i)||g.exec(i)||j.exec(i)||i.indexOf("compatible")<0&&o.exec(i)||[];return{browser:i[1]||"",version:i[2]||"0"}},browser:{}});b.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(i,r){L["[object "+r+"]"]=r.toLowerCase()});m=b.uaMatch(m);if(m.browser){b.browser[m.browser]=true;b.browser.version=
m.version}if(b.browser.webkit)b.browser.safari=true;if(Q)b.inArray=function(i,r){return Q.call(r,i)};if(!/\s/.test("\u00a0")){l=/^[\s\xA0]+/;n=/[\s\xA0]+$/}f=b(u);if(u.addEventListener)t=function(){u.removeEventListener("DOMContentLoaded",t,false);b.ready()};else if(u.attachEvent)t=function(){if(u.readyState==="complete"){u.detachEvent("onreadystatechange",t);b.ready()}};return E.jQuery=E.$=b}();(function(){c.support={};var a=u.documentElement,b=u.createElement("script"),d=u.createElement("div"),
e="script"+c.now();d.style.display="none";d.innerHTML="   <link/><table></table><a href='/a' style='color:red;float:left;opacity:.55;'>a</a><input type='checkbox'/>";var f=d.getElementsByTagName("*"),h=d.getElementsByTagName("a")[0],k=u.createElement("select"),l=k.appendChild(u.createElement("option"));if(!(!f||!f.length||!h)){c.support={leadingWhitespace:d.firstChild.nodeType===3,tbody:!d.getElementsByTagName("tbody").length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/red/.test(h.getAttribute("style")),
hrefNormalized:h.getAttribute("href")==="/a",opacity:/^0.55$/.test(h.style.opacity),cssFloat:!!h.style.cssFloat,checkOn:d.getElementsByTagName("input")[0].value==="on",optSelected:l.selected,optDisabled:false,checkClone:false,scriptEval:false,noCloneEvent:true,boxModel:null,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableHiddenOffsets:true};k.disabled=true;c.support.optDisabled=!l.disabled;b.type="text/javascript";try{b.appendChild(u.createTextNode("window."+e+"=1;"))}catch(n){}a.insertBefore(b,
a.firstChild);if(E[e]){c.support.scriptEval=true;delete E[e]}a.removeChild(b);if(d.attachEvent&&d.fireEvent){d.attachEvent("onclick",function s(){c.support.noCloneEvent=false;d.detachEvent("onclick",s)});d.cloneNode(true).fireEvent("onclick")}d=u.createElement("div");d.innerHTML="<input type='radio' name='radiotest' checked='checked'/>";a=u.createDocumentFragment();a.appendChild(d.firstChild);c.support.checkClone=a.cloneNode(true).cloneNode(true).lastChild.checked;c(function(){var s=u.createElement("div");
s.style.width=s.style.paddingLeft="1px";u.body.appendChild(s);c.boxModel=c.support.boxModel=s.offsetWidth===2;if("zoom"in s.style){s.style.display="inline";s.style.zoom=1;c.support.inlineBlockNeedsLayout=s.offsetWidth===2;s.style.display="";s.innerHTML="<div style='width:4px;'></div>";c.support.shrinkWrapBlocks=s.offsetWidth!==2}s.innerHTML="<table><tr><td style='padding:0;display:none'></td><td>t</td></tr></table>";var v=s.getElementsByTagName("td");c.support.reliableHiddenOffsets=v[0].offsetHeight===
0;v[0].style.display="";v[1].style.display="none";c.support.reliableHiddenOffsets=c.support.reliableHiddenOffsets&&v[0].offsetHeight===0;s.innerHTML="";u.body.removeChild(s).style.display="none"});a=function(s){var v=u.createElement("div");s="on"+s;var B=s in v;if(!B){v.setAttribute(s,"return;");B=typeof v[s]==="function"}return B};c.support.submitBubbles=a("submit");c.support.changeBubbles=a("change");a=b=d=f=h=null}})();c.props={"for":"htmlFor","class":"className",readonly:"readOnly",maxlength:"maxLength",
cellspacing:"cellSpacing",rowspan:"rowSpan",colspan:"colSpan",tabindex:"tabIndex",usemap:"useMap",frameborder:"frameBorder"};var pa={},Oa=/^(?:\{.*\}|\[.*\])$/;c.extend({cache:{},uuid:0,expando:"jQuery"+c.now(),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},data:function(a,b,d){if(c.acceptData(a)){a=a==E?pa:a;var e=a.nodeType,f=e?a[c.expando]:null,h=c.cache;if(!(e&&!f&&typeof b==="string"&&d===A)){if(e)f||(a[c.expando]=f=++c.uuid);else h=a;if(typeof b==="object")if(e)h[f]=
c.extend(h[f],b);else c.extend(h,b);else if(e&&!h[f])h[f]={};a=e?h[f]:h;if(d!==A)a[b]=d;return typeof b==="string"?a[b]:a}}},removeData:function(a,b){if(c.acceptData(a)){a=a==E?pa:a;var d=a.nodeType,e=d?a[c.expando]:a,f=c.cache,h=d?f[e]:e;if(b){if(h){delete h[b];d&&c.isEmptyObject(h)&&c.removeData(a)}}else if(d&&c.support.deleteExpando)delete a[c.expando];else if(a.removeAttribute)a.removeAttribute(c.expando);else if(d)delete f[e];else for(var k in a)delete a[k]}},acceptData:function(a){if(a.nodeName){var b=
c.noData[a.nodeName.toLowerCase()];if(b)return!(b===true||a.getAttribute("classid")!==b)}return true}});c.fn.extend({data:function(a,b){if(typeof a==="undefined")return this.length?c.data(this[0]):null;else if(typeof a==="object")return this.each(function(){c.data(this,a)});var d=a.split(".");d[1]=d[1]?"."+d[1]:"";if(b===A){var e=this.triggerHandler("getData"+d[1]+"!",[d[0]]);if(e===A&&this.length){e=c.data(this[0],a);if(e===A&&this[0].nodeType===1){e=this[0].getAttribute("data-"+a);if(typeof e===
"string")try{e=e==="true"?true:e==="false"?false:e==="null"?null:!c.isNaN(e)?parseFloat(e):Oa.test(e)?c.parseJSON(e):e}catch(f){}else e=A}}return e===A&&d[1]?this.data(d[0]):e}else return this.each(function(){var h=c(this),k=[d[0],b];h.triggerHandler("setData"+d[1]+"!",k);c.data(this,a,b);h.triggerHandler("changeData"+d[1]+"!",k)})},removeData:function(a){return this.each(function(){c.removeData(this,a)})}});c.extend({queue:function(a,b,d){if(a){b=(b||"fx")+"queue";var e=c.data(a,b);if(!d)return e||
[];if(!e||c.isArray(d))e=c.data(a,b,c.makeArray(d));else e.push(d);return e}},dequeue:function(a,b){b=b||"fx";var d=c.queue(a,b),e=d.shift();if(e==="inprogress")e=d.shift();if(e){b==="fx"&&d.unshift("inprogress");e.call(a,function(){c.dequeue(a,b)})}}});c.fn.extend({queue:function(a,b){if(typeof a!=="string"){b=a;a="fx"}if(b===A)return c.queue(this[0],a);return this.each(function(){var d=c.queue(this,a,b);a==="fx"&&d[0]!=="inprogress"&&c.dequeue(this,a)})},dequeue:function(a){return this.each(function(){c.dequeue(this,
a)})},delay:function(a,b){a=c.fx?c.fx.speeds[a]||a:a;b=b||"fx";return this.queue(b,function(){var d=this;setTimeout(function(){c.dequeue(d,b)},a)})},clearQueue:function(a){return this.queue(a||"fx",[])}});var qa=/[\n\t]/g,ga=/\s+/,Pa=/\r/g,Qa=/^(?:href|src|style)$/,Ra=/^(?:button|input)$/i,Sa=/^(?:button|input|object|select|textarea)$/i,Ta=/^a(?:rea)?$/i,ra=/^(?:radio|checkbox)$/i;c.fn.extend({attr:function(a,b){return c.access(this,a,b,true,c.attr)},removeAttr:function(a){return this.each(function(){c.attr(this,
a,"");this.nodeType===1&&this.removeAttribute(a)})},addClass:function(a){if(c.isFunction(a))return this.each(function(s){var v=c(this);v.addClass(a.call(this,s,v.attr("class")))});if(a&&typeof a==="string")for(var b=(a||"").split(ga),d=0,e=this.length;d<e;d++){var f=this[d];if(f.nodeType===1)if(f.className){for(var h=" "+f.className+" ",k=f.className,l=0,n=b.length;l<n;l++)if(h.indexOf(" "+b[l]+" ")<0)k+=" "+b[l];f.className=c.trim(k)}else f.className=a}return this},removeClass:function(a){if(c.isFunction(a))return this.each(function(n){var s=
c(this);s.removeClass(a.call(this,n,s.attr("class")))});if(a&&typeof a==="string"||a===A)for(var b=(a||"").split(ga),d=0,e=this.length;d<e;d++){var f=this[d];if(f.nodeType===1&&f.className)if(a){for(var h=(" "+f.className+" ").replace(qa," "),k=0,l=b.length;k<l;k++)h=h.replace(" "+b[k]+" "," ");f.className=c.trim(h)}else f.className=""}return this},toggleClass:function(a,b){var d=typeof a,e=typeof b==="boolean";if(c.isFunction(a))return this.each(function(f){var h=c(this);h.toggleClass(a.call(this,
f,h.attr("class"),b),b)});return this.each(function(){if(d==="string")for(var f,h=0,k=c(this),l=b,n=a.split(ga);f=n[h++];){l=e?l:!k.hasClass(f);k[l?"addClass":"removeClass"](f)}else if(d==="undefined"||d==="boolean"){this.className&&c.data(this,"__className__",this.className);this.className=this.className||a===false?"":c.data(this,"__className__")||""}})},hasClass:function(a){a=" "+a+" ";for(var b=0,d=this.length;b<d;b++)if((" "+this[b].className+" ").replace(qa," ").indexOf(a)>-1)return true;return false},
val:function(a){if(!arguments.length){var b=this[0];if(b){if(c.nodeName(b,"option")){var d=b.attributes.value;return!d||d.specified?b.value:b.text}if(c.nodeName(b,"select")){var e=b.selectedIndex;d=[];var f=b.options;b=b.type==="select-one";if(e<0)return null;var h=b?e:0;for(e=b?e+1:f.length;h<e;h++){var k=f[h];if(k.selected&&(c.support.optDisabled?!k.disabled:k.getAttribute("disabled")===null)&&(!k.parentNode.disabled||!c.nodeName(k.parentNode,"optgroup"))){a=c(k).val();if(b)return a;d.push(a)}}return d}if(ra.test(b.type)&&
!c.support.checkOn)return b.getAttribute("value")===null?"on":b.value;return(b.value||"").replace(Pa,"")}return A}var l=c.isFunction(a);return this.each(function(n){var s=c(this),v=a;if(this.nodeType===1){if(l)v=a.call(this,n,s.val());if(v==null)v="";else if(typeof v==="number")v+="";else if(c.isArray(v))v=c.map(v,function(D){return D==null?"":D+""});if(c.isArray(v)&&ra.test(this.type))this.checked=c.inArray(s.val(),v)>=0;else if(c.nodeName(this,"select")){var B=c.makeArray(v);c("option",this).each(function(){this.selected=
c.inArray(c(this).val(),B)>=0});if(!B.length)this.selectedIndex=-1}else this.value=v}})}});c.extend({attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attr:function(a,b,d,e){if(!a||a.nodeType===3||a.nodeType===8)return A;if(e&&b in c.attrFn)return c(a)[b](d);e=a.nodeType!==1||!c.isXMLDoc(a);var f=d!==A;b=e&&c.props[b]||b;if(a.nodeType===1){var h=Qa.test(b);if((b in a||a[b]!==A)&&e&&!h){if(f){b==="type"&&Ra.test(a.nodeName)&&a.parentNode&&c.error("type property can't be changed");
if(d===null)a.nodeType===1&&a.removeAttribute(b);else a[b]=d}if(c.nodeName(a,"form")&&a.getAttributeNode(b))return a.getAttributeNode(b).nodeValue;if(b==="tabIndex")return(b=a.getAttributeNode("tabIndex"))&&b.specified?b.value:Sa.test(a.nodeName)||Ta.test(a.nodeName)&&a.href?0:A;return a[b]}if(!c.support.style&&e&&b==="style"){if(f)a.style.cssText=""+d;return a.style.cssText}f&&a.setAttribute(b,""+d);if(!a.attributes[b]&&a.hasAttribute&&!a.hasAttribute(b))return A;a=!c.support.hrefNormalized&&e&&
h?a.getAttribute(b,2):a.getAttribute(b);return a===null?A:a}}});var X=/\.(.*)$/,ha=/^(?:textarea|input|select)$/i,Ha=/\./g,Ia=/ /g,Ua=/[^\w\s.|`]/g,Va=function(a){return a.replace(Ua,"\\$&")},sa={focusin:0,focusout:0};c.event={add:function(a,b,d,e){if(!(a.nodeType===3||a.nodeType===8)){if(c.isWindow(a)&&a!==E&&!a.frameElement)a=E;if(d===false)d=U;var f,h;if(d.handler){f=d;d=f.handler}if(!d.guid)d.guid=c.guid++;if(h=c.data(a)){var k=a.nodeType?"events":"__events__",l=h[k],n=h.handle;if(typeof l===
"function"){n=l.handle;l=l.events}else if(!l){a.nodeType||(h[k]=h=function(){});h.events=l={}}if(!n)h.handle=n=function(){return typeof c!=="undefined"&&!c.event.triggered?c.event.handle.apply(n.elem,arguments):A};n.elem=a;b=b.split(" ");for(var s=0,v;k=b[s++];){h=f?c.extend({},f):{handler:d,data:e};if(k.indexOf(".")>-1){v=k.split(".");k=v.shift();h.namespace=v.slice(0).sort().join(".")}else{v=[];h.namespace=""}h.type=k;if(!h.guid)h.guid=d.guid;var B=l[k],D=c.event.special[k]||{};if(!B){B=l[k]=[];
if(!D.setup||D.setup.call(a,e,v,n)===false)if(a.addEventListener)a.addEventListener(k,n,false);else a.attachEvent&&a.attachEvent("on"+k,n)}if(D.add){D.add.call(a,h);if(!h.handler.guid)h.handler.guid=d.guid}B.push(h);c.event.global[k]=true}a=null}}},global:{},remove:function(a,b,d,e){if(!(a.nodeType===3||a.nodeType===8)){if(d===false)d=U;var f,h,k=0,l,n,s,v,B,D,H=a.nodeType?"events":"__events__",w=c.data(a),G=w&&w[H];if(w&&G){if(typeof G==="function"){w=G;G=G.events}if(b&&b.type){d=b.handler;b=b.type}if(!b||
typeof b==="string"&&b.charAt(0)==="."){b=b||"";for(f in G)c.event.remove(a,f+b)}else{for(b=b.split(" ");f=b[k++];){v=f;l=f.indexOf(".")<0;n=[];if(!l){n=f.split(".");f=n.shift();s=RegExp("(^|\\.)"+c.map(n.slice(0).sort(),Va).join("\\.(?:.*\\.)?")+"(\\.|$)")}if(B=G[f])if(d){v=c.event.special[f]||{};for(h=e||0;h<B.length;h++){D=B[h];if(d.guid===D.guid){if(l||s.test(D.namespace)){e==null&&B.splice(h--,1);v.remove&&v.remove.call(a,D)}if(e!=null)break}}if(B.length===0||e!=null&&B.length===1){if(!v.teardown||
v.teardown.call(a,n)===false)c.removeEvent(a,f,w.handle);delete G[f]}}else for(h=0;h<B.length;h++){D=B[h];if(l||s.test(D.namespace)){c.event.remove(a,v,D.handler,h);B.splice(h--,1)}}}if(c.isEmptyObject(G)){if(b=w.handle)b.elem=null;delete w.events;delete w.handle;if(typeof w==="function")c.removeData(a,H);else c.isEmptyObject(w)&&c.removeData(a)}}}}},trigger:function(a,b,d,e){var f=a.type||a;if(!e){a=typeof a==="object"?a[c.expando]?a:c.extend(c.Event(f),a):c.Event(f);if(f.indexOf("!")>=0){a.type=
f=f.slice(0,-1);a.exclusive=true}if(!d){a.stopPropagation();c.event.global[f]&&c.each(c.cache,function(){this.events&&this.events[f]&&c.event.trigger(a,b,this.handle.elem)})}if(!d||d.nodeType===3||d.nodeType===8)return A;a.result=A;a.target=d;b=c.makeArray(b);b.unshift(a)}a.currentTarget=d;(e=d.nodeType?c.data(d,"handle"):(c.data(d,"__events__")||{}).handle)&&e.apply(d,b);e=d.parentNode||d.ownerDocument;try{if(!(d&&d.nodeName&&c.noData[d.nodeName.toLowerCase()]))if(d["on"+f]&&d["on"+f].apply(d,b)===
false){a.result=false;a.preventDefault()}}catch(h){}if(!a.isPropagationStopped()&&e)c.event.trigger(a,b,e,true);else if(!a.isDefaultPrevented()){e=a.target;var k,l=f.replace(X,""),n=c.nodeName(e,"a")&&l==="click",s=c.event.special[l]||{};if((!s._default||s._default.call(d,a)===false)&&!n&&!(e&&e.nodeName&&c.noData[e.nodeName.toLowerCase()])){try{if(e[l]){if(k=e["on"+l])e["on"+l]=null;c.event.triggered=true;e[l]()}}catch(v){}if(k)e["on"+l]=k;c.event.triggered=false}}},handle:function(a){var b,d,e;
d=[];var f,h=c.makeArray(arguments);a=h[0]=c.event.fix(a||E.event);a.currentTarget=this;b=a.type.indexOf(".")<0&&!a.exclusive;if(!b){e=a.type.split(".");a.type=e.shift();d=e.slice(0).sort();e=RegExp("(^|\\.)"+d.join("\\.(?:.*\\.)?")+"(\\.|$)")}a.namespace=a.namespace||d.join(".");f=c.data(this,this.nodeType?"events":"__events__");if(typeof f==="function")f=f.events;d=(f||{})[a.type];if(f&&d){d=d.slice(0);f=0;for(var k=d.length;f<k;f++){var l=d[f];if(b||e.test(l.namespace)){a.handler=l.handler;a.data=
l.data;a.handleObj=l;l=l.handler.apply(this,h);if(l!==A){a.result=l;if(l===false){a.preventDefault();a.stopPropagation()}}if(a.isImmediatePropagationStopped())break}}}return a.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),
fix:function(a){if(a[c.expando])return a;var b=a;a=c.Event(b);for(var d=this.props.length,e;d;){e=this.props[--d];a[e]=b[e]}if(!a.target)a.target=a.srcElement||u;if(a.target.nodeType===3)a.target=a.target.parentNode;if(!a.relatedTarget&&a.fromElement)a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement;if(a.pageX==null&&a.clientX!=null){b=u.documentElement;d=u.body;a.pageX=a.clientX+(b&&b.scrollLeft||d&&d.scrollLeft||0)-(b&&b.clientLeft||d&&d.clientLeft||0);a.pageY=a.clientY+(b&&b.scrollTop||
d&&d.scrollTop||0)-(b&&b.clientTop||d&&d.clientTop||0)}if(a.which==null&&(a.charCode!=null||a.keyCode!=null))a.which=a.charCode!=null?a.charCode:a.keyCode;if(!a.metaKey&&a.ctrlKey)a.metaKey=a.ctrlKey;if(!a.which&&a.button!==A)a.which=a.button&1?1:a.button&2?3:a.button&4?2:0;return a},guid:1E8,proxy:c.proxy,special:{ready:{setup:c.bindReady,teardown:c.noop},live:{add:function(a){c.event.add(this,Y(a.origType,a.selector),c.extend({},a,{handler:Ga,guid:a.handler.guid}))},remove:function(a){c.event.remove(this,
Y(a.origType,a.selector),a)}},beforeunload:{setup:function(a,b,d){if(c.isWindow(this))this.onbeforeunload=d},teardown:function(a,b){if(this.onbeforeunload===b)this.onbeforeunload=null}}}};c.removeEvent=u.removeEventListener?function(a,b,d){a.removeEventListener&&a.removeEventListener(b,d,false)}:function(a,b,d){a.detachEvent&&a.detachEvent("on"+b,d)};c.Event=function(a){if(!this.preventDefault)return new c.Event(a);if(a&&a.type){this.originalEvent=a;this.type=a.type}else this.type=a;this.timeStamp=
c.now();this[c.expando]=true};c.Event.prototype={preventDefault:function(){this.isDefaultPrevented=ba;var a=this.originalEvent;if(a)if(a.preventDefault)a.preventDefault();else a.returnValue=false},stopPropagation:function(){this.isPropagationStopped=ba;var a=this.originalEvent;if(a){a.stopPropagation&&a.stopPropagation();a.cancelBubble=true}},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=ba;this.stopPropagation()},isDefaultPrevented:U,isPropagationStopped:U,isImmediatePropagationStopped:U};
var ta=function(a){var b=a.relatedTarget;try{for(;b&&b!==this;)b=b.parentNode;if(b!==this){a.type=a.data;c.event.handle.apply(this,arguments)}}catch(d){}},ua=function(a){a.type=a.data;c.event.handle.apply(this,arguments)};c.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){c.event.special[a]={setup:function(d){c.event.add(this,b,d&&d.selector?ua:ta,a)},teardown:function(d){c.event.remove(this,b,d&&d.selector?ua:ta)}}});if(!c.support.submitBubbles)c.event.special.submit={setup:function(){if(this.nodeName.toLowerCase()!==
"form"){c.event.add(this,"click.specialSubmit",function(a){var b=a.target,d=b.type;if((d==="submit"||d==="image")&&c(b).closest("form").length){a.liveFired=A;return ja("submit",this,arguments)}});c.event.add(this,"keypress.specialSubmit",function(a){var b=a.target,d=b.type;if((d==="text"||d==="password")&&c(b).closest("form").length&&a.keyCode===13){a.liveFired=A;return ja("submit",this,arguments)}})}else return false},teardown:function(){c.event.remove(this,".specialSubmit")}};if(!c.support.changeBubbles){var V,
va=function(a){var b=a.type,d=a.value;if(b==="radio"||b==="checkbox")d=a.checked;else if(b==="select-multiple")d=a.selectedIndex>-1?c.map(a.options,function(e){return e.selected}).join("-"):"";else if(a.nodeName.toLowerCase()==="select")d=a.selectedIndex;return d},Z=function(a,b){var d=a.target,e,f;if(!(!ha.test(d.nodeName)||d.readOnly)){e=c.data(d,"_change_data");f=va(d);if(a.type!=="focusout"||d.type!=="radio")c.data(d,"_change_data",f);if(!(e===A||f===e))if(e!=null||f){a.type="change";a.liveFired=
A;return c.event.trigger(a,b,d)}}};c.event.special.change={filters:{focusout:Z,beforedeactivate:Z,click:function(a){var b=a.target,d=b.type;if(d==="radio"||d==="checkbox"||b.nodeName.toLowerCase()==="select")return Z.call(this,a)},keydown:function(a){var b=a.target,d=b.type;if(a.keyCode===13&&b.nodeName.toLowerCase()!=="textarea"||a.keyCode===32&&(d==="checkbox"||d==="radio")||d==="select-multiple")return Z.call(this,a)},beforeactivate:function(a){a=a.target;c.data(a,"_change_data",va(a))}},setup:function(){if(this.type===
"file")return false;for(var a in V)c.event.add(this,a+".specialChange",V[a]);return ha.test(this.nodeName)},teardown:function(){c.event.remove(this,".specialChange");return ha.test(this.nodeName)}};V=c.event.special.change.filters;V.focus=V.beforeactivate}u.addEventListener&&c.each({focus:"focusin",blur:"focusout"},function(a,b){function d(e){e=c.event.fix(e);e.type=b;return c.event.trigger(e,null,e.target)}c.event.special[b]={setup:function(){sa[b]++===0&&u.addEventListener(a,d,true)},teardown:function(){--sa[b]===
0&&u.removeEventListener(a,d,true)}}});c.each(["bind","one"],function(a,b){c.fn[b]=function(d,e,f){if(typeof d==="object"){for(var h in d)this[b](h,e,d[h],f);return this}if(c.isFunction(e)||e===false){f=e;e=A}var k=b==="one"?c.proxy(f,function(n){c(this).unbind(n,k);return f.apply(this,arguments)}):f;if(d==="unload"&&b!=="one")this.one(d,e,f);else{h=0;for(var l=this.length;h<l;h++)c.event.add(this[h],d,k,e)}return this}});c.fn.extend({unbind:function(a,b){if(typeof a==="object"&&!a.preventDefault)for(var d in a)this.unbind(d,
a[d]);else{d=0;for(var e=this.length;d<e;d++)c.event.remove(this[d],a,b)}return this},delegate:function(a,b,d,e){return this.live(b,d,e,a)},undelegate:function(a,b,d){return arguments.length===0?this.unbind("live"):this.die(b,null,d,a)},trigger:function(a,b){return this.each(function(){c.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0]){var d=c.Event(a);d.preventDefault();d.stopPropagation();c.event.trigger(d,b,this[0]);return d.result}},toggle:function(a){for(var b=arguments,d=
1;d<b.length;)c.proxy(a,b[d++]);return this.click(c.proxy(a,function(e){var f=(c.data(this,"lastToggle"+a.guid)||0)%d;c.data(this,"lastToggle"+a.guid,f+1);e.preventDefault();return b[f].apply(this,arguments)||false}))},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});var wa={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};c.each(["live","die"],function(a,b){c.fn[b]=function(d,e,f,h){var k,l=0,n,s,v=h||this.selector;h=h?this:c(this.context);if(typeof d===
"object"&&!d.preventDefault){for(k in d)h[b](k,e,d[k],v);return this}if(c.isFunction(e)){f=e;e=A}for(d=(d||"").split(" ");(k=d[l++])!=null;){n=X.exec(k);s="";if(n){s=n[0];k=k.replace(X,"")}if(k==="hover")d.push("mouseenter"+s,"mouseleave"+s);else{n=k;if(k==="focus"||k==="blur"){d.push(wa[k]+s);k+=s}else k=(wa[k]||k)+s;if(b==="live"){s=0;for(var B=h.length;s<B;s++)c.event.add(h[s],"live."+Y(k,v),{data:e,selector:v,handler:f,origType:k,origHandler:f,preType:n})}else h.unbind("live."+Y(k,v),f)}}return this}});
c.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),function(a,b){c.fn[b]=function(d,e){if(e==null){e=d;d=null}return arguments.length>0?this.bind(b,d,e):this.trigger(b)};if(c.attrFn)c.attrFn[b]=true});E.attachEvent&&!E.addEventListener&&c(E).bind("unload",function(){for(var a in c.cache)if(c.cache[a].handle)try{c.event.remove(c.cache[a].handle.elem)}catch(b){}});
(function(){function a(g,j,o,m,p,q){p=0;for(var t=m.length;p<t;p++){var x=m[p];if(x){x=x[g];for(var C=false;x;){if(x.sizcache===o){C=m[x.sizset];break}if(x.nodeType===1&&!q){x.sizcache=o;x.sizset=p}if(x.nodeName.toLowerCase()===j){C=x;break}x=x[g]}m[p]=C}}}function b(g,j,o,m,p,q){p=0;for(var t=m.length;p<t;p++){var x=m[p];if(x){x=x[g];for(var C=false;x;){if(x.sizcache===o){C=m[x.sizset];break}if(x.nodeType===1){if(!q){x.sizcache=o;x.sizset=p}if(typeof j!=="string"){if(x===j){C=true;break}}else if(l.filter(j,
[x]).length>0){C=x;break}}x=x[g]}m[p]=C}}}var d=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,e=0,f=Object.prototype.toString,h=false,k=true;[0,0].sort(function(){k=false;return 0});var l=function(g,j,o,m){o=o||[];var p=j=j||u;if(j.nodeType!==1&&j.nodeType!==9)return[];if(!g||typeof g!=="string")return o;var q=[],t,x,C,P,N=true,R=l.isXML(j),Q=g,L;do{d.exec("");if(t=d.exec(Q)){Q=t[3];q.push(t[1]);if(t[2]){P=t[3];
break}}}while(t);if(q.length>1&&s.exec(g))if(q.length===2&&n.relative[q[0]])x=M(q[0]+q[1],j);else for(x=n.relative[q[0]]?[j]:l(q.shift(),j);q.length;){g=q.shift();if(n.relative[g])g+=q.shift();x=M(g,x)}else{if(!m&&q.length>1&&j.nodeType===9&&!R&&n.match.ID.test(q[0])&&!n.match.ID.test(q[q.length-1])){t=l.find(q.shift(),j,R);j=t.expr?l.filter(t.expr,t.set)[0]:t.set[0]}if(j){t=m?{expr:q.pop(),set:D(m)}:l.find(q.pop(),q.length===1&&(q[0]==="~"||q[0]==="+")&&j.parentNode?j.parentNode:j,R);x=t.expr?l.filter(t.expr,
t.set):t.set;if(q.length>0)C=D(x);else N=false;for(;q.length;){t=L=q.pop();if(n.relative[L])t=q.pop();else L="";if(t==null)t=j;n.relative[L](C,t,R)}}else C=[]}C||(C=x);C||l.error(L||g);if(f.call(C)==="[object Array]")if(N)if(j&&j.nodeType===1)for(g=0;C[g]!=null;g++){if(C[g]&&(C[g]===true||C[g].nodeType===1&&l.contains(j,C[g])))o.push(x[g])}else for(g=0;C[g]!=null;g++)C[g]&&C[g].nodeType===1&&o.push(x[g]);else o.push.apply(o,C);else D(C,o);if(P){l(P,p,o,m);l.uniqueSort(o)}return o};l.uniqueSort=function(g){if(w){h=
k;g.sort(w);if(h)for(var j=1;j<g.length;j++)g[j]===g[j-1]&&g.splice(j--,1)}return g};l.matches=function(g,j){return l(g,null,null,j)};l.matchesSelector=function(g,j){return l(j,null,null,[g]).length>0};l.find=function(g,j,o){var m;if(!g)return[];for(var p=0,q=n.order.length;p<q;p++){var t=n.order[p],x;if(x=n.leftMatch[t].exec(g)){var C=x[1];x.splice(1,1);if(C.substr(C.length-1)!=="\\"){x[1]=(x[1]||"").replace(/\\/g,"");m=n.find[t](x,j,o);if(m!=null){g=g.replace(n.match[t],"");break}}}}m||(m=j.getElementsByTagName("*"));
return{set:m,expr:g}};l.filter=function(g,j,o,m){for(var p=g,q=[],t=j,x,C,P=j&&j[0]&&l.isXML(j[0]);g&&j.length;){for(var N in n.filter)if((x=n.leftMatch[N].exec(g))!=null&&x[2]){var R=n.filter[N],Q,L;L=x[1];C=false;x.splice(1,1);if(L.substr(L.length-1)!=="\\"){if(t===q)q=[];if(n.preFilter[N])if(x=n.preFilter[N](x,t,o,q,m,P)){if(x===true)continue}else C=Q=true;if(x)for(var i=0;(L=t[i])!=null;i++)if(L){Q=R(L,x,i,t);var r=m^!!Q;if(o&&Q!=null)if(r)C=true;else t[i]=false;else if(r){q.push(L);C=true}}if(Q!==
A){o||(t=q);g=g.replace(n.match[N],"");if(!C)return[];break}}}if(g===p)if(C==null)l.error(g);else break;p=g}return t};l.error=function(g){throw"Syntax error, unrecognized expression: "+g;};var n=l.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+\-]*)\))?/,
POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(g){return g.getAttribute("href")}},relative:{"+":function(g,j){var o=typeof j==="string",m=o&&!/\W/.test(j);o=o&&!m;if(m)j=j.toLowerCase();m=0;for(var p=g.length,q;m<p;m++)if(q=g[m]){for(;(q=q.previousSibling)&&q.nodeType!==1;);g[m]=o||q&&q.nodeName.toLowerCase()===
j?q||false:q===j}o&&l.filter(j,g,true)},">":function(g,j){var o=typeof j==="string",m,p=0,q=g.length;if(o&&!/\W/.test(j))for(j=j.toLowerCase();p<q;p++){if(m=g[p]){o=m.parentNode;g[p]=o.nodeName.toLowerCase()===j?o:false}}else{for(;p<q;p++)if(m=g[p])g[p]=o?m.parentNode:m.parentNode===j;o&&l.filter(j,g,true)}},"":function(g,j,o){var m=e++,p=b,q;if(typeof j==="string"&&!/\W/.test(j)){q=j=j.toLowerCase();p=a}p("parentNode",j,m,g,q,o)},"~":function(g,j,o){var m=e++,p=b,q;if(typeof j==="string"&&!/\W/.test(j)){q=
j=j.toLowerCase();p=a}p("previousSibling",j,m,g,q,o)}},find:{ID:function(g,j,o){if(typeof j.getElementById!=="undefined"&&!o)return(g=j.getElementById(g[1]))&&g.parentNode?[g]:[]},NAME:function(g,j){if(typeof j.getElementsByName!=="undefined"){for(var o=[],m=j.getElementsByName(g[1]),p=0,q=m.length;p<q;p++)m[p].getAttribute("name")===g[1]&&o.push(m[p]);return o.length===0?null:o}},TAG:function(g,j){return j.getElementsByTagName(g[1])}},preFilter:{CLASS:function(g,j,o,m,p,q){g=" "+g[1].replace(/\\/g,
"")+" ";if(q)return g;q=0;for(var t;(t=j[q])!=null;q++)if(t)if(p^(t.className&&(" "+t.className+" ").replace(/[\t\n]/g," ").indexOf(g)>=0))o||m.push(t);else if(o)j[q]=false;return false},ID:function(g){return g[1].replace(/\\/g,"")},TAG:function(g){return g[1].toLowerCase()},CHILD:function(g){if(g[1]==="nth"){var j=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(g[2]==="even"&&"2n"||g[2]==="odd"&&"2n+1"||!/\D/.test(g[2])&&"0n+"+g[2]||g[2]);g[2]=j[1]+(j[2]||1)-0;g[3]=j[3]-0}g[0]=e++;return g},ATTR:function(g,j,o,
m,p,q){j=g[1].replace(/\\/g,"");if(!q&&n.attrMap[j])g[1]=n.attrMap[j];if(g[2]==="~=")g[4]=" "+g[4]+" ";return g},PSEUDO:function(g,j,o,m,p){if(g[1]==="not")if((d.exec(g[3])||"").length>1||/^\w/.test(g[3]))g[3]=l(g[3],null,null,j);else{g=l.filter(g[3],j,o,true^p);o||m.push.apply(m,g);return false}else if(n.match.POS.test(g[0])||n.match.CHILD.test(g[0]))return true;return g},POS:function(g){g.unshift(true);return g}},filters:{enabled:function(g){return g.disabled===false&&g.type!=="hidden"},disabled:function(g){return g.disabled===
true},checked:function(g){return g.checked===true},selected:function(g){return g.selected===true},parent:function(g){return!!g.firstChild},empty:function(g){return!g.firstChild},has:function(g,j,o){return!!l(o[3],g).length},header:function(g){return/h\d/i.test(g.nodeName)},text:function(g){return"text"===g.type},radio:function(g){return"radio"===g.type},checkbox:function(g){return"checkbox"===g.type},file:function(g){return"file"===g.type},password:function(g){return"password"===g.type},submit:function(g){return"submit"===
g.type},image:function(g){return"image"===g.type},reset:function(g){return"reset"===g.type},button:function(g){return"button"===g.type||g.nodeName.toLowerCase()==="button"},input:function(g){return/input|select|textarea|button/i.test(g.nodeName)}},setFilters:{first:function(g,j){return j===0},last:function(g,j,o,m){return j===m.length-1},even:function(g,j){return j%2===0},odd:function(g,j){return j%2===1},lt:function(g,j,o){return j<o[3]-0},gt:function(g,j,o){return j>o[3]-0},nth:function(g,j,o){return o[3]-
0===j},eq:function(g,j,o){return o[3]-0===j}},filter:{PSEUDO:function(g,j,o,m){var p=j[1],q=n.filters[p];if(q)return q(g,o,j,m);else if(p==="contains")return(g.textContent||g.innerText||l.getText([g])||"").indexOf(j[3])>=0;else if(p==="not"){j=j[3];o=0;for(m=j.length;o<m;o++)if(j[o]===g)return false;return true}else l.error("Syntax error, unrecognized expression: "+p)},CHILD:function(g,j){var o=j[1],m=g;switch(o){case "only":case "first":for(;m=m.previousSibling;)if(m.nodeType===1)return false;if(o===
"first")return true;m=g;case "last":for(;m=m.nextSibling;)if(m.nodeType===1)return false;return true;case "nth":o=j[2];var p=j[3];if(o===1&&p===0)return true;var q=j[0],t=g.parentNode;if(t&&(t.sizcache!==q||!g.nodeIndex)){var x=0;for(m=t.firstChild;m;m=m.nextSibling)if(m.nodeType===1)m.nodeIndex=++x;t.sizcache=q}m=g.nodeIndex-p;return o===0?m===0:m%o===0&&m/o>=0}},ID:function(g,j){return g.nodeType===1&&g.getAttribute("id")===j},TAG:function(g,j){return j==="*"&&g.nodeType===1||g.nodeName.toLowerCase()===
j},CLASS:function(g,j){return(" "+(g.className||g.getAttribute("class"))+" ").indexOf(j)>-1},ATTR:function(g,j){var o=j[1];o=n.attrHandle[o]?n.attrHandle[o](g):g[o]!=null?g[o]:g.getAttribute(o);var m=o+"",p=j[2],q=j[4];return o==null?p==="!=":p==="="?m===q:p==="*="?m.indexOf(q)>=0:p==="~="?(" "+m+" ").indexOf(q)>=0:!q?m&&o!==false:p==="!="?m!==q:p==="^="?m.indexOf(q)===0:p==="$="?m.substr(m.length-q.length)===q:p==="|="?m===q||m.substr(0,q.length+1)===q+"-":false},POS:function(g,j,o,m){var p=n.setFilters[j[2]];
if(p)return p(g,o,j,m)}}},s=n.match.POS,v=function(g,j){return"\\"+(j-0+1)},B;for(B in n.match){n.match[B]=RegExp(n.match[B].source+/(?![^\[]*\])(?![^\(]*\))/.source);n.leftMatch[B]=RegExp(/(^(?:.|\r|\n)*?)/.source+n.match[B].source.replace(/\\(\d+)/g,v))}var D=function(g,j){g=Array.prototype.slice.call(g,0);if(j){j.push.apply(j,g);return j}return g};try{Array.prototype.slice.call(u.documentElement.childNodes,0)}catch(H){D=function(g,j){var o=j||[],m=0;if(f.call(g)==="[object Array]")Array.prototype.push.apply(o,
g);else if(typeof g.length==="number")for(var p=g.length;m<p;m++)o.push(g[m]);else for(;g[m];m++)o.push(g[m]);return o}}var w,G;if(u.documentElement.compareDocumentPosition)w=function(g,j){if(g===j){h=true;return 0}if(!g.compareDocumentPosition||!j.compareDocumentPosition)return g.compareDocumentPosition?-1:1;return g.compareDocumentPosition(j)&4?-1:1};else{w=function(g,j){var o=[],m=[],p=g.parentNode,q=j.parentNode,t=p;if(g===j){h=true;return 0}else if(p===q)return G(g,j);else if(p){if(!q)return 1}else return-1;
for(;t;){o.unshift(t);t=t.parentNode}for(t=q;t;){m.unshift(t);t=t.parentNode}p=o.length;q=m.length;for(t=0;t<p&&t<q;t++)if(o[t]!==m[t])return G(o[t],m[t]);return t===p?G(g,m[t],-1):G(o[t],j,1)};G=function(g,j,o){if(g===j)return o;for(g=g.nextSibling;g;){if(g===j)return-1;g=g.nextSibling}return 1}}l.getText=function(g){for(var j="",o,m=0;g[m];m++){o=g[m];if(o.nodeType===3||o.nodeType===4)j+=o.nodeValue;else if(o.nodeType!==8)j+=l.getText(o.childNodes)}return j};(function(){var g=u.createElement("div"),
j="script"+(new Date).getTime();g.innerHTML="<a name='"+j+"'/>";var o=u.documentElement;o.insertBefore(g,o.firstChild);if(u.getElementById(j)){n.find.ID=function(m,p,q){if(typeof p.getElementById!=="undefined"&&!q)return(p=p.getElementById(m[1]))?p.id===m[1]||typeof p.getAttributeNode!=="undefined"&&p.getAttributeNode("id").nodeValue===m[1]?[p]:A:[]};n.filter.ID=function(m,p){var q=typeof m.getAttributeNode!=="undefined"&&m.getAttributeNode("id");return m.nodeType===1&&q&&q.nodeValue===p}}o.removeChild(g);
o=g=null})();(function(){var g=u.createElement("div");g.appendChild(u.createComment(""));if(g.getElementsByTagName("*").length>0)n.find.TAG=function(j,o){var m=o.getElementsByTagName(j[1]);if(j[1]==="*"){for(var p=[],q=0;m[q];q++)m[q].nodeType===1&&p.push(m[q]);m=p}return m};g.innerHTML="<a href='#'></a>";if(g.firstChild&&typeof g.firstChild.getAttribute!=="undefined"&&g.firstChild.getAttribute("href")!=="#")n.attrHandle.href=function(j){return j.getAttribute("href",2)};g=null})();u.querySelectorAll&&
function(){var g=l,j=u.createElement("div");j.innerHTML="<p class='TEST'></p>";if(!(j.querySelectorAll&&j.querySelectorAll(".TEST").length===0)){l=function(m,p,q,t){p=p||u;if(!t&&!l.isXML(p))if(p.nodeType===9)try{return D(p.querySelectorAll(m),q)}catch(x){}else if(p.nodeType===1&&p.nodeName.toLowerCase()!=="object"){var C=p.id,P=p.id="__sizzle__";try{return D(p.querySelectorAll("#"+P+" "+m),q)}catch(N){}finally{if(C)p.id=C;else p.removeAttribute("id")}}return g(m,p,q,t)};for(var o in g)l[o]=g[o];
j=null}}();(function(){var g=u.documentElement,j=g.matchesSelector||g.mozMatchesSelector||g.webkitMatchesSelector||g.msMatchesSelector,o=false;try{j.call(u.documentElement,":sizzle")}catch(m){o=true}if(j)l.matchesSelector=function(p,q){try{if(o||!n.match.PSEUDO.test(q))return j.call(p,q)}catch(t){}return l(q,null,null,[p]).length>0}})();(function(){var g=u.createElement("div");g.innerHTML="<div class='test e'></div><div class='test'></div>";if(!(!g.getElementsByClassName||g.getElementsByClassName("e").length===
0)){g.lastChild.className="e";if(g.getElementsByClassName("e").length!==1){n.order.splice(1,0,"CLASS");n.find.CLASS=function(j,o,m){if(typeof o.getElementsByClassName!=="undefined"&&!m)return o.getElementsByClassName(j[1])};g=null}}})();l.contains=u.documentElement.contains?function(g,j){return g!==j&&(g.contains?g.contains(j):true)}:function(g,j){return!!(g.compareDocumentPosition(j)&16)};l.isXML=function(g){return(g=(g?g.ownerDocument||g:0).documentElement)?g.nodeName!=="HTML":false};var M=function(g,
j){for(var o=[],m="",p,q=j.nodeType?[j]:j;p=n.match.PSEUDO.exec(g);){m+=p[0];g=g.replace(n.match.PSEUDO,"")}g=n.relative[g]?g+"*":g;p=0;for(var t=q.length;p<t;p++)l(g,q[p],o);return l.filter(m,o)};c.find=l;c.expr=l.selectors;c.expr[":"]=c.expr.filters;c.unique=l.uniqueSort;c.text=l.getText;c.isXMLDoc=l.isXML;c.contains=l.contains})();var Wa=/Until$/,Xa=/^(?:parents|prevUntil|prevAll)/,Ya=/,/,Ja=/^.[^:#\[\.,]*$/,Za=Array.prototype.slice,$a=c.expr.match.POS;c.fn.extend({find:function(a){for(var b=this.pushStack("",
"find",a),d=0,e=0,f=this.length;e<f;e++){d=b.length;c.find(a,this[e],b);if(e>0)for(var h=d;h<b.length;h++)for(var k=0;k<d;k++)if(b[k]===b[h]){b.splice(h--,1);break}}return b},has:function(a){var b=c(a);return this.filter(function(){for(var d=0,e=b.length;d<e;d++)if(c.contains(this,b[d]))return true})},not:function(a){return this.pushStack(ka(this,a,false),"not",a)},filter:function(a){return this.pushStack(ka(this,a,true),"filter",a)},is:function(a){return!!a&&c.filter(a,this).length>0},closest:function(a,
b){var d=[],e,f,h=this[0];if(c.isArray(a)){var k={},l,n=1;if(h&&a.length){e=0;for(f=a.length;e<f;e++){l=a[e];k[l]||(k[l]=c.expr.match.POS.test(l)?c(l,b||this.context):l)}for(;h&&h.ownerDocument&&h!==b;){for(l in k){e=k[l];if(e.jquery?e.index(h)>-1:c(h).is(e))d.push({selector:l,elem:h,level:n})}h=h.parentNode;n++}}return d}k=$a.test(a)?c(a,b||this.context):null;e=0;for(f=this.length;e<f;e++)for(h=this[e];h;)if(k?k.index(h)>-1:c.find.matchesSelector(h,a)){d.push(h);break}else{h=h.parentNode;if(!h||
!h.ownerDocument||h===b)break}d=d.length>1?c.unique(d):d;return this.pushStack(d,"closest",a)},index:function(a){if(!a||typeof a==="string")return c.inArray(this[0],a?c(a):this.parent().children());return c.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var d=typeof a==="string"?c(a,b||this.context):c.makeArray(a),e=c.merge(this.get(),d);return this.pushStack(!d[0]||!d[0].parentNode||d[0].parentNode.nodeType===11||!e[0]||!e[0].parentNode||e[0].parentNode.nodeType===11?e:c.unique(e))},andSelf:function(){return this.add(this.prevObject)}});
c.each({parent:function(a){return(a=a.parentNode)&&a.nodeType!==11?a:null},parents:function(a){return c.dir(a,"parentNode")},parentsUntil:function(a,b,d){return c.dir(a,"parentNode",d)},next:function(a){return c.nth(a,2,"nextSibling")},prev:function(a){return c.nth(a,2,"previousSibling")},nextAll:function(a){return c.dir(a,"nextSibling")},prevAll:function(a){return c.dir(a,"previousSibling")},nextUntil:function(a,b,d){return c.dir(a,"nextSibling",d)},prevUntil:function(a,b,d){return c.dir(a,"previousSibling",
d)},siblings:function(a){return c.sibling(a.parentNode.firstChild,a)},children:function(a){return c.sibling(a.firstChild)},contents:function(a){return c.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:c.makeArray(a.childNodes)}},function(a,b){c.fn[a]=function(d,e){var f=c.map(this,b,d);Wa.test(a)||(e=d);if(e&&typeof e==="string")f=c.filter(e,f);f=this.length>1?c.unique(f):f;if((this.length>1||Ya.test(e))&&Xa.test(a))f=f.reverse();return this.pushStack(f,a,Za.call(arguments).join(","))}});
c.extend({filter:function(a,b,d){if(d)a=":not("+a+")";return b.length===1?c.find.matchesSelector(b[0],a)?[b[0]]:[]:c.find.matches(a,b)},dir:function(a,b,d){var e=[];for(a=a[b];a&&a.nodeType!==9&&(d===A||a.nodeType!==1||!c(a).is(d));){a.nodeType===1&&e.push(a);a=a[b]}return e},nth:function(a,b,d){b=b||1;for(var e=0;a;a=a[d])if(a.nodeType===1&&++e===b)break;return a},sibling:function(a,b){for(var d=[];a;a=a.nextSibling)a.nodeType===1&&a!==b&&d.push(a);return d}});var xa=/ jQuery\d+="(?:\d+|null)"/g,
$=/^\s+/,ya=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,za=/<([\w:]+)/,ab=/<tbody/i,bb=/<|&#?\w+;/,Aa=/<(?:script|object|embed|option|style)/i,Ba=/checked\s*(?:[^=]|=\s*.checked.)/i,cb=/\=([^="'>\s]+\/)>/g,O={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],
area:[1,"<map>","</map>"],_default:[0,"",""]};O.optgroup=O.option;O.tbody=O.tfoot=O.colgroup=O.caption=O.thead;O.th=O.td;if(!c.support.htmlSerialize)O._default=[1,"div<div>","</div>"];c.fn.extend({text:function(a){if(c.isFunction(a))return this.each(function(b){var d=c(this);d.text(a.call(this,b,d.text()))});if(typeof a!=="object"&&a!==A)return this.empty().append((this[0]&&this[0].ownerDocument||u).createTextNode(a));return c.text(this)},wrapAll:function(a){if(c.isFunction(a))return this.each(function(d){c(this).wrapAll(a.call(this,
d))});if(this[0]){var b=c(a,this[0].ownerDocument).eq(0).clone(true);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var d=this;d.firstChild&&d.firstChild.nodeType===1;)d=d.firstChild;return d}).append(this)}return this},wrapInner:function(a){if(c.isFunction(a))return this.each(function(b){c(this).wrapInner(a.call(this,b))});return this.each(function(){var b=c(this),d=b.contents();d.length?d.wrapAll(a):b.append(a)})},wrap:function(a){return this.each(function(){c(this).wrapAll(a)})},
unwrap:function(){return this.parent().each(function(){c.nodeName(this,"body")||c(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,true,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,true,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(b){this.parentNode.insertBefore(b,this)});else if(arguments.length){var a=
c(arguments[0]);a.push.apply(a,this.toArray());return this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(b){this.parentNode.insertBefore(b,this.nextSibling)});else if(arguments.length){var a=this.pushStack(this,"after",arguments);a.push.apply(a,c(arguments[0]).toArray());return a}},remove:function(a,b){for(var d=0,e;(e=this[d])!=null;d++)if(!a||c.filter(a,[e]).length){if(!b&&e.nodeType===1){c.cleanData(e.getElementsByTagName("*"));
c.cleanData([e])}e.parentNode&&e.parentNode.removeChild(e)}return this},empty:function(){for(var a=0,b;(b=this[a])!=null;a++)for(b.nodeType===1&&c.cleanData(b.getElementsByTagName("*"));b.firstChild;)b.removeChild(b.firstChild);return this},clone:function(a){var b=this.map(function(){if(!c.support.noCloneEvent&&!c.isXMLDoc(this)){var d=this.outerHTML,e=this.ownerDocument;if(!d){d=e.createElement("div");d.appendChild(this.cloneNode(true));d=d.innerHTML}return c.clean([d.replace(xa,"").replace(cb,'="$1">').replace($,
"")],e)[0]}else return this.cloneNode(true)});if(a===true){la(this,b);la(this.find("*"),b.find("*"))}return b},html:function(a){if(a===A)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(xa,""):null;else if(typeof a==="string"&&!Aa.test(a)&&(c.support.leadingWhitespace||!$.test(a))&&!O[(za.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(ya,"<$1></$2>");try{for(var b=0,d=this.length;b<d;b++)if(this[b].nodeType===1){c.cleanData(this[b].getElementsByTagName("*"));this[b].innerHTML=a}}catch(e){this.empty().append(a)}}else c.isFunction(a)?
this.each(function(f){var h=c(this);h.html(a.call(this,f,h.html()))}):this.empty().append(a);return this},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(c.isFunction(a))return this.each(function(b){var d=c(this),e=d.html();d.replaceWith(a.call(this,b,e))});if(typeof a!=="string")a=c(a).detach();return this.each(function(){var b=this.nextSibling,d=this.parentNode;c(this).remove();b?c(b).before(a):c(d).append(a)})}else return this.pushStack(c(c.isFunction(a)?a():a),"replaceWith",a)},detach:function(a){return this.remove(a,
true)},domManip:function(a,b,d){var e,f,h=a[0],k=[],l;if(!c.support.checkClone&&arguments.length===3&&typeof h==="string"&&Ba.test(h))return this.each(function(){c(this).domManip(a,b,d,true)});if(c.isFunction(h))return this.each(function(s){var v=c(this);a[0]=h.call(this,s,b?v.html():A);v.domManip(a,b,d)});if(this[0]){e=h&&h.parentNode;e=c.support.parentNode&&e&&e.nodeType===11&&e.childNodes.length===this.length?{fragment:e}:c.buildFragment(a,this,k);l=e.fragment;if(f=l.childNodes.length===1?l=l.firstChild:
l.firstChild){b=b&&c.nodeName(f,"tr");f=0;for(var n=this.length;f<n;f++)d.call(b?c.nodeName(this[f],"table")?this[f].getElementsByTagName("tbody")[0]||this[f].appendChild(this[f].ownerDocument.createElement("tbody")):this[f]:this[f],f>0||e.cacheable||this.length>1?l.cloneNode(true):l)}k.length&&c.each(k,Ka)}return this}});c.buildFragment=function(a,b,d){var e,f,h;b=b&&b[0]?b[0].ownerDocument||b[0]:u;if(a.length===1&&typeof a[0]==="string"&&a[0].length<512&&b===u&&!Aa.test(a[0])&&(c.support.checkClone||
!Ba.test(a[0]))){f=true;if(h=c.fragments[a[0]])if(h!==1)e=h}if(!e){e=b.createDocumentFragment();c.clean(a,b,e,d)}if(f)c.fragments[a[0]]=h?e:1;return{fragment:e,cacheable:f}};c.fragments={};c.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){c.fn[a]=function(d){var e=[];d=c(d);var f=this.length===1&&this[0].parentNode;if(f&&f.nodeType===11&&f.childNodes.length===1&&d.length===1){d[b](this[0]);return this}else{f=0;for(var h=
d.length;f<h;f++){var k=(f>0?this.clone(true):this).get();c(d[f])[b](k);e=e.concat(k)}return this.pushStack(e,a,d.selector)}}});c.extend({clean:function(a,b,d,e){b=b||u;if(typeof b.createElement==="undefined")b=b.ownerDocument||b[0]&&b[0].ownerDocument||u;for(var f=[],h=0,k;(k=a[h])!=null;h++){if(typeof k==="number")k+="";if(k){if(typeof k==="string"&&!bb.test(k))k=b.createTextNode(k);else if(typeof k==="string"){k=k.replace(ya,"<$1></$2>");var l=(za.exec(k)||["",""])[1].toLowerCase(),n=O[l]||O._default,
s=n[0],v=b.createElement("div");for(v.innerHTML=n[1]+k+n[2];s--;)v=v.lastChild;if(!c.support.tbody){s=ab.test(k);l=l==="table"&&!s?v.firstChild&&v.firstChild.childNodes:n[1]==="<table>"&&!s?v.childNodes:[];for(n=l.length-1;n>=0;--n)c.nodeName(l[n],"tbody")&&!l[n].childNodes.length&&l[n].parentNode.removeChild(l[n])}!c.support.leadingWhitespace&&$.test(k)&&v.insertBefore(b.createTextNode($.exec(k)[0]),v.firstChild);k=v.childNodes}if(k.nodeType)f.push(k);else f=c.merge(f,k)}}if(d)for(h=0;f[h];h++)if(e&&
c.nodeName(f[h],"script")&&(!f[h].type||f[h].type.toLowerCase()==="text/javascript"))e.push(f[h].parentNode?f[h].parentNode.removeChild(f[h]):f[h]);else{f[h].nodeType===1&&f.splice.apply(f,[h+1,0].concat(c.makeArray(f[h].getElementsByTagName("script"))));d.appendChild(f[h])}return f},cleanData:function(a){for(var b,d,e=c.cache,f=c.event.special,h=c.support.deleteExpando,k=0,l;(l=a[k])!=null;k++)if(!(l.nodeName&&c.noData[l.nodeName.toLowerCase()]))if(d=l[c.expando]){if((b=e[d])&&b.events)for(var n in b.events)f[n]?
c.event.remove(l,n):c.removeEvent(l,n,b.handle);if(h)delete l[c.expando];else l.removeAttribute&&l.removeAttribute(c.expando);delete e[d]}}});var Ca=/alpha\([^)]*\)/i,db=/opacity=([^)]*)/,eb=/-([a-z])/ig,fb=/([A-Z])/g,Da=/^-?\d+(?:px)?$/i,gb=/^-?\d/,hb={position:"absolute",visibility:"hidden",display:"block"},La=["Left","Right"],Ma=["Top","Bottom"],W,ib=u.defaultView&&u.defaultView.getComputedStyle,jb=function(a,b){return b.toUpperCase()};c.fn.css=function(a,b){if(arguments.length===2&&b===A)return this;
return c.access(this,a,b,true,function(d,e,f){return f!==A?c.style(d,e,f):c.css(d,e)})};c.extend({cssHooks:{opacity:{get:function(a,b){if(b){var d=W(a,"opacity","opacity");return d===""?"1":d}else return a.style.opacity}}},cssNumber:{zIndex:true,fontWeight:true,opacity:true,zoom:true,lineHeight:true},cssProps:{"float":c.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,d,e){if(!(!a||a.nodeType===3||a.nodeType===8||!a.style)){var f,h=c.camelCase(b),k=a.style,l=c.cssHooks[h];b=c.cssProps[h]||
h;if(d!==A){if(!(typeof d==="number"&&isNaN(d)||d==null)){if(typeof d==="number"&&!c.cssNumber[h])d+="px";if(!l||!("set"in l)||(d=l.set(a,d))!==A)try{k[b]=d}catch(n){}}}else{if(l&&"get"in l&&(f=l.get(a,false,e))!==A)return f;return k[b]}}},css:function(a,b,d){var e,f=c.camelCase(b),h=c.cssHooks[f];b=c.cssProps[f]||f;if(h&&"get"in h&&(e=h.get(a,true,d))!==A)return e;else if(W)return W(a,b,f)},swap:function(a,b,d){var e={},f;for(f in b){e[f]=a.style[f];a.style[f]=b[f]}d.call(a);for(f in b)a.style[f]=
e[f]},camelCase:function(a){return a.replace(eb,jb)}});c.curCSS=c.css;c.each(["height","width"],function(a,b){c.cssHooks[b]={get:function(d,e,f){var h;if(e){if(d.offsetWidth!==0)h=ma(d,b,f);else c.swap(d,hb,function(){h=ma(d,b,f)});return h+"px"}},set:function(d,e){if(Da.test(e)){e=parseFloat(e);if(e>=0)return e+"px"}else return e}}});if(!c.support.opacity)c.cssHooks.opacity={get:function(a,b){return db.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":
b?"1":""},set:function(a,b){var d=a.style;d.zoom=1;var e=c.isNaN(b)?"":"alpha(opacity="+b*100+")",f=d.filter||"";d.filter=Ca.test(f)?f.replace(Ca,e):d.filter+" "+e}};if(ib)W=function(a,b,d){var e;d=d.replace(fb,"-$1").toLowerCase();if(!(b=a.ownerDocument.defaultView))return A;if(b=b.getComputedStyle(a,null)){e=b.getPropertyValue(d);if(e===""&&!c.contains(a.ownerDocument.documentElement,a))e=c.style(a,d)}return e};else if(u.documentElement.currentStyle)W=function(a,b){var d,e,f=a.currentStyle&&a.currentStyle[b],
h=a.style;if(!Da.test(f)&&gb.test(f)){d=h.left;e=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;h.left=b==="fontSize"?"1em":f||0;f=h.pixelLeft+"px";h.left=d;a.runtimeStyle.left=e}return f};if(c.expr&&c.expr.filters){c.expr.filters.hidden=function(a){var b=a.offsetHeight;return a.offsetWidth===0&&b===0||!c.support.reliableHiddenOffsets&&(a.style.display||c.css(a,"display"))==="none"};c.expr.filters.visible=function(a){return!c.expr.filters.hidden(a)}}var kb=c.now(),lb=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,
mb=/^(?:select|textarea)/i,nb=/^(?:color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,ob=/^(?:GET|HEAD|DELETE)$/,Na=/\[\]$/,T=/\=\?(&|$)/,ia=/\?/,pb=/([?&])_=[^&]*/,qb=/^(\w+:)?\/\/([^\/?#]+)/,rb=/%20/g,sb=/#.*$/,Ea=c.fn.load;c.fn.extend({load:function(a,b,d){if(typeof a!=="string"&&Ea)return Ea.apply(this,arguments);else if(!this.length)return this;var e=a.indexOf(" ");if(e>=0){var f=a.slice(e,a.length);a=a.slice(0,e)}e="GET";if(b)if(c.isFunction(b)){d=
b;b=null}else if(typeof b==="object"){b=c.param(b,c.ajaxSettings.traditional);e="POST"}var h=this;c.ajax({url:a,type:e,dataType:"html",data:b,complete:function(k,l){if(l==="success"||l==="notmodified")h.html(f?c("<div>").append(k.responseText.replace(lb,"")).find(f):k.responseText);d&&h.each(d,[k.responseText,l,k])}});return this},serialize:function(){return c.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?c.makeArray(this.elements):this}).filter(function(){return this.name&&
!this.disabled&&(this.checked||mb.test(this.nodeName)||nb.test(this.type))}).map(function(a,b){var d=c(this).val();return d==null?null:c.isArray(d)?c.map(d,function(e){return{name:b.name,value:e}}):{name:b.name,value:d}}).get()}});c.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){c.fn[b]=function(d){return this.bind(b,d)}});c.extend({get:function(a,b,d,e){if(c.isFunction(b)){e=e||d;d=b;b=null}return c.ajax({type:"GET",url:a,data:b,success:d,dataType:e})},
getScript:function(a,b){return c.get(a,null,b,"script")},getJSON:function(a,b,d){return c.get(a,b,d,"json")},post:function(a,b,d,e){if(c.isFunction(b)){e=e||d;d=b;b={}}return c.ajax({type:"POST",url:a,data:b,success:d,dataType:e})},ajaxSetup:function(a){c.extend(c.ajaxSettings,a)},ajaxSettings:{url:location.href,global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,xhr:function(){return new E.XMLHttpRequest},accepts:{xml:"application/xml, text/xml",html:"text/html",
script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"}},ajax:function(a){var b=c.extend(true,{},c.ajaxSettings,a),d,e,f,h=b.type.toUpperCase(),k=ob.test(h);b.url=b.url.replace(sb,"");b.context=a&&a.context!=null?a.context:b;if(b.data&&b.processData&&typeof b.data!=="string")b.data=c.param(b.data,b.traditional);if(b.dataType==="jsonp"){if(h==="GET")T.test(b.url)||(b.url+=(ia.test(b.url)?"&":"?")+(b.jsonp||"callback")+"=?");else if(!b.data||
!T.test(b.data))b.data=(b.data?b.data+"&":"")+(b.jsonp||"callback")+"=?";b.dataType="json"}if(b.dataType==="json"&&(b.data&&T.test(b.data)||T.test(b.url))){d=b.jsonpCallback||"jsonp"+kb++;if(b.data)b.data=(b.data+"").replace(T,"="+d+"$1");b.url=b.url.replace(T,"="+d+"$1");b.dataType="script";var l=E[d];E[d]=function(m){f=m;c.handleSuccess(b,w,e,f);c.handleComplete(b,w,e,f);if(c.isFunction(l))l(m);else{E[d]=A;try{delete E[d]}catch(p){}}v&&v.removeChild(B)}}if(b.dataType==="script"&&b.cache===null)b.cache=
false;if(b.cache===false&&h==="GET"){var n=c.now(),s=b.url.replace(pb,"$1_="+n);b.url=s+(s===b.url?(ia.test(b.url)?"&":"?")+"_="+n:"")}if(b.data&&h==="GET")b.url+=(ia.test(b.url)?"&":"?")+b.data;b.global&&c.active++===0&&c.event.trigger("ajaxStart");n=(n=qb.exec(b.url))&&(n[1]&&n[1]!==location.protocol||n[2]!==location.host);if(b.dataType==="script"&&h==="GET"&&n){var v=u.getElementsByTagName("head")[0]||u.documentElement,B=u.createElement("script");if(b.scriptCharset)B.charset=b.scriptCharset;B.src=
b.url;if(!d){var D=false;B.onload=B.onreadystatechange=function(){if(!D&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){D=true;c.handleSuccess(b,w,e,f);c.handleComplete(b,w,e,f);B.onload=B.onreadystatechange=null;v&&B.parentNode&&v.removeChild(B)}}}v.insertBefore(B,v.firstChild);return A}var H=false,w=b.xhr();if(w){b.username?w.open(h,b.url,b.async,b.username,b.password):w.open(h,b.url,b.async);try{if(b.data!=null&&!k||a&&a.contentType)w.setRequestHeader("Content-Type",
b.contentType);if(b.ifModified){c.lastModified[b.url]&&w.setRequestHeader("If-Modified-Since",c.lastModified[b.url]);c.etag[b.url]&&w.setRequestHeader("If-None-Match",c.etag[b.url])}n||w.setRequestHeader("X-Requested-With","XMLHttpRequest");w.setRequestHeader("Accept",b.dataType&&b.accepts[b.dataType]?b.accepts[b.dataType]+", */*; q=0.01":b.accepts._default)}catch(G){}if(b.beforeSend&&b.beforeSend.call(b.context,w,b)===false){b.global&&c.active--===1&&c.event.trigger("ajaxStop");w.abort();return false}b.global&&
c.triggerGlobal(b,"ajaxSend",[w,b]);var M=w.onreadystatechange=function(m){if(!w||w.readyState===0||m==="abort"){H||c.handleComplete(b,w,e,f);H=true;if(w)w.onreadystatechange=c.noop}else if(!H&&w&&(w.readyState===4||m==="timeout")){H=true;w.onreadystatechange=c.noop;e=m==="timeout"?"timeout":!c.httpSuccess(w)?"error":b.ifModified&&c.httpNotModified(w,b.url)?"notmodified":"success";var p;if(e==="success")try{f=c.httpData(w,b.dataType,b)}catch(q){e="parsererror";p=q}if(e==="success"||e==="notmodified")d||
c.handleSuccess(b,w,e,f);else c.handleError(b,w,e,p);d||c.handleComplete(b,w,e,f);m==="timeout"&&w.abort();if(b.async)w=null}};try{var g=w.abort;w.abort=function(){w&&g.call&&g.call(w);M("abort")}}catch(j){}b.async&&b.timeout>0&&setTimeout(function(){w&&!H&&M("timeout")},b.timeout);try{w.send(k||b.data==null?null:b.data)}catch(o){c.handleError(b,w,null,o);c.handleComplete(b,w,e,f)}b.async||M();return w}},param:function(a,b){var d=[],e=function(h,k){k=c.isFunction(k)?k():k;d[d.length]=encodeURIComponent(h)+
"="+encodeURIComponent(k)};if(b===A)b=c.ajaxSettings.traditional;if(c.isArray(a)||a.jquery)c.each(a,function(){e(this.name,this.value)});else for(var f in a)ca(f,a[f],b,e);return d.join("&").replace(rb,"+")}});c.extend({active:0,lastModified:{},etag:{},handleError:function(a,b,d,e){a.error&&a.error.call(a.context,b,d,e);a.global&&c.triggerGlobal(a,"ajaxError",[b,a,e])},handleSuccess:function(a,b,d,e){a.success&&a.success.call(a.context,e,d,b);a.global&&c.triggerGlobal(a,"ajaxSuccess",[b,a])},handleComplete:function(a,
b,d){a.complete&&a.complete.call(a.context,b,d);a.global&&c.triggerGlobal(a,"ajaxComplete",[b,a]);a.global&&c.active--===1&&c.event.trigger("ajaxStop")},triggerGlobal:function(a,b,d){(a.context&&a.context.url==null?c(a.context):c.event).trigger(b,d)},httpSuccess:function(a){try{return!a.status&&location.protocol==="file:"||a.status>=200&&a.status<300||a.status===304||a.status===1223}catch(b){}return false},httpNotModified:function(a,b){var d=a.getResponseHeader("Last-Modified"),e=a.getResponseHeader("Etag");
if(d)c.lastModified[b]=d;if(e)c.etag[b]=e;return a.status===304},httpData:function(a,b,d){var e=a.getResponseHeader("content-type")||"",f=b==="xml"||!b&&e.indexOf("xml")>=0;a=f?a.responseXML:a.responseText;f&&a.documentElement.nodeName==="parsererror"&&c.error("parsererror");if(d&&d.dataFilter)a=d.dataFilter(a,b);if(typeof a==="string")if(b==="json"||!b&&e.indexOf("json")>=0)a=c.parseJSON(a);else if(b==="script"||!b&&e.indexOf("javascript")>=0)c.globalEval(a);return a}});if(E.ActiveXObject)c.ajaxSettings.xhr=
function(){if(E.location.protocol!=="file:")try{return new E.XMLHttpRequest}catch(a){}try{return new E.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}};c.support.ajax=!!c.ajaxSettings.xhr();var da={},tb=/^(?:toggle|show|hide)$/,ub=/^([+\-]=)?([\d+.\-]+)(.*)$/,aa,na=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];c.fn.extend({show:function(a,b,d){if(a||a===0)return this.animate(S("show",3),a,b,d);else{a=
0;for(b=this.length;a<b;a++){if(!c.data(this[a],"olddisplay")&&this[a].style.display==="none")this[a].style.display="";this[a].style.display===""&&c.css(this[a],"display")==="none"&&c.data(this[a],"olddisplay",oa(this[a].nodeName))}for(a=0;a<b;a++)this[a].style.display=c.data(this[a],"olddisplay")||"";return this}},hide:function(a,b,d){if(a||a===0)return this.animate(S("hide",3),a,b,d);else{a=0;for(b=this.length;a<b;a++){d=c.css(this[a],"display");d!=="none"&&c.data(this[a],"olddisplay",d)}for(a=
0;a<b;a++)this[a].style.display="none";return this}},_toggle:c.fn.toggle,toggle:function(a,b,d){var e=typeof a==="boolean";if(c.isFunction(a)&&c.isFunction(b))this._toggle.apply(this,arguments);else a==null||e?this.each(function(){var f=e?a:c(this).is(":hidden");c(this)[f?"show":"hide"]()}):this.animate(S("toggle",3),a,b,d);return this},fadeTo:function(a,b,d,e){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,d,e)},animate:function(a,b,d,e){var f=c.speed(b,d,e);if(c.isEmptyObject(a))return this.each(f.complete);
return this[f.queue===false?"each":"queue"](function(){var h=c.extend({},f),k,l=this.nodeType===1,n=l&&c(this).is(":hidden"),s=this;for(k in a){var v=c.camelCase(k);if(k!==v){a[v]=a[k];delete a[k];k=v}if(a[k]==="hide"&&n||a[k]==="show"&&!n)return h.complete.call(this);if(l&&(k==="height"||k==="width")){h.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY];if(c.css(this,"display")==="inline"&&c.css(this,"float")==="none")if(c.support.inlineBlockNeedsLayout)if(oa(this.nodeName)===
"inline")this.style.display="inline-block";else{this.style.display="inline";this.style.zoom=1}else this.style.display="inline-block"}if(c.isArray(a[k])){(h.specialEasing=h.specialEasing||{})[k]=a[k][1];a[k]=a[k][0]}}if(h.overflow!=null)this.style.overflow="hidden";h.curAnim=c.extend({},a);c.each(a,function(B,D){var H=new c.fx(s,h,B);if(tb.test(D))H[D==="toggle"?n?"show":"hide":D](a);else{var w=ub.exec(D),G=H.cur(true)||0;if(w){var M=parseFloat(w[2]),g=w[3]||"px";if(g!=="px"){c.style(s,B,(M||1)+g);
G=(M||1)/H.cur(true)*G;c.style(s,B,G+g)}if(w[1])M=(w[1]==="-="?-1:1)*M+G;H.custom(G,M,g)}else H.custom(G,D,"")}});return true})},stop:function(a,b){var d=c.timers;a&&this.queue([]);this.each(function(){for(var e=d.length-1;e>=0;e--)if(d[e].elem===this){b&&d[e](true);d.splice(e,1)}});b||this.dequeue();return this}});c.each({slideDown:S("show",1),slideUp:S("hide",1),slideToggle:S("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"}},function(a,b){c.fn[a]=function(d,e,f){return this.animate(b,
d,e,f)}});c.extend({speed:function(a,b,d){var e=a&&typeof a==="object"?c.extend({},a):{complete:d||!d&&b||c.isFunction(a)&&a,duration:a,easing:d&&b||b&&!c.isFunction(b)&&b};e.duration=c.fx.off?0:typeof e.duration==="number"?e.duration:e.duration in c.fx.speeds?c.fx.speeds[e.duration]:c.fx.speeds._default;e.old=e.complete;e.complete=function(){e.queue!==false&&c(this).dequeue();c.isFunction(e.old)&&e.old.call(this)};return e},easing:{linear:function(a,b,d,e){return d+e*a},swing:function(a,b,d,e){return(-Math.cos(a*
Math.PI)/2+0.5)*e+d}},timers:[],fx:function(a,b,d){this.options=b;this.elem=a;this.prop=d;if(!b.orig)b.orig={}}});c.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(c.fx.step[this.prop]||c.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var a=parseFloat(c.css(this.elem,this.prop));return a&&a>-1E4?a:0},custom:function(a,b,d){function e(h){return f.step(h)}
this.startTime=c.now();this.start=a;this.end=b;this.unit=d||this.unit||"px";this.now=this.start;this.pos=this.state=0;var f=this;a=c.fx;e.elem=this.elem;if(e()&&c.timers.push(e)&&!aa)aa=setInterval(a.tick,a.interval)},show:function(){this.options.orig[this.prop]=c.style(this.elem,this.prop);this.options.show=true;this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());c(this.elem).show()},hide:function(){this.options.orig[this.prop]=c.style(this.elem,this.prop);this.options.hide=true;
this.custom(this.cur(),0)},step:function(a){var b=c.now(),d=true;if(a||b>=this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();this.options.curAnim[this.prop]=true;for(var e in this.options.curAnim)if(this.options.curAnim[e]!==true)d=false;if(d){if(this.options.overflow!=null&&!c.support.shrinkWrapBlocks){var f=this.elem,h=this.options;c.each(["","X","Y"],function(l,n){f.style["overflow"+n]=h.overflow[l]})}this.options.hide&&c(this.elem).hide();if(this.options.hide||
this.options.show)for(var k in this.options.curAnim)c.style(this.elem,k,this.options.orig[k]);this.options.complete.call(this.elem)}return false}else{a=b-this.startTime;this.state=a/this.options.duration;b=this.options.easing||(c.easing.swing?"swing":"linear");this.pos=c.easing[this.options.specialEasing&&this.options.specialEasing[this.prop]||b](this.state,a,0,1,this.options.duration);this.now=this.start+(this.end-this.start)*this.pos;this.update()}return true}};c.extend(c.fx,{tick:function(){for(var a=
c.timers,b=0;b<a.length;b++)a[b]()||a.splice(b--,1);a.length||c.fx.stop()},interval:13,stop:function(){clearInterval(aa);aa=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){c.style(a.elem,"opacity",a.now)},_default:function(a){if(a.elem.style&&a.elem.style[a.prop]!=null)a.elem.style[a.prop]=(a.prop==="width"||a.prop==="height"?Math.max(0,a.now):a.now)+a.unit;else a.elem[a.prop]=a.now}}});if(c.expr&&c.expr.filters)c.expr.filters.animated=function(a){return c.grep(c.timers,function(b){return a===
b.elem}).length};var vb=/^t(?:able|d|h)$/i,Fa=/^(?:body|html)$/i;c.fn.offset="getBoundingClientRect"in u.documentElement?function(a){var b=this[0],d;if(a)return this.each(function(k){c.offset.setOffset(this,a,k)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return c.offset.bodyOffset(b);try{d=b.getBoundingClientRect()}catch(e){}var f=b.ownerDocument,h=f.documentElement;if(!d||!c.contains(h,b))return d||{top:0,left:0};b=f.body;f=ea(f);return{top:d.top+(f.pageYOffset||c.support.boxModel&&
h.scrollTop||b.scrollTop)-(h.clientTop||b.clientTop||0),left:d.left+(f.pageXOffset||c.support.boxModel&&h.scrollLeft||b.scrollLeft)-(h.clientLeft||b.clientLeft||0)}}:function(a){var b=this[0];if(a)return this.each(function(s){c.offset.setOffset(this,a,s)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return c.offset.bodyOffset(b);c.offset.initialize();var d=b.offsetParent,e=b.ownerDocument,f,h=e.documentElement,k=e.body;f=(e=e.defaultView)?e.getComputedStyle(b,null):b.currentStyle;
for(var l=b.offsetTop,n=b.offsetLeft;(b=b.parentNode)&&b!==k&&b!==h;){if(c.offset.supportsFixedPosition&&f.position==="fixed")break;f=e?e.getComputedStyle(b,null):b.currentStyle;l-=b.scrollTop;n-=b.scrollLeft;if(b===d){l+=b.offsetTop;n+=b.offsetLeft;if(c.offset.doesNotAddBorder&&!(c.offset.doesAddBorderForTableAndCells&&vb.test(b.nodeName))){l+=parseFloat(f.borderTopWidth)||0;n+=parseFloat(f.borderLeftWidth)||0}d=b.offsetParent}if(c.offset.subtractsBorderForOverflowNotVisible&&f.overflow!=="visible"){l+=
parseFloat(f.borderTopWidth)||0;n+=parseFloat(f.borderLeftWidth)||0}f=f}if(f.position==="relative"||f.position==="static"){l+=k.offsetTop;n+=k.offsetLeft}if(c.offset.supportsFixedPosition&&f.position==="fixed"){l+=Math.max(h.scrollTop,k.scrollTop);n+=Math.max(h.scrollLeft,k.scrollLeft)}return{top:l,left:n}};c.offset={initialize:function(){var a=u.body,b=u.createElement("div"),d,e,f,h=parseFloat(c.css(a,"marginTop"))||0;c.extend(b.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",
height:"1px",visibility:"hidden"});b.innerHTML="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";a.insertBefore(b,a.firstChild);d=b.firstChild;e=d.firstChild;f=d.nextSibling.firstChild.firstChild;this.doesNotAddBorder=e.offsetTop!==5;this.doesAddBorderForTableAndCells=
f.offsetTop===5;e.style.position="fixed";e.style.top="20px";this.supportsFixedPosition=e.offsetTop===20||e.offsetTop===15;e.style.position=e.style.top="";d.style.overflow="hidden";d.style.position="relative";this.subtractsBorderForOverflowNotVisible=e.offsetTop===-5;this.doesNotIncludeMarginInBodyOffset=a.offsetTop!==h;a.removeChild(b);c.offset.initialize=c.noop},bodyOffset:function(a){var b=a.offsetTop,d=a.offsetLeft;c.offset.initialize();if(c.offset.doesNotIncludeMarginInBodyOffset){b+=parseFloat(c.css(a,
"marginTop"))||0;d+=parseFloat(c.css(a,"marginLeft"))||0}return{top:b,left:d}},setOffset:function(a,b,d){var e=c.css(a,"position");if(e==="static")a.style.position="relative";var f=c(a),h=f.offset(),k=c.css(a,"top"),l=c.css(a,"left"),n=e==="absolute"&&c.inArray("auto",[k,l])>-1;e={};var s={};if(n)s=f.position();k=n?s.top:parseInt(k,10)||0;l=n?s.left:parseInt(l,10)||0;if(c.isFunction(b))b=b.call(a,d,h);if(b.top!=null)e.top=b.top-h.top+k;if(b.left!=null)e.left=b.left-h.left+l;"using"in b?b.using.call(a,
e):f.css(e)}};c.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),d=this.offset(),e=Fa.test(b[0].nodeName)?{top:0,left:0}:b.offset();d.top-=parseFloat(c.css(a,"marginTop"))||0;d.left-=parseFloat(c.css(a,"marginLeft"))||0;e.top+=parseFloat(c.css(b[0],"borderTopWidth"))||0;e.left+=parseFloat(c.css(b[0],"borderLeftWidth"))||0;return{top:d.top-e.top,left:d.left-e.left}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||u.body;a&&!Fa.test(a.nodeName)&&
c.css(a,"position")==="static";)a=a.offsetParent;return a})}});c.each(["Left","Top"],function(a,b){var d="scroll"+b;c.fn[d]=function(e){var f=this[0],h;if(!f)return null;if(e!==A)return this.each(function(){if(h=ea(this))h.scrollTo(!a?e:c(h).scrollLeft(),a?e:c(h).scrollTop());else this[d]=e});else return(h=ea(f))?"pageXOffset"in h?h[a?"pageYOffset":"pageXOffset"]:c.support.boxModel&&h.document.documentElement[d]||h.document.body[d]:f[d]}});c.each(["Height","Width"],function(a,b){var d=b.toLowerCase();
c.fn["inner"+b]=function(){return this[0]?parseFloat(c.css(this[0],d,"padding")):null};c.fn["outer"+b]=function(e){return this[0]?parseFloat(c.css(this[0],d,e?"margin":"border")):null};c.fn[d]=function(e){var f=this[0];if(!f)return e==null?null:this;if(c.isFunction(e))return this.each(function(h){var k=c(this);k[d](e.call(this,h,k[d]()))});return c.isWindow(f)?f.document.compatMode==="CSS1Compat"&&f.document.documentElement["client"+b]||f.document.body["client"+b]:f.nodeType===9?Math.max(f.documentElement["client"+
b],f.body["scroll"+b],f.documentElement["scroll"+b],f.body["offset"+b],f.documentElement["offset"+b]):e===A?parseFloat(c.css(f,d)):this.css(d,typeof e==="string"?e:e+"px")}})})(window);
function changeOperation(a){a=="subscribe"?($("#addContactForm span[id=unsubscriptionMessage]").css("display","block"),$("#addContactForm span[id=subscriptionMessage]").css("display","none"),$("#addContactForm span[id=imStatus]").html(beanmsg.pendingapproval),$("#addContactForm input[id=imUsername]").attr("disabled",!0),$("#addContactForm select[id=chatSelection]").attr("disabled",!0)):a=="unsubscribe"&&($("#addContactForm span[id=unsubscriptionMessage]").css("display","none"),$("#addContactForm span[id=subscriptionMessage]").css("display","block"),$("#addContactForm input[id=imUsername]").attr("disabled",!1),$("#addContactForm select[id=chatSelection]").attr("disabled",!1))}function fnOnloadReports(a,b,c,d,e,f,g){$("#timelbl").html(b),$("#testdiv").html(a),$("#newperiodlbl").val(a),$("#newperiodval").val(d),$("#newdtlbl").val(e),d=="50"&&($("#reportform input[name=startdate]").val(e),$("#reportform input[name=enddate]").val(f));var h="";if(g=="outageReport")h=$.getAjaxResponse("POST","/home/reportsinfo.do?execute=OutageReportForAllMonitors&urlid="+c+"&startdate="+e+"&enddate="+f+"&period="+d);else if(g=="LocationDownReport")h=$.getAjaxResponse("POST","/home/reportsinfo.do?execute=outageReport&urlid="+c+"&startdate="+e+"&enddate="+f+"&period="+d);else if(g=="logreport")h=$.getAjaxResponse("POST","/home/reportsinfo.do?execute=LogReport&urlid="+c+"&startdate="+e+"&enddate="+f+"&period="+d);else if(g=="apdexreport"){var i=document.getElementById("reportform").locationId.value,j=$(window).width();h=$.getAjaxResponse("POST","/home/reportsinfo.do","execute=showApdexReport&urlid="+c+"&startdate="+e+"&enddate="+f+"&period="+d+"&locid="+i+"&width="+j)}$.hideDiv("loading"),$("#reportsContent").html(h),$.showDiv("reportsContent")}function fnShowReport(a,b){$.hideDiv("reportsContent"),$.showDiv("loading");var c=$("#newperiodval").val(),d="",e="";c==50&&(d=$("#reportform input[name=startdate]").val(),e=$("#reportform input[name=enddate]").val());var f="";if(b=="outageReport")f=$.getAjaxResponse("POST","/home/reportsinfo.do?execute=OutageReportForAllMonitors&urlid="+a+"&startdate="+d+"&enddate="+e+"&period="+c);else if(b=="LocationDownReport")f=$.getAjaxResponse("POST","/home/reportsinfo.do?execute=outageReport&urlid="+a+"&startdate="+d+"&enddate="+e+"&period="+c);else if(b=="logreport")f=$.getAjaxResponse("POST","/home/reportsinfo.do?execute=LogReport&urlid="+a+"&startdate="+d+"&enddate="+e+"&period="+c);else if(b=="apdexreport"){var g=document.getElementById("reportform").locationId.value,h=$(window).width();f=$.getAjaxResponse("POST","/home/reportsinfo.do","execute=showApdexReport&urlid="+a+"&startdate="+d+"&enddate="+e+"&period="+c+"&locid="+g+"&width="+h)}$.hideDiv("loading"),$("#reportsContent").html(f),$.showDiv("reportsContent")}function fnOnloadSelection(a,b){$("#timelbl").html(b),$("#testdiv").html(a)}function fnOnloadSelectiontemp(a,b,c,d,e,f,g,h,i,j,k,l,m,n){$("#timelbl").html(h),a==="1"&&$("#timelbl").html("Last 24 Hours"),$("#testdiv").html(g);var o="",p="";a==50&&k!=undefined&&l!=undefined&&(o=k,p=l);var q="";if(n!=undefined){var r=n.replace("[","");r=r.replace("]",""),r=r.split(","),jQuery.each(r,function(){q=q+"&reportAtt="+this.trim()})}fnShowResponseReport(a,b,c,d,o,p,e,f,i,j,q,m)}function showApdex(a,b,c,d,e){$.hideDiv("chart_tr"),$.hideDiv("throughput_td"),$("#astatus").removeClass("BlueBoldText"),$("#astatus").addClass("GrayBoldText"),$("#gstatus").removeClass("GrayBoldText"),$("#gstatus").addClass("BlueBoldText"),val=$("#apdex_td").html().length,val==0&&(response=$.getAjaxResponse("POST","/home/reportsinfo.do","execute=showApdexReport&urlid="+a+"&apdexstartdate="+b+"&apdexenddate="+c+"&period="+d+"&locid=-1&apdexview=true"),$("#apdex_td").html(response)),$.showDiv("apdex_tr")}function encodeHtml(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}function arraysEqual(a,b){if(a===b)return!0;if(a===null||b===null)return!1;if(a.length!==b.length)return!1;for(var c=0;c<a.length;++c)if(a[c]!==b[c])return!1;return!0}function numericvalidatorfn(a,b){var c=/^(\\s*|0|[1-9][0-9]*)$/.test(a);c||!a?b(!0):b(!1)}(function(a,b){function c(a){return K.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:!1}function d(a){if(!cp[a]){var b=H.body,c=K("<"+a+">").appendTo(b),d=c.css("display");c.remove();if(d==="none"||d===""){cq||(cq=H.createElement("iframe"),cq.frameBorder=cq.width=cq.height=0),b.appendChild(cq);if(!cr||!cq.createElement)cr=(cq.contentWindow||cq.contentDocument).document,cr.write((H.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><body>"),cr.close();c=cr.createElement(a),cr.body.appendChild(c),d=K.css(c,"display"),b.removeChild(cq)}cp[a]=d}return cp[a]}function e(a,b){var c={};return K.each(cv.concat.apply([],cv.slice(0,b)),function(){c[this]=a}),c}function f(){cw=b}function g(){return setTimeout(f,0),cw=K.now()}function h(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function i(){try{return new a.XMLHttpRequest}catch(b){}}function j(a,c){a.dataFilter&&(c=a.dataFilter(c,a.dataType));var d=a.dataTypes,e={},f,g,h=d.length,i,j=d[0],k,l,m,n,o;for(f=1;f<h;f++){if(f===1)for(g in a.converters)typeof g=="string"&&(e[g.toLowerCase()]=a.converters[g]);k=j,j=d[f];if(j==="*")j=k;else if(k!=="*"&&k!==j){l=k+" "+j,m=e[l]||e["* "+j];if(!m){o=b;for(n in e){i=n.split(" ");if(i[0]===k||i[0]==="*"){o=e[i[1]+" "+j];if(o){n=e[n],n===!0?m=o:o===!0&&(m=n);break}}}}!m&&!o&&K.error("No conversion from "+l.replace(" "," to ")),m!==!0&&(c=m?m(c):o(n(c)))}}return c}function k(a,c,d){var e=a.contents,f=a.dataTypes,g=a.responseFields,h,i,j,k;for(i in g)i in d&&(c[g[i]]=d[i]);while(f[0]==="*")f.shift(),h===b&&(h=a.mimeType||c.getResponseHeader("content-type"));if(h)for(i in e)if(e[i]&&e[i].test(h)){f.unshift(i);break}if(f[0]in d)j=f[0];else{for(i in d){if(!f[0]||a.converters[i+" "+f[0]]){j=i;break}k||(k=i)}j=j||k}if(j)return j!==f[0]&&f.unshift(j),d[j]}function l(a,b,c,d){if(K.isArray(b))K.each(b,function(b,e){c||bR.test(a)?d(a,e):l(a+"["+(typeof e=="object"||K.isArray(e)?b:"")+"]",e,c,d)});else if(!c&&b!=null&&typeof b=="object")for(var e in b)l(a+"["+e+"]",b[e],c,d);else d(a,b)}function m(a,c){var d,e,f=K.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((f[d]?a:e||(e={}))[d]=c[d]);e&&K.extend(!0,a,e)}function n(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;var h=a[f],i=0,j=h?h.length:0,k=a===ce,l;for(;i<j&&(k||!l);i++)l=h[i](c,d,e),typeof l=="string"&&(!k||g[l]?l=b:(c.dataTypes.unshift(l),l=n(a,c,d,e,l,g)));return(k||!l)&&!g["*"]&&(l=n(a,c,d,e,"*",g)),l}function o(a){return function(b,c){typeof b!="string"&&(c=b,b="*");if(K.isFunction(c)){var d=b.toLowerCase().split(ca),e=0,f=d.length,g,h,i;for(;e<f;e++)g=d[e],i=/^\+/.test(g),i&&(g=g.substr(1)||"*"),h=a[g]=a[g]||[],h[i?"unshift":"push"](c)}}}function p(a,b,c){var d=b==="width"?a.offsetWidth:a.offsetHeight,e=b==="width"?bL:bM,f=0,g=e.length;if(d>0){if(c!=="border")for(;f<g;f++)c||(d-=parseFloat(K.css(a,"padding"+e[f]))||0),c==="margin"?d+=parseFloat(K.css(a,c+e[f]))||0:d-=parseFloat(K.css(a,"border"+e[f]+"Width"))||0;return d+"px"}d=bN(a,b,b);if(d<0||d==null)d=a.style[b]||0;d=parseFloat(d)||0;if(c)for(;f<g;f++)d+=parseFloat(K.css(a,"padding"+e[f]))||0,c!=="padding"&&(d+=parseFloat(K.css(a,"border"+e[f]+"Width"))||0),c==="margin"&&(d+=parseFloat(K.css(a,c+e[f]))||0);return d+"px"}function q(a,b){b.src?K.ajax({url:b.src,async:!1,dataType:"script"}):K.globalEval((b.text||b.textContent||b.innerHTML||"").replace(bB,"/*$0*/")),b.parentNode&&b.parentNode.removeChild(b)}function r(a){var b=H.createElement("div");return bD.appendChild(b),b.innerHTML=a.outerHTML,b.firstChild}function s(a){var b=(a.nodeName||"").toLowerCase();b==="input"?t(a):b!=="script"&&typeof a.getElementsByTagName!="undefined"&&K.grep(a.getElementsByTagName("input"),t)}function t(a){if(a.type==="checkbox"||a.type==="radio")a.defaultChecked=a.checked}function u(a){return typeof a.getElementsByTagName!="undefined"?a.getElementsByTagName("*"):typeof a.querySelectorAll!="undefined"?a.querySelectorAll("*"):[]}function v(a,b){var c;if(b.nodeType===1){b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase();if(c==="object")b.outerHTML=a.outerHTML;else if(c!=="input"||a.type!=="checkbox"&&a.type!=="radio"){if(c==="option")b.selected=a.defaultSelected;else if(c==="input"||c==="textarea")b.defaultValue=a.defaultValue}else a.checked&&(b.defaultChecked=b.checked=a.checked),b.value!==a.value&&(b.value=a.value);b.removeAttribute(K.expando)}}function w(a,b){if(b.nodeType===1&&!!K.hasData(a)){var c,d,e,f=K._data(a),g=K._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;d<e;d++)K.event.add(b,c+(h[c][d].namespace?".":"")+h[c][d].namespace,h[c][d],h[c][d].data)}g.data&&(g.data=K.extend({},g.data))}}function x(a,b){return K.nodeName(a,"table")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function y(a){var b=bp.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}function z(a,b,c){b=b||0;if(K.isFunction(b))return K.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return K.grep(a,function(a,d){return a===b===c});if(typeof b=="string"){var d=K.grep(a,function(a){return a.nodeType===1});if(bl.test(b))return K.filter(b,d,!c);b=K.filter(b,d)}return K.grep(a,function(a,d){return K.inArray(a,b)>=0===c})}function A(a){return!a||!a.parentNode||a.parentNode.nodeType===11}function B(){return!0}function C(){return!1}function D(a,b,c){var d=b+"defer",e=b+"queue",f=b+"mark",g=K._data(a,d);g&&(c==="queue"||!K._data(a,e))&&(c==="mark"||!K._data(a,f))&&setTimeout(function(){!K._data(a,e)&&!K._data(a,f)&&(K.removeData(a,d,!0),g.fire())},0)}function E(a){for(var b in a){if(b==="data"&&K.isEmptyObject(a[b]))continue;if(b!=="toJSON")return!1}return!0}function F(a,c,d){if(d===b&&a.nodeType===1){var e="data-"+c.replace(O,"-$1").toLowerCase();d=a.getAttribute(e);if(typeof d=="string"){try{d=d==="true"?!0:d==="false"?!1:d==="null"?null:K.isNumeric(d)?parseFloat(d):N.test(d)?K.parseJSON(d):d}catch(f){}K.data(a,c,d)}else d=b}return d}function G(a){var b=L[a]={},c,d;a=a.split(/\s+/);for(c=0,d=a.length;c<d;c++)b[a[c]]=!0;return b}var H=a.document,I=a.navigator,J=a.location,K=function(){function c(){if(!d.isReady){try{H.documentElement.doScroll("left")}catch(a){setTimeout(c,1);return}d.ready()}}var d=function(a,b){return new d.fn.init(a,b,g)},e=a.jQuery,f=a.$,g,h=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,i=/\S/,j=/^\s+/,k=/\s+$/,l=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,m=/^[\],:{}\s]*$/,n=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,o=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,p=/(?:^|:|,)(?:\s*\[)+/g,q=/(webkit)[ \/]([\w.]+)/,r=/(opera)(?:.*version)?[ \/]([\w.]+)/,s=/(msie) ([\w.]+)/,t=/(mozilla)(?:.*? rv:([\w.]+))?/,u=/-([a-z]|[0-9])/ig,v=/^-ms-/,w=function(a,b){return(b+"").toUpperCase()},x=I.userAgent,y,z,A,B=Object.prototype.toString,C=Object.prototype.hasOwnProperty,D=Array.prototype.push,E=Array.prototype.slice,F=String.prototype.trim,G=Array.prototype.indexOf,J={};return d.fn=d.prototype={constructor:d,init:function(a,c,e){var f,g,i,j;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if(a==="body"&&!c&&H.body)return this.context=H,this[0]=H.body,this.selector=a,this.length=1,this;if(typeof a=="string"){a.charAt(0)!=="<"||a.charAt(a.length-1)!==">"||a.length<3?f=h.exec(a):f=[null,a,null];if(f&&(f[1]||!c)){if(f[1])return c=c instanceof d?c[0]:c,j=c?c.ownerDocument||c:H,i=l.exec(a),i?d.isPlainObject(c)?(a=[H.createElement(i[1])],d.fn.attr.call(a,c,!0)):a=[j.createElement(i[1])]:(i=d.buildFragment([f[1]],[j]),a=(i.cacheable?d.clone(i.fragment):i.fragment).childNodes),d.merge(this,a);g=H.getElementById(f[2]);if(g&&g.parentNode){if(g.id!==f[2])return e.find(a);this.length=1,this[0]=g}return this.context=H,this.selector=a,this}return!c||c.jquery?(c||e).find(a):this.constructor(c).find(a)}return d.isFunction(a)?e.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),d.makeArray(a,this))},selector:"",jquery:"1.7.1",length:0,size:function(){return this.length},toArray:function(){return E.call(this,0)},get:function(a){return a==null?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,b,c){var e=this.constructor();return d.isArray(a)?D.apply(e,a):d.merge(e,a),e.prevObject=this,e.context=this.context,b==="find"?e.selector=this.selector+(this.selector?" ":"")+c:b&&(e.selector=this.selector+"."+b+"("+c+")"),e},each:function(a,b){return d.each(this,a,b)},ready:function(a){return d.bindReady(),z.add(a),this},eq:function(a){return a=+a,a===-1?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(E.apply(this,arguments),"slice",E.call(arguments).join(","))},map:function(a){return this.pushStack(d.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:D,sort:[].sort,splice:[].splice},d.fn.init.prototype=d.fn,d.extend=d.fn.extend=function(){var a,c,e,f,g,h,i=arguments[0]||{},j=1,k=arguments.length,l=!1;typeof i=="boolean"&&(l=i,i=arguments[1]||{},j=2),typeof i!="object"&&!d.isFunction(i)&&(i={}),k===j&&(i=this,--j);for(;j<k;j++)if((a=arguments[j])!=null)for(c in a){e=i[c],f=a[c];if(i===f)continue;l&&f&&(d.isPlainObject(f)||(g=d.isArray(f)))?(g?(g=!1,h=e&&d.isArray(e)?e:[]):h=e&&d.isPlainObject(e)?e:{},i[c]=d.extend(l,h,f)):f!==b&&(i[c]=f)}return i},d.extend({noConflict:function(b){return a.$===d&&(a.$=f),b&&a.jQuery===d&&(a.jQuery=e),d},isReady:!1,readyWait:1,holdReady:function(a){a?d.readyWait++:d.ready(!0)},ready:function(a){if(a===!0&&!--d.readyWait||a!==!0&&!d.isReady){if(!H.body)return setTimeout(d.ready,1);d.isReady=!0;if(a!==!0&&--d.readyWait>0)return;z.fireWith(H,[d]),d.fn.trigger&&d(H).trigger("ready").off("ready")}},bindReady:function(){if(!z){z=d.Callbacks("once memory");if(H.readyState==="complete")return setTimeout(d.ready,1);if(H.addEventListener)H.addEventListener("DOMContentLoaded",A,!1),a.addEventListener("load",d.ready,!1);else if(H.attachEvent){H.attachEvent("onreadystatechange",A),a.attachEvent("onload",d.ready);var b=!1;try{b=a.frameElement==null}catch(e){}H.documentElement.doScroll&&b&&c()}}},isFunction:function(a){return d.type(a)==="function"},isArray:Array.isArray||function(a){return d.type(a)==="array"},isWindow:function(a){return a&&typeof a=="object"&&"setInterval"in a},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return a==null?String(a):J[B.call(a)]||"object"},isPlainObject:function(a){if(!a||d.type(a)!=="object"||a.nodeType||d.isWindow(a))return!1;try{if(a.constructor&&!C.call(a,"constructor")&&!C.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}var e;for(e in a);return e===b||C.call(a,e)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw new Error(a)},parseJSON:function(b){if(typeof b!="string"||!b)return null;b=d.trim(b);if(a.JSON&&a.JSON.parse)return a.JSON.parse(b);if(m.test(b.replace(n,"@").replace(o,"]").replace(p,"")))return(new Function("return "+b))();d.error("Invalid JSON: "+b)},parseXML:function(c){var e,f;try{a.DOMParser?(f=new DOMParser,e=f.parseFromString(c,"text/xml")):(e=new ActiveXObject("Microsoft.XMLDOM"),e.async="false",e.loadXML(c))}catch(g){e=b}return(!e||!e.documentElement||e.getElementsByTagName("parsererror").length)&&d.error("Invalid XML: "+c),e},noop:function(){},globalEval:function(b){b&&i.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(v,"ms-").replace(u,w)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,c,e){var f,g=0,h=a.length,i=h===b||d.isFunction(a);if(e){if(i){for(f in a)if(c.apply(a[f],e)===!1)break}else for(;g<h;)if(c.apply(a[g++],e)===!1)break}else if(i){for(f in a)if(c.call(a[f],f,a[f])===!1)break}else for(;g<h;)if(c.call(a[g],g,a[g++])===!1)break;return a},trim:F?function(a){return a==null?"":F.call(a)}:function(a){return a==null?"":(a+"").replace(j,"").replace(k,"")},makeArray:function(a,b){var c=b||[];if(a!=null){var e=d.type(a);a.length==null||e==="string"||e==="function"||e==="regexp"||d.isWindow(a)?D.call(c,a):d.merge(c,a)}return c},inArray:function(a,b,c){var d;if(b){if(G)return G.call(b,a,c);d=b.length,c=c?c<0?Math.max(0,d+c):c:0;for(;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=a.length,e=0;if(typeof c.length=="number")for(var f=c.length;e<f;e++)a[d++]=c[e];else while(c[e]!==b)a[d++]=c[e++];return a.length=d,a},grep:function(a,b,c){var d=[],e;c=!!c;for(var f=0,g=a.length;f<g;f++)e=!!b(a[f],f),c!==e&&d.push(a[f]);return d},map:function(a,c,e){var f,g,h=[],i=0,j=a.length,k=a instanceof d||j!==b&&typeof j=="number"&&(j>0&&a[0]&&a[j-1]||j===0||d.isArray(a));if(k)for(;i<j;i++)f=c(a[i],i,e),f!=null&&(h[h.length]=f);else for(g in a)f=c(a[g],g,e),f!=null&&(h[h.length]=f);return h.concat.apply([],h)},guid:1,proxy:function(a,c){if(typeof c=="string"){var e=a[c];c=a,a=e}if(!d.isFunction(a))return b;var f=E.call(arguments,2),g=function(){return a.apply(c,f.concat(E.call(arguments)))};return g.guid=a.guid=a.guid||g.guid||d.guid++,g},access:function(a,c,e,f,g,h){var i=a.length;if(typeof c=="object"){for(var j in c)d.access(a,j,c[j],f,g,e);return a}if(e!==b){f=!h&&f&&d.isFunction(e);for(var k=0;k<i;k++)g(a[k],c,f?e.call(a[k],k,g(a[k],c)):e,h);return a}return i?g(a[0],c):b},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();var b=q.exec(a)||r.exec(a)||s.exec(a)||a.indexOf("compatible")<0&&t.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},sub:function(){function a(b,c){return new a.fn.init(b,c)}d.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function(c,e){return e&&e instanceof d&&!(e instanceof a)&&(e=a(e)),d.fn.init.call(this,c,e,b)},a.fn.init.prototype=a.fn;var b=a(H);return a},browser:{}}),d.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){J["[object "+b+"]"]=b.toLowerCase()}),y=d.uaMatch(x),y.browser&&(d.browser[y.browser]=!0,d.browser.version=y.version),d.browser.webkit&&(d.browser.safari=!0),i.test("")&&(j=/^[\s\xA0]+/,k=/[\s\xA0]+$/),g=d(H),H.addEventListener?A=function(){H.removeEventListener("DOMContentLoaded",A,!1),d.ready()}:H.attachEvent&&(A=function(){H.readyState==="complete"&&(H.detachEvent("onreadystatechange",A),d.ready())}),d}(),L={};K.Callbacks=function(a){a=a?L[a]||G(a):{};var c=[],d=[],e,f,g,h,i,j=function(b){var d,e,f,g,h;for(d=0,e=b.length;d<e;d++)f=b[d],g=K.type(f),g==="array"?j(f):g==="function"&&(!a.unique||!l.has(f))&&c.push(f)},k=function(b,j){j=j||[],e=!a.memory||[b,j],f=!0,i=g||0,g=0,h=c.length;for(;c&&i<h;i++)if(c[i].apply(b,j)===!1&&a.stopOnFalse){e=!0;break}f=!1,c&&(a.once?e===!0?l.disable():c=[]:d&&d.length&&(e=d.shift(),l.fireWith(e[0],e[1])))},l={add:function(){if(c){var a=c.length;j(arguments),f?h=c.length:e&&e!==!0&&(g=a,k(e[0],e[1]))}return this},remove:function(){if(c){var b=arguments,d=0,e=b.length;for(;d<e;d++)for(var g=0;g<c.length;g++)if(b[d]===c[g]){f&&g<=h&&(h--,g<=i&&i--),c.splice(g--,1);if(a.unique)break}}return this},has:function(a){if(c){var b=0,d=c.length;for(;b<d;b++)if(a===c[b])return!0}return!1},empty:function(){return c=[],this},disable:function(){return c=d=e=b,this},disabled:function(){return!c},lock:function(){return d=b,(!e||e===!0)&&l.disable(),this},locked:function(){return!d},fireWith:function(b,c){return d&&(f?a.once||d.push([b,c]):(!a.once||!e)&&k(b,c)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!e}};return l};var M=[].slice;K.extend({Deferred:function(a){var b=K.Callbacks("once memory"),c=K.Callbacks("once memory"),d=K.Callbacks("memory"),e="pending",f={resolve:b,reject:c,notify:d},g={done:b.add,fail:c.add,progress:d.add,state:function(){return e},isResolved:b.fired,isRejected:c.fired,then:function(a,b,c){return h.done(a).fail(b).progress(c),this},always:function(){return h.done.apply(h,arguments).fail.apply(h,arguments),this},pipe:function(a,b,c){return K.Deferred(function(d){K.each({done:[a,"resolve"],fail:[b,"reject"],progress:[c,"notify"]},function(a,b){var c=b[0],e=b[1],f;K.isFunction(c)?h[a](function(){f=c.apply(this,arguments),f&&K.isFunction(f.promise)?f.promise().then(d.resolve,d.reject,d.notify):d[e+"With"](this===h?d:this,[f])}):h[a](d[e])})}).promise()},promise:function(a){if(a==null)a=g;else for(var b in g)a[b]=g[b];return a}},h=g.promise({}),i;for(i in f)h[i]=f[i].fire,h[i+"With"]=f[i].fireWith;return h.done(function(){e="resolved"},c.disable,d.lock).fail(function(){e="rejected"},b.disable,d.lock),a&&a.call(h,h),h},when:function(a){function b(a){return function(b){g[a]=arguments.length>1?M.call(arguments,0):b,j.notifyWith(k,g)}}function c(a){return function(b){d[a]=arguments.length>1?M.call(arguments,0):b,--h||j.resolveWith(j,d)}}var d=M.call(arguments,0),e=0,f=d.length,g=Array(f),h=f,i=f,j=f<=1&&a&&K.isFunction(a.promise)?a:K.Deferred(),k=j.promise();if(f>1){for(;e<f;e++)d[e]&&d[e].promise&&K.isFunction(d[e].promise)?d[e].promise().then(c(e),j.reject,b(e)):--h;h||j.resolveWith(j,d)}else j!==a&&j.resolveWith(j,f?[a]:[]);return k}}),K.support=function(){var b,c,d,e,f,g,h,i,j,k,l,m,n,o=H.createElement("div"),p=H.documentElement;o.setAttribute("className","t"),o.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",c=o.getElementsByTagName("*"),d=o.getElementsByTagName("a")[0];if(!c||!c.length||!d)return{};e=H.createElement("select"),f=e.appendChild(H.createElement("option")),g=o.getElementsByTagName("input")[0],b={leadingWhitespace:o.firstChild.nodeType===3,tbody:!o.getElementsByTagName("tbody").length,htmlSerialize:!!o.getElementsByTagName("link").length,style:/top/.test(d.getAttribute("style")),hrefNormalized:d.getAttribute("href")==="/a",opacity:/^0.55/.test(d.style.opacity),cssFloat:!!d.style.cssFloat,checkOn:g.value==="on",optSelected:f.selected,getSetAttribute:o.className!=="t",enctype:!!H.createElement("form").enctype,html5Clone:H.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0},g.checked=!0,b.noCloneChecked=g.cloneNode(!0).checked,e.disabled=!0,b.optDisabled=!f.disabled;try{delete o.test}catch(q){b.deleteExpando=!1}!o.addEventListener&&o.attachEvent&&o.fireEvent&&(o.attachEvent("onclick",function(){b.noCloneEvent=!1}),o.cloneNode(!0).fireEvent("onclick")),g=H.createElement("input"),g.value="t",g.setAttribute("type","radio"),b.radioValue=g.value==="t",g.setAttribute("checked","checked"),o.appendChild(g),i=H.createDocumentFragment(),i.appendChild(o.lastChild),b.checkClone=i.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=g.checked,i.removeChild(g),i.appendChild(o),o.innerHTML="",a.getComputedStyle&&(h=H.createElement("div"),h.style.width="0",h.style.marginRight="0",o.style.width="2px",o.appendChild(h),b.reliableMarginRight=(parseInt((a.getComputedStyle(h,null)||{marginRight:0}).marginRight,10)||0)===0);if(o.attachEvent)for(m in{submit:1,change:1,focusin:1})l="on"+m,n=l in o,n||(o.setAttribute(l,"return;"),n=typeof o[l]=="function"),b[m+"Bubbles"]=n;return i.removeChild(o),i=e=f=h=o=g=null,K(function(){var a,c,d,e,f,g,h,i,k,l,m,p=H.getElementsByTagName("body")[0];!p||(h=1,i="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;",k="visibility:hidden;border:0;",l="style='"+i+"border:5px solid #000;padding:0;'",m="<div "+l+"><div></div></div>"+"<table "+l+" cellpadding='0' cellspacing='0'>"+"<tr><td></td></tr></table>",a=H.createElement("div"),a.style.cssText=k+"width:0;height:0;position:static;top:0;margin-top:"+h+"px",p.insertBefore(a,p.firstChild),o=H.createElement("div"),a.appendChild(o),o.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>",j=o.getElementsByTagName("td"),n=j[0].offsetHeight===0,j[0].style.display="",j[1].style.display="none",b.reliableHiddenOffsets=n&&j[0].offsetHeight===0,o.innerHTML="",o.style.width=o.style.paddingLeft="1px",K.boxModel=b.boxModel=o.offsetWidth===2,typeof o.style.zoom!="undefined"&&(o.style.display="inline",o.style.zoom=1,b.inlineBlockNeedsLayout=o.offsetWidth===2,o.style.display="",o.innerHTML="<div style='width:4px;'></div>",b.shrinkWrapBlocks=o.offsetWidth!==2),o.style.cssText=i+k,o.innerHTML=m,c=o.firstChild,d=c.firstChild,f=c.nextSibling.firstChild.firstChild,g={doesNotAddBorder:d.offsetTop!==5,doesAddBorderForTableAndCells:f.offsetTop===5},d.style.position="fixed",d.style.top="20px",g.fixedPosition=d.offsetTop===20||d.offsetTop===15,d.style.position=d.style.top="",c.style.overflow="hidden",c.style.position="relative",g.subtractsBorderForOverflowNotVisible=d.offsetTop===-5,g.doesNotIncludeMarginInBodyOffset=p.offsetTop!==h,p.removeChild(a),o=a=null,K.extend(b,g))}),b}();var N=/^(?:\{.*\}|\[.*\])$/,O=/([A-Z])/g;K.extend({cache:{},uuid:0,expando:"jQuery"+(K.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){return a=a.nodeType?K.cache[a[K.expando]]:a[K.expando],!!a&&!E(a)},data:function(a,c,d,e){if(!!K.acceptData(a)){var f,g,h,i=K.expando,j=typeof c=="string",k=a.nodeType,l=k?K.cache:a,m=k?a[i]:a[i]&&i,n=c==="events";if((!m||!l[m]||!n&&!e&&!l[m].data)&&j&&d===b)return;m||(k?a[i]=m=++K.uuid:m=i),l[m]||(l[m]={},k||(l[m].toJSON=K.noop));if(typeof c=="object"||typeof c=="function")e?l[m]=K.extend(l[m],c):l[m].data=K.extend(l[m].data,c);return f=g=l[m],e||(g.data||(g.data={}),g=g.data),d!==b&&(g[K.camelCase(c)]=d),n&&!g[c]?f.events:(j?(h=g[c],h==null&&(h=g[K.camelCase(c)])):h=g,h)}},removeData:function(a,b,c){if(!!K.acceptData(a)){var d,e,f,g=K.expando,h=a.nodeType,i=h?K.cache:a,j=h?a[g]:g;if(!i[j])return;if(b){d=c?i[j]:i[j].data;if(d){K.isArray(b)||(b in d?b=[b]:(b=K.camelCase(b),b in d?b=[b]:b=b.split(" ")));for(e=0,f=b.length;e<f;e++)delete d[b[e]];if(!(c?E:K.isEmptyObject)(d))return}}if(!c){delete i[j].data;if(!E(i[j]))return}K.support.deleteExpando||!i.setInterval?delete i[j]:i[j]=null,h&&(K.support.deleteExpando?delete a[g]:a.removeAttribute?a.removeAttribute(g):a[g]=null)}},_data:function(a,b,c){return K.data(a,b,c,!0)},acceptData:function(a){if(a.nodeName){var b=K.noData[a.nodeName.toLowerCase()];if(b)return b!==!0&&a.getAttribute("classid")===b}return!0}}),K.fn.extend({data:function(a,c){var d,e,f,g=null;if(typeof a=="undefined"){if(this.length){g=K.data(this[0]);if(this[0].nodeType===1&&!K._data(this[0],"parsedAttrs")){e=this[0].attributes;for(var h=0,i=e.length;h<i;h++)f=e[h].name,f.indexOf("data-")===0&&(f=K.camelCase(f.substring(5)),F(this[0],f,g[f]));K._data(this[0],"parsedAttrs",!0)}}return g}return typeof a=="object"?this.each(function(){K.data(this,a)}):(d=a.split("."),d[1]=d[1]?"."+d[1]:"",c===b?(g=this.triggerHandler("getData"+d[1]+"!",[d[0]]),g===b&&this.length&&(g=K.data(this[0],a),g=F(this[0],a,g)),g===b&&d[1]?this.data(d[0]):g):this.each(function(){var b=K(this),e=[d[0],c];b.triggerHandler("setData"+d[1]+"!",e),K.data(this,a,c),b.triggerHandler("changeData"+d[1]+"!",e)}))},removeData:function(a){return this.each(function(){K.removeData(this,a)})}}),K.extend({_mark:function(a,b){a&&(b=(b||"fx")+"mark",K._data(a,b,(K._data(a,b)||0)+1))},_unmark:function(a,b,c){a!==!0&&(c=b,b=a,a=!1);if(b){c=c||"fx";var d=c+"mark",e=a?0:(K._data(b,d)||1)-1;e?K._data(b,d,e):(K.removeData(b,d,!0),D(b,c,"mark"))}},queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=K._data(a,b),c&&(!d||K.isArray(c)?d=K._data(a,b,K.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=K.queue(a,b),d=c.shift(),e={};d==="inprogress"&&(d=c.shift()),d&&(b==="fx"&&c.unshift("inprogress"),K._data(a,b+".run",e),d.call(a,function(){K.dequeue(a,b)},e)),c.length||(K.removeData(a,b+"queue "+b+".run",!0),D(a,b,"queue"))}}),K.fn.extend({queue:function(a,c){return typeof a!="string"&&(c=a,a="fx"),c===b?K.queue(this[0],a):this.each(function(){var b=K.queue(this,a,c);a==="fx"&&b[0]!=="inprogress"&&K.dequeue(this,a)})},dequeue:function(a){return this.each(function(){K.dequeue(this,a)})},delay:function(a,b){return a=K.fx?K.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){function d(){--h||e.resolveWith(f,[f])}typeof a!="string"&&(c=a,a=b),a=a||"fx";var e=K.Deferred(),f=this,g=f.length,h=1,i=a+"defer",j=a+"queue",k=a+"mark",l;while(g--)if(l=K.data(f[g],i,b,!0)||(K.data(f[g],j,b,!0)||K.data(f[g],k,b,!0))&&K.data(f[g],i,K.Callbacks("once memory"),!0))h++,l.add(d);return d(),e.promise()}});var P=/[\n\t\r]/g,Q=/\s+/,R=/\r/g,S=/^(?:button|input)$/i,T=/^(?:button|input|object|select|textarea)$/i,U=/^a(?:rea)?$/i,V=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,W=K.support.getSetAttribute,X,Y,Z;K.fn.extend({attr:function(a,b){return K.access(this,a,b,!0,K.attr)},removeAttr:function(a){return this.each(function(){K.removeAttr(this,a)})},prop:function(a,b){return K.access(this,a,b,!0,K.prop)},removeProp:function(a){return a=K.propFix[a]||a,this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,f,g,h;if(K.isFunction(a))return this.each(function(b){K(this).addClass(a.call(this,b,this.className))});if(a&&typeof a=="string"){b=a.split(Q);for(c=0,d=this.length;c<d;c++){e=this[c];if(e.nodeType===1)if(!e.className&&b.length===1)e.className=a;else{f=" "+e.className+" ";for(g=0,h=b.length;g<h;g++)~f.indexOf(" "+b[g]+" ")||(f+=b[g]+" ");e.className=K.trim(f)}}}return this},removeClass:function(a){var c,d,e,f,g,h,i;if(K.isFunction(a))return this.each(function(b){K(this).removeClass(a.call(this,b,this.className))});if(a&&typeof a=="string"||a===b){c=(a||"").split(Q);for(d=0,e=this.length;d<e;d++){f=this[d];if(f.nodeType===1&&f.className)if(a){g=(" "+f.className+" ").replace(P," ");for(h=0,i=c.length;h<i;h++)g=g.replace(" "+c[h]+" "," ");f.className=K.trim(g)}else f.className=""}}return this},toggleClass:function(a,b){var c=typeof a,d=typeof b=="boolean";return K.isFunction(a)?this.each(function(c){K(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if(c==="string"){var e,f=0,g=K(this),h=b,i=a.split(Q);while(e=i[f++])h=d?h:!g.hasClass(e),g[h?"addClass":"removeClass"](e)}else if(c==="undefined"||c==="boolean")this.className&&K._data(this,"__className__",this.className),this.className=this.className||a===!1?"":K._data(this,"__className__")||""})},hasClass:function(a){var b=" "+a+" ",c=0,d=this.length;for(;c<d;c++)if(this[c].nodeType===1&&(" "+this[c].className+" ").replace(P," ").indexOf(b)>-1)return!0;return!1},val:function(a){var c,d,e,f=this[0];if(!!arguments.length)return e=K.isFunction(a),this.each(function(d){var f=K(this),g;if(this.nodeType===1){e?g=a.call(this,d,f.val()):g=a,g==null?g="":typeof g=="number"?g+="":K.isArray(g)&&(g=K.map(g,function(a){return a==null?"":a+""})),c=K.valHooks[this.nodeName.toLowerCase()]||K.valHooks[this.type];if(!c||!("set"in c)||c.set(this,g,"value")===b)this.value=g}});if(f)return c=K.valHooks[f.nodeName.toLowerCase()]||K.valHooks[f.type],c&&"get"in c&&(d=c.get(f,"value"))!==b?d:(d=f.value,typeof d=="string"?d.replace(R,""):d==null?"":d)}}),K.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d,e,f=a.selectedIndex,g=[],h=a.options,i=a.type==="select-one";if(f<0)return null;c=i?f:0,d=i?f+1:h.length;for(;c<d;c++){e=h[c];if(e.selected&&(K.support.optDisabled?!e.disabled:e.getAttribute("disabled")===null)&&(!e.parentNode.disabled||!K.nodeName(e.parentNode,"optgroup"))){b=K(e).val();if(i)return b;g.push(b)}}return i&&!g.length&&h.length?K(h[f]).val():g},set:function(a,b){var c=K.makeArray(b);return K(a).find("option").each(function(){this.selected=K.inArray(K(this).val(),c)>=0}),c.length||(a.selectedIndex=-1),c}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(a,c,d,e){var f,g,h,i=a.nodeType;if(!!a&&i!==3&&i!==8&&i!==2){if(e&&c in K.attrFn)return K(a)[c](d);if(typeof a.getAttribute=="undefined")return K.prop(a,c,d);h=i!==1||!K.isXMLDoc(a),h&&(c=c.toLowerCase(),g=K.attrHooks[c]||(V.test(c)?Y:X));if(d!==b){if(d===null){K.removeAttr(a,c);return}return g&&"set"in g&&h&&(f=g.set(a,d,c))!==b?f:(a.setAttribute(c,""+d),d)}return g&&"get"in g&&h&&(f=g.get(a,c))!==null?f:(f=a.getAttribute(c),f===null?b:f)}},removeAttr:function(a,b){var c,d,e,f,g=0;if(b&&a.nodeType===1){d=b.toLowerCase().split(Q),f=d.length;for(;g<f;g++)e=d[g],e&&(c=K.propFix[e]||e,K.attr(a,e,""),a.removeAttribute(W?e:c),V.test(e)&&c in a&&(a[c]=!1))}},attrHooks:{type:{set:function(a,b){if(S.test(a.nodeName)&&a.parentNode)K.error("type property can't be changed");else if(!K.support.radioValue&&b==="radio"&&K.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}},value:{get:function(a,b){return X&&K.nodeName(a,"button")?X.get(a,b):b in a?a.value:null},set:function(a,b,c){if(X&&K.nodeName(a,"button"))return X.set(a,b,c);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,f,g,h=a.nodeType;if(!!a&&h!==3&&h!==8&&h!==2)return g=h!==1||!K.isXMLDoc(a),g&&(c=K.propFix[c]||c,f=K.propHooks[c]),d!==b?f&&"set"in f&&(e=f.set(a,d,c))!==b?e:a[c]=d:f&&"get"in f&&(e=f.get(a,c))!==null?e:a[c]},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):T.test(a.nodeName)||U.test(a.nodeName)&&a.href?0:b}}}}),K.attrHooks.tabindex=K.propHooks.tabIndex,Y={get:function(a,c){var d,e=K.prop(a,c);return e===!0||typeof e!="boolean"&&(d=a.getAttributeNode(c))&&d.nodeValue!==!1?c.toLowerCase():b},set:function(a,b,c){var d;return b===!1?K.removeAttr(a,c):(d=K.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase())),c}},W||(Z={name:!0,id:!0},X=K.valHooks.button={get:function(a,c){var d;return d=a.getAttributeNode(c),d&&(Z[c]?d.nodeValue!=="":d.specified)?d.nodeValue:b},set:function(a,b,c){var d=a.getAttributeNode(c);return d||(d=H.createAttribute(c),a.setAttributeNode(d)),d.nodeValue=b+""}},K.attrHooks.tabindex.set=X.set,K.each(["width","height"],function(a,b){K.attrHooks[b]=K.extend(K.attrHooks[b],{set:function(a,c){if(c==="")return a.setAttribute(b,"auto"),c}})}),K.attrHooks.contenteditable={get:X.get,set:function(a,b,c){b===""&&(b="false"),X.set(a,b,c)}}),K.support.hrefNormalized||K.each(["href","src","width","height"],function(a,c){K.attrHooks[c]=K.extend(K.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return d===null?b:d}})}),K.support.style||(K.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=""+b}}),K.support.optSelected||(K.propHooks.selected=K.extend(K.propHooks.selected,{get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}})),K.support.enctype||(K.propFix.enctype="encoding"),K.support.checkOn||K.each(["radio","checkbox"],function(){K.valHooks[this]={get:function(a){return a.getAttribute("value")===null?"on":a.value}}}),K.each(["radio","checkbox"],function(){K.valHooks[this]=K.extend(K.valHooks[this],{set:function(a,b){if(K.isArray(b))return a.checked=K.inArray(K(a).val(),b)>=0}})});var $=/^(?:textarea|input|select)$/i,_=/^([^\.]*)?(?:\.(.+))?$/,ba=/\bhover(\.\S+)?\b/,bb=/^key/,bc=/^(?:mouse|contextmenu)|click/,bd=/^(?:focusinfocus|focusoutblur)$/,be=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,bf=function(a){var b=be.exec(a);return b&&(b[1]=(b[1]||"").toLowerCase(),b[3]=b[3]&&new RegExp("(?:^|\\s)"+b[3]+"(?:\\s|$)")),b},bg=function(a,b){var c=a.attributes||{};return(!b[1]||a.nodeName.toLowerCase()===b[1])&&(!b[2]||(c.id||{}).value===b[2])&&(!b[3]||b[3].test((c["class"]||{}).value))},bh=function(a){return K.event.special.hover?a:a.replace(ba,"mouseenter$1 mouseleave$1")};K.event={add:function(a,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r;if(!(a.nodeType===3||a.nodeType===8||!c||!d||!(g=K._data(a)))){d.handler&&(o=d,d=o.handler),d.guid||(d.guid=K.guid++),i=g.events,i||(g.events=i={}),h=g.handle,h||(g.handle=h=function(a){return typeof K=="undefined"||!!a&&K.event.triggered===a.type?b:K.event.dispatch.apply(h.elem,arguments)},h.elem=a),c=K.trim(bh(c)).split(" ");for(j=0;j<c.length;j++){k=_.exec(c[j])||[],l=k[1],m=(k[2]||"").split(".").sort(),r=K.event.special[l]||{},l=(f?r.delegateType:r.bindType)||l,r=K.event.special[l]||{},n=K.extend({type:l,origType:k[1],data:e,handler:d,guid:d.guid,selector:f,quick:bf(f),namespace:m.join(".")},o),q=i[l];if(!q){q=i[l]=[],q.delegateCount=0;if(!r.setup||r.setup.call(a,e,m,h)===!1)a.addEventListener?a.addEventListener(l,h,!1):a.attachEvent&&a.attachEvent("on"+l,h)}r.add&&(r.add.call(a,n),n.handler.guid||(n.handler.guid=d.guid)),f?q.splice(q.delegateCount++,0,n):q.push(n),K.event.global[l]=!0}a=null}},global:{},remove:function(a,b,c,d,e){var f=K.hasData(a)&&K._data(a),g,h,i,j,k,l,m,n,o,p,q,r;if(!!f&&!!(n=f.events)){b=K.trim(bh(b||"")).split(" ");for(g=0;g<b.length;g++){h=_.exec(b[g])||[],i=j=h[1],k=h[2];if(!i){for(i in n)K.event.remove(a,i+b[g],c,d,!0);continue}o=K.event.special[i]||{},i=(d?o.delegateType:o.bindType)||i,q=n[i]||[],l=q.length,k=k?new RegExp("(^|\\.)"+k.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(m=0;m<q.length;m++)r=q[m],(e||j===r.origType)&&(!c||c.guid===r.guid)&&(!k||k.test(r.namespace))&&(!d||d===r.selector||d==="**"&&r.selector)&&(q.splice(m--,1),r.selector&&q.delegateCount--,o.remove&&o.remove.call(a,r));q.length===0&&l!==q.length&&((!o.teardown||o.teardown.call(a,k)===!1)&&K.removeEvent(a,i,f.handle),delete n[i])}K.isEmptyObject(n)&&(p=f.handle,p&&(p.elem=null),K.removeData(a,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,e,f){if(!e||e.nodeType!==3&&e.nodeType!==8){var g=c.type||c,h=[],i,j,k,l,m,n,o,p,q,r;if(bd.test(g+K.event.triggered))return;g.indexOf("!")>=0&&(g=g.slice(0,-1),j=!0),g.indexOf(".")>=0&&(h=g.split("."),g=h.shift(),h.sort());if((!e||K.event.customEvent[g])&&!K.event.global[g])return;c=typeof c=="object"?c[K.expando]?c:new K.Event(g,c):new K.Event(g),c.type=g,c.isTrigger=!0,c.exclusive=j,c.namespace=h.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,n=g.indexOf(":")<0?"on"+g:"";if(!e){i=K.cache;for(k in i)i[k].events&&i[k].events[g]&&K.event.trigger(c,d,i[k].handle.elem,!0);return}c.result=b,c.target||(c.target=e),d=d!=null?K.makeArray(d):[],d.unshift(c),o=K.event.special[g]||{};if(o.trigger&&o.trigger.apply(e,d)===!1)return;q=[[e,o.bindType||g]];if(!f&&!o.noBubble&&!K.isWindow(e)){r=o.delegateType||g,l=bd.test(r+g)?e:e.parentNode,m=null;for(;l;l=l.parentNode)q.push([l,r]),m=l;m&&m===e.ownerDocument&&q.push([m.defaultView||m.parentWindow||a,r])}for(k=0;k<q.length&&!c.isPropagationStopped();k++)l=q[k][0],c.type=q[k][1],p=(K._data(l,"events")||{})[c.type]&&K._data(l,"handle"),p&&p.apply(l,d),p=n&&l[n],p&&K.acceptData(l)&&p.apply(l,d)===!1&&c.preventDefault();return c.type=g,!f&&!c.isDefaultPrevented()&&(!o._default||o._default.apply(e.ownerDocument,d)===!1)&&(g!=="click"||!K.nodeName(e,"a"))&&K.acceptData(e)&&n&&e[g]&&(g!=="focus"&&g!=="blur"||c.target.offsetWidth!==0)&&!K.isWindow(e)&&(m=e[n],m&&(e[n]=null),K.event.triggered=g,e[g](),K.event.triggered=b,m&&(e[n]=m)),c.result}},dispatch:function(c){c=K.event.fix(c||a.event);var d=(K._data(this,"events")||{})[c.type]||[],e=d.delegateCount,f=[].slice.call(arguments,0),g=!c.exclusive&&!c.namespace,h=[],i,j,k,l,m,n,o,p,q,r,s;f[0]=c,c.delegateTarget=this;if(e&&!c.target.disabled&&(!c.button||c.type!=="click")){l=K(this),l.context=this.ownerDocument||this;for(k=c.target;k!=this;k=k.parentNode||this){n={},p=[],l[0]=k;for(i=0;i<e;i++)q=d[i],r=q.selector,n[r]===b&&(n[r]=q.quick?bg(k,q.quick):l.is(r)),n[r]&&p.push(q);p.length&&h.push({elem:k,matches:p})}}d.length>e&&h.push({elem:this,matches:d.slice(e)});for(i=0;i<h.length&&!c.isPropagationStopped();i++){o=h[i],c.currentTarget=o.elem;for(j=0;j<o.matches.length&&!c.isImmediatePropagationStopped();j++){q=o.matches[j];if(g||!c.namespace&&!q.namespace||c.namespace_re&&c.namespace_re.test(q.namespace))c.data=q.data,c.handleObj=q,m=((K.event.special[q.origType]||{}).handle||q.handler).apply(o.elem,f),m!==b&&(c.result=m,m===!1&&(c.preventDefault(),c.stopPropagation()))}}return c.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return a.which==null&&(a.which=b.charCode!=null?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,c){var d,e,f,g=c.button,h=c.fromElement;return a.pageX==null&&c.clientX!=null&&(d=a.target.ownerDocument||H,e=d.documentElement,f=d.body,a.pageX=c.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),a.pageY=c.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)),!a.relatedTarget&&h&&(a.relatedTarget=h===a.target?c.toElement:h),!a.which&&g!==b&&(a.which=g&1?1:g&2?3:g&4?2:0),a}},fix:function(a){if(a[K.expando])return a;var c,d,e=a,f=K.event.fixHooks[a.type]||{},g=f.props?this.props.concat(f.props):this.props;a=K.Event(e);for(c=g.length;c;)d=g[--c],a[d]=e[d];return a.target||(a.target=e.srcElement||H),a.target.nodeType===3&&(a.target=a.target.parentNode),a.metaKey===b&&(a.metaKey=a.ctrlKey),f.filter?f.filter(a,e):a},special:{ready:{setup:K.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){K.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){var e=K.extend(new K.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?K.event.trigger(e,null,b):K.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},K.event.handle=K.event.dispatch,K.removeEvent=H.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent("on"+b,c)},K.Event=function(a,b){if(!(this instanceof K.Event))return new K.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?B:C):this.type=a,b&&K.extend(this,b),this.timeStamp=a&&a.timeStamp||K.now(),this[K.expando]=!0},K.Event.prototype={preventDefault:function(){this.isDefaultPrevented=B;var a=this.originalEvent;!a||(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=B;var a=this.originalEvent;!a||(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=B,this.stopPropagation()},isDefaultPrevented:C,isPropagationStopped:C,isImmediatePropagationStopped:C},K.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){K.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c=this,d=a.relatedTarget,e=a.handleObj,f=e.selector,g;if(!d||d!==c&&!K.contains(c,d))a.type=e.origType,g=e.handler.apply(this,arguments),a.type=b;return g}}}),K.support.submitBubbles||(K.event.special.submit={setup:function(){if(K.nodeName(this,"form"))return!1;K.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=K.nodeName(c,"input")||K.nodeName(c,"button")?c.form:b;d&&!d._submit_attached&&(K.event.add(d,"submit._submit",function(a){this.parentNode&&!a.isTrigger&&K.event.simulate("submit",this.parentNode,a,!0)}),d._submit_attached=!0)})},teardown:function(){if(K.nodeName(this,"form"))return!1;K.event.remove(this,"._submit")}}),K.support.changeBubbles||(K.event.special.change={setup:function(){if($.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")K.event.add(this,"propertychange._change",function(a){a.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),K.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1,K.event.simulate("change",this,a,!0))});return!1}K.event.add(this,"beforeactivate._change",function(a){var b=a.target;$.test(b.nodeName)&&!b._change_attached&&(K.event.add(b,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&K.event.simulate("change",this.parentNode,a,!0)}),b._change_attached=!0)})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||b.type!=="radio"&&b.type!=="checkbox")return a.handleObj.handler.apply(this,arguments)},teardown:function(){return K.event.remove(this,"._change"),$.test(this.nodeName)}}),K.support.focusinBubbles||K.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){K.event.simulate(b,a.target,K.event.fix(a),!0)};K.event.special[b]={setup:function(){c++===0&&H.addEventListener(a,d,!0)},teardown:function(){--c===0&&H.removeEventListener(a,d,!0)}}}),K.fn.extend({on:function(a,c,d,e,f){var g,h;if(typeof a=="object"){typeof c!="string"&&(d=c,c=b);for(h in a)this.on(h,c,d,a[h],f);return this}d==null&&e==null?(e=c,d=c=b):e==null&&(typeof c=="string"?(e=d,d=b):(e=d,d=c,c=b));if(e===!1)e=C;else if(!e)return this;return f===1&&(g=e,e=function(a){return K().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=K.guid++)),this.each(function(){K.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on.call(this,a,b,c,d,1)},off:function(a,c,d){if(a&&a.preventDefault&&a.handleObj){var e=a.handleObj;return K(a.delegateTarget).off(e.namespace?e.type+"."+e.namespace:e.type,e.selector,e.handler),this}if(typeof a=="object"){for(var f in a)this.off(f,c,a[f]);return this}if(c===!1||typeof c=="function")d=c,c=b;return d===!1&&(d=C),this.each(function(){K.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){return K(this.context).on(a,this.selector,b,c),this},die:function(a,b){return K(this.context).off(a,this.selector||"**",b),this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return arguments.length==1?this.off(a,"**"):this.off(b,a,c)},trigger:function(a,b){return this.each(function(){K.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return K.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=a.guid||K.guid++,d=0,e=function(c){var e=(K._data(this,"lastToggle"+a.guid)||0)%d;return K._data(this,"lastToggle"+a.guid,e+1),c.preventDefault(),b[e].apply(this,arguments)||!1};e.guid=c;while(d<b.length)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),K.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){K.fn[b]=function(a,c){return c==null&&(c=a,a=null),arguments.length>0?this.on(b,null,a,c):this.trigger(b)},K.attrFn&&(K.attrFn[b]=!0),bb.test(b)&&(K.event.fixHooks[b]=K.event.keyHooks),bc.test(b)&&(K.event.fixHooks[b]=K.event.mouseHooks)}),function(){function a(a,b,c,d,f,g){for(var h=0,i=d.length;h<i;h++){var j=d[h];if(j){var k=!1;j=j[a];while(j){if(j[e]===c){k=d[j.sizset];break}if(j.nodeType===1){g||(j[e]=c,j.sizset=h);if(typeof b!="string"){if(j===b){k=!0;break}}else if(m.filter(b,[j]).length>0){k=j;break}}j=j[a]}d[h]=k}}}function c(a,b,c,d,f,g){for(var h=0,i=d.length;h<i;h++){var j=d[h];if(j){var k=!1;j=j[a];while(j){if(j[e]===c){k=d[j.sizset];break}j.nodeType===1&&!g&&(j[e]=c,j.sizset=h);if(j.nodeName.toLowerCase()===b){k=j;break}j=j[a]}d[h]=k}}}var d=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,e="sizcache"+(Math.random()+"").replace(".",""),f=0,g=Object.prototype.toString,h=!1,i=!0,j=/\\/g,k=/\r\n/g,l=/\W/;[0,0].sort(function(){return i=!1,0});var m=function(a,b,c,e){c=c||[],b=b||H;var f=b;if(b.nodeType!==1&&b.nodeType!==9)return[];if(!a||typeof a!="string")return c;var h,i,j,k,l,n,q,r,t=!0,u=m.isXML(b),v=[],x=a;do{d.exec(""),h=d.exec(x);if(h){x=h[3],v.push(h[1]);if(h[2]){k=h[3];break}}}while(h);if(v.length>1&&p.exec(a))if(v.length===2&&o.relative[v[0]])i=w(v[0]+v[1],b,e);else{i=o.relative[v[0]]?[b]:m(v.shift(),b);while(v.length)a=v.shift(),o.relative[a]&&(a+=v.shift()),i=w(a,i,e)}else{!e&&v.length>1&&b.nodeType===9&&!u&&o.match.ID.test(v[0])&&!o.match.ID.test(v[v.length-1])&&(l=m.find(v.shift(),b,u),b=l.expr?m.filter(l.expr,l.set)[0]:l.set[0]);if(b){l=e?{expr:v.pop(),set:s(e)}:m.find(v.pop(),v.length!==1||v[0]!=="~"&&v[0]!=="+"||!b.parentNode?b:b.parentNode,u),i=l.expr?m.filter(l.expr,l.set):l.set,v.length>0?j=s(i):t=!1;while(v.length)n=v.pop(),q=n,o.relative[n]?q=v.pop():n="",q==null&&(q=b),o.relative[n](j,q,u)}else j=v=[]}j||(j=i),j||m.error(n||a);if(g.call(j)==="[object Array]")if(!t)c.push.apply(c,j);else if(b&&b.nodeType===1)for(r=0;j[r]!=null;r++)j[r]&&(j[r]===!0||j[r].nodeType===1&&m.contains(b,j[r]))&&c.push(i[r]);else for(r=0;j[r]!=null;r++)j[r]&&j[r].nodeType===1&&c.push(i[r]);else s(j,c);return k&&(m(k,f,c,e),m.uniqueSort(c)),c};m.uniqueSort=function(a){if(u){h=i,a.sort(u);if(h)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a},m.matches=function(a,b){return m(a,null,null,b)},m.matchesSelector=function(a,b){return m(b,null,null,[a]).length>0},m.find=function(a,b,c){var d,e,f,g,h,i;if(!a)return[];for(e=0,f=o.order.length;e<f;e++){h=o.order[e];if(g=o.leftMatch[h].exec(a)){i=g[1],g.splice(1,1);if(i.substr(i.length-1)!=="\\"){g[1]=(g[1]||"").replace(j,""),d=o.find[h](g,b,c);if(d!=null){a=a.replace(o.match[h],"");break}}}}return d||(d=typeof b.getElementsByTagName!="undefined"?b.getElementsByTagName("*"):[]),{set:d,expr:a}},m.filter=function(a,c,d,e){var f,g,h,i,j,k,l,n,p,q=a,r=[],s=c,t=c&&c[0]&&m.isXML(c[0]);while(a&&c.length){for(h in o.filter)if((f=o.leftMatch[h].exec(a))!=null&&f[2]){k=o.filter[h],l=f[1],g=!1,f.splice(1,1);if(l.substr(l.length-1)==="\\")continue;s===r&&(r=[]);if(o.preFilter[h]){f=o.preFilter[h](f,s,d,r,e,t);if(!f)g=i=!0;else if(f===!0)continue}if(f)for(n=0;(j=s[n])!=null;n++)j&&(i=k(j,f,n,s),p=e^i,d&&i!=null?p?g=!0:s[n]=!1:p&&(r.push(j),g=!0));if(i!==b){d||(s=r),a=a.replace(o.match[h],"");if(!g)return[];break}}if(a===q){if(g!=null)break;m.error(a)}q=a}return s},m.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)};var n=m.getText=function(a){var b,c,d=a.nodeType,e="";if(d){if(d===1||d===9){if(typeof a.textContent=="string")return a.textContent;if(typeof a.innerText=="string")return a.innerText.replace(k,"");for(a=a.firstChild;a;a=a.nextSibling)e+=n(a)}else if(d===3||d===4)return a.nodeValue}else for(b=0;c=a[b];b++)c.nodeType!==8&&(e+=n(c));return e},o=m.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var c=typeof b=="string",d=c&&!l.test(b),e=c&&!d;d&&(b=b.toLowerCase());for(var f=0,g=a.length,h;f<g;f++)if(h=a[f]){while((h=h.previousSibling)&&h.nodeType!==1);a[f]=e||h&&h.nodeName.toLowerCase()===b?h||!1:h===b}e&&m.filter(b,a,!0)},">":function(a,b){var c,d=typeof b=="string",e=0,f=a.length;if(d&&!l.test(b)){b=b.toLowerCase();for(;e<f;e++){c=a[e];if(c){var g=c.parentNode;a[e]=g.nodeName.toLowerCase()===b?g:!1}}}else{for(;e<f;e++)c=a[e],c&&(a[e]=d?c.parentNode:c.parentNode===b);d&&m.filter(b,a,!0)}},"":function(b,d,e){var g,h=f++,i=a;typeof d=="string"&&!l.test(d)&&(d=d.toLowerCase(),g=d,i=c),i("parentNode",d,h,b,g,e)},"~":function(b,d,e){var g,h=f++,i=a;typeof d=="string"&&!l.test(d)&&(d=d.toLowerCase(),g=d,i=c),i("previousSibling",d,h,b,g,e)}},find:{ID:function(a,b,c){if(typeof b.getElementById!="undefined"&&!c){var d=b.getElementById(a[1]);return d&&d.parentNode?[d]:[]}},NAME:function(a,b){if(typeof b.getElementsByName!="undefined"){var c=[],d=b.getElementsByName(a[1]);for(var e=0,f=d.length;e<f;e++)d[e].getAttribute("name")===a[1]&&c.push(d[e]);return c.length===0?null:c}},TAG:function(a,b){if(typeof b.getElementsByTagName!="undefined")return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,c,d,e,f){a=" "+a[1].replace(j,"")+" ";if(f)return a;for(var g=0,h;(h=b[g])!=null;g++)h&&(e^(h.className&&(" "+h.className+" ").replace(/[\t\n\r]/g," ").indexOf(a)>=0)?c||d.push(h):c&&(b[g]=!1));return!1},ID:function(a){return a[1].replace(j,"")},TAG:function(a,b){return a[1].replace(j,"").toLowerCase()},CHILD:function(a){if(a[1]==="nth"){a[2]||m.error(a[0]),a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0,a[3]=b[3]-0}else a[2]&&m.error(a[0]);return a[0]=f++,a},ATTR:function(a,b,c,d,e,f){var g=a[1]=a[1].replace(j,"");return!f&&o.attrMap[g]&&(a[1]=o.attrMap[g]),a[4]=(a[4]||a[5]||"").replace(j,""),a[2]==="~="&&(a[4]=" "+a[4]+" "),a},PSEUDO:function(a,b,c,e,f){if(a[1]==="not"){if(!((d.exec(a[3])||"").length>1||/^\w/.test(a[3]))){var g=m.filter(a[3],b,c,!0^f);return c||e.push.apply(e,g),!1}a[3]=m(a[3],null,null,b)}else if(o.match.POS.test(a[0])||o.match.CHILD.test(a[0]))return!0;return a},POS:function(a){return a.unshift(!0),a}},filters:{enabled:function(a){return a.disabled===!1&&a.type!=="hidden"},disabled:function(a){return a.disabled===!0},checked:function(a){return a.checked===!0},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!m(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),c=a.type;return a.nodeName.toLowerCase()==="input"&&"text"===c&&(b===c||b===null)},radio:function(a){return a.nodeName.toLowerCase()==="input"&&"radio"===a.type},checkbox:function(a){return a.nodeName.toLowerCase()==="input"&&"checkbox"===a.type},file:function(a){return a.nodeName.toLowerCase()==="input"&&"file"===a.type},password:function(a){return a.nodeName.toLowerCase()==="input"&&"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"submit"===a.type},image:function(a){return a.nodeName.toLowerCase()==="input"&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&"button"===a.type||b==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return b===0},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=o.filters[e];if(f)return f(a,c,b,d);if(e==="contains")return(a.textContent||a.innerText||n([a])||"").indexOf(b[3])>=0;if(e==="not"){var g=b[3];for(var h=0,i=g.length;h<i;h++)if(g[h]===a)return!1;return!0}m.error(e)},CHILD:function(a,b){var c,d,f,g,h,i,j,k=b[1],l=a;switch(k){case"only":case"first":while(l=l.previousSibling)if(l.nodeType===1)return!1;if(k==="first")return!0;l=a;case"last":while(l=l.nextSibling)if(l.nodeType===1)return!1;return!0;case"nth":c=b[2],d=b[3];if(c===1&&d===0)return!0;f=b[0],g=a.parentNode;if(g&&(g[e]!==f||!a.nodeIndex)){i=0;for(l=g.firstChild;l;l=l.nextSibling)l.nodeType===1&&(l.nodeIndex=++i);g[e]=f}return j=a.nodeIndex-d,c===0?j===0:j%c===0&&j/c>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||!!a.nodeName&&a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1],d=m.attr?m.attr(a,c):o.attrHandle[c]?o.attrHandle[c](a):a[c]!=null?a[c]:a.getAttribute(c),e=d+"",f=b[2],g=b[4];return d==null?f==="!=":!f&&m.attr?d!=null:f==="="?e===g:f==="*="?e.indexOf(g)>=0:f==="~="?(" "+e+" ").indexOf(g)>=0:g?f==="!="?e!==g:f==="^="?e.indexOf(g)===0:f==="$="?e.substr(e.length-g.length)===g:f==="|="?e===g||e.substr(0,g.length+1)===g+"-":!1:e&&d!==!1},POS:function(a,b,c,d){var e=b[2],f=o.setFilters[e];if(f)return f(a,c,b,d)}}},p=o.match.POS,q=function(a,b){return"\\"+(b-0+1)};for(var r in o.match)o.match[r]=new RegExp(o.match[r].source+/(?![^\[]*\])(?![^\(]*\))/.source),o.leftMatch[r]=new RegExp(/(^(?:.|\r|\n)*?)/.source+o.match[r].source.replace(/\\(\d+)/g,q));var s=function(a,b){return a=Array.prototype.slice.call(a,0),b?(b.push.apply(b,a),b):a};try{Array.prototype.slice.call(H.documentElement.childNodes,0)[0].nodeType}catch(t){s=function(a,b){var c=0,d=b||[];if(g.call(a)==="[object Array]")Array.prototype.push.apply(d,a);else if(typeof a.length=="number")for(var e=a.length;c<e;c++)d.push(a[c]);else for(;a[c];c++)d.push(a[c]);return d}}var u,v;H.documentElement.compareDocumentPosition?u=function(a,b){return a===b?(h=!0,0):!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1}:(u=function(a,b){if(a===b)return h=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[],g=a.parentNode,i=b.parentNode,j=g;if(g===i)return v(a,b);if(!g)return-1;if(!i)return 1;while(j)e.unshift(j),j=j.parentNode;j=i;while(j)f.unshift(j),j=j.parentNode;c=e.length,d=f.length;for(var k=0;k<c&&k<d;k++)if(e[k]!==f[k])return v(e[k],f[k]);return k===c?v(a,f[k],-1):v(e[k],b,1)},v=function(a,b,c){if(a===b)return c;var d=a.nextSibling;while(d){if(d===b)return-1;d=d.nextSibling}return 1}),function(){var a=H.createElement("div"),c="script"+(new Date).getTime(),d=H.documentElement;a.innerHTML="<a name='"+c+"'/>",d.insertBefore(a,d.firstChild),H.getElementById(c)&&(o.find.ID=function(a,c,d){if(typeof c.getElementById!="undefined"&&!d){var e=c.getElementById(a[1]);return e?e.id===a[1]||typeof e.getAttributeNode!="undefined"&&e.getAttributeNode("id").nodeValue===a[1]?[e]:b:[]}},o.filter.ID=function(a,b){var c=typeof a.getAttributeNode!="undefined"&&a.getAttributeNode("id");return a.nodeType===1&&c&&c.nodeValue===b}),d.removeChild(a),d=a=null}(),function(){var a=H.createElement("div");a.appendChild(H.createComment("")),a.getElementsByTagName("*").length>0&&(o.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if(a[1]==="*"){var d=[];for(var e=0;c[e];e++)c[e].nodeType===1&&d.push(c[e]);c=d}return c}),a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!="undefined"&&a.firstChild.getAttribute("href")!=="#"&&(o.attrHandle.href=function(a){return a.getAttribute("href",2)}),a=null}(),H.querySelectorAll&&function(){var a=m,b=H.createElement("div"),c="__sizzle__";b.innerHTML="<p class='TEST'></p>";if(!b.querySelectorAll||b.querySelectorAll(".TEST").length!==0){m=function(b,d,e,f){d=d||H;if(!f&&!m.isXML(d)){var g=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(g&&(d.nodeType===1||d.nodeType===9)){if(g[1])return s(d.getElementsByTagName(b),e);if(g[2]&&o.find.CLASS&&d.getElementsByClassName)return s(d.getElementsByClassName(g[2]),e)}if(d.nodeType===9){if(b==="body"&&d.body)return s([d.body],e);if(g&&g[3]){var h=d.getElementById(g[3]);if(!h||!h.parentNode)return s([],e);if(h.id===g[3])return s([h],e)}try{return s(d.querySelectorAll(b),e)}catch(i){}}else if(d.nodeType===1&&d.nodeName.toLowerCase()!=="object"){var j=d,k=d.getAttribute("id"),l=k||c,n=d.parentNode,p=/^\s*[+~]/.test(b);k?l=l.replace(/'/g,"\\$&"):d.setAttribute("id",l),p&&n&&(d=d.parentNode);try{if(!p||n)return s(d.querySelectorAll("[id='"+l+"'] "+b),e)}catch(q){}finally{k||j.removeAttribute("id")}}}return a(b,d,e,f)};for(var d in a)m[d]=a[d];b=null}}(),function(){var a=H.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var c=!b.call(H.createElement("div"),"div"),d=!1;try{b.call(H.documentElement,"[test!='']:sizzle")}catch(e){d=!0}m.matchesSelector=function(a,e){e=e.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!m.isXML(a))try{if(d||!o.match.PSEUDO.test(e)&&!/!=/.test(e)){var f=b.call(a,e);if(f||!c||a.document&&a.document.nodeType!==11)return f}}catch(g){}return m(e,null,null,[a]).length>0}}}(),function(){var a=H.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";if(!!a.getElementsByClassName&&a.getElementsByClassName("e").length!==0){a.lastChild.className="e";if(a.getElementsByClassName("e").length===1)return;o.order.splice(1,0,"CLASS"),o.find.CLASS=function(a,b,c){if(typeof b.getElementsByClassName!="undefined"&&!c)return b.getElementsByClassName(a[1])},a=null}}(),H.documentElement.contains?m.contains=function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:H.documentElement.compareDocumentPosition?m.contains=function(a,b){return!!(a.compareDocumentPosition(b)&16)}:m.contains=function(){return!1},m.isXML=function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?b.nodeName!=="HTML":!1};var w=function(a,b,c){var d,e=[],f="",g=b.nodeType?[b]:b;while(d=o.match.PSEUDO.exec(a))f+=d[0],a=a.replace(o.match.PSEUDO,"");a=o.relative[a]?a+"*":a;for(var h=0,i=g.length;h<i;h++)m(a,g[h],e,c);return m.filter(f,e)};m.attr=K.attr,m.selectors.attrMap={},K.find=m,K.expr=m.selectors,K.expr[":"]=K.expr.filters,K.unique=m.uniqueSort,K.text=m.getText,K.isXMLDoc=m.isXML,K.contains=m.contains}();var bi=/Until$/,bj=/^(?:parents|prevUntil|prevAll)/,bk=/,/,bl=/^.[^:#\[\.,]*$/,bm=Array.prototype.slice,bn=K.expr.match.POS,bo={children:!0,contents:!0,next:!0,prev:!0};K.fn.extend({find:function(a){var b=this,c,d;if(typeof a!="string")return K(a).filter(function(){for(c=0,d=b.length;c<d;c++)if(K.contains(b[c],this))return!0});var e=this.pushStack("","find",a),f,g,h;for(c=0,d=this.length;c<d;c++){f=e.length,K.find(a,this[c],e);if(c>0)for(g=f;g<e.length;g++)for(h=0;h<f;h++)if(e[h]===e[g]){e.splice(g--,1);break}}return e},has:function(a){var b=K(a);return this.filter(function(){for(var a=0,c=b.length;a<c;a++)if(K.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(z(this,a,!1),"not",a)},filter:function(a){return this.pushStack(z(this,a,!0),"filter",a)},is:function(a){return!!a&&(typeof a=="string"?bn.test(a)?K(a,this.context).index(this[0])>=0:K.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var c=[],d,e,f=this[0];if(K.isArray(a)){var g=1;while(f&&f.ownerDocument&&f!==b){for(d=0;d<a.length;d++)K(f).is(a[d])&&c.push({selector:a[d],elem:f,level:g});f=f.parentNode,g++}return c}var h=bn.test(a)||typeof a!="string"?K(a,b||this.context):0;for(d=0,e=this.length;d<e;d++){f=this[d];while(f){if(h?h.index(f)>-1:K.find.matchesSelector(f,a)){c.push(f);break}f=f.parentNode;if(!f||!f.ownerDocument||f===b||f.nodeType===11)break}}return c=c.length>1?K.unique(c):c,this.pushStack(c,"closest",a)},index:function(a){return a?typeof a=="string"?K.inArray(this[0],K(a)):K.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(a,b){var c=typeof a=="string"?K(a,b):K.makeArray(a&&a.nodeType?[a]:a),d=K.merge(this.get(),c);return this.pushStack(A(c[0])||A(d[0])?d:K.unique(d))},andSelf:function(){return this.add(this.prevObject)}}),K.each({parent:function(a){var b=a.parentNode;return b&&b.nodeType!==11?b:null},parents:function(a){return K.dir(a,"parentNode")},parentsUntil:function(a,b,c){return K.dir(a,"parentNode",c)},next:function(a){return K.nth(a,2,"nextSibling")},prev:function(a){return K.nth(a,2,"previousSibling")},nextAll:function(a){return K.dir(a,"nextSibling")},prevAll:function(a){return K.dir(a,"previousSibling")},nextUntil:function(a,b,c){return K.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return K.dir(a,"previousSibling",c)},siblings:function(a){return K.sibling(a.parentNode.firstChild,a)},children:function(a){return K.sibling(a.firstChild)},contents:function(a){return K.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:K.makeArray(a.childNodes)}},function(a,b){K.fn[a]=function(c,d){var e=K.map(this,b,c);return bi.test(a)||(d=c),d&&typeof d=="string"&&(e=K.filter(d,e)),e=this.length>1&&!bo[a]?K.unique(e):e,(this.length>1||bk.test(d))&&bj.test(a)&&(e=e.reverse()),this.pushStack(e,a,bm.call(arguments).join(","))}}),K.extend({filter:function(a,b,c){return c&&(a=":not("+a+")"),b.length===1?K.find.matchesSelector(b[0],a)?[b[0]]:[]:K.find.matches(a,b)},dir:function(a,c,d){var e=[],f=a[c];while(f&&f.nodeType!==9&&(d===b||f.nodeType!==1||!K(f).is(d)))f.nodeType===1&&e.push(f),f=f[c];return e},nth:function(a,b,c,d){b=b||1;var e=0;for(;a;a=a[c])if(a.nodeType===1&&++e===b)break;return a},sibling:function(a,b){var c=[];for(;a;a=a.nextSibling)a.nodeType===1&&a!==b&&c.push(a);return c}});var bp="abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",bq=/ jQuery\d+="(?:\d+|null)"/g,br=/^\s+/,bs=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,bt=/<([\w:]+)/,bu=/<tbody/i,bv=/<|&#?\w+;/,bw=/<(?:script|style)/i,bx=/<(?:script|object|embed|option|style)/i,by=new RegExp("<(?:"+bp+")","i"),bz=/checked\s*(?:[^=]|=\s*.checked.)/i,bA=/\/(java|ecma)script/i,bB=/^\s*<!(?:\[CDATA\[|\-\-)/,bC={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},bD=y(H);bC.optgroup=bC.option,bC.tbody=bC.tfoot=bC.colgroup=bC.caption=bC.thead,bC.th=bC.td,K.support.htmlSerialize||(bC._default=[1,"div<div>","</div>"]),K.fn.extend({text:function(a){return K.isFunction(a)?this.each(function(b){var c=K(this);c.text(a.call(this,b,c.text()))}):typeof a!="object"&&a!==b?this.empty().append((this[0]&&this[0].ownerDocument||H).createTextNode(a)):K.text(this)},wrapAll:function(a){if(K.isFunction(a))return this.each(function(b){K(this).wrapAll(a.call(this,b))});if(this[0]){var b=K(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&a.firstChild.nodeType===1)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return K.isFunction(a)?this.each(function(b){K(this).wrapInner(a.call(this,b))}):this.each(function(){var b=K(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=K.isFunction(a);return this.each(function(c){K(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){K.nodeName(this,"body")||K(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=K.clean(arguments);return a.push.apply(a,this.toArray()),this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);return a.push.apply(a,K.clean(arguments)),a}},remove:function(a,b){for(var c=0,d;(d=this[c])!=null;c++)if(!a||K.filter(a,[d]).length)!b&&d.nodeType===1&&(K.cleanData(d.getElementsByTagName("*")),K.cleanData([d])),d.parentNode&&d.parentNode.removeChild(d);return this},empty:function(){for(var a=0,b;(b=this[a])!=null;a++){b.nodeType===1&&K.cleanData(b.getElementsByTagName("*"));while(b.firstChild)b.removeChild(b.firstChild)}return this},clone:function(a,b){return a=a==null?!1:a,b=b==null?a:b,this.map(function(){return K.clone(this,a,b)})},html:function(a){if(a===b)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(bq,""):null;if(typeof a=="string"&&!bw.test(a)&&(K.support.leadingWhitespace||!br.test(a))&&!bC[(bt.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(bs,"<$1></$2>");try{for(var c=0,d=this.length;c<d;c++)this[c].nodeType===1&&(K.cleanData(this[c].getElementsByTagName("*")),this[c].innerHTML=a)}catch(e){this.empty().append(a)}}else K.isFunction(a)?this.each(function(b){var c=K(this);c.html(a.call(this,b,c.html()))}):this.empty().append(a);return this},replaceWith:function(a){return this[0]&&this[0].parentNode?K.isFunction(a)?this.each(function(b){var c=K(this),d=c.html();c.replaceWith(a.call(this,b,d))}):(typeof a!="string"&&(a=K(a).detach()),this.each(function(){var b=this.nextSibling,c=this.parentNode;K(this).remove(),b?K(b).before(a):K(c).append(a)})):this.length?this.pushStack(K(K.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){var e,f,g,h,i=a[0],j=[];if(!K.support.checkClone&&arguments.length===3&&typeof i=="string"&&bz.test(i))return this.each(function(){K(this).domManip(a,c,d,!0)});if(K.isFunction(i))return this.each(function(e){var f=K(this);a[0]=i.call(this,e,c?f.html():b),f.domManip(a,c,d)});if(this[0]){h=i&&i.parentNode,K.support.parentNode&&h&&h.nodeType===11&&h.childNodes.length===this.length?e={fragment:h}:e=K.buildFragment(a,this,j),g=e.fragment,g.childNodes.length===1?f=g=g.firstChild:f=g.firstChild;if(f){c=c&&K.nodeName(f,"tr");for(var k=0,l=this.length,m=l-1;k<l;k++)d.call(c?x(this[k],f):this[k],e.cacheable||l>1&&k<m?K.clone(g,!0,!0):g)}j.length&&K.each(j,q)}return this}}),K.buildFragment=function(a,b,c){var d,e,f,g,h=a[0];return b&&b[0]&&(g=b[0].ownerDocument||b[0]),g.createDocumentFragment||(g=H),a.length===1&&typeof h=="string"&&h.length<512&&g===H&&h.charAt(0)==="<"&&!bx.test(h)&&(K.support.checkClone||!bz.test(h))&&(K.support.html5Clone||!by.test(h))&&(e=!0,f=K.fragments[h],f&&f!==1&&(d=f)),d||(d=g.createDocumentFragment(),K.clean(a,g,d,c)),e&&(K.fragments[h]=f?d:1),{fragment:d,cacheable:e}},K.fragments={},K.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){K.fn[a]=function(c){var d=[],e=K(c),f=this.length===1&&this[0].parentNode;if(f&&f.nodeType===11&&f.childNodes.length===1&&e.length===1)return e[b](this[0]),this;for(var g=0,h=e.length;g<h;g++){var i=(g>0?this.clone(!0):this).get();K(e[g])[b](i),d=d.concat(i)}return this.pushStack(d,a,e.selector)}}),K.extend({clone:function(a,b,c){var d,e,f,g=K.support.html5Clone||!by.test("<"+a.nodeName)?a.cloneNode(!0):r(a);if((!K.support.noCloneEvent||!K.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!K.isXMLDoc(a)){v(a,g),d=u(a),e=u(g);for(f=0;d[f];++f)e[f]&&v(d[f],e[f])}if(b){w(a,g);if(c){d=u(a),e=u(g);for(f=0;d[f];++f)w(d[f],e[f])}}return d=e=null,g},clean:function(a,b,c,d){var e;b=b||H,typeof b.createElement=="undefined"&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||H);var f=[],g;for(var h=0,i;(i=a[h])!=null;h++){typeof i=="number"&&(i+="");if(!i)continue;if(typeof i=="string")if(!bv.test(i))i=b.createTextNode(i);else{i=i.replace(bs,"<$1></$2>");var j=(bt.exec(i)||["",""])[1].toLowerCase(),k=bC[j]||bC._default,l=k[0],m=b.createElement("div");b===H?bD.appendChild(m):y(b).appendChild(m),m.innerHTML=k[1]+i+k[2];while(l--)m=m.lastChild;if(!K.support.tbody){var n=bu.test(i),o=j==="table"&&!n?m.firstChild&&m.firstChild.childNodes:k[1]==="<table>"&&!n?m.childNodes:[];for(g=o.length-1;g>=0;--g)K.nodeName(o[g],"tbody")&&!o[g].childNodes.length&&o[g].parentNode.removeChild(o[g])}!K.support.leadingWhitespace&&br.test(i)&&m.insertBefore(b.createTextNode(br.exec(i)[0]),m.firstChild),i=m.childNodes}var p;if(!K.support.appendChecked)if(i[0]&&typeof (p=i.length)=="number")for(g=0;g<p;g++)s(i[g]);else s(i);i.nodeType?f.push(i):f=K.merge(f,i)}if(c){e=function(a){return!a.type||bA.test(a.type)};for(h=0;f[h];h++)if(d&&K.nodeName(f[h],"script")&&(!f[h].type||f[h].type.toLowerCase()==="text/javascript"))d.push(f[h].parentNode?f[h].parentNode.removeChild(f[h]):f[h]);else{if(f[h].nodeType===1){var q=K.grep(f[h].getElementsByTagName("script"),e);f.splice.apply(f,[h+1,0].concat(q))}c.appendChild(f[h])}}return f},cleanData:function(a){var b,c,d=K.cache,e=K.event.special,f=K.support.deleteExpando;for(var g=0,h;(h=a[g])!=null;g++){if(h.nodeName&&K.noData[h.nodeName.toLowerCase()])continue;c=h[K.expando];if(c){b=d[c];if(b&&b.events){for(var i in b.events)e[i]?K.event.remove(h,i):K.removeEvent(h,i,b.handle);b.handle&&(b.handle.elem=null)}f?delete h[K.expando]:h.removeAttribute&&h.removeAttribute(K.expando),delete d[c]}}}});var bE=/alpha\([^)]*\)/i,bF=/opacity=([^)]*)/,bG=/([A-Z]|^ms)/g,bH=/^-?\d+(?:px)?$/i,bI=/^-?\d/,bJ=/^([\-+])=([\-+.\de]+)/,bK={position:"absolute",visibility:"hidden",display:"block"},bL=["Left","Right"],bM=["Top","Bottom"],bN,bO,bP;K.fn.css=function(a,c){return arguments.length===2&&c===b?this:K.access(this,a,c,!0,function(a,c,d){return d!==b?K.style(a,c,d):K.css(a,c)})},K.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=bN(a,"opacity","opacity");return c===""?"1":c}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":K.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(!!a&&a.nodeType!==3&&a.nodeType!==8&&!!a.style){var f,g,h=K.camelCase(c),i=a.style,j=K.cssHooks[h];c=K.cssProps[h]||h;if(d===b)return j&&"get"in j&&(f=j.get(a,!1,e))!==b?f:i[c];g=typeof d,g==="string"&&(f=bJ.exec(d))&&(d=+(f[1]+1)*+f[2]+parseFloat(K.css(a,c)),g="number");if(d==null||g==="number"&&isNaN(d))return;g==="number"&&!K.cssNumber[h]&&(d+="px");if(!j||!("set"in j)||(d=j.set(a,d))!==b)try{i[c]=d}catch(k){}}},css:function(a,c,d){var e,f;c=K.camelCase(c),f=K.cssHooks[c],c=K.cssProps[c]||c,c==="cssFloat"&&(c="float");if(f&&"get"in f&&(e=f.get(a,!0,d))!==b)return e;if(bN)return bN(a,c)},swap:function(a,b,c){var d={};for(var e in b)d[e]=a.style[e],a.style[e]=b[e];c.call(a);for(e in b)a.style[e]=d[e]}}),K.curCSS=K.css,K.each(["height","width"],function(a,b){K.cssHooks[b]={get:function(a,c,d){var e;if(c)return a.offsetWidth!==0?p(a,b,d):(K.swap(a,bK,function(){e=p(a,b,d)}),e)},set:function(a,b){if(!bH.test(b))return b;b=parseFloat(b);if(b>=0)return b+"px"}}}),K.support.opacity||(K.cssHooks.opacity={get:function(a,b){return bF.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=K.isNumeric(b)?"alpha(opacity="+b*100+")":"",f=d&&d.filter||c.filter||"";c.zoom=1;if(b>=1&&K.trim(f.replace(bE,""))===""){c.removeAttribute("filter");if(d&&!d.filter)return}c.filter=bE.test(f)?f.replace(bE,e):f+" "+e}}),K(function(){K.support.reliableMarginRight||(K.cssHooks.marginRight={get:function(a,b){var c;return K.swap(a,{display:"inline-block"},function(){b?c=bN(a,"margin-right","marginRight"):c=a.style.marginRight}),c}})}),H.defaultView&&H.defaultView.getComputedStyle&&(bO=function(a,b){var c,d,e;return b=b.replace(bG,"-$1").toLowerCase(),(d=a.ownerDocument.defaultView)&&(e=d.getComputedStyle(a,null))&&(c=e.getPropertyValue(b),c===""&&!K.contains(a.ownerDocument.documentElement,a)&&(c=K.style(a,b))),c}),H.documentElement.currentStyle&&(bP=function(a,b){var c,d,e,f=a.currentStyle&&a.currentStyle[b],g=a.style;return f===null&&g&&(e=g[b])&&(f=e),!bH.test(f)&&bI.test(f)&&(c=g.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),g.left=b==="fontSize"?"1em":f||0,f=g.pixelLeft+"px",g.left=c,d&&(a.runtimeStyle.left=d)),f===""?"auto":f}),bN=bO||bP,K.expr&&K.expr.filters&&(K.expr.filters.hidden=function(a){var b=a.offsetWidth,c=a.offsetHeight;return b===0&&c===0||!K.support.reliableHiddenOffsets&&(a.style&&a.style.display||K.css(a,"display"))==="none"},K.expr.filters.visible=function(a){return!K.expr.filters.hidden(a)});var bQ=/%20/g,bR=/\[\]$/,bS=/\r?\n/g,bT=/#.*$/,bU=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,bV=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,bW=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,bX=/^(?:GET|HEAD)$/,bY=/^\/\//,bZ=/\?/,b$=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,b_=/^(?:select|textarea)/i,ca=/\s+/,cb=/([?&])_=[^&]*/,cc=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,cd=K.fn.load,ce={},cf={},cg,ch,ci=["*/"]+["*"];try{cg=J.href}catch(cj){cg=H.createElement("a"),cg.href="",cg=cg.href}ch=cc.exec(cg.toLowerCase())||[],K.fn.extend({load:function(a,c,d){if(typeof a!="string"&&cd)return cd.apply(this,arguments);if(!this.length)return this;var e=a.indexOf(" ");if(e>=0){var f=a.slice(e,a.length);a=a.slice(0,e)}var g="GET";c&&(K.isFunction(c)?(d=c,c=b):typeof c=="object"&&(c=K.param(c,K.ajaxSettings.traditional),g="POST"));var h=this;return K.ajax({url:a,type:g,dataType:"html",data:c,complete:function(a,b,c){c=a.responseText,a.isResolved()&&(a.done(function(a){c=a}),h.html(f?K("<div>").append(c.replace(b$,"")).find(f):c)),d&&h.each(d,[c,b,a])}}),this},serialize:function(){return K.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?K.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||b_.test(this.nodeName)||bV.test(this.type))}).map(function(a,b){var c=K(this).val();return c==null?null:K.isArray(c)?K.map(c,function(a,c){return{name:b.name,value:a.replace(bS,"\r\n")}}):{name:b.name,value:c.replace(bS,"\r\n")}}).get()}}),K.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){K.fn[b]=function(a){return this.on(b,a)}}),K.each(["get","post"],function(a,c){K[c]=function(a,d,e,f){return K.isFunction(d)&&(f=f||e,e=d,d=b),K.ajax({type:c,url:a,data:d,success:e,dataType:f})}}),K.extend({getScript:function(a,c){return K.get(a,b,c,"script")},getJSON:function(a,b,c){return K.get(a,b,c,"json")},ajaxSetup:function(a,b){return b?m(a,K.ajaxSettings):(b=a,a=K.ajaxSettings),m(a,b),a},ajaxSettings:{url:cg,isLocal:bW.test(ch[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":ci},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":K.parseJSON,"text xml":K.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:o(ce),ajaxTransport:o(cf),ajax:function(a,c){function d(a,c,d,n){if(v!==2){v=2,t&&clearTimeout(t),s=b,q=n||"",y.readyState=a>0?4:0;var o,p,r,u=c,x=d?k(e,y,d):b,z,A;if(a>=200&&a<300||a===304){if(e.ifModified){if(z=y.getResponseHeader("Last-Modified"))K.lastModified[m]=z;if(A=y.getResponseHeader("Etag"))K.etag[m]=A}if(a===304)u="notmodified",o=!0;else try{p=j(e,x),u="success",o=!0}catch(B){u="parsererror",r=B}}else{r=u;if(!u||a)u="error",a<0&&(a=0)}y.status=a,y.statusText=""+(c||u),o?h.resolveWith(f,[p,u,y]):h.rejectWith(f,[y,u,r]),y.statusCode(l),l=b,w&&g.trigger("ajax"+(o?"Success":"Error"),[y,e,o?p:r]),i.fireWith(f,[y,u]),w&&(g.trigger("ajaxComplete",[y,e]),--K.active||K.event.trigger("ajaxStop"))}}typeof a=="object"&&(c=a,a=b),c=c||{};var e=K.ajaxSetup({},c),f=e.context||e,g=f!==e&&(f.nodeType||f instanceof K)?K(f):K.event,h=K.Deferred(),i=K.Callbacks("once memory"),l=e.statusCode||{},m,o={},p={},q,r,s,t,u,v=0,w,x,y={readyState:0,setRequestHeader:function(a,b){if(!v){var c=a.toLowerCase();a=p[c]=p[c]||a,o[a]=b}return this},getAllResponseHeaders:function(){return v===2?q:null},getResponseHeader:function(a){var c;if(v===2){if(!r){r={};while(c=bU.exec(q))r[c[1].toLowerCase()]=c[2]}c=r[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){return v||(e.mimeType=a),this},abort:function(a){return a=a||"abort",s&&s.abort(a),d(0,a),this}};h.promise(y),y.success=y.done,y.error=y.fail,y.complete=i.add,y.statusCode=function(a){if(a){var b;if(v<2)for(b in a)l[b]=[l[b],a[b]];else b=a[y.status],y.then(b,b)}return this},e.url=((a||e.url)+"").replace(bT,"").replace(bY,ch[1]+"//"),e.dataTypes=K.trim(e.dataType||"*").toLowerCase().split(ca),e.crossDomain==null&&(u=cc.exec(e.url.toLowerCase()),e.crossDomain=!(!u||u[1]==ch[1]&&u[2]==ch[2]&&(u[3]||(u[1]==="http:"?80:443))==(ch[3]||(ch[1]==="http:"?80:443)))),e.data&&e.processData&&typeof e.data!="string"&&(e.data=K.param(e.data,e.traditional)),n(ce,e,c,y);if(v===2)return!1;w=e.global,e.type=e.type.toUpperCase(),e.hasContent=!bX.test(e.type),w&&K.active++===0&&K.event.trigger("ajaxStart");if(!e.hasContent){e.data&&(e.url+=(bZ.test(e.url)?"&":"?")+e.data,delete e.data),m=e.url;if(e.cache===!1){var z=K.now(),A=e.url.replace(cb,"$1_="+z);e.url=A+(A===e.url?(bZ.test(e.url)?"&":"?")+"_="+z:"")}}(e.data&&e.hasContent&&e.contentType!==!1||c.contentType)&&y.setRequestHeader("Content-Type",e.contentType),e.ifModified&&(m=m||e.url,K.lastModified[m]&&y.setRequestHeader("If-Modified-Since",K.lastModified[m]),K.etag[m]&&y.setRequestHeader("If-None-Match",K.etag[m])),y.setRequestHeader("Accept",e.dataTypes[0]&&e.accepts[e.dataTypes[0]]?e.accepts[e.dataTypes[0]]+(e.dataTypes[0]!=="*"?", "+ci+"; q=0.01":""):e.accepts["*"]);for(x in e.headers)y.setRequestHeader(x,e.headers[x]);if(!e.beforeSend||e.beforeSend.call(f,y,e)!==!1&&v!==2){for(x in{success:1,error:1,complete:1})y[x](e[x]);s=n(cf,e,c,y);if(!s)d(-1,"No Transport");else{y.readyState=1,w&&g.trigger("ajaxSend",[y,e]),e.async&&e.timeout>0&&(t=setTimeout(function(){y.abort("timeout")},e.timeout));try{v=1,s.send(o,d)}catch(B){if(!(v<2))throw B;d(-1,B)}}return y}return y.abort(),!1},param:function(a,c){var d=[],e=function(a,b){b=K.isFunction(b)?b():b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};c===b&&(c=K.ajaxSettings.traditional);if(K.isArray(a)||a.jquery&&!K.isPlainObject(a))K.each(a,function(){e(this.name,this.value)});else for(var f in a)l(f,a[f],c,e);return d.join("&").replace(bQ,"+")}}),K.extend({active:0,lastModified:{},etag:{}});var ck=K.now(),cl=/(\=)\?(&|$)|\?\?/i;K.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return K.expando+"_"+ck++}}),K.ajaxPrefilter("json jsonp",function(b,c,d){var e=b.contentType==="application/x-www-form-urlencoded"&&typeof b.data=="string";if(b.dataTypes[0]==="jsonp"||b.jsonp!==!1&&(cl.test(b.url)||e&&cl.test(b.data))){var f,g=b.jsonpCallback=K.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h=a[g],i=b.url,j=b.data,k="$1"+g+"$2";return b.jsonp!==!1&&(i=i.replace(cl,k),b.url===i&&(e&&(j=j.replace(cl,k)),b.data===j&&(i+=(/\?/.test(i)?"&":"?")+b.jsonp+"="+g))),b.url=i,b.data=j,a[g]=function(a){f=[a]},d.always(function(){a[g]=h,f&&K.isFunction(h)&&a[g](f[0])}),b.converters["script json"]=function(){return f||K.error(g+" was not called"),f[0]},b.dataTypes[0]="json","script"}}),K.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){return K.globalEval(a),a}}}),K.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),K.ajaxTransport("script",function(a){if(a.crossDomain){var c,d=H.head||H.getElementsByTagName("head")[0]||H.documentElement;return{send:function(e,f){c=H.createElement("script"),c.async="async",a.scriptCharset&&(c.charset=a.scriptCharset),c.src=a.url,c.onload=c.onreadystatechange=function(a,e){if(e||!c.readyState||/loaded|complete/.test(c.readyState))c.onload=c.onreadystatechange=null,d&&c.parentNode&&d.removeChild(c),c=b,e||f(200,"success")},d.insertBefore(c,d.firstChild)},abort:function(){c&&c.onload(0,1)}}}});var cm=a.ActiveXObject?function(){for(var a in co)co[a](0,1)}:!1,cn=0,co;K.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&i()||h()}:i,function(a){K.extend(K.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})}(K.ajaxSettings.xhr()),K.support.ajax&&K.ajaxTransport(function(c){if(!c.crossDomain||K.support.cors){var d;return{send:function(e,f){var g=c.xhr(),h,i;c.username?g.open(c.type,c.url,c.async,c.username,c.password):g.open(c.type,c.url,c.async);if(c.xhrFields)for(i in c.xhrFields)g[i]=c.xhrFields[i];c.mimeType&&g.overrideMimeType&&g.overrideMimeType(c.mimeType),!c.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(i in e)g.setRequestHeader(i,e[i])}catch(j){}g.send(c.hasContent&&c.data||null),d=function(a,e){var i,j,k,l,m;try{if(d&&(e||g.readyState===4)){d=b,h&&(g.onreadystatechange=K.noop,cm&&delete co[h]);if(e)g.readyState!==4&&g.abort();else{i=g.status,k=g.getAllResponseHeaders(),l={},m=g.responseXML,m&&m.documentElement&&(l.xml=m),l.text=g.responseText;try{j=g.statusText}catch(n){j=""}!i&&c.isLocal&&!c.crossDomain?i=l.text?200:404:i===1223&&(i=204)}}}catch(o){e||f(-1,o)}l&&f(i,j,l,k)},!c.async||g.readyState===4?d():(h=++cn,cm&&(co||(co={},K(a).unload(cm)),co[h]=d),g.onreadystatechange=d)},abort:function(){d&&d(0,1)}}}});var cp={},cq,cr,cs=/^(?:toggle|show|hide)$/,ct=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,cu,cv=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],cw;K.fn.extend({show:function(a,b,c){var f,g;if(a||a===0)return this.animate(e("show",3),a,b,c);for(var h=0,i=this.length;h<i;h++)f=this[h],f.style&&(g=f.style.display,!K._data(f,"olddisplay")&&g==="none"&&(g=f.style.display=""),g===""&&K.css(f,"display")==="none"&&K._data(f,"olddisplay",d(f.nodeName)));for(h=0;h<i;h++){f=this[h];if(f.style){g=f.style.display;if(g===""||g==="none")f.style.display=K._data(f,"olddisplay")||""}}return this},hide:function(a,b,c){if(a||a===0)return this.animate(e("hide",3),a,b,c);var d,f,g=0,h=this.length;for(;g<h;g++)d=this[g],d.style&&(f=K.css(d,"display"),f!=="none"&&!K._data(d,"olddisplay")&&K._data(d,"olddisplay",f));for(g=0;g<h;g++)this[g].style&&(this[g].style.display="none");return this},_toggle:K.fn.toggle,toggle:function(a,b,c){var d=typeof a=="boolean";return K.isFunction(a)&&K.isFunction(b)?this._toggle.apply(this,arguments):a==null||d?this.each(function(){var b=d?a:K(this).is(":hidden");K(this)[b?"show":"hide"]()}):this.animate(e("toggle",3),a,b,c),this},fadeTo:function(a,b,c,d){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,e){function f(){g.queue===!1&&K._mark(this);var b=K.extend({},g),c=this.nodeType===1,e=c&&K(this).is(":hidden"),f,h,i,j,k,l,m,n,o;b.animatedProperties={};for(i in a){f=K.camelCase(i),i!==f&&(a[f]=a[i],delete a[i]),h=a[f],K.isArray(h)?(b.animatedProperties[f]=h[1],h=a[f]=h[0]):b.animatedProperties[f]=b.specialEasing&&b.specialEasing[f]||b.easing||"swing";if(h==="hide"&&e||h==="show"&&!e)return b.complete.call(this);c&&(f==="height"||f==="width")&&(b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],K.css(this,"display")==="inline"&&K.css(this,"float")==="none"&&(!K.support.inlineBlockNeedsLayout||d(this.nodeName)==="inline"?this.style.display="inline-block":this.style.zoom=1))}b.overflow!=null&&(this.style.overflow="hidden");for(i in a)j=new K.fx(this,b,i),h=a[i],cs.test(h)?(o=K._data(this,"toggle"+i)||(h==="toggle"?e?"show":"hide":0),o?(K._data(this,"toggle"+i,o==="show"?"hide":"show"),j[o]()):j[h]()):(k=ct.exec(h),l=j.cur(),k?(m=parseFloat(k[2]),n=k[3]||(K.cssNumber[i]?"":"px"),n!=="px"&&(K.style(this,i,(m||1)+n),l=(m||1)/j.cur()*l,K.style(this,i,l+n)),k[1]&&(m=(k[1]==="-="?-1:1)*m+l),j.custom(l,m,n)):j.custom(l,h,""));return!0}var g=K.speed(b,c,e);return K.isEmptyObject(a)?this.each(g.complete,[!1]):(a=K.extend({},a),g.queue===!1?this.each(f):this.queue(g.queue,f))},stop:function(a,c,d){return typeof a!="string"&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){function b(a,b,c){var e=b[c];K.removeData(a,c,!0),e.stop(d)}var c,e=!1,f=K.timers,g=K._data(this);d||K._unmark(!0,this);if(a==null)for(c in g)g[c]&&g[c].stop&&c.indexOf(".run")===c.length-4&&b(this,g,c);else g[c=a+".run"]&&g[c].stop&&b(this,g,c);for(c=f.length;c--;)f[c].elem===this&&(a==null||f[c].queue===a)&&(d?f[c](!0):f[c].saveState(),e=!0,f.splice(c,1));(!d||!e)&&K.dequeue(this,a)})}}),K.each({slideDown:e("show",1),slideUp:e("hide",1),slideToggle:e("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){K.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),K.extend({speed:function(a,b,c){var d=a&&typeof a=="object"?K.extend({},a):{complete:c||!c&&b||K.isFunction(a)&&a,duration:a,easing:c&&b||b&&!K.isFunction(b)&&b};d.duration=K.fx.off?0:typeof d.duration=="number"?d.duration:d.duration in K.fx.speeds?K.fx.speeds[d.duration]:K.fx.speeds._default;if(d.queue==null||d.queue===!0)d.queue="fx";return d.old=d.complete,d.complete=function(a){K.isFunction(d.old)&&d.old.call(this),d.queue?K.dequeue(this,d.queue):a!==!1&&K._unmark(this)},d},easing:{linear:function(a,b,c,d){return c+d*a},swing:function(a,b,c,d){return(-Math.cos(a*Math.PI)/2+.5)*d+c}},timers:[],fx:function(a,b,c){this.options=b,this.elem=a,this.prop=c,b.orig=b.orig||{}}}),K.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(K.fx.step[this.prop]||K.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]==null||!!this.elem.style&&this.elem.style[this.prop]!=null){var a,b=K.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?!b||b==="auto"?0:b:a}return this.elem[this.prop]},custom:function(a,c,d){function e(a){return f.step(a)}var f=this,h=K.fx;this.startTime=cw||g(),this.end=c,this.now=this.start=a,this.pos=this.state=0,this.unit=d||this.unit||(K.cssNumber[this.prop]?"":"px"),e.queue=this.options.queue,e.elem=this.elem,e.saveState=function(){f.options.hide&&K._data(f.elem,"fxshow"+f.prop)===b&&K._data(f.elem,"fxshow"+f.prop,f.start)},e()&&K.timers.push(e)&&!cu&&(cu=setInterval(h.tick,h.interval))},show:function(){var a=K._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=a||K.style(this.elem,this.prop),this.options.show=!0,a!==b?this.custom(this.cur(),a):this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur()),K(this.elem).show()},hide:function(){this.options.orig[this.prop]=K._data(this.elem,"fxshow"+this.prop)||K.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(a){var b,c,d,e=cw||g(),f=!0,h=this.elem,i=this.options;if(a||e>=i.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),i.animatedProperties[this.prop]=!0;for(b in i.animatedProperties)i.animatedProperties[b]!==!0&&(f=!1);if(f){i.overflow!=null&&!K.support.shrinkWrapBlocks&&K.each(["","X","Y"],function(a,b){h.style["overflow"+b]=i.overflow[a]}),i.hide&&K(h).hide();if(i.hide||i.show)for(b in i.animatedProperties)K.style(h,b,i.orig[b]),K.removeData(h,"fxshow"+b,!0),K.removeData(h,"toggle"+b,!0);d=i.complete,d&&(i.complete=!1,d.call(h))}return!1}return i.duration==Infinity?this.now=e:(c=e-this.startTime,this.state=c/i.duration,this.pos=K.easing[i.animatedProperties[this.prop]](this.state,c,0,1,i.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},K.extend(K.fx,{tick:function(){var a,b=K.timers,c=0;for(;c<b.length;c++)a=b[c],!a()&&b[c]===a&&b.splice(c--,1);b.length||K.fx.stop()},interval:13,stop:function(){clearInterval(cu),cu=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){K.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=null?a.elem.style[a.prop]=a.now+a.unit:a.elem[a.prop]=a.now}}}),K.each(["width","height"],function(a,b){K.fx.step[b]=function(a){K.style(a.elem,b,Math.max(0,a.now)+a.unit)}}),K.expr&&K.expr.filters&&(K.expr.filters.animated=function(a){return K.grep(K.timers,function(b){return a===b.elem}).length});var cx=/^t(?:able|d|h)$/i,cy=/^(?:body|html)$/i;"getBoundingClientRect"in H.documentElement?K.fn.offset=function(a){var b=this[0],d;if(a)return this.each(function(b){K.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return K.offset.bodyOffset(b);try{d=b.getBoundingClientRect()}catch(e){}var f=b.ownerDocument,g=f.documentElement;if(!d||!K.contains(g,b))return d?{top:d.top,left:d.left}:{top:0,left:0};var h=f.body,i=c(f),j=g.clientTop||h.clientTop||0,k=g.clientLeft||h.clientLeft||0,l=i.pageYOffset||K.support.boxModel&&g.scrollTop||h.scrollTop,m=i.pageXOffset||K.support.boxModel&&g.scrollLeft||h.scrollLeft,n=d.top+l-j,o=d.left+m-k;return{top:n,left:o}}:K.fn.offset=function(a){var b=this[0];if(a)return this.each(function(b){K.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return K.offset.bodyOffset(b);var c,d=b.offsetParent,e=b,f=b.ownerDocument,g=f.documentElement,h=f.body,i=f.defaultView,j=i?i.getComputedStyle(b,null):b.currentStyle,k=b.offsetTop,l=b.offsetLeft;while((b=b.parentNode)&&b!==h&&b!==g){if(K.support.fixedPosition&&j.position==="fixed")break;c=i?i.getComputedStyle(b,null):b.currentStyle,k-=b.scrollTop,l-=b.scrollLeft,b===d&&(k+=b.offsetTop,l+=b.offsetLeft,K.support.doesNotAddBorder&&(!K.support.doesAddBorderForTableAndCells||!cx.test(b.nodeName))&&(k+=parseFloat(c.borderTopWidth)||0,l+=parseFloat(c.borderLeftWidth)||0),e=d,d=b.offsetParent),K.support.subtractsBorderForOverflowNotVisible&&c.overflow!=="visible"&&(k+=parseFloat(c.borderTopWidth)||0,l+=parseFloat(c.borderLeftWidth)||0),j=c}if(j.position==="relative"||j.position==="static")k+=h.offsetTop,l+=h.offsetLeft;return K.support.fixedPosition&&j.position==="fixed"&&(k+=Math.max(g.scrollTop,h.scrollTop),l+=Math.max(g.scrollLeft,h.scrollLeft)),{top:k,left:l}},K.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;return K.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(K.css(a,"marginTop"))||0,c+=parseFloat(K.css(a,"marginLeft"))||0),{top:b,left:c}},setOffset:function(a,b,c){var d=K.css(a,"position");d==="static"&&(a.style.position="relative");var e=K(a),f=e.offset(),g=K.css(a,"top"),h=K.css(a,"left"),i=(d==="absolute"||d==="fixed")&&K.inArray("auto",[g,h])>-1,j={},k={},l,m;i?(k=e.position(),l=k.top,m=k.left):(l=parseFloat(g)||0,m=parseFloat(h)||0),K.isFunction(b)&&(b=b.call(a,c,f)),b.top!=null&&(j.top=b.top-f.top+l),b.left!=null&&(j.left=b.left-f.left+m),"using"in b?b.using.call(a,j):e.css(j)}},K.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),c=this.offset(),d=cy.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat(K.css(a,"marginTop"))||0,c.left-=parseFloat(K.css(a,"marginLeft"))||0,d.top+=parseFloat(K.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat(K.css(b[0],"borderLeftWidth"))||0,{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||H.body;while(a&&!cy.test(a.nodeName)&&K.css(a,"position")==="static")a=a.offsetParent;return a})}}),K.each(["Left","Top"],function(a,d){var e="scroll"+d;K.fn[e]=function(d){var f,g;return d===b?(f=this[0],f?(g=c(f),g?"pageXOffset"in g?g[a?"pageYOffset":"pageXOffset"]:K.support.boxModel&&g.document.documentElement[e]||g.document.body[e]:f[e]):null):this.each(function(){g=c(this),g?g.scrollTo(a?K(g).scrollLeft():d,a?d:K(g).scrollTop()):this[e]=d})}}),K.each(["Height","Width"],function(a,c){var d=c.toLowerCase();K.fn["inner"+c]=function(){var a=this[0];return a?a.style?parseFloat(K.css(a,d,"padding")):this[d]():null},K.fn["outer"+c]=function(a){var b=this[0];return b?b.style?parseFloat(K.css(b,d,a?"margin":"border")):this[d]():null},K.fn[d]=function(a){var e=this[0];if(!e)return a==null?null:this;if(K.isFunction(a))return this.each(function(b){var c=K(this);c[d](a.call(this,b,c[d]()))});if(K.isWindow(e)){var f=e.document.documentElement["client"+c],g=e.document.body;return e.document.compatMode==="CSS1Compat"&&f||g&&g["client"+c]||f}if(e.nodeType===9)return Math.max(e.documentElement["client"+c],e.body["scroll"+c],e.documentElement["scroll"+c],e.body["offset"+c],e.documentElement["offset"+c]);if(a===b){var h=K.css(e,d),i=parseFloat(h);return K.isNumeric(i)?i:h}return this.css(d,typeof a=="string"?a:a+"px")}}),a.jQuery=a.$=K,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return K})})(window),!function(a){a(function(){"use strict",a.support.transition=function(){var a=function(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},c;for(c in b)if(a.style[c]!==undefined)return b[c]}();return a&&{end:a}}()})}(window.jQuery),!function(a){"use strict";var b='[data-dismiss="alert"]',c=function(c){a(c).on("click",b,this.close)};c.prototype.close=function(b){function f(){e.trigger("closed").remove()}var c=a(this),d=c.attr("data-target"),e;d||(d=c.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),e=a(d),b&&b.preventDefault(),e.length||(e=c.hasClass("alert")?c:c.parent()),e.trigger(b=a.Event("close"));if(b.isDefaultPrevented())return;e.removeClass("in"),a.support.transition&&e.hasClass("fade")?e.on(a.support.transition.end,f):f()},a.fn.alert=function(b){return this.each(function(){var d=a(this),e=d.data("alert");e||d.data("alert",e=new c(this)),typeof b=="string"&&e[b].call(d)})},a.fn.alert.Constructor=c,a(function(){a("body").on("click.alert.data-api",b,c.prototype.close)})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.button.defaults,c)};b.prototype.setState=function(a){var b="disabled",c=this.$element,d=c.data(),e=c.is("input")?"val":"html";a+="Text",d.resetText||c.data("resetText",c[e]()),c[e](d[a]||this.options[a]),setTimeout(function(){a=="loadingText"?c.addClass(b).attr(b,b):c.removeClass(b).removeAttr(b)},0)},b.prototype.toggle=function(){var a=this.$element.closest('[data-toggle="buttons-radio"]');a&&a.find(".active").removeClass("active"),this.$element.toggleClass("active")},a.fn.button=function(c){return this.each(function(){var d=a(this),e=d.data("button"),f=typeof c=="object"&&c;e||d.data("button",e=new b(this,f)),c=="toggle"?e.toggle():c&&e.setState(c)})},a.fn.button.defaults={loadingText:"loading..."},a.fn.button.Constructor=b,a(function(){a("body").on("click.button.data-api","[data-toggle^=button]",function(b){var c=a(b.target);c.hasClass("btn")||(c=c.closest(".btn")),c.button("toggle")})})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.options=c,this.options.slide&&this.slide(this.options.slide),this.options.pause=="hover"&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};b.prototype={cycle:function(b){return b||(this.paused=!1),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},to:function(b){var c=this.$element.find(".item.active"),d=c.parent().children(),e=d.index(c),f=this;if(b>d.length-1||b<0)return;return this.sliding?this.$element.one("slid",function(){f.to(b)}):e==b?this.pause().cycle():this.slide(b>e?"next":"prev",a(d[b]))},pause:function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition.end&&(this.$element.trigger(a.support.transition.end),this.cycle()),clearInterval(this.interval),this.interval=null,this},next:function(){if(this.sliding)return;return this.slide("next")},prev:function(){if(this.sliding)return;return this.slide("prev")},slide:function(b,c){var d=this.$element.find(".item.active"),e=c||d[b](),f=this.interval,g=b=="next"?"left":"right",h=b=="next"?"first":"last",i=this,j=a.Event("slide",{relatedTarget:e[0]});this.sliding=!0,f&&this.pause(),e=e.length?e:this.$element.find(".item")[h]();if(e.hasClass("active"))return;if(a.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(j);if(j.isDefaultPrevented())return;e.addClass(b),e[0].offsetWidth,d.addClass(g),e.addClass(g),this.$element.one(a.support.transition.end,function(){e.removeClass([b,g].join(" ")).addClass("active"),d.removeClass(["active",g].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger("slid")},0)})}else{this.$element.trigger(j);if(j.isDefaultPrevented())return;d.removeClass("active"),e.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return f&&this.cycle(),this}},a.fn.carousel=function(c){return this.each(function(){var d=a(this),e=d.data("carousel"),f=a.extend({},a.fn.carousel.defaults,typeof c=="object"&&c),g=typeof c=="string"?c:f.slide;e||d.data("carousel",e=new b(this,f)),typeof c=="number"?e.to(c):g?e[g]():f.interval&&e.cycle()})},a.fn.carousel.defaults={interval:5e3,pause:"hover"},a.fn.carousel.Constructor=b,a(function(){a("body").on("click.carousel.data-api","[data-slide]",function(b){var c=a(this),d,e=a(c.attr("data-target")||(d=c.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,"")),f=!e.data("modal")&&a.extend({},e.data(),c.data());e.carousel(f),b.preventDefault()})})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.collapse.defaults,c),this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};b.prototype={constructor:b,dimension:function(){var a=this.$element.hasClass("width");return a?"width":"height"},show:function(){var b,c,d,e;if(this.transitioning)return;b=this.dimension(),c=a.camelCase(["scroll",b].join("-")),d=this.$parent&&this.$parent.find("> .accordion-group > .in");if(d&&d.length){e=d.data("collapse");if(e&&e.transitioning)return;d.collapse("hide"),e||d.data("collapse",null)}this.$element[b](0),this.transition("addClass",a.Event("show"),"shown"),a.support.transition&&this.$element[b](this.$element[0][c])},hide:function(){var b;if(this.transitioning)return;b=this.dimension(),this.reset(this.$element[b]()),this.transition("removeClass",a.Event("hide"),"hidden"),this.$element[b](0)},reset:function(a){var b=this.dimension();return this.$element.removeClass("collapse")[b](a||"auto")[0].offsetWidth,this.$element[a!==null?"addClass":"removeClass"]("collapse"),this},transition:function(b,c,d){var e=this,f=function(){c.type=="show"&&e.reset(),e.transitioning=0,e.$element.trigger(d)};this.$element.trigger(c);if(c.isDefaultPrevented())return;this.transitioning=1,this.$element[b]("in"),a.support.transition&&this.$element.hasClass("collapse")?this.$element.one(a.support.transition.end,f):f()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}},a.fn.collapse=function(c){return this.each(function(){var d=a(this),e=d.data("collapse"),f=typeof c=="object"&&c;e||d.data("collapse",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.collapse.defaults={toggle:!0},a.fn.collapse.Constructor=b,a(function(){a("body").on("click.collapse.data-api","[data-toggle=collapse]",function(b){var c=a(this),d,e=c.attr("data-target")||b.preventDefault()||(d=c.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""),f=a(e).data("collapse")?"toggle":c.data();c[a(e).hasClass("in")?"addClass":"removeClass"]("collapsed"),a(e).collapse(f)})})}(window.jQuery),!function(a){function d(){e(a(b)).removeClass("open")}function e(b){var c=b.attr("data-target"),d;return c||(c=b.attr("href"),c=c&&/#/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,"")),d=a(c),d.length||(d=b.parent()),d}"use strict";var b="[data-toggle=dropdown]",c=function(b){var c=a(b).on("click.dropdown.data-api",this.toggle);a("html").on("click.dropdown.data-api",function(){c.parent().removeClass("open")})};c.prototype={constructor:c,toggle:function(b){var c=a(this),f,g;if(c.is(".disabled, :disabled"))return;return f=e(c),g=f.hasClass("open"),d(),g||(f.toggleClass("open"),c.focus()),!1},keydown:function(b){var c,d,f,g,h,i;if(!/(38|40|27)/.test(b.keyCode))return;c=a(this),b.preventDefault(),b.stopPropagation();if(c.is(".disabled, :disabled"))return;g=e(c),h=g.hasClass("open");if(!h||h&&b.keyCode==27)return c.click();d=a("[role=menu] li:not(.divider) a",g);if(!d.length)return;i=d.index(d.filter(":focus")),b.keyCode==38&&i>0&&i--,b.keyCode==40&&i<d.length-1&&i++,~i||(i=0),d.eq(i).focus()}},a.fn.dropdown=function(b){return this.each(function(){var d=a(this),e=d.data("dropdown");e||d.data("dropdown",e=new c(this)),typeof b=="string"&&e[b].call(d)})},a.fn.dropdown.Constructor=c,a(function(){a("html").on("click.dropdown.data-api touchstart.dropdown.data-api",d),a("body").on("click.dropdown touchstart.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.dropdown.data-api touchstart.dropdown.data-api",b,c.prototype.toggle).on("keydown.dropdown.data-api touchstart.dropdown.data-api",b+", [role=menu]",c.prototype.keydown)})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.options=c,this.$element=a(b).delegate('[data-dismiss="modal"]',"click.dismiss.modal",a.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};b.prototype={constructor:b,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var b=this,c=a.Event("show");this.$element.trigger(c);if(this.isShown||c.isDefaultPrevented())return;a("body").addClass("modal-open"),this.isShown=!0,this.escape(),this.backdrop(function(){var c=a.support.transition&&b.$element.hasClass("fade");b.$element.parent().length||b.$element.appendTo(document.body),b.$element.show(),c&&b.$element[0].offsetWidth,b.$element.addClass("in").attr("aria-hidden",!1).focus(),b.enforceFocus(),c?b.$element.one(a.support.transition.end,function(){b.$element.trigger("shown")}):b.$element.trigger("shown")})},hide:function(b){b&&b.preventDefault();var c=this;b=a.Event("hide"),this.$element.trigger(b);if(!this.isShown||b.isDefaultPrevented())return;this.isShown=!1,a("body").removeClass("modal-open"),this.escape(),a(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),a.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal()},enforceFocus:function(){var b=this;a(document).on("focusin.modal",function(a){b.$element[0]!==a.target&&!b.$element.has(a.target).length&&b.$element.focus()})},escape:function(){var a=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(b){b.which==27&&a.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var b=this,c=setTimeout(function(){b.$element.off(a.support.transition.end),b.hideModal()},500);this.$element.one(a.support.transition.end,function(){clearTimeout(c),b.hideModal()})},hideModal:function(a){this.$element.hide().trigger("hidden"),this.backdrop()},removeBackdrop:function(){this.$backdrop.remove(),this.$backdrop=null},backdrop:function(b){var c=this,d=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var e=a.support.transition&&d;this.$backdrop=a('<div class="modal-backdrop '+d+'" />').appendTo(document.body),this.options.backdrop!="static"&&this.$backdrop.click(a.proxy(this.hide,this)),e&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),e?this.$backdrop.one(a.support.transition.end,b):b()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,a.proxy(this.removeBackdrop,this)):this.removeBackdrop()):b&&b()}},a.fn.modal=function(c){return this.each(function(){var d=a(this),e=d.data("modal"),f=a.extend({},a.fn.modal.defaults,d.data(),typeof c=="object"&&c);e||d.data("modal",e=new b(this,f)),typeof c=="string"?e[c]():f.show&&e.show()})},a.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},a.fn.modal.Constructor=b,a(function(){a("body").on("click.modal.data-api",'[data-toggle="modal"]',function(b){var c=a(this),d=c.attr("href"),e=a(c.attr("data-target")||d&&d.replace(/.*(?=#[^\s]+$)/,"")),f=e.data("modal")?"toggle":a.extend({remote:!/#/.test(d)&&d},e.data(),c.data());b.preventDefault(),e.modal(f).one("hide",function(){c.focus()})})})}(window.jQuery),!function(a){"use strict";var b=function(a,b){this.init("tooltip",a,b)};b.prototype={constructor:b,init:function(b,c,d){var e,f;this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.enabled=!0,this.options.trigger=="click"?this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this)):this.options.trigger!="manual"&&(e=this.options.trigger=="hover"?"mouseenter":"focus",f=this.options.trigger=="hover"?"mouseleave":"blur",this.$element.on(e+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(f+"."+this.type,this.options.selector,a.proxy(this.leave,this))),this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(b){return b=a.extend({},a.fn[this.type].defaults,b,this.$element.data()),b.delay&&typeof b.delay=="number"&&(b.delay={show:b.delay,hide:b.delay}),b},enter:function(b){var c=a(b.currentTarget)[this.type](this._options).data(this.type);if(!c.options.delay||!c.options.delay.show)return c.show();clearTimeout(this.timeout),c.hoverState="in",this.timeout=setTimeout(function(){c.hoverState=="in"&&c.show()},c.options.delay.show)},leave:function(b){var c=a(b.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!c.options.delay||!c.options.delay.hide)return c.hide();c.hoverState="out",this.timeout=setTimeout(function(){c.hoverState=="out"&&c.hide()},c.options.delay.hide)},show:function(){var a,b,c,d,e,f,g;if(this.hasContent()&&this.enabled){a=this.tip(),this.setContent(),this.options.animation&&a.addClass("fade"),f=typeof this.options.placement=="function"?this.options.placement.call(this,a[0],this.$element[0]):this.options.placement,b=/in/.test(f),a.remove().css({top:0,left:0,display:"block"}).appendTo(b?this.$element:document.body),c=this.getPosition(b),d=a[0].offsetWidth,e=a[0].offsetHeight;switch(b?f.split(" ")[1]:f){case"bottom":c.left+c.width/2-d/2<0?g={top:c.top+c.height,left:c.left-20}:g={top:c.top+c.height,left:c.left+c.width/2-d/2};break;case"top":g={top:c.top-e,left:c.left+c.width/2-d/2};break;case"left":g={top:c.top+c.height/2-e/2,left:c.left-d};break;case"right":c.top+c.height/2-e/2<0?g={top:.5,left:c.left+c.width}:g={top:c.top+c.height/2-e/2,left:c.left+c.width}}a.css(g).addClass(f).addClass("in")}},setContent:function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},hide:function(){function d(){var b=setTimeout(function(){c.off(a.support.transition.end).remove()},500);c.one(a.support.transition.end,function(){clearTimeout(b),c.remove()})}var b=this,c=this.tip();return c.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?d():c.remove(),this},fixTitle:function(){var a=this.$element;(a.attr("title")||typeof a.attr("data-original-title")!="string")&&a.attr("data-original-title",a.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(b){return a.extend({},b?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||(typeof c.title=="function"?c.title.call(b[0]):c.title),a},tip:function(){return this.$tip=this.$tip||a(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}},a.fn.tooltip=function(c){return this.each(function(){var d=a(this),e=d.data("tooltip"),f=typeof c=="object"&&c;e||d.data("tooltip",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.tooltip.Constructor=b,a.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0,html:!0}}(window.jQuery),!function(a){"use strict";var b=function(a,b){this.init("popover",a,b)};b.prototype=a.extend({},a.fn.tooltip.Constructor.prototype,{constructor:b,setContent:function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content > *")[this.options.html?"html":"text"](c),a.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var a,b=this.$element,c=this.options;return a=b.attr("data-content")||(typeof c.content=="function"?c.content.call(b[0]):c.content),a},tip:function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}}),a.fn.popover=function(c){return this.each(function(){var d=a(this),e=d.data("popover"),f=typeof c=="object"&&c;e||d.data("popover",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.popover.Constructor=b,a.fn.popover.defaults=a.extend({},a.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'})}(window.jQuery),!function(a){function b(b,c){var d=a.proxy(this.process,this),e=a(b).is("body")?a(window):a(b),f;this.options=a.extend({},a.fn.scrollspy.defaults,c),this.$scrollElement=e.on("scroll.scroll-spy.data-api",d),this.selector=(this.options.target||(f=a(b).attr("href"))&&f.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=a("body"),this.refresh(),this.process()}"use strict",b.prototype={constructor:b,refresh:function(){var b=this,c;this.offsets=a([]),this.targets=a([]),c=this.$body.find(this.selector).map(function(){var b=a(this),c=b.data("target")||b.attr("href"),d=/^#\w/.test(c)&&a(c);return d&&d.length&&[[d.position().top,c]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]),b.targets.push(this[1])})},process:function(){var a=this.$scrollElement.scrollTop()+this.options.offset,b=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,c=b-this.$scrollElement.height(),d=this.offsets,e=this.targets,f=this.activeTarget,g;if(a>=c)return f!=(g=e.last()[0])&&this.activate(g);for(g=d.length;g--;)f!=e[g]&&a>=d[g]&&(!d[g+1]||a<=d[g+1])&&this.activate(e[g])},activate:function(b){var c,d;this.activeTarget=b,a(this.selector).parent(".active").removeClass("active"),d=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',c=a(d).parent("li").addClass("active"),c.parent(".dropdown-menu").length&&(c=c.closest("li.dropdown").addClass("active")),c.trigger("activate")}},a.fn.scrollspy=function(c){return this.each(function(){var d=a(this),e=d.data("scrollspy"),f=typeof c=="object"&&c;e||d.data("scrollspy",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.scrollspy.Constructor=b,a.fn.scrollspy.defaults={offset:10},a(window).on("load",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);b.scrollspy(b.data())})})}(window.jQuery),!function(a){"use strict";var b=function(b){this.element=a(b)};b.prototype={constructor:b,show:function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.attr("data-target"),e,f,g;d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,""));if(b.parent("li").hasClass("active"))return;e=c.find(".active a").last()[0],g=a.Event("show",{relatedTarget:e}),b.trigger(g);if(g.isDefaultPrevented())return;f=a(d),this.activate(b.parent("li"),c),this.activate(f,f.parent(),function(){b.trigger({type:"shown",relatedTarget:e})})},activate:function(b,c,d){function g(){e.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),f?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var e=c.find("> .active"),f=d&&a.support.transition&&e.hasClass("fade");f?e.one(a.support.transition.end,g):g(),e.removeClass("in")}},a.fn.tab=function(c){return this.each(function(){var d=a(this),e=d.data("tab");e||d.data("tab",e=new b(this)),typeof c=="string"&&e[c]()})},a.fn.tab.Constructor=b,a(function(){a("body").on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault(),a(this).tab("show")})})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.typeahead.defaults,c),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.$menu=a(this.options.menu).appendTo("body"),this.source=this.options.source,this.shown=!1,this.listen()};b.prototype={constructor:b,select:function(){var a=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(a)).change(),this.hide()},updater:function(a){return a},show:function(){var b=a.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight});return this.$menu.css({top:b.top+b.height,left:b.left}),this.$menu.show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(b){var c;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(c=a.isFunction(this.source)?this.source(this.query,a.proxy(this.process,this)):this.source,c?this.process(c):this)},process:function(b){var c=this;return b=a.grep(b,function(a){return c.matcher(a)}),b=this.sorter(b),b.length?this.render(b.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(a){return~a.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(a){var b=[],c=[],d=[],e;while(e=a.shift())e.toLowerCase().indexOf(this.query.toLowerCase())?~e.indexOf(this.query)?c.push(e):d.push(e):b.push(e);return b.concat(c,d)},highlighter:function(a){var b=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return a.replace(new RegExp("("+b+")","ig"),function(a,b){return"<strong>"+b+"</strong>"})},render:function(b){var c=this;return b=a(b).map(function(b,d){return b=a(c.options.item).attr("data-value",d),b.find("a").html(c.highlighter(d)),b[0]}),b.first().addClass("active"),this.$menu.html(b),this},next:function(b){var c=this.$menu.find(".active").removeClass("active"),d=c.next();d.length||(d=a(this.$menu.find("li")[0])),d.addClass("active")},prev:function(a){var b=this.$menu.find(".active").removeClass("active"),c=b.prev();c.length||(c=this.$menu.find("li").last()),c.addClass("active")},listen:function(){this.$element.on("blur",a.proxy(this.blur,this)).on("keypress",a.proxy(this.keypress,this)).on("keyup",a.proxy(this.keyup,this)),(a.browser.chrome||a.browser.webkit||a.browser.msie)&&this.$element.on("keydown",a.proxy(this.keydown,this)),this.$menu.on("click",a.proxy(this.click,this)).on("mouseenter","li",a.proxy(this.mouseenter,this))},move:function(a){if(!this.shown)return;switch(a.keyCode){case 9:case 13:case 27:a.preventDefault();break;case 38:a.preventDefault(),this.prev();break;case 40:a.preventDefault(),this.next()}a.stopPropagation()},keydown:function(b){this.suppressKeyPressRepeat=!~a.inArray(b.keyCode,[40,38,9,13,27]),this.move(b)},keypress:function(a){if(this.suppressKeyPressRepeat)return;this.move(a)},keyup:function(a){switch(a.keyCode){case 40:case 38:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}a.stopPropagation(),a.preventDefault()},blur:function(a){var b=this;setTimeout(function(){b.hide()},150)},click:function(a){a.stopPropagation(),a.preventDefault(),this.select()},mouseenter:function(b){this.$menu.find(".active").removeClass("active"),a(b.currentTarget).addClass("active")}},a.fn.typeahead=function(c){return this.each(function(){var d=a(this),e=d.data("typeahead"),f=typeof c=="object"&&c;e||d.data("typeahead",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},a.fn.typeahead.Constructor=b,a(function(){a("body").on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(b){var c=a(this);if(c.data("typeahead"))return;b.preventDefault(),c.typeahead(c.data())})})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.options=a.extend({},a.fn.affix.defaults,c),this.$window=a(window).on("scroll.affix.data-api",a.proxy(this.checkPosition,this)),this.$element=a(b),this.checkPosition()};b.prototype.checkPosition=function(){if(!this.$element.is(":visible"))return;var b=a(document).height(),c=this.$window.scrollTop(),d=this.$element.offset(),e=this.options.offset,f=e.bottom,g=e.top,h="affix affix-top affix-bottom",i;typeof e!="object"&&(f=g=e),typeof g=="function"&&(g=e.top()),typeof f=="function"&&(f=e.bottom()),i=this.unpin!=null&&c+this.unpin<=d.top?!1:f!=null&&d.top+this.$element.height()>=b-f?"bottom":g!=null&&c<=g?"top":!1;if(this.affixed===i)return;this.affixed=i,this.unpin=i=="bottom"?d.top-c:null,this.$element.removeClass(h).addClass("affix"+(i?"-"+i:""))},a.fn.affix=function(c){return this.each(function(){var d=a(this),e=d.data("affix"),f=typeof c=="object"&&c;e||d.data("affix",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.affix.Constructor=b,a.fn.affix.defaults={offset:0},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var b=a(this),c=b.data();c.offset=c.offset||{},c.offsetBottom&&(c.offset.bottom=c.offsetBottom),c.offsetTop&&(c.offset.top=c.offsetTop),b.affix(c)})})}(window.jQuery),function(a,b){function c(b,c){var e=b.nodeName.toLowerCase();return"area"===e?(c=b.parentNode,e=c.name,!b.href||!e||c.nodeName.toLowerCase()!=="map"?!1:(b=a("img[usemap=#"+e+"]")[0],!!b&&d(b))):(/input|select|textarea|button|object/.test(e)?!b.disabled:"a"==e?b.href||c:c)&&d(b)}function d(b){return!a(b).parents().andSelf().filter(function(){return a.curCSS(this,"visibility")==="hidden"||a.expr.filters.hidden(this)}).length}a.ui=a.ui||{},a.ui.version||(a.extend(a.ui,{version:"1.8.16",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),a.fn.extend({propAttr:a.fn.prop||a.fn.attr,_focus:a.fn.focus,focus:function(b,c){return typeof b=="number"?this.each(function(){var d=this;setTimeout(function(){a(d).focus(),c&&c.call(d)},b)}):this._focus.apply(this,arguments)},scrollParent:function(){var b;return b=a.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.curCSS(this,"position",1))&&/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length){c=a(this[0]);for(var d;c.length&&c[0]!==document;){d=c.css("position");if(d==="absolute"||d==="relative"||d==="fixed"){d=parseInt(c.css("zIndex"),10);if(!isNaN(d)&&d!==0)return d}c=c.parent()}}return 0},disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.each(["Width","Height"],function(c,d){function e(b,c,d,e){return a.each(f,function(){c-=parseFloat(a.curCSS(b,"padding"+this,!0))||0,d&&(c-=parseFloat(a.curCSS(b,"border"+this+"Width",!0))||0),e&&(c-=parseFloat(a.curCSS(b,"margin"+this,!0))||0)}),c}var f=d==="Width"?["Left","Right"]:["Top","Bottom"],g=d.toLowerCase(),h={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(c){return c===b?h["inner"+d].call(this):this.each(function(){a(this).css(g,e(this,c)+"px")})},a.fn["outer"+d]=function(b,c){return typeof b!="number"?h["outer"+d].call(this,b):this.each(function(){a(this).css(g,e(this,b,!0,c)+"px")})}}),a.extend(a.expr[":"],{data:function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return c(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var d=a.attr(b,"tabindex"),e=isNaN(d);return(e||d>=0)&&c(b,!e)}}),a(function(){var b=document.body,c=b.appendChild(c=document.createElement("div"));a.extend(c.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),a.support.minHeight=c.offsetHeight===100,a.support.selectstart="onselectstart"in c,b.removeChild(c).style.display="none"}),a.extend(a.ui,{plugin:{add:function(b,c,d){b=a.ui[b].prototype;for(var e in d)b.plugins[e]=b.plugins[e]||[],b.plugins[e].push([c,d[e]])},call:function(a,b,c){if((b=a.plugins[b])&&a.element[0].parentNode)for(var d=0;d<b.length;d++)a.options[b[d][0]]&&b[d][1].apply(a.element,c)}},contains:function(a,b){return document.compareDocumentPosition?a.compareDocumentPosition(b)&16:a!==b&&a.contains(b)},hasScroll:function(b,c){if(a(b).css("overflow")==="hidden")return!1;c=c&&c==="left"?"scrollLeft":"scrollTop";var d=!1;return b[c]>0?!0:(b[c]=1,d=b[c]>0,b[c]=0,d)},isOverAxis:function(a,b,c){return a>b&&a<b+c},isOver:function(b,c,d,e,f,g){return a.ui.isOverAxis(b,d,f)&&a.ui.isOverAxis(c,e,g)}}))}(jQuery),function(a,b){if(a.cleanData){var c=a.cleanData;a.cleanData=function(b){for(var d=0,e;(e=b[d])!=null;d++)try{a(e).triggerHandler("remove")}catch(f){}c(b)}}else{var d=a.fn.remove;a.fn.remove=function(b,c){return this.each(function(){return c||(!b||a.filter(b,[this]).length)&&a("*",this).add([this]).each(function(){try{a(this).triggerHandler("remove")}catch(b){}}),d.call(a(this),b,c)})}}a.widget=function(b,c,d){var e=b.split(".")[0],f;b=b.split(".")[1],f=e+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][f]=function(c){return!!a.data(c,b)},a[e]=a[e]||{},a[e][b]=function(a,b){arguments.length&&this._createWidget(a,b)},c=new c,c.options=a.extend(!0,{},c.options),a[e][b].prototype=a.extend(!0,c,{namespace:e,widgetName:b,widgetEventPrefix:a[e][b].prototype.widgetEventPrefix||b,widgetBaseClass:f},d),a.widget.bridge(b,a[e][b])},a.widget.bridge=function(c,d){a.fn[c]=function(e){var f=typeof e=="string",g=Array.prototype.slice.call(arguments,1),h=this;return e=!f&&g.length?a.extend.apply(null,[!0,e].concat(g)):e,f&&e.charAt(0)==="_"?h:(f?this.each(function(){var d=a.data(this,c),f=d&&a.isFunction(d[e])?d[e].apply(d,g):d;if(f!==d&&f!==b)return h=f,!1}):this.each(function(){var b=a.data(this,c);b?b.option(e||{})._init():a.data(this,c,new d(e,this))}),h)}},a.Widget=function(a,b){arguments.length&&this._createWidget(a,b)},a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(b,c){a.data(c,this.widgetName,this),this.element=a(c),this.options=a.extend(!0,{},this.options,this._getCreateOptions(),b);var d=this;this.element.bind("remove."+this.widgetName,function(){d.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(c,d){var e=c;if(arguments.length===0)return a.extend({},this.options);if(typeof c=="string"){if(d===b)return this.options[c];e={},e[c]=d}return this._setOptions(e),this},_setOptions:function(b){var c=this;return a.each(b,function(a,b){c._setOption(a,b)}),this},_setOption:function(a,b){return this.options[a]=b,a==="disabled"&&this.widget()[b?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",b),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(b,c,d){var e=this.options[b];c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),d=d||{};if(c.originalEvent){b=a.event.props.length;for(var f;b;)f=a.event.props[--b],c[f]=c.originalEvent[f]}return this.element.trigger(c,d),!(a.isFunction(e)&&e.call(this.element[0],c,d)===!1||c.isDefaultPrevented())}}}(jQuery),function(a){var b=!1;a(document).mouseup(function(){b=!1}),a.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(c){if(!0===a.data(c.target,b.widgetName+".preventClickEvent"))return a.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(c){if(!b){this._mouseStarted&&this._mouseUp(c),this._mouseDownEvent=c;var e=this,f=c.which==1,g=typeof this.options.cancel=="string"&&c.target.nodeName?a(c.target).closest(this.options.cancel).length:!1;if(!f||g||!this._mouseCapture(c))return!0;this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(c)&&this._mouseDelayMet(c)){this._mouseStarted=this._mouseStart(c)!==!1;if(!this._mouseStarted)return c.preventDefault(),!0}return!0===a.data(c.target,this.widgetName+".preventClickEvent")&&a.removeData(c.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return e._mouseMove(a)},this._mouseUpDelegate=function(a){return e._mouseUp(a)},a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),c.preventDefault(),b=!0}},_mouseMove:function(b){return!a.browser.msie||document.documentMode>=9||!!b.button?this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&((this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==!1)?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted):this._mouseUp(b)},_mouseUp:function(b){return a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target==this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(a){a.ui=a.ui||{};var b=/left|center|right/,c=/top|center|bottom/,d=a.fn.position,e=a.fn.offset;a.fn.position=function(e){if(!e||!e.of)return d.apply(this,arguments);e=a.extend({},e);var f=a(e.of),g=f[0],h=(e.collision||"flip").split(" "),i=e.offset?e.offset.split(" "):[0,0],j,k,l;return g.nodeType===9?(j=f.width(),k=f.height(),l={top:0,left:0}):g.setTimeout?(j=f.width(),k=f.height(),l={top:f.scrollTop(),left:f.scrollLeft()}):g.preventDefault?(e.at="left top",j=k=0,l={top:e.of.pageY,left:e.of.pageX}):(j=f.outerWidth(),k=f.outerHeight(),l=f.offset()),a.each(["my","at"],function(){var a=(e[this]||"").split(" ");a.length===1&&(a=b.test(a[0])?a.concat(["center"]):c.test(a[0])?["center"].concat(a):["center","center"]),a[0]=b.test(a[0])?a[0]:"center",a[1]=c.test(a[1])?a[1]:"center",e[this]=a}),h.length===1&&(h[1]=h[0]),i[0]=parseInt(i[0],10)||0,i.length===1&&(i[1]=i[0]),i[1]=parseInt(i[1],10)||0,e.at[0]==="right"?l.left+=j:e.at[0]==="center"&&(l.left+=j/2),e.at[1]==="bottom"?l.top+=k:e.at[1]==="center"&&(l.top+=k/2),l.left+=i[0],l.top+=i[1],this.each(function(){var b=a(this),c=b.outerWidth(),d=b.outerHeight(),f=parseInt(a.curCSS(this,"marginLeft",!0))||0,g=parseInt(a.curCSS(this,"marginTop",!0))||0,m=c+f+(parseInt(a.curCSS(this,"marginRight",!0))||0),n=d+g+(parseInt(a.curCSS(this,"marginBottom",!0))||0),o=a.extend({},l),p;e.my[0]==="right"?o.left-=c:e.my[0]==="center"&&(o.left-=c/2),e.my[1]==="bottom"?o.top-=d:e.my[1]==="center"&&(o.top-=d/2),o.left=Math.round(o.left),o.top=Math.round(o.top),p={left:o.left-f,top:o.top-g},a.each(["left","top"],function(b,f){a.ui.position[h[b]]&&a.ui.position[h[b]][f](o,{targetWidth:j,targetHeight:k,elemWidth:c,elemHeight:d,collisionPosition:p,collisionWidth:m,collisionHeight:n,offset:i,my:e.my,at:e.at})}),a.fn.bgiframe&&b.bgiframe(),b.offset(a.extend(o,{using:e.using}))})},a.ui.position={fit:{left:function(b,c){var d=a(window);d=c.collisionPosition.left+c.collisionWidth-d.width()-d.scrollLeft(),b.left=d>0?b.left-d:Math.max(b.left-c.collisionPosition.left,b.left)},top:function(b,c){var d=a(window);d=c.collisionPosition.top+c.collisionHeight-d.height()-d.scrollTop(),b.top=d>0?b.top-d:Math.max(b.top-c.collisionPosition.top,b.top)}},flip:{left:function(b,c){if(c.at[0]!=="center"){var d=a(window);d=c.collisionPosition.left+c.collisionWidth-d.width()-d.scrollLeft();var e=c.my[0]==="left"?-c.elemWidth:c.my[0]==="right"?c.elemWidth:0,f=c.at[0]==="left"?c.targetWidth:-c.targetWidth,g=-2*c.offset[0];b.left+=c.collisionPosition.left<0?e+f+g:d>0?e+f+g:0}},top:function(b,c){if(c.at[1]!=="center"){var d=a(window);d=c.collisionPosition.top+c.collisionHeight-d.height()-d.scrollTop();var e=c.my[1]==="top"?-c.elemHeight:c.my[1]==="bottom"?c.elemHeight:0,f=c.at[1]==="top"?c.targetHeight:-c.targetHeight,g=-2*c.offset[1];b.top+=c.collisionPosition.top<0?e+f+g:d>0?e+f+g:0}}}},a.offset.setOffset||(a.offset.setOffset=function(b,c){/static/.test(a.curCSS(b,"position"))&&(b.style.position="relative");var d=a(b),e=d.offset(),f=parseInt(a.curCSS(b,"top",!0),10)||0,g=parseInt(a.curCSS(b,"left",!0),10)||0;e={top:c.top-e.top+f,left:c.left-e.left+g},"using"in c?c.using.call(b,e):d.css(e)},a.fn.offset=function(b){var c=this[0];return!c||!c.ownerDocument?null:b?this.each(function(){a.offset.setOffset(this,b)}):e.call(this)})}(jQuery),function(a){a.widget("ui.draggable",a.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){this.options.helper=="original"&&!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},destroy:function(){if(this.element.data("draggable"))return this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this},_mouseCapture:function(b){var c=this.options;return this.helper||c.disabled||a(b.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(b),this.handle?(c.iframeFix&&a(c.iframeFix===!0?"iframe":c.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(a(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(b){var c=this.options;return this.helper=this._createHelper(b),this._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),c.containment&&this._setContainment(),this._trigger("start",b)===!1?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this.helper.addClass("ui-draggable-dragging"),this._mouseDrag(b,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,b),!0)},_mouseDrag:function(b,c){this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute");if(!c){c=this._uiHash();if(this._trigger("drag",b,c)===!1)return this._mouseUp({}),!1;this.position=c.position}if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";return a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),!1},_mouseStop:function(b){var c=!1;a.ui.ddmanager&&!this.options.dropBehaviour&&(c=a.ui.ddmanager.drop(this,b)),this.dropped&&(c=this.dropped,this.dropped=!1);if((!this.element[0]||!this.element[0].parentNode)&&this.options.helper=="original")return!1;if(this.options.revert=="invalid"&&!c||this.options.revert=="valid"&&c||this.options.revert===!0||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,c)){var e=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){e._trigger("stop",b)!==!1&&e._clear()})}else this._trigger("stop",b)!==!1&&this._clear();return!1},_mouseUp:function(b){return this.options.iframeFix===!0&&a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b),a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(b){var c=!this.options.handle||!a(this.options.handle,this.element).length?!0:!1;return a(this.options.handle,this.element).find("*").andSelf().each(function(){this==b.target&&(c=!0)}),c},_createHelper:function(b){var c=this.options;return b=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b])):c.helper=="clone"?this.element.clone().removeAttr("id"):this.element,b.parents("body").length||b.appendTo(c.appendTo=="parent"?this.element[0].parentNode:c.appendTo),b[0]!=this.element[0]&&!/(fixed|absolute)/.test(b.css("position"))&&b.css("position","absolute"),b},_adjustOffsetFromHelper:function(b){typeof b=="string"&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;b.containment=="parent"&&(b.containment=this.helper[0].parentNode);if(b.containment=="document"||b.containment=="window")this.containment=[b.containment=="document"?0:a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,b.containment=="document"?0:a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(b.containment=="document"?0:a(window).scrollLeft())+a(b.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(b.containment=="document"?0:a(window).scrollTop())+(a(b.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(b.containment)&&b.containment.constructor!=Array){b=a(b.containment);var c=b[0];if(c){b.offset();var e=a(c).css("overflow")!="hidden";this.containment=[(parseInt(a(c).css("borderLeftWidth"),10)||0)+(parseInt(a(c).css("paddingLeft"),10)||0),(parseInt(a(c).css("borderTopWidth"),10)||0)+(parseInt(a(c).css("paddingTop"),10)||0),(e?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(a(c).css("borderLeftWidth"),10)||0)-(parseInt(a(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(a(c).css("borderTopWidth"),10)||0)-(parseInt(a(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=b}}else b.containment.constructor==Array&&(this.containment=b.containment)},_convertPositionTo:function(b,c){c||(c=this.position),b=b=="absolute"?1:-1;var e=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!a.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,f=/(html|body)/i.test(e[0].tagName);return{top:c.top+this.offset.relative.top*b+this.offset.parent.top*b-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():f?0:e.scrollTop())*b),left:c.left+this.offset.relative.left*b+this.offset.parent.left*b-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():f?0:e.scrollLeft())*b)}},_generatePosition:function(b){var c=this.options,e=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!a.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,f=/(html|body)/i.test(e[0].tagName),g=b.pageX,h=b.pageY;if(this.originalPosition){var i;this.containment&&(this.relative_container?(i=this.relative_container.offset(),i=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):i=this.containment,b.pageX-this.offset.click.left<i[0]&&(g=i[0]+this.offset.click.left),b.pageY-this.offset.click.top<i[1]&&(h=i[1]+this.offset.click.top),b.pageX-this.offset.click.left>i[2]&&(g=i[2]+this.offset.click.left),b.pageY-this.offset.click.top>i[3]&&(h=i[3]+this.offset.click.top)),c.grid&&(h=c.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/c.grid[1])*c.grid[1]:this.originalPageY,h=i?h-this.offset.click.top<i[1]||h-this.offset.click.top>i[3]?h-this.offset.click.top<i[1]?h+c.grid[1]:h-c.grid[1]:h:h,g=c.grid[0]?this.originalPageX+Math.round((g-this.originalPageX)/c.grid[0])*c.grid[0]:this.originalPageX,g=i?g-this.offset.click.left<i[0]||g-this.offset.click.left>i[2]?g-this.offset.click.left<i[0]?g+c.grid[0]:g-c.grid[0]:g:g)}return{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():f?0:e.scrollTop()),left:g-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():f?0:e.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(b,c,e){return e=e||this._uiHash(),a.ui.plugin.call(this,b,[c,e]),b=="drag"&&(this.positionAbs=this._convertPositionTo("absolute")),a.Widget.prototype._trigger.call(this,b,c,e)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),a.extend(a.ui.draggable,{version:"1.8.16"}),a.ui.plugin.add("draggable","connectToSortable",{start:function(b,c){var e=a(this).data("draggable"),f=e.options,g=a.extend({},c,{item:e.element});e.sortables=[],a(f.connectToSortable).each(function(){var c=a.data(this,"sortable");c&&!c.options.disabled&&(e.sortables.push({instance:c,shouldRevert:c.options.revert}),c.refreshPositions(),c._trigger("activate",b,g))})},stop:function(b,c){var e=a(this).data("draggable"),f=a.extend({},c,{item:e.element});a.each(e.sortables,function(){this.instance.isOver?(this.instance.isOver=0,e.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(b),this.instance.options.helper=this.instance.options._helper,e.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",b,f))})},drag:function(b,c){var e=a(this).data("draggable"),f=this;a.each(e.sortables,function(){this.instance.positionAbs=e.positionAbs,this.instance.helperProportions=e.helperProportions,this.instance.offset.click=e.offset.click,this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(f).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return c.helper[0]},b.target=this.instance.currentItem[0],this.instance._mouseCapture(b,!0),this.instance._mouseStart(b,!0,!0),this.instance.offset.click.top=e.offset.click.top,this.instance.offset.click.left=e.offset.click.left,this.instance.offset.parent.left-=e.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=e.offset.parent.top-this.instance.offset.parent.top,e._trigger("toSortable",b),e.dropped=this.instance.element,e.currentItem=e.element,this.instance.fromOutside=e),this.instance.currentItem&&this.instance._mouseDrag(b)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",b,this.instance._uiHash(this.instance)),this.instance._mouseStop(b,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),e._trigger("fromSortable",b),e.dropped=!1)})}}),a.ui.plugin.add("draggable","cursor",{start:function(){var b=a("body"),c=a(this).data("draggable").options;b.css("cursor")&&(c._cursor=b.css("cursor")),b.css("cursor",c.cursor)},stop:function(){var b=a(this).data("draggable").options;b._cursor&&a("body").css("cursor",b._cursor)}}),a.ui.plugin.add("draggable","opacity",{start:function(b,c){b=a(c.helper),c=a(this).data("draggable").options,b.css("opacity")&&(c._opacity=b.css("opacity")),b.css("opacity",c.opacity)},stop:function(b,c){b=a(this).data("draggable").options,b._opacity&&a(c.helper).css("opacity",b._opacity)}}),a.ui.plugin.add("draggable","scroll",{start:function(){var b=a(this).data("draggable");b.scrollParent[0]!=document&&b.scrollParent[0].tagName!="HTML"&&(b.overflowOffset=b.scrollParent.offset())},drag:function(b){var c=a(this).data("draggable"),e=c.options,f=!1;if(c.scrollParent[0]!=document&&c.scrollParent[0].tagName!="HTML"){if(!e.axis||e.axis!="x")c.overflowOffset.top+c.scrollParent[0].offsetHeight-b.pageY<e.scrollSensitivity?c.scrollParent[0].scrollTop=f=c.scrollParent[0].scrollTop+e.scrollSpeed:b.pageY-c.overflowOffset.top<e.scrollSensitivity&&(c.scrollParent[0].scrollTop=f=c.scrollParent[0].scrollTop-e.scrollSpeed);if(!e.axis||e.axis!="y")c.overflowOffset.left+c.scrollParent[0].offsetWidth-b.pageX<e.scrollSensitivity?c.scrollParent[0].scrollLeft=f=c.scrollParent[0].scrollLeft+e.scrollSpeed:b.pageX-c.overflowOffset.left<e.scrollSensitivity&&(c.scrollParent[0].scrollLeft=f=c.scrollParent[0].scrollLeft-e.scrollSpeed)}else{if(!e.axis||e.axis!="x")b.pageY-a(document).scrollTop()<e.scrollSensitivity?f=a(document).scrollTop(a(document).scrollTop()-e.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<e.scrollSensitivity&&(f=a(document).scrollTop(a(document).scrollTop()+e.scrollSpeed));if(!e.axis||e.axis!="y")b.pageX-a(document).scrollLeft()<e.scrollSensitivity?f=a(document).scrollLeft(a(document).scrollLeft()-e.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<e.scrollSensitivity&&(f=a(document).scrollLeft(a(document).scrollLeft()+e.scrollSpeed))}f!==!1&&a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(c,b)}}),a.ui.plugin.add("draggable","snap",{start:function(){var b=a(this).data("draggable"),c=b.options;b.snapElements=[],a(c.snap.constructor!=String?c.snap.items||":data(draggable)":c.snap).each(function(){var c=a(this),e=c.offset();this!=b.element[0]&&b.snapElements.push({item:this,width:c.outerWidth(),height:c.outerHeight(),top:e.top,left:e.left})})},drag:function(b,c){for(var e=a(this).data("draggable"),f=e.options,g=f.snapTolerance,h=c.offset.left,i=h+e.helperProportions.width,j=c.offset.top,k=j+e.helperProportions.height,l=e.snapElements.length-1;l>=0;l--){var m=e.snapElements[l].left,n=m+e.snapElements[l].width,o=e.snapElements[l].top,p=o+e.snapElements[l].height;if(m-g<h&&h<n+g&&o-g<j&&j<p+g||m-g<h&&h<n+g&&o-g<k&&k<p+g||m-g<i&&i<n+g&&o-g<j&&j<p+g||m-g<i&&i<n+g&&o-g<k&&k<p+g){if(f.snapMode!="inner"){var q=Math.abs(o-k)<=g,r=Math.abs(p-j)<=g,s=Math.abs(m-i)<=g,t=Math.abs(n-h)<=g;q&&(c.position.top=e._convertPositionTo("relative",{top:o-e.helperProportions.height,left:0}).top-e.margins.top),r&&(c.position.top=e._convertPositionTo("relative",{top:p,left:0}).top-e.margins.top),s&&(c.position.left=e._convertPositionTo("relative",{top:0,left:m-e.helperProportions.width}).left-e.margins.left),t&&(c.position.left=e._convertPositionTo("relative",{top:0,left:n}).left-e.margins.left)}var u=q||r||s||t;f.snapMode!="outer"&&(q=Math.abs(o-j)<=g,r=Math.abs(p-k)<=g,s=Math.abs(m-h)<=g,t=Math.abs(n-i)<=g,q&&(c.position.top=e._convertPositionTo("relative",{top:o,left:0}).top-e.margins.top),r&&(c.position.top=e._convertPositionTo("relative",{top:p-e.helperProportions.height,left:0}).top-e.margins.top),s&&(c.position.left=e._convertPositionTo("relative",{top:0,left:m}).left-e.margins.left),t&&(c.position.left=e._convertPositionTo("relative",{top:0,left:n-e.helperProportions.width}).left-e.margins.left)),!e.snapElements[l].snapping&&(q||r||s||t||u)&&e.options.snap.snap&&e.options.snap.snap.call(e.element,b,a.extend(e._uiHash(),{snapItem:e.snapElements[l].item})),e.snapElements[l].snapping=q||r||s||t||u}else e.snapElements[l].snapping&&e.options.snap.release&&e.options.snap.release.call(e.element,b,a.extend(e._uiHash(),{snapItem:e.snapElements[l].item})),e.snapElements[l].snapping=!1}}}),a.ui.plugin.add("draggable","stack",{start:function(){var b=a(this).data("draggable").options;b=a.makeArray(a(b.stack)).sort(function(b,c){return(parseInt(a(b).css("zIndex"),10)||0)-(parseInt(a(c).css("zIndex"),10)||0)});if(b.length){var c=parseInt(b[0].style.zIndex)||0;a(b).each(function(a){this.style.zIndex=c+a}),this[0].style.zIndex=c+b.length}}}),a.ui.plugin.add("draggable","zIndex",{start:function(b,c){b=a(c.helper),c=a(this).data("draggable").options,b.css("zIndex")&&(c._zIndex=b.css("zIndex")),b.css("zIndex",c.zIndex)},stop:function(b,c){b=a(this).data("draggable").options,b._zIndex&&a(c.helper).css("zIndex",b._zIndex)}})}(jQuery),function(a){a.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var b=this.options,c=b.accept;this.isover=0,this.isout=1,this.accept=a.isFunction(c)?c:function(a){return a.is(c)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},a.ui.ddmanager.droppables[b.scope]=a.ui.ddmanager.droppables[b.scope]||[],a.ui.ddmanager.droppables[b.scope].push(this),b.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){for(var b=a.ui.ddmanager.droppables[this.options.scope],c=0;c<b.length;c++)b[c]==this&&b.splice(c,1);return this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable"),this},_setOption:function(b,c){b=="accept"&&(this.accept=a.isFunction(c)?c:function(a){return a.is(c)}),a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),c&&this._trigger("activate",b,this.ui(c))},_deactivate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),c&&this._trigger("deactivate",b,this.ui(c))},_over:function(b){var c=a.ui.ddmanager.current;!!c&&(c.currentItem||c.element)[0]!=this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",b,this.ui(c)))},_out:function(b){var c=a.ui.ddmanager.current;!!c&&(c.currentItem||c.element)[0]!=this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",b,this.ui(c)))},_drop:function(b,c){var e=c||a.ui.ddmanager.current;if(!e||(e.currentItem||e.element)[0]==this.element[0])return!1;var f=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var b=a.data(this,"droppable");if(b.options.greedy&&!b.options.disabled&&b.options.scope==e.options.scope&&b.accept.call(b.element[0],e.currentItem||e.element)&&a.ui.intersect(e,a.extend(b,{offset:b.element.offset()}),b.options.tolerance))return f=!0,!1}),f?!1:this.accept.call(this.element[0],e.currentItem||e.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",b,this.ui(e)),this.element):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}}),a.extend(a.ui.droppable,{version:"1.8.16"}),a.ui.intersect=function(b,c,e){if(!c.offset)return!1;var f=(b.positionAbs||b.position.absolute).left,g=f+b.helperProportions.width,h=(b.positionAbs||b.position.absolute).top,i=h+b.helperProportions.height,j=c.offset.left,k=j+c.proportions.width,l=c.offset.top,m=l+c.proportions.height;switch(e){case"fit":return j<=f&&g<=k&&l<=h&&i<=m;case"intersect":return j<f+b.helperProportions.width/2&&g-b.helperProportions.width/2<k&&l<h+b.helperProportions.height/2&&i-b.helperProportions.height/2<m;case"pointer":return a.ui.isOver((b.positionAbs||b.position.absolute).top+(b.clickOffset||b.offset.click).top,(b.positionAbs||b.position.absolute).left+(b.clickOffset||b.offset.click).left,l,j,c.proportions.height,c.proportions.width);case"touch":return(h>=l&&h<=m||i>=l&&i<=m||h<l&&i>m)&&(f>=j&&f<=k||g>=j&&g<=k||f<j&&g>k);default:return!1}},a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(b,c){var e=a.ui.ddmanager.droppables[b.options.scope]||[],f=c?c.type:null,g=(b.currentItem||b.element).find(":data(droppable)").andSelf(),h=0;a:for(;h<e.length;h++)if(!(e[h].options.disabled||b&&!e[h].accept.call(e[h].element[0],b.currentItem||b.element))){for(var i=0;i<g.length;i++)if(g[i]==e[h].element[0]){e[h].proportions.height=0;continue a}e[h].visible=e[h].element.css("display")!="none",e[h].visible&&(f=="mousedown"&&e[h]._activate.call(e[h],c),e[h].offset=e[h].element.offset(),e[h].proportions={width:e[h].element[0].offsetWidth,height:e[h].element[0].offsetHeight})}},drop:function(b,c){var e=!1;return a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&a.ui.intersect(b,this,this.options.tolerance)&&(e=e||this._drop.call(this,c)),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,c)))}),e},dragStart:function(b,c){b.element.parents(":not(body,html)").bind("scroll.droppable",function(){b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)})},drag:function(b,c){b.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(b,c),a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){if(!(this.options.disabled||this.greedyChild||!this.visible)){var e=a.ui.intersect(b,this,this.options.tolerance);if(e=!e&&this.isover==1?"isout":e&&this.isover==0?"isover":null){var f;if(this.options.greedy){var g=this.element.parents(":data(droppable):eq(0)");g.length&&(f=a.data(g[0],"droppable"),f.greedyChild=e=="isover"?1:0)}f&&e=="isover"&&(f.isover=0,f.isout=1,f._out.call(f,c)),this[e]=1,this[e=="isout"?"isover":"isout"]=0,this[e=="isover"?"_over":"_out"].call(this,c),f&&e=="isout"&&(f.isout=0,f.isover=1,f._over.call(f,c))}}})},dragStop:function(b,c){b.element.parents(":not(body,html)").unbind("scroll.droppable"),b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)}}}(jQuery),function(a){a.widget("ui.resizable",a.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var b=this,c=this.options;this.element.addClass("ui-resizable"),a.extend(this,{_aspectRatio:!!c.aspectRatio,aspectRatio:c.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:c.helper||c.ghost||c.animate?c.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(/relative/.test(this.element.css("position"))&&a.browser.opera&&this.element.css({position:"relative",top:"auto",left:"auto"}),this.element.wrap(a('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=c.handles||(a(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");if(this.handles.constructor==String){this.handles=="all"&&(this.handles="n,e,s,w,se,sw,ne,nw");var d=this.handles.split(",");this.handles={};for(var f=0;f<d.length;f++){var g=a.trim(d[f]),h=a('<div class="ui-resizable-handle '+("ui-resizable-"+g)+'"></div>');/sw|se|ne|nw/.test(g)&&h.css({zIndex:++c.zIndex}),"se"==g&&h.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[g]=".ui-resizable-"+g,this.element.append(h)}}this._renderAxis=function(b){b=b||this.element;for(var c in this.handles){this.handles[c].constructor==String&&(this.handles[c]=a(this.handles[c],this.element).show());if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var d=a(this.handles[c],this.element),f=0;f=/sw|ne|nw|se|n|s/.test(c)?d.outerHeight():d.outerWidth(),d=["padding",/ne|nw|n/.test(c)?"Top":/se|sw|s/.test(c)?"Bottom":/^e$/.test(c)?"Right":"Left"].join(""),b.css(d,f),this._proportionallyResize()}a(this.handles[c])}},this._renderAxis(this.element),this._handles=a(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!b.resizing){if(this.className)var a=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);b.axis=a&&a[1]?a[1]:"se"}}),c.autoHide&&(this._handles.hide(),a(this.element).addClass("ui-resizable-autohide").hover(function(){c.disabled||(a(this).removeClass("ui-resizable-autohide"),b._handles.show())},function(){c.disabled||b.resizing||(a(this).addClass("ui-resizable-autohide"),b._handles.hide())})),this._mouseInit()},destroy:function(){this._mouseDestroy();var b=function(b){a(b).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){b(this.element);var c=this.element;c.after(this.originalElement.css({position:c.css("position"),width:c.outerWidth(),height:c.outerHeight(),top:c.css("top"),left:c.css("left")})).remove()}return this.originalElement.css("resize",this.originalResizeStyle),b(this.originalElement),this},_mouseCapture:function(b){var c=!1;for(var d in this.handles)a(this.handles[d])[0]==b.target&&(c=!0);return!this.options.disabled&&c},_mouseStart:function(c){var d=this.options,f=this.element.position(),g=this.element;this.resizing=!0,this.documentScroll={top:a(document).scrollTop(),left:a(document).scrollLeft()},(g.is(".ui-draggable")||/absolute/.test(g.css("position")))&&g.css({position:"absolute",top:f.top,left:f.left}),a.browser.opera&&/relative/.test(g.css("position"))&&g.css({position:"relative",top:"auto",left:"auto"}),this._renderProxy(),f=b(this.helper.css("left"));var h=b(this.helper.css("top"));return d.containment&&(f+=a(d.containment).scrollLeft()||0,h+=a(d.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:f,top:h},this.size=this._helper?{width:g.outerWidth(),height:g.outerHeight()}:{width:g.width(),height:g.height()},this.originalSize=this._helper?{width:g.outerWidth(),height:g.outerHeight()}:{width:g.width(),height:g.height()},this.originalPosition={left:f,top:h},this.sizeDiff={width:g.outerWidth()-g.width(),height:g.outerHeight()-g.height()},this.originalMousePosition={left:c.pageX,top:c.pageY},this.aspectRatio=typeof d.aspectRatio=="number"?d.aspectRatio:this.originalSize.width/this.originalSize.height||1,d=a(".ui-resizable-"+this.axis).css("cursor"),a("body").css("cursor",d=="auto"?this.axis+"-resize":d),g.addClass("ui-resizable-resizing"),this._propagate("start",c),!0},_mouseDrag:function(a){var b=this.helper,c=this.originalMousePosition,d=this._change[this.axis];if(!d)return!1;c=d.apply(this,[a,a.pageX-c.left||0,a.pageY-c.top||0]),this._updateVirtualBoundaries(a.shiftKey);if(this._aspectRatio||a.shiftKey)c=this._updateRatio(c,a);return c=this._respectSize(c,a),this._propagate("resize",a),b.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(c),this._trigger("resize",a,this.ui()),!1},_mouseStop:function(b){this.resizing=!1;var c=this.options,d=this;if(this._helper){var f=this._proportionallyResizeElements,g=f.length&&/textarea/i.test(f[0].nodeName);f=g&&a.ui.hasScroll(f[0],"left")?0:d.sizeDiff.height,g=g?0:d.sizeDiff.width,g={width:d.helper.width()-g,height:d.helper.height()-f},f=parseInt(d.element.css("left"),10)+(d.position.left-d.originalPosition.left)||null;var h=parseInt(d.element.css("top"),10)+(d.position.top-d.originalPosition.top)||null;c.animate||this.element.css(a.extend(g,{top:h,left:f})),d.helper.height(d.size.height),d.helper.width(d.size.width),this._helper&&!c.animate&&this._proportionallyResize()}return a("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",b),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(a){var b=this.options,d,e,f;b={minWidth:c(b.minWidth)?b.minWidth:0,maxWidth:c(b.maxWidth)?b.maxWidth:Infinity,minHeight:c(b.minHeight)?b.minHeight:0,maxHeight:c(b.maxHeight)?b.maxHeight:Infinity};if(this._aspectRatio||a)a=b.minHeight*this.aspectRatio,e=b.minWidth/this.aspectRatio,d=b.maxHeight*this.aspectRatio,f=b.maxWidth/this.aspectRatio,a>b.minWidth&&(b.minWidth=a),e>b.minHeight&&(b.minHeight=e),d<b.maxWidth&&(b.maxWidth=d),f<b.maxHeight&&(b.maxHeight=f);this._vBoundaries=b},_updateCache:function(a){this.offset=this.helper.offset(),c(a.left)&&(this.position.left=a.left),c(a.top)&&(this.position.top=a.top),c(a.height)&&(this.size.height=a.height),c(a.width)&&(this.size.width=a.width)},_updateRatio:function(a){var b=this.position,d=this.size,e=this.axis;return c(a.height)?a.width=a.height*this.aspectRatio:c(a.width)&&(a.height=a.width/this.aspectRatio),e=="sw"&&(a.left=b.left+(d.width-a.width),a.top=null),e=="nw"&&(a.top=b.top+(d.height-a.height),a.left=b.left+(d.width-a.width)),a},_respectSize:function(a){var b=this._vBoundaries,d=this.axis,e=c(a.width)&&b.maxWidth&&b.maxWidth<a.width,f=c(a.height)&&b.maxHeight&&b.maxHeight<a.height,g=c(a.width)&&b.minWidth&&b.minWidth>a.width,h=c(a.height)&&b.minHeight&&b.minHeight>a.height;g&&(a.width=b.minWidth),h&&(a.height=b.minHeight),e&&(a.width=b.maxWidth),f&&(a.height=b.maxHeight);var i=this.originalPosition.left+this.originalSize.width,j=this.position.top+this.size.height,l=/sw|nw|w/.test(d);return d=/nw|ne|n/.test(d),g&&l&&(a.left=i-b.minWidth),e&&l&&(a.left=i-b.maxWidth),h&&d&&(a.top=j-b.minHeight),f&&d&&(a.top=j-b.maxHeight),(b=!a.width&&!a.height)&&!a.left&&a.top?a.top=null:b&&!a.top&&a.left&&(a.left=null),a},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var b=this.helper||this.element,c=0;c<this._proportionallyResizeElements.length;c++){var d=this._proportionallyResizeElements[c];if(!this.borderDif){var f=[d.css("borderTopWidth"),d.css("borderRightWidth"),d.css("borderBottomWidth"),d.css("borderLeftWidth")],g=[d.css("paddingTop"),d.css("paddingRight"),d.css("paddingBottom"),d.css("paddingLeft")];this.borderDif=a.map(f,function(a,b){return a=parseInt(a,10)||0,b=parseInt(g[b],10)||0,a+b})}a.browser.msie&&(a(b).is(":hidden")||a(b).parents(":hidden").length)||d.css({height:b.height()-this.borderDif[0]-this.borderDif[2]||0,width:b.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var b=this.options;this.elementOffset=this.element.offset();if(this._helper){this.helper=this.helper||a('<div style="overflow:hidden;"></div>');var c=a.browser.msie&&a.browser.version<7,d=c?1:0;c=c?2:-1,this.helper.addClass(this._helper).css({width:this.element.outerWidth()+c,height:this.element.outerHeight()+c,position:"absolute",left:this.elementOffset.left-d+"px",top:this.elementOffset.top-d+"px",zIndex:++b.zIndex}),this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(a,b){return{width:this.originalSize.width+b}},w:function(a,b){return{left:this.originalPosition.left+b,width:this.originalSize.width-b}},n:function(a,b,c){return{top:this.originalPosition.top+c,height:this.originalSize.height-c}},s:function(a,b,c){return{height:this.originalSize.height+c}},se:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},sw:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,c,d]))},ne:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},nw:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,c,d]))}},_propagate:function(b,c){a.ui.plugin.call(this,b,[c,this.ui()]),b!="resize"&&this._trigger(b,c,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),a.extend(a.ui.resizable,{version:"1.8.16"}),a.ui.plugin.add("resizable","alsoResize",{start:function(){var b=a(this).data("resizable").options,c=function(b){a(b).each(function(){var b=a(this);b.data("resizable-alsoresize",{width:parseInt(b.width(),10),height:parseInt(b.height(),10),left:parseInt(b.css("left"),10),top:parseInt(b.css("top"),10),position:b.css("position")})})};typeof b.alsoResize=="object"&&!b.alsoResize.parentNode?b.alsoResize.length?(b.alsoResize=b.alsoResize[0],c(b.alsoResize)):a.each(b.alsoResize,function(a){c(a)}):c(b.alsoResize)},resize:function(b,c){var d=a(this).data("resizable");b=d.options;var f=d.originalSize,g=d.originalPosition,h={height:d.size.height-f.height||0,width:d.size.width-f.width||0,top:d.position.top-g.top||0,left:d.position.left-g.left||0},i=function(b,f){a(b).each(function(){var b=a(this),g=a(this).data("resizable-alsoresize"),i={},k=f&&f.length?f:b.parents(c.originalElement[0]).length?["width","height"]:["width","height","top","left"];a.each(k,function(a,b){(a=(g[b]||0)+(h[b]||0))&&a>=0&&(i[b]=a||null)}),a.browser.opera&&/relative/.test(b.css("position"))&&(d._revertToRelativePosition=!0,b.css({position:"absolute",top:"auto",left:"auto"})),b.css(i)})};typeof b.alsoResize=="object"&&!b.alsoResize.nodeType?a.each(b.alsoResize,function(a,b){i(a,b)}):i(b.alsoResize)},stop:function(){var b=a(this).data("resizable"),c=b.options,d=function(b){a(b).each(function(){var b=a(this);b.css({position:b.data("resizable-alsoresize").position})})};b._revertToRelativePosition&&(b._revertToRelativePosition=!1,typeof c.alsoResize=="object"&&!c.alsoResize.nodeType?a.each(c.alsoResize,function(a){d(a)}):d(c.alsoResize)),a(this).removeData("resizable-alsoresize")}}),a.ui.plugin.add("resizable","animate",{stop:function(b){var c=a(this).data("resizable"),d=c.options,f=c._proportionallyResizeElements,g=f.length&&/textarea/i.test(f[0].nodeName),h=g&&a.ui.hasScroll(f[0],"left")?0:c.sizeDiff.height;g={width:c.size.width-(g?0:c.sizeDiff.width),height:c.size.height-h},h=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null;var i=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null;c.element.animate(a.extend(g,i&&h?{top:i,left:h}:{}),{duration:d.animateDuration,easing:d.animateEasing,step:function(){var d={width:parseInt(c.element.css("width"),10),height:parseInt(c.element.css("height"),10),top:parseInt(c.element.css("top"),10),left:parseInt(c.element.css("left"),10)};f&&f.length&&a(f[0]).css({width:d.width,height:d.height}),c._updateCache(d),c._propagate("resize",b)}})}}),a.ui.plugin.add("resizable","containment",{start:function(){var c=a(this).data("resizable"),d=c.element,f=c.options.containment;if(d=f instanceof a?f.get(0):/parent/.test(f)?d.parent().get(0):f){c.containerElement=a(d);if(/document/.test(f)||f==document)c.containerOffset={left:0,top:0},c.containerPosition={left:0,top:0},c.parentData={element:a(document),left:0,top:0,width:a(document).width(),height:a(document).height()||document.body.parentNode.scrollHeight};else{var g=a(d),h=[];a(["Top","Right","Left","Bottom"]).each(function(a,c){h[a]=b(g.css("padding"+c))}),c.containerOffset=g.offset(),c.containerPosition=g.position(),c.containerSize={height:g.innerHeight()-h[3],width:g.innerWidth()-h[1]},f=c.containerOffset;var i=c.containerSize.height,j=c.containerSize.width;j=a.ui.hasScroll(d,"left")?d.scrollWidth:j,i=a.ui.hasScroll(d)?d.scrollHeight:i,c.parentData={element:d,left:f.left,top:f.top,width:j,height:i}}}},resize:function(b){var c=a(this).data("resizable"),d=c.options,f=c.containerOffset,g=c.position;b=c._aspectRatio||b.shiftKey;var h={top:0,left:0},i=c.containerElement;i[0]!=document&&/static/.test(i.css("position"))&&(h=f),g.left<(c._helper?f.left:0)&&(c.size.width+=c._helper?c.position.left-f.left:c.position.left-h.left,b&&(c.size.height=c.size.width/d.aspectRatio),c.position.left=d.helper?f.left:0),g.top<(c._helper?f.top:0)&&(c.size.height+=c._helper?c.position.top-f.top:c.position.top,b&&(c.size.width=c.size.height*d.aspectRatio),c.position.top=c._helper?f.top:0),c.offset.left=c.parentData.left+c.position.left,c.offset.top=c.parentData.top+c.position.top,d=Math.abs((c._helper?c.offset.left-h.left:c.offset.left-h.left)+c.sizeDiff.width),f=Math.abs((c._helper?c.offset.top-h.top:c.offset.top-f.top)+c.sizeDiff.height),g=c.containerElement.get(0)==c.element.parent().get(0),h=/relative|absolute/.test(c.containerElement.css("position")),g&&h&&(d-=c.parentData.left),d+c.size.width>=c.parentData.width&&(c.size.width=c.parentData.width-d,b&&(c.size.height=c.size.width/c.aspectRatio)),f+c.size.height>=c.parentData.height&&(c.size.height=c.parentData.height-f,b&&(c.size.width=c.size.height*c.aspectRatio))},stop:function(){var b=a(this).data("resizable"),c=b.options,d=b.containerOffset,f=b.containerPosition,g=b.containerElement,h=a(b.helper),i=h.offset(),j=h.outerWidth()-b.sizeDiff.width;h=h.outerHeight()-b.sizeDiff.height,b._helper&&!c.animate&&/relative/.test(g.css("position"))&&a(this).css({left:i.left-f.left-d.left,width:j,height:h}),b._helper&&!c.animate&&/static/.test(g.css("position"))&&a(this).css({left:i.left-f.left-d.left,width:j,height:h})}}),a.ui.plugin.add("resizable","ghost",{start:function(){var b=a(this).data("resizable"),c=b.options,d=b.size;b.ghost=b.originalElement.clone(),b.ghost.css({opacity:.25,display:"block",position:"relative",height:d.height,width:d.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof c.ghost=="string"?c.ghost:""),b.ghost.appendTo(b.helper)},resize:function(){var b=a(this).data("resizable");b.ghost&&b.ghost.css({position:"relative",height:b.size.height,width:b.size.width})},stop:function(){var b=a(this).data("resizable");b.ghost&&b.helper&&b.helper.get(0).removeChild(b.ghost.get(0))}}),a.ui.plugin.add("resizable","grid",{resize:function(){var b=a(this).data("resizable"),c=b.options,d=b.size,f=b.originalSize,g=b.originalPosition,h=b.axis;c.grid=typeof c.grid=="number"?[c.grid,c.grid]:c.grid;var i=Math.round((d.width-f.width)/(c.grid[0]||1))*(c.grid[0]||1);c=Math.round((d.height-f.height)/(c.grid[1]||1))*(c.grid[1]||1),/^(se|s|e)$/.test(h)?(b.size.width=f.width+i,b.size.height=f.height+c):/^(ne)$/.test(h)?(b.size.width=f.width+i,b.size.height=f.height+c,b.position.top=g.top-c):(/^(sw)$/.test(h)?(b.size.width=f.width+i,b.size.height=f.height+c):(b.size.width=f.width+i,b.size.height=f.height+c,b.position.top=g.top-c),b.position.left=g.left-i)}});var b=function(a){return parseInt(a,10)||0},c=function(a){return!isNaN(parseInt(a,10))}}(jQuery),function(a){a.widget("ui.selectable",a.ui.mouse,{options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var b=this;this.element.addClass("ui-selectable"),this.dragged=!1;var c;this.refresh=function(){c=a(b.options.filter,b.element[0]),c.each(function(){var b=a(this),c=b.offset();a.data(this,"selectable-item",{element:this,$element:b,left:c.left,top:c.top,right:c.left+b.outerWidth(),bottom:c.top+b.outerHeight(),startselected:!1,selected:b.hasClass("ui-selected"),selecting:b.hasClass("ui-selecting"),unselecting:b.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=c.addClass("ui-selectee"),this._mouseInit(),this.helper=a("<div class='ui-selectable-helper'></div>")},destroy:function(){return this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable"),this._mouseDestroy(),this},_mouseStart:function(b){var c=this;this.opos=[b.pageX,b.pageY];if(!this.options.disabled){var d=this.options;this.selectees=a(d.filter,this.element[0]),this._trigger("start",b),a(d.appendTo).append(this.helper),this.helper.css({left:b.clientX,top:b.clientY,width:0,height:0}),d.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var d=a.data(this,"selectable-item");d.startselected=!0,b.metaKey||(d.$element.removeClass("ui-selected"),d.selected=!1,d.$element.addClass("ui-unselecting"),d.unselecting=!0,c._trigger("unselecting",b,{unselecting:d.element}))}),a(b.target).parents().andSelf().each(function(){var d=a.data(this,"selectable-item");if(d){var g=!b.metaKey||!d.$element.hasClass("ui-selected");return d.$element.removeClass(g?"ui-unselecting":"ui-selected").addClass(g?"ui-selecting":"ui-unselecting"),d.unselecting=!g,d.selecting=g,(d.selected=g)?c._trigger("selecting",b,{selecting:d.element}):c._trigger("unselecting",b,{unselecting:d.element}),!1}})}},_mouseDrag:function(b){var c=this;this.dragged=!0;if(!this.options.disabled){var d=this.options,f=this.opos[0],g=this.opos[1],h=b.pageX,i=b.pageY;if(f>h){var j=h;h=f,f=j}return g>i&&(j=i,i=g,g=j),this.helper.css({left:f,top:g,width:h-f,height:i-g}),this.selectees.each(function(){var j=a.data(this,"selectable-item");if(!!j&&j.element!=c.element[0]){var k=!1;d.tolerance=="touch"?k=!(j.left>h||j.right<f||j.top>i||j.bottom<g):d.tolerance=="fit"&&(k=j.left>f&&j.right<h&&j.top>g&&j.bottom<i),k?(j.selected&&(j.$element.removeClass("ui-selected"),j.selected=!1),j.unselecting&&(j.$element.removeClass("ui-unselecting"),j.unselecting=!1),j.selecting||(j.$element.addClass("ui-selecting"),j.selecting=!0,c._trigger("selecting",b,{selecting:j.element}))):(j.selecting&&(b.metaKey&&j.startselected?(j.$element.removeClass("ui-selecting"),j.selecting=!1,j.$element.addClass("ui-selected"),j.selected=!0):(j.$element.removeClass("ui-selecting"),j.selecting=!1,j.startselected&&(j.$element.addClass("ui-unselecting"),j.unselecting=!0),c._trigger("unselecting",b,{unselecting:j.element}))),j.selected&&!b.metaKey&&!j.startselected&&(j.$element.removeClass("ui-selected"),j.selected=!1,j.$element.addClass("ui-unselecting"),j.unselecting=!0,c._trigger("unselecting",b,{unselecting:j.element})))}}),!1}},_mouseStop:function(b){var c=this;return this.dragged=!1,a(".ui-unselecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-unselecting"),d.unselecting=!1,d.startselected=!1,c._trigger("unselected",b,{unselected:d.element})}),a(".ui-selecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-selecting").addClass("ui-selected"),d.selecting=!1,d.selected=!0,d.startselected=!0,c._trigger("selected",b,{selected:d.element})}),this._trigger("stop",b),this.helper.remove(),!1}}),a.extend(a.ui.selectable,{version:"1.8.16"})}(jQuery),function(a){a.widget("ui.sortable",a.ui.mouse,{widgetEventPrefix:"sort",options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var a=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?a.axis==="x"||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1,this.offset=this.element.offset(),this._mouseInit()},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").removeData("sortable").unbind(".sortable"),this._mouseDestroy();for(var a=this.items.length-1;a>=0;a--)this.items[a].item.removeData("sortable-item");return this},_setOption:function(b,c){b==="disabled"?(this.options[b]=c,this.widget()[c?"addClass":"removeClass"]("ui-sortable-disabled")):a.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(b,c){if(this.reverting)return!1;if(this.options.disabled||this.options.type=="static")return!1;this._refreshItems(b);var e=null,f=this;a(b.target).parents().each(function(){if(a.data(this,"sortable-item")==f)return e=a(this),!1}),a.data(b.target,"sortable-item")==f&&(e=a(b.target));if(!e)return!1;if(this.options.handle&&!c){var g=!1;a(this.options.handle,e).find("*").andSelf().each(function(){this==b.target&&(g=!0)});if(!g)return!1}return this.currentItem=e,this._removeCurrentsFromItems(),!0},_mouseStart:function(b,c,e){c=this.options;var f=this;this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(b),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),c.containment&&this._setContainment(),c.cursor&&(a("body").css("cursor")&&(this._storedCursor=a("body").css("cursor")),a("body").css("cursor",c.cursor)),c.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",c.opacity)),c.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",c.zIndex)),this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",b,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions();if(!e)for(e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("activate",b,f._uiHash(this));return a.ui.ddmanager&&(a.ui.ddmanager.current=this),a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(b),!0},_mouseDrag:function(b){this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);if(this.options.scroll){var c=this.options,e=!1;this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-b.pageY<c.scrollSensitivity?this.scrollParent[0].scrollTop=e=this.scrollParent[0].scrollTop+c.scrollSpeed:b.pageY-this.overflowOffset.top<c.scrollSensitivity&&(this.scrollParent[0].scrollTop=e=this.scrollParent[0].scrollTop-c.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-b.pageX<c.scrollSensitivity?this.scrollParent[0].scrollLeft=e=this.scrollParent[0].scrollLeft+c.scrollSpeed:b.pageX-this.overflowOffset.left<c.scrollSensitivity&&(this.scrollParent[0].scrollLeft=e=this.scrollParent[0].scrollLeft-c.scrollSpeed)):(b.pageY-a(document).scrollTop()<c.scrollSensitivity?e=a(document).scrollTop(a(document).scrollTop()-c.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<c.scrollSensitivity&&(e=a(document).scrollTop(a(document).scrollTop()+c.scrollSpeed)),b.pageX-a(document).scrollLeft()<c.scrollSensitivity?e=a(document).scrollLeft(a(document).scrollLeft()-c.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<c.scrollSensitivity&&(e=a(document).scrollLeft(a(document).scrollLeft()+c.scrollSpeed))),e!==!1&&a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b)}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";for(c=this.items.length-1;c>=0;c--){e=this.items[c];var f=e.item[0],g=this._intersectsWithPointer(e);if(g&&f!=this.currentItem[0]&&this.placeholder[g==1?"next":"prev"]()[0]!=f&&!a.ui.contains(this.placeholder[0],f)&&(this.options.type=="semi-dynamic"?!a.ui.contains(this.element[0],f):!0)){this.direction=g==1?"down":"up";if(this.options.tolerance!="pointer"&&!this._intersectsWithSides(e))break;this._rearrange(b,e),this._trigger("change",b,this._uiHash());break}}return this._contactContainers(b),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),this._trigger("sort",b,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(b,c){if(b){a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,b);if(this.options.revert){var e=this;c=e.placeholder.offset(),e.reverting=!0,a(this.helper).animate({left:c.left-this.offset.parent.left-e.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:c.top-this.offset.parent.top-e.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){e._clear(b)})}else this._clear(b,c);return!1}},cancel:function(){var b=this;if(this.dragging){this._mouseUp({target:null}),this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var c=this.containers.length-1;c>=0;c--)this.containers[c]._trigger("deactivate",null,b._uiHash(this)),this.containers[c].containerCache.over&&(this.containers[c]._trigger("out",null,b._uiHash(this)),this.containers[c].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),a.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(b){var c=this._getItemsAsjQuery(b&&b.connected),e=[];return b=b||{},a(c).each(function(){var c=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[-=_](.+)/);c&&e.push((b.key||c[1]+"[]")+"="+(b.key&&b.expression?c[1]:c[2]))}),!e.length&&b.key&&e.push(b.key+"="),e.join("&")},toArray:function(b){var c=this._getItemsAsjQuery(b&&b.connected),e=[];return b=b||{},c.each(function(){e.push(a(b.item||this).attr(b.attribute||"id")||"")}),e},_intersectsWith:function(a){var b=this.positionAbs.left,c=b+this.helperProportions.width,d=this.positionAbs.top,e=d+this.helperProportions.height,f=a.left,g=f+a.width,h=a.top,i=h+a.height,j=this.offset.click.top,k=this.offset.click.left;return j=d+j>h&&d+j<i&&b+k>f&&b+k<g,this.options.tolerance=="pointer"||this.options.forcePointerForContainers||this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?j:f<b+this.helperProportions.width/2&&c-this.helperProportions.width/2<g&&h<d+this.helperProportions.height/2&&e-this.helperProportions.height/2<i},_intersectsWithPointer:function(b){var c=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,b.top,b.height);b=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,b.left,b.width),c=c&&b,b=this._getDragVerticalDirection();var e=this._getDragHorizontalDirection();return c?this.floating?e&&e=="right"||b=="down"?2:1:b&&(b=="down"?2:1):!1},_intersectsWithSides:function(b){var c=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,b.top+b.height/2,b.height);b=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,b.left+b.width/2,b.width);var e=this._getDragVerticalDirection(),f=this._getDragHorizontalDirection();return this.floating&&f?f=="right"&&b||f=="left"&&!b:e&&(e=="down"&&c||e=="up"&&!c)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return a!=0&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return a!=0&&(a>0?"right":"left")},refresh:function(a){return this._refreshItems(a),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor==String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(b){var c=[],e=[],f=this._connectWith();if(f&&b)for(b=f.length-1;b>=0;b--)for(var g=a(f[b]),h=g.length-1;h>=0;h--){var i=a.data(g[h],"sortable");i&&i!=this&&!i.options.disabled&&e.push([a.isFunction(i.options.items)?i.options.items.call(i.element):a(i.options.items,i.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),i])}e.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(b=e.length-1;b>=0;b--)e[b][0].each(function(){c.push(this)});return a(c)},_removeCurrentsFromItems:function(){for(var a=this.currentItem.find(":data(sortable-item)"),b=0;b<this.items.length;b++)for(var c=0;c<a.length;c++)a[c]==this.items[b].item[0]&&this.items.splice(b,1)},_refreshItems:function(b){this.items=[],this.containers=[this];var c=this.items,e=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,this.element),this]],f=this._connectWith();if(f)for(var g=f.length-1;g>=0;g--)for(var h=a(f[g]),i=h.length-1;i>=0;i--){var j=a.data(h[i],"sortable");j&&j!=this&&!j.options.disabled&&(e.push([a.isFunction(j.options.items)?j.options.items.call(j.element[0],b,{item:this.currentItem}):a(j.options.items,j.element),j]),this.containers.push(j))}for(g=e.length-1;g>=0;g--){b=e[g][1],f=e[g][0],i=0;for(h=f.length;i<h;i++)j=a(f[i]),j.data("sortable-item",b),c.push({item:j,instance:b,width:0,height:0,left:0,top:0})}},refreshPositions:function(b){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var c=this.items.length-1;c>=0;c--){var e=this.items[c];if(e.instance==this.currentContainer||!this.currentContainer||e.item[0]==this.currentItem[0]){var f=this.options.toleranceElement?a(this.options.toleranceElement,e.item):e.item;b||(e.width=f.outerWidth(),e.height=f.outerHeight()),f=f.offset(),e.left=f.left,e.top=f.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(c=this.containers.length-1;c>=0;c--)f=this.containers[c].element.offset(),this.containers[c].containerCache.left=f.left,this.containers[c].containerCache.top=f.top,this.containers[c].containerCache.width=this.containers[c].element.outerWidth(),this.containers[c].containerCache.height=this.containers[c].element.outerHeight();return this},_createPlaceholder:function(b){var c=b||this,e=c.options;if(!e.placeholder||e.placeholder.constructor==String){var f=e.placeholder;e.placeholder={element:function(){var b=a(document.createElement(c.currentItem[0].nodeName)).addClass(f||c.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return f||(b.style.visibility="hidden"),b},update:function(a,b){if(!f||!!e.forcePlaceholderSize)b.height()||b.height(c.currentItem.innerHeight()-parseInt(c.currentItem.css("paddingTop")||0,10)-parseInt(c.currentItem.css("paddingBottom")||0,10)),b.width()||b.width(c.currentItem.innerWidth()-parseInt(c.currentItem.css("paddingLeft")||0,10)-parseInt(c.currentItem.css("paddingRight")||0,10))}}}c.placeholder=a(e.placeholder.element.call(c.element,c.currentItem)),c.currentItem.after(c.placeholder),e.placeholder.update(c,c.placeholder)},_contactContainers:function(b){for(var c=null,e=null,f=this.containers.length-1;f>=0;f--)if(!a.ui.contains(this.currentItem[0],this.containers[f].element[0]))if(this._intersectsWith(this.containers[f].containerCache)){if(!c||!a.ui.contains(this.containers[f].element[0],c.element[0]))c=this.containers[f],e=f}else this.containers[f].containerCache.over&&(this.containers[f]._trigger("out",b,this._uiHash(this)),this.containers[f].containerCache.over=0);if(c)if(this.containers.length===1)this.containers[e]._trigger("over",b,this._uiHash(this)),this.containers[e].containerCache.over=1;else if(this.currentContainer!=this.containers[e]){c=1e4,f=null;for(var g=this.positionAbs[this.containers[e].floating?"left":"top"],h=this.items.length-1;h>=0;h--)if(a.ui.contains(this.containers[e].element[0],this.items[h].item[0])){var i=this.items[h][this.containers[e].floating?"left":"top"];Math.abs(i-g)<c&&(c=Math.abs(i-g),f=this.items[h])}if(f||this.options.dropOnEmpty)this.currentContainer=this.containers[e],f?this._rearrange(b,f,null,!0):this._rearrange(b,null,this.containers[e].element,!0),this._trigger("change",b,this._uiHash()),this.containers[e]._trigger("change",b,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[e]._trigger("over",b,this._uiHash(this)),this.containers[e].containerCache.over=1}},_createHelper:function(b){var c=this.options;return b=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b,this.currentItem])):c.helper=="clone"?this.currentItem.clone():this.currentItem,b.parents("body").length||a(c.appendTo!="parent"?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(b[0]),b[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(b[0].style.width==""||c.forceHelperSize)&&b.width(this.currentItem.width()),(b[0].style.height==""||c.forceHelperSize)&&b.height(this.currentItem.height()),b},_adjustOffsetFromHelper:function(b){typeof b=="string"&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;b.containment=="parent"&&(b.containment=this.helper[0].parentNode);if(b.containment=="document"||b.containment=="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a(b.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(a(b.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(b.containment)){var c=a(b.containment)[0];b=a(b.containment).offset();var e=a(c).css("overflow")!="hidden";this.containment=[b.left+(parseInt(a(c).css("borderLeftWidth"),10)||0)+(parseInt(a(c).css("paddingLeft"),10)||0)-this.margins.left,b.top+(parseInt(a(c).css("borderTopWidth"),10)||0)+(parseInt(a(c).css("paddingTop"),10)||0)-this.margins.top,b.left+(e?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(a(c).css("borderLeftWidth"),10)||0)-(parseInt(a(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,b.top+(e?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(a(c).css("borderTopWidth"),10)||0)-(parseInt(a(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(b,c){c||(c=this.position),b=b=="absolute"?1:-1;var e=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!a.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,f=/(html|body)/i.test(e[0].tagName);return{top:c.top+this.offset.relative.top*b+this.offset.parent.top*b-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():f?0:e.scrollTop())*b),left:c.left+this.offset.relative.left*b+this.offset.parent.left*b-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():f?0:e.scrollLeft())*b)}},_generatePosition:function(b){var c=this.options,e=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!a.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,f=/(html|body)/i.test(e[0].tagName);this.cssPosition=="relative"&&(this.scrollParent[0]==document||this.scrollParent[0]==this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset());var g=b.pageX,h=b.pageY;return this.originalPosition&&(this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(g=this.containment[0]+this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(h=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&(g=this.containment[2]+this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(h=this.containment[3]+this.offset.click.top)),c.grid&&(h=this.originalPageY+Math.round((h-this.originalPageY)/c.grid[1])*c.grid[1],h=this.containment?h-this.offset.click.top<this.containment[1]||h-this.offset.click.top>this.containment[3]?h-this.offset.click.top<this.containment[1]?h+c.grid[1]:h-c.grid[1]:h:h,g=this.originalPageX+Math.round((g-this.originalPageX)/c.grid[0])*c.grid[0],g=this.containment?g-this.offset.click.left<this.containment[0]||g-this.offset.click.left>this.containment[2]?g-this.offset.click.left<this.containment[0]?g+c.grid[0]:g-c.grid[0]:g:g)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():f?0:e.scrollTop()),left:g-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():f?0:e.scrollLeft())}},_rearrange:function(a,b,c,d){c?c[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],this.direction=="down"?b.item[0]:b.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var e=this,f=this.counter;window.setTimeout(function(){f==e.counter&&e.refreshPositions(!d)},0)},_clear:function(b,c){this.reverting=!1;var e=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var f in this._storedCSS)if(this._storedCSS[f]=="auto"||this._storedCSS[f]=="static")this._storedCSS[f]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!c&&e.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!c&&e.push(function(a){this._trigger("update",a,this._uiHash())});if(!a.ui.contains(this.element[0],this.currentItem[0])){c||e.push(function(a){this._trigger("remove",a,this._uiHash())});for(f=this.containers.length-1;f>=0;f--)a.ui.contains(this.containers[f].element[0],this.currentItem[0])&&!c&&(e.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,this.containers[f])),e.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.containers[f])))}for(f=this.containers.length-1;f>=0;f--)c||e.push(function(a){return function(b){a._trigger("deactivate",b,this._uiHash(this))}}.call(this,this.containers[f])),this.containers[f].containerCache.over&&(e.push(function(a){return function(b){a._trigger("out",b,this._uiHash(this))}}.call(this,this.containers[f])),this.containers[f].containerCache.over=0);this._storedCursor&&a("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex),this.dragging=!1;if(this.cancelHelperRemoval){if(!c){this._trigger("beforeStop",b,this._uiHash());for(f=0;f<e.length;f++)e[f].call(this,b);this._trigger("stop",b,this._uiHash())}return!1}c||this._trigger("beforeStop",b,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null;if(!c){for(f=0;f<e.length;f++)e[f].call(this,b);this._trigger("stop",b,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){a.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(b){var c=b||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:b?b.element:null}}}),a.extend(a.ui.sortable,{version:"1.8.16"})}(jQuery),function(a){a.widget("ui.accordion",{options:{active:0,animated:"slide",autoHeight:!0,clearStyle:!1,collapsible:!1,event:"click",fillSpace:!1,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}},_create:function(){var b=this,d=b.options;b.running=0,b.element.addClass("ui-accordion ui-widget ui-helper-reset").children("li").addClass("ui-accordion-li-fix"),b.headers=b.element.find(d.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){d.disabled||a(this).addClass("ui-state-hover")}).bind("mouseleave.accordion",function(){d.disabled||a(this).removeClass("ui-state-hover")}).bind("focus.accordion",function(){d.disabled||a(this).addClass("ui-state-focus")}).bind("blur.accordion",function(){d.disabled||a(this).removeClass("ui-state-focus")}),b.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom");if(d.navigation){var e=b.element.find("a").filter(d.navigationFilter).eq(0);if(e.length){var f=e.closest(".ui-accordion-header");b.active=f.length?f:e.closest(".ui-accordion-content").prev()}}b.active=b._findActive(b.active||d.active).addClass("ui-state-default ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top"),b.active.next().addClass("ui-accordion-content-active"),b._createIcons(),b.resize(),b.element.attr("role","tablist"),b.headers.attr("role","tab").bind("keydown.accordion",function(a){return b._keydown(a)}).next().attr("role","tabpanel"),b.headers.not(b.active||"").attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).next().hide(),b.active.length?b.active.attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}):b.headers.eq(0).attr("tabIndex",0),a.browser.safari||b.headers.find("a").attr("tabIndex",-1),d.event&&b.headers.bind(d.event.split(" ").join(".accordion ")+".accordion",function(a){b._clickHandler.call(b,a,this),a.preventDefault()})},_createIcons:function(){var b=this.options;b.icons&&(a("<span></span>").addClass("ui-icon "+b.icons.header).prependTo(this.headers),this.active.children(".ui-icon").toggleClass(b.icons.header).toggleClass(b.icons.headerSelected),this.element.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.children(".ui-icon").remove(),this.element.removeClass("ui-accordion-icons")},destroy:function(){var b=this.options;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("tabIndex"),this.headers.find("a").removeAttr("tabIndex"),this._destroyIcons();var d=this.headers.next().css("display","").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled");return(b.autoHeight||b.fillHeight)&&d.css("height",""),a.Widget.prototype.destroy.call(this)},_setOption:function(b,d){a.Widget.prototype._setOption.apply(this,arguments),b=="active"&&this.activate(d),b=="icons"&&(this._destroyIcons(),d&&this._createIcons()),b=="disabled"&&this.headers.add(this.headers.next())[d?"addClass":"removeClass"]("ui-accordion-disabled ui-state-disabled")},_keydown:function(b){if(!(this.options.disabled||b.altKey||b.ctrlKey)){var d=a.ui.keyCode,e=this.headers.length,f=this.headers.index(b.target),g=!1;switch(b.keyCode){case d.RIGHT:case d.DOWN:g=this.headers[(f+1)%e];break;case d.LEFT:case d.UP:g=this.headers[(f-1+e)%e];break;case d.SPACE:case d.ENTER:this._clickHandler({target:b.target},b.target),b.preventDefault()}return g?(a(b.target).attr("tabIndex",-1),a(g).attr("tabIndex",0),g.focus(),!1):!0}},resize:function(){var b=this.options,d;if(b.fillSpace){if(a.browser.msie){var e=this.element.parent().css("overflow");this.element.parent().css("overflow","hidden")}d=this.element.parent().height(),a.browser.msie&&this.element.parent().css("overflow",e),this.headers.each(function(){d-=a(this).outerHeight(!0)}),this.headers.next().each(function(){a(this).height(Math.max(0,d-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")}else b.autoHeight&&(d=0,this.headers.next().each(function(){d=Math.max(d,a(this).height("").height())}).height(d));return this},activate:function(a){return this.options.active=a,a=this._findActive(a)[0],this._clickHandler({target:a},a),this},_findActive:function(b){return b?typeof b=="number"?this.headers.filter(":eq("+b+")"):this.headers.not(this.headers.not(b)):b===!1?a([]):this.headers.filter(":eq(0)")},_clickHandler:function(b,d){var e=this.options;if(!e.disabled)if(b.target){b=a(b.currentTarget||d),d=b[0]===this.active[0],e.active=e.collapsible&&d?!1:this.headers.index(b);if(!(this.running||!e.collapsible&&d)){var f=this.active;j=b.next(),h=this.active.next(),i={options:e,newHeader:d&&e.collapsible?a([]):b,oldHeader:this.active,newContent:d&&e.collapsible?a([]):j,oldContent:h};var g=this.headers.index(this.active[0])>this.headers.index(b[0]);this.active=d?a([]):b,this._toggle(j,h,i,d,g),f.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(e.icons.headerSelected).addClass(e.icons.header),d||(b.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").children(".ui-icon").removeClass(e.icons.header).addClass(e.icons.headerSelected),b.next().addClass("ui-accordion-content-active"))}}else if(e.collapsible){this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(e.icons.headerSelected).addClass(e.icons.header),this.active.next().addClass("ui-accordion-content-active");var h=this.active.next(),i={options:e,newHeader:a([]),oldHeader:e.active,newContent:a([]),oldContent:h},j=this.active=a([]);this._toggle(j,h,i)}},_toggle:function(b,d,e,f,g){var h=this,i=h.options;h.toShow=b,h.toHide=d,h.data=e;var j=function(){if(h)return h._completed.apply(h,arguments)};h._trigger("changestart",null,h.data),h.running=d.size()===0?b.size():d.size();if(i.animated){e={},e=i.collapsible&&f?{toShow:a([]),toHide:d,complete:j,down:g,autoHeight:i.autoHeight||i.fillSpace}:{toShow:b,toHide:d,complete:j,down:g,autoHeight:i.autoHeight||i.fillSpace},i.proxied||(i.proxied=i.animated),i.proxiedDuration||(i.proxiedDuration=i.duration),i.animated=a.isFunction(i.proxied)?i.proxied(e):i.proxied,i.duration=a.isFunction(i.proxiedDuration)?i.proxiedDuration(e):i.proxiedDuration,f=a.ui.accordion.animations;var k=i.duration,l=i.animated;l&&!f[l]&&!a.easing[l]&&(l="slide"),f[l]||(f[l]=function(a){this.slide(a,{easing:l,duration:k||700})}),f[l](e)}else i.collapsible&&f?b.toggle():(d.hide(),b.show()),j(!0);d.prev().attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).blur(),b.prev().attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}).focus()},_completed:function(a){this.running=a?0:--this.running,this.running||(this.options.clearStyle&&this.toShow.add(this.toHide).css({height:"",overflow:""}),this.toHide.removeClass("ui-accordion-content-active"),this.toHide.length&&(this.toHide.parent()[0].className=this.toHide.parent()[0].className),this._trigger("change",null,this.data))}}),a.extend(a.ui.accordion,{version:"1.8.16",animations:{slide:function(b,d){b=a.extend({easing:"swing",duration:300},b,d);if(b.toHide.size())if(b.toShow.size()){var e=b.toShow.css("overflow"),f=0,g={},h={},i;d=b.toShow,i=d[0].style.width,d.width(parseInt(d.parent().width(),10)-parseInt(d.css("paddingLeft"),10)-parseInt(d.css("paddingRight"),10)-(parseInt(d.css("borderLeftWidth"),10)||0)-(parseInt(d.css("borderRightWidth"),10)||0)),a.each(["height","paddingTop","paddingBottom"],function(d,e){h[e]="hide",d=(""+a.css(b.toShow[0],e)).match(/^([\d+-.]+)(.*)$/),g[e]={value:d[1],unit:d[2]||"px"}}),b.toShow.css({height:0,overflow:"hidden"}).show(),b.toHide.filter(":hidden").each(b.complete).end().filter(":visible").animate(h,{step:function(a,c){c.prop=="height"&&(f=c.end-c.start===0?0:(c.now-c.start)/(c.end-c.start)),b.toShow[0].style[c.prop]=f*g[c.prop].value+g[c.prop].unit},duration:b.duration,easing:b.easing,complete:function(){b.autoHeight||b.toShow.css("height",""),b.toShow.css({width:i,overflow:e}),b.complete()}})}else b.toHide.animate({height:"hide",paddingTop:"hide",paddingBottom:"hide"},b);else b.toShow.animate({height:"show",paddingTop:"show",paddingBottom:"show"},b)},bounceslide:function(a){this.slide(a,{easing:a.down?"easeOutBounce":"swing",duration:a.down?1e3:200})}}})}(jQuery),function(a){var b=0;a.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var b=this,c=this.element[0].ownerDocument,e;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(c){if(!b.options.disabled&&!b.element.propAttr("readOnly")){e=!1;var f=a.ui.keyCode;switch(c.keyCode){case f.PAGE_UP:b._move("previousPage",c);break;case f.PAGE_DOWN:b._move("nextPage",c);break;case f.UP:b._move("previous",c),c.preventDefault();break;case f.DOWN:b._move("next",c),c.preventDefault();break;case f.ENTER:case f.NUMPAD_ENTER:b.menu.active&&(e=!0,c.preventDefault());case f.TAB:if(!b.menu.active)return;b.menu.select(c);break;case f.ESCAPE:b.element.val(b.term),b.close(c);break;default:clearTimeout(b.searching),b.searching=setTimeout(function(){b.term!=b.element.val()&&(b.selectedItem=null,b.search(null,c))},b.options.delay)}}}).bind("keypress.autocomplete",function(a){e&&(e=!1,a.preventDefault())}).bind("focus.autocomplete",function(){b.options.disabled||(b.selectedItem=null,b.previous=b.element.val())}).bind("blur.autocomplete",function(a){b.options.disabled||(clearTimeout(b.searching),b.closing=setTimeout(function(){b.close(a),b._change(a)},150))}),this._initSource(),this.response=function(){return b._response.apply(b,arguments)},this.menu=a("<ul></ul>").addClass("ui-autocomplete").appendTo(a(this.options.appendTo||"body",c)[0]).mousedown(function(c){var e=b.menu.element[0];a(c.target).closest(".ui-menu-item").length||setTimeout(function(){a(document).one("mousedown",function(c){c.target!==b.element[0]&&c.target!==e&&!a.ui.contains(e,c.target)&&b.close()})},1),setTimeout(function(){clearTimeout(b.closing)},13)}).menu({focus:function(a,c){c=c.item.data("item.autocomplete"),!1!==b._trigger("focus",a,{item:c})&&/^key/.test(a.originalEvent.type)&&b.element.val(c.value)},selected:function(a,d){var e=d.item.data("item.autocomplete"),f=b.previous;b.element[0]!==c.activeElement&&(b.element.focus(),b.previous=f,setTimeout(function(){b.previous=f,b.selectedItem=e},1)),!1!==b._trigger("select",a,{item:e})&&b.element.val(e.value),b.term=b.element.val(),b.close(a),b.selectedItem=e},blur:function(){b.menu.element.is(":visible")&&b.element.val()!==b.term&&b.element.val(b.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu"),a.fn.bgiframe&&this.menu.element.bgiframe()},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup"),this.menu.element.remove(),a.Widget.prototype.destroy.call(this)},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments),b==="source"&&this._initSource(),b==="appendTo"&&this.menu.element.appendTo(a(c||"body",this.element[0].ownerDocument)[0]),b==="disabled"&&c&&this.xhr&&this.xhr.abort()},_initSource:function(){var c=this,f,g;a.isArray(this.options.source)?(f=this.options.source,this.source=function(b,c){c(a.ui.autocomplete.filter(f,b.term))}):typeof this.options.source=="string"?(g=this.options.source,this.source=function(f,h){c.xhr&&c.xhr.abort(),c.xhr=a.ajax({url:g,data:f,dataType:"json",autocompleteRequest:++b,success:function(a){this.autocompleteRequest===b&&h(a)},error:function(){this.autocompleteRequest===b&&h([])}})}):this.source=this.options.source},search:function(a,b){a=a!=null?a:this.element.val(),this.term=this.element.val();if(a.length<this.options.minLength)return this.close(b);clearTimeout(this.closing);if(this._trigger("search",b)!==!1)return this._search(a)},_search:function(a){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.source({term:a},this.response)},_response:function(a){!this.options.disabled&&a&&a.length?(a=this._normalize(a),this._suggest(a),this._trigger("open")):this.close(),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},close:function(a){clearTimeout(this.closing),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.deactivate(),this._trigger("close",a))},_change:function(a){this.previous!==this.element.val()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(b){return b.length&&b[0].label&&b[0].value?b:a.map(b,function(b){return typeof b=="string"?{label:b,value:b}:a.extend({label:b.label||b.value,value:b.value||b.label},b)})},_suggest:function(b){var c=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(c,b),this.menu.deactivate(),this.menu.refresh(),c.show(),this._resizeMenu(),c.position(a.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(new a.Event("mouseover"))},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth(),this.element.outerWidth()))},_renderMenu:function(b,c){var e=this;a.each(c,function(a,c){e._renderItem(b,c)})},_renderItem:function(b,c){return a("<li></li>").data("item.autocomplete",c).append(a("<a></a>").text(c.label)).appendTo(b)},_move:function(a,b){this.menu.element.is(":visible")?this.menu.first()&&/^previous/.test(a)||this.menu.last()&&/^next/.test(a)?(this.element.val(this.term),this.menu.deactivate()):this.menu[a](b):this.search(null,b)},widget:function(){return this.menu.element}}),a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(b,c){var e=new RegExp(a.ui.autocomplete.escapeRegex(c),"i");return a.grep(b,function(a){return e.test(a.label||a.value||a)})}})}(jQuery),function(a){a.widget("ui.menu",{_create:function(){var b=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(c){a(c.target).closest(".ui-menu-item a").length&&(c.preventDefault(),b.select(c))}),this.refresh()},refresh:function(){var b=this;this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem").children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(c){b.activate(c,a(this).parent())}).mouseleave(function(){b.deactivate()})},activate:function(a,b){this.deactivate();if(this.hasScroll()){var c=b.offset().top-this.element.offset().top,d=this.element.scrollTop(),e=this.element.height();c<0?this.element.scrollTop(d+c):c>=e&&this.element.scrollTop(d+c-e+b.height())}this.active=b.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end(),this._trigger("focus",a,{item:b})},deactivate:function(){this.active&&(this.active.children("a").removeClass("ui-state-hover").removeAttr("id"),this._trigger("blur"),this.active=null)},next:function(a){this.move("next",".ui-menu-item:first",a)},previous:function(a){this.move("prev",".ui-menu-item:last",a)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(a,b,c){this.active?(a=this.active[a+"All"](".ui-menu-item").eq(0),a.length?this.activate(c,a):this.activate(c,this.element.children(b))):this.activate(c,this.element.children(b))},nextPage:function(b){if(this.hasScroll())if(!this.active||this.last())this.activate(b,this.element.children(".ui-menu-item:first"));else{var c=this.active.offset().top,e=this.element.height(),f=this.element.children(".ui-menu-item").filter(function(){var b=a(this).offset().top-c-e+a(this).height();return b<10&&b>-10});f.length||(f=this.element.children(".ui-menu-item:last")),this.activate(b,f)}else this.activate(b,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))},previousPage:function(b){if(this.hasScroll())if(!this.active||this.first())this.activate(b,this.element.children(".ui-menu-item:last"));else{var c=this.active.offset().top,e=this.element.height();result=this.element.children(".ui-menu-item").filter(function(){var b=a(this).offset().top-c+e-a(this).height();return b<10&&b>-10}),result.length||(result=this.element.children(".ui-menu-item:first")),this.activate(b,result)}else this.activate(b,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element[a.fn.prop?"prop":"attr"]("scrollHeight")},select:function(a){this._trigger("selected",a,{item:this.active})}})}(jQuery),function(a){var b,c,d,e,f=function(){var b=a(this).find(":ui-button");setTimeout(function(){b.button("refresh")},1)},g=function(b){var c=b.name,d=b.form,e=a([]);return c&&(e=d?a(d).find("[name='"+c+"']"):a("[name='"+c+"']",b.ownerDocument).filter(function(){return!this.form})),e};a.widget("ui.button",{options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",f),typeof this.options.disabled!="boolean"&&(this.options.disabled=this.element.propAttr("disabled")),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var m=this,n=this.options,o=this.type==="checkbox"||this.type==="radio",p="ui-state-hover"+(o?"":" ui-state-active");n.label===null&&(n.label=this.buttonElement.html()),this.element.is(":disabled")&&(n.disabled=!0),this.buttonElement.addClass("ui-button ui-widget ui-state-default ui-corner-all").attr("role","button").bind("mouseenter.button",function(){n.disabled||(a(this).addClass("ui-state-hover"),this===b&&a(this).addClass("ui-state-active"))}).bind("mouseleave.button",function(){n.disabled||a(this).removeClass(p)}).bind("click.button",function(a){n.disabled&&(a.preventDefault(),a.stopImmediatePropagation())}),this.element.bind("focus.button",function(){m.buttonElement.addClass("ui-state-focus")}).bind("blur.button",function(){m.buttonElement.removeClass("ui-state-focus")}),o&&(this.element.bind("change.button",function(){e||m.refresh()}),this.buttonElement.bind("mousedown.button",function(a){n.disabled||(e=!1,c=a.pageX,d=a.pageY)}).bind("mouseup.button",function(a){!n.disabled&&(c!==a.pageX||d!==a.pageY)&&(e=!0)})),this.type==="checkbox"?this.buttonElement.bind("click.button",function(){if(n.disabled||e)return!1;a(this).toggleClass("ui-state-active"),m.buttonElement.attr("aria-pressed",m.element[0].checked)}):this.type==="radio"?this.buttonElement.bind("click.button",function(){if(n.disabled||e)return!1;a(this).addClass("ui-state-active"),m.buttonElement.attr("aria-pressed","true");var b=m.element[0];g(b).not(b).map(function(){return a(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown.button",function(){if(n.disabled)return!1;a(this).addClass("ui-state-active"),b=this,a(document).one("mouseup",function(){b=null})}).bind("mouseup.button",function(){if(n.disabled)return!1;a(this).removeClass("ui-state-active")}).bind("keydown.button",function(b){if(n.disabled)return!1;(b.keyCode==a.ui.keyCode.SPACE||b.keyCode==a.ui.keyCode.ENTER)&&a(this).addClass("ui-state-active")}).bind("keyup.button",function(){a(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(b){b.keyCode===a.ui.keyCode.SPACE&&a(this).click()})),this._setOption("disabled",n.disabled),this._resetButton()},_determineButtonType:function(){this.type=this.element.is(":checkbox")?"checkbox":this.element.is(":radio")?"radio":this.element.is("input")?"input":"button";if(this.type==="checkbox"||this.type==="radio"){var a=this.element.parents().filter(":last"),b="label[for='"+this.element.attr("id")+"']";this.buttonElement=a.find(b),this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(b),this.buttonElement.length||(this.buttonElement=a.find(b))),this.element.addClass("ui-helper-hidden-accessible"),(a=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.attr("aria-pressed",a)}else this.buttonElement=this.element},widget:function(){return this.buttonElement},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass("ui-button ui-widget ui-state-default ui-corner-all ui-state-hover ui-state-active  ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only").removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title"),a.Widget.prototype.destroy.call(this)},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments),b==="disabled"?c?this.element.propAttr("disabled",!0):this.element.propAttr("disabled",!1):this._resetButton()},refresh:function(){var b=this.element.is(":disabled");b!==this.options.disabled&&this._setOption("disabled",b),this.type==="radio"?g(this.element[0]).each(function(){a(this).is(":checked")?a(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):a(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):this.type==="checkbox"&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if(this.type==="input")this.options.label&&this.element.val(this.options.label);else{var b=this.buttonElement.removeClass("ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only"),c=a("<span></span>").addClass("ui-button-text").html(this.options.label).appendTo(b.empty()).text(),d=this.options.icons,e=d.primary&&d.secondary,f=[];d.primary||d.secondary?(this.options.text&&f.push("ui-button-text-icon"+(e?"s":d.primary?"-primary":"-secondary")),d.primary&&b.prepend("<span class='ui-button-icon-primary ui-icon "+d.primary+"'></span>"),d.secondary&&b.append("<span class='ui-button-icon-secondary ui-icon "+d.secondary+"'></span>"),this.options.text||(f.push(e?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||b.attr("title",c))):f.push("ui-button-text-only"),b.addClass(f.join(" "))}}}),a.widget("ui.buttonset",{options:{items:":button, :submit, :reset, :checkbox, :radio, a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(b,c){b==="disabled"&&this.buttons.button("option",b,c),a.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){var b=this.element.css("direction")==="ltr";this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(b?"ui-corner-left":"ui-corner-right").end().filter(":last").addClass(b?"ui-corner-right":"ui-corner-left").end().end()},destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy"),a.Widget.prototype.destroy.call(this)}})}(jQuery),function(a,b){var c={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},d={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},e=a.attrFn||{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0,click:!0};a.widget("ui.dialog",{options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",collision:"fit",using:function(b){var c=a(this).css(b).offset().top;c<0&&a(this).css("top",b.top-c)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){this.originalTitle=this.element.attr("title"),typeof this.originalTitle!="string"&&(this.originalTitle=""),this.options.title=this.options.title||this.originalTitle;var b=this,c=b.options,d=c.title||"&#160;",e=a.ui.dialog.getTitleId(b.element),f=(b.uiDialog=a("<div></div>")).appendTo(document.body).hide().addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+c.dialogClass).css({zIndex:c.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(d){c.closeOnEscape&&!d.isDefaultPrevented()&&d.keyCode&&d.keyCode===a.ui.keyCode.ESCAPE&&(b.close(d),d.preventDefault())}).attr({role:"dialog","aria-labelledby":e}).mousedown(function(a){b.moveToTop(!1,a)});b.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(f);var g=(b.uiDialogTitlebar=a("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(f),h=a('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){h.addClass("ui-state-hover")},function(){h.removeClass("ui-state-hover")}).focus(function(){h.addClass("ui-state-focus")}).blur(function(){h.removeClass("ui-state-focus")}).click(function(a){return b.close(a),!1}).appendTo(g);(b.uiDialogTitlebarCloseText=a("<span></span>")).addClass("ui-icon ui-icon-closethick").text(c.closeText).appendTo(h),a("<span></span>").addClass("ui-dialog-title").attr("id",e).html(d).prependTo(g),a.isFunction(c.beforeclose)&&!a.isFunction(c.beforeClose)&&(c.beforeClose=c.beforeclose),g.find("*").add(g).disableSelection(),c.draggable&&a.fn.draggable&&b._makeDraggable(),c.resizable&&a.fn.resizable&&b._makeResizable(),b._createButtons(c.buttons),b._isOpen=!1,a.fn.bgiframe&&f.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){var a=this;return a.overlay&&a.overlay.destroy(),a.uiDialog.hide(),a.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),a.uiDialog.remove(),a.originalTitle&&a.element.attr("title",a.originalTitle),a},widget:function(){return this.uiDialog},close:function(b){var c=this,d,e;if(!1!==c._trigger("beforeClose",b))return c.overlay&&c.overlay.destroy(),c.uiDialog.unbind("keypress.ui-dialog"),c._isOpen=!1,c.options.hide?c.uiDialog.hide(c.options.hide,function(){c._trigger("close",b)}):(c.uiDialog.hide(),c._trigger("close",b)),a.ui.dialog.overlay.resize(),c.options.modal&&(d=0,a(".ui-dialog").each(function(){this!==c.uiDialog[0]&&(e=a(this).css("z-index"),isNaN(e)||(d=Math.max(d,e)))}),a.ui.dialog.maxZ=d),c},isOpen:function(){return this._isOpen},moveToTop:function(b,c){var d=this,e=d.options;return e.modal&&!b||!e.stack&&!e.modal?d._trigger("focus",c):(e.zIndex>a.ui.dialog.maxZ&&(a.ui.dialog.maxZ=e.zIndex),d.overlay&&(a.ui.dialog.maxZ+=1,d.overlay.$el.css("z-index",a.ui.dialog.overlay.maxZ=a.ui.dialog.maxZ)),b={scrollTop:d.element.scrollTop(),scrollLeft:d.element.scrollLeft()},a.ui.dialog.maxZ+=1,d.uiDialog.css("z-index",a.ui.dialog.maxZ),d.element.attr(b),d._trigger("focus",c),d)},open:function(){if(!this._isOpen){var b=this,c=b.options,d=b.uiDialog;return b.overlay=c.modal?new a.ui.dialog.overlay(b):null,b._size(),b._position(c.position),d.show(c.show),b.moveToTop(!0),c.modal&&d.bind("keypress.ui-dialog",function(b){if(b.keyCode===a.ui.keyCode.TAB){var c=a(":tabbable",this),d=c.filter(":first");c=c.filter(":last");if(b.target===c[0]&&!b.shiftKey)return d.focus(1),!1;if(b.target===d[0]&&b.shiftKey)return c.focus(1),!1}}),a(b.element.find(":tabbable").get().concat(d.find(".ui-dialog-buttonpane :tabbable").get().concat(d.get()))).eq(0).focus(),b._isOpen=!0,b._trigger("open"),b}},_createButtons:function(b){var c=this,d=!1,f=a("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),g=a("<div></div>").addClass("ui-dialog-buttonset").appendTo(f);c.uiDialog.find(".ui-dialog-buttonpane").remove(),typeof b=="object"&&b!==null&&a.each(b,function(){return!(d=!0)}),d&&(a.each(b,function(b,d){d=a.isFunction(d)?{click:d,text:b}:d;var f=a('<button type="button"></button>').click(function(){d.click.apply(c.element[0],arguments)}).appendTo(g);a.each(d,function(a,b){a!=="click"&&(a in e?f[a](b):f.attr(a,b))}),a.fn.button&&f.button()}),f.appendTo(c.uiDialog))},_makeDraggable:function(){function b(a){return{position:a.position,offset:a.offset}}var c=this,d=c.options,e=a(document),f;c.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(e,h){f=d.height==="auto"?"auto":a(this).height(),a(this).height(a(this).height()).addClass("ui-dialog-dragging"),c._trigger("dragStart",e,b(h))},drag:function(a,d){c._trigger("drag",a,b(d))},stop:function(h,i){d.position=[i.position.left-e.scrollLeft(),i.position.top-e.scrollTop()],a(this).removeClass("ui-dialog-dragging").height(f),c._trigger("dragStop",h,b(i)),a.ui.dialog.overlay.resize()}})},_makeResizable:function(c){function d(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,position:a.position,size:a.size}}c=c===b?this.options.resizable:c;var e=this,f=e.options,g=e.uiDialog.css("position");c=typeof c=="string"?c:"n,e,s,w,se,sw,ne,nw",e.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:e.element,maxWidth:f.maxWidth,maxHeight:f.maxHeight,minWidth:f.minWidth,minHeight:e._minHeight(),handles:c,start:function(b,c){a(this).addClass("ui-dialog-resizing"),e._trigger("resizeStart",b,d(c))},resize:function(a,b){e._trigger("resize",a,d(b))},stop:function(b,c){a(this).removeClass("ui-dialog-resizing"),f.height=a(this).height(),f.width=a(this).width(),e._trigger("resizeStop",b,d(c)),a.ui.dialog.overlay.resize()}}).css("position",g).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var a=this.options;return a.height==="auto"?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(b){var c=[],d=[0,0],e;if(b){if(typeof b=="string"||typeof b=="object"&&"0"in b)c=b.split?b.split(" "):[b[0],b[1]],c.length===1&&(c[1]=c[0]),a.each(["left","top"],function(a,b){+c[a]===c[a]&&(d[a]=c[a],c[a]=b)}),b={my:c.join(" "),at:c.join(" "),offset:d.join(" ")};b=a.extend({},a.ui.dialog.prototype.options.position,b)}else b=a.ui.dialog.prototype.options.position;(e=this.uiDialog.is(":visible"))||this.uiDialog.show(),this.uiDialog.css({top:0,left:0}).position(a.extend({of:window},b)),e||this.uiDialog.hide()},_setOptions:function(b){var e=this,f={},g=!1;a.each(b,function(a,b){e._setOption(a,b),a in c&&(g=!0),a in d&&(f[a]=b)}),g&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",f)},_setOption:function(b,c){var d=this,e=d.uiDialog;switch(b){case"beforeclose":b="beforeClose";break;case"buttons":d._createButtons(c);break;case"closeText":d.uiDialogTitlebarCloseText.text(""+c);break;case"dialogClass":e.removeClass(d.options.dialogClass).addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+c);break;case"disabled":c?e.addClass("ui-dialog-disabled"):e.removeClass("ui-dialog-disabled");break;case"draggable":var f=e.is(":data(draggable)");f&&!c&&e.draggable("destroy"),!f&&c&&d._makeDraggable();break;case"position":d._position(c);break;case"resizable":(f=e.is(":data(resizable)"))&&!c&&e.resizable("destroy"),f&&typeof c=="string"&&e.resizable("option","handles",c),!f&&c!==!1&&d._makeResizable(c);break;case"title":a(".ui-dialog-title",d.uiDialogTitlebar).html(""+(c||"&#160;"))}a.Widget.prototype._setOption.apply(d,arguments)},_size:function(){var b=this.options,c,d,e=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0}),b.minWidth>b.width&&(b.width=b.minWidth),c=this.uiDialog.css({height:"auto",width:b.width}).height(),d=Math.max(0,b.minHeight-c),b.height==="auto"?a.support.minHeight?this.element.css({minHeight:d,height:"auto"}):(this.uiDialog.show(),b=this.element.css("height","auto").height(),e||this.uiDialog.hide(),this.element.height(Math.max(b,d))):this.element.height(Math.max(b.height-c,0)),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),a.extend(a.ui.dialog,{version:"1.8.16",uuid:0,maxZ:0,getTitleId:function(a){return a=a.attr("id"),a||(this.uuid+=1,a=this.uuid),"ui-dialog-title-"+a},overlay:function(b){this.$el=a.ui.dialog.overlay.create(b)}}),a.extend(a.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:a.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(a){return a+".dialog-overlay"}).join(" "),create:function(b){this.instances.length===0&&(setTimeout(function(){a.ui.dialog.overlay.instances.length&&a(document).bind(a.ui.dialog.overlay.events,function(b){if(a(b.target).zIndex()<a.ui.dialog.overlay.maxZ)return!1})},1),a(document).bind("keydown.dialog-overlay",function(c){b.options.closeOnEscape&&!c.isDefaultPrevented()&&c.keyCode&&c.keyCode===a.ui.keyCode.ESCAPE&&(b.close(c),c.preventDefault())}),a(window).bind("resize.dialog-overlay",a.ui.dialog.overlay.resize));var c=(this.oldInstances.pop()||a("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});return a.fn.bgiframe&&c.bgiframe(),this.instances.push(c),c},destroy:function(b){var c=a.inArray(b,this.instances);c!=-1&&this.oldInstances.push(this.instances.splice(c,1)[0]),this.instances.length===0&&a([document,window]).unbind(".dialog-overlay"),b.remove();var d=0;a.each(this.instances,function(){d=Math.max(d,this.css("z-index"))}),this.maxZ=d},height:function(){var b,c;return a.browser.msie&&a.browser.version<7?(b=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),c=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),b<c?a(window).height()+"px":b+"px"):a(document).height()+"px"},width:function(){var b,c;return a.browser.msie?(b=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),c=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),b<c?a(window).width()+"px":b+"px"):a(document).width()+"px"},resize:function(){var b=a([]);a.each(a.ui.dialog.overlay.instances,function(){b=b.add(this)}),b.css({width:0,height:0}).css({width:a.ui.dialog.overlay.width(),height:a.ui.dialog.overlay.height()})}}),a.extend(a.ui.dialog.overlay.prototype,{destroy:function(){a.ui.dialog.overlay.destroy(this.$el)}})}(jQuery),function(a){a.widget("ui.slider",a.ui.mouse,{widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var b=this,c=this.options,e=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),f=c.values&&c.values.length||1,g=[];this._mouseSliding=this._keySliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(c.disabled?" ui-slider-disabled ui-disabled":"")),this.range=a([]),c.range&&(c.range===!0&&(c.values||(c.values=[this._valueMin(),this._valueMin()]),c.values.length&&c.values.length!==2&&(c.values=[c.values[0],c.values[0]])),this.range=a("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+(c.range==="min"||c.range==="max"?" ui-slider-range-"+c.range:"")));for(var h=e.length;h<f;h+=1)g.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>");this.handles=e.add(a(g.join("")).appendTo(b.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(a){a.preventDefault()}).hover(function(){c.disabled||a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")}).focus(function(){c.disabled?a(this).blur():(a(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),a(this).addClass("ui-state-focus"))}).blur(function(){a(this).removeClass("ui-state-focus")}),this.handles.each(function(b){a(this).data("index.ui-slider-handle",b)}),this.handles.keydown(function(c){var e=!0,f=a(this).data("index.ui-slider-handle"),g,h,i;if(!b.options.disabled){switch(c.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:e=!1;if(!b._keySliding){b._keySliding=!0,a(this).addClass("ui-state-active"),g=b._start(c,f);if(g===!1)return}}i=b.options.step,g=b.options.values&&b.options.values.length?h=b.values(f):h=b.value();switch(c.keyCode){case a.ui.keyCode.HOME:h=b._valueMin();break;case a.ui.keyCode.END:h=b._valueMax();break;case a.ui.keyCode.PAGE_UP:h=b._trimAlignValue(g+(b._valueMax()-b._valueMin())/5);break;case a.ui.keyCode.PAGE_DOWN:h=b._trimAlignValue(g-(b._valueMax()-b._valueMin())/5);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(g===b._valueMax())return;h=b._trimAlignValue(g+i);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(g===b._valueMin())return;h=b._trimAlignValue(g-i)}return b._slide(c,f,h),e}}).keyup(function(c){var e=a(this).data("index.ui-slider-handle");b._keySliding&&(b._keySliding=!1,b._stop(c,e),b._change(c,e),a(this).removeClass("ui-state-active"))}),this._refreshValue(),this._animateOff=!1},destroy:function(){return this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider"),this._mouseDestroy(),this},_mouseCapture:function(b){var c=this.options,e,f,g,h,i;return c.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),e=this._normValueFromMouse({x:b.pageX,y:b.pageY}),f=this._valueMax()-this._valueMin()+1,h=this,this.handles.each(function(b){var c=Math.abs(e-h.values(b));f>c&&(f=c,g=a(this),i=b)}),c.range===!0&&this.values(1)===c.min&&(i+=1,g=a(this.handles[i])),this._start(b,i)===!1?!1:(this._mouseSliding=!0,h._handleIndex=i,g.addClass("ui-state-active").focus(),c=g.offset(),this._clickOffset=a(b.target).parents().andSelf().is(".ui-slider-handle")?{left:b.pageX-c.left-g.width()/2,top:b.pageY-c.top-g.height()/2-(parseInt(g.css("borderTopWidth"),10)||0)-(parseInt(g.css("borderBottomWidth"),10)||0)+(parseInt(g.css("marginTop"),10)||0)}:{left:0,top:0},this.handles.hasClass("ui-state-hover")||this._slide(b,i,e),this._animateOff=!0))},_mouseStart:function(){return!0},_mouseDrag:function(a){var b=this._normValueFromMouse({x:a.pageX,y:a.pageY});return this._slide(a,this._handleIndex,b),!1},_mouseStop:function(a){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._clickOffset=this._handleIndex=null,this._animateOff=!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(a){var b;return this.orientation==="horizontal"?(b=this.elementSize.width,a=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(b=this.elementSize.height,a=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),b=a/b,b>1&&(b=1),b<0&&(b=0),this.orientation==="vertical"&&(b=1-b),a=this._valueMax()-this._valueMin(),this._trimAlignValue(this._valueMin()+b*a)},_start:function(a,b){var c={handle:this.handles[b],value:this.value()};return this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("start",a,c)},_slide:function(a,b,c){var d;this.options.values&&this.options.values.length?(d=this.values(b?0:1),this.options.values.length===2&&this.options.range===!0&&(b===0&&c>d||b===1&&c<d)&&(c=d),c!==this.values(b)&&(d=this.values(),d[b]=c,a=this._trigger("slide",a,{handle:this.handles[b],value:c,values:d}),this.values(b?0:1),a!==!1&&this.values(b,c,!0))):c!==this.value()&&(a=this._trigger("slide",a,{handle:this.handles[b],value:c}),a!==!1&&this.value(c))},_stop:function(a,b){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("stop",a,c)},_change:function(a,b){if(!this._keySliding&&!this._mouseSliding){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("change",a,c)}},value:function(a){if(!arguments.length)return this._value();this.options.value=this._trimAlignValue(a),this._refreshValue(),this._change(null,0)},values:function(b,c){var e,f,g;if(arguments.length>1)this.options.values[b]=this._trimAlignValue(c),this._refreshValue(),this._change(null,b);else{if(!arguments.length)return this._values();if(!a.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(b):this.value();e=this.options.values,f=arguments[0];for(g=0;g<e.length;g+=1)e[g]=this._trimAlignValue(f[g]),this._change(null,g);this._refreshValue()}},_setOption:function(b,c){var e,f=0;a.isArray(this.options.values)&&(f=this.options.values.length),a.Widget.prototype._setOption.apply(this,arguments);switch(b){case"disabled":c?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.propAttr("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.propAttr("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":this._animateOff=!0,this._refreshValue();for(e=0;e<f;e+=1)this._change(null,e);this._animateOff=!1}},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a)},_values:function(a){var b,c;if(arguments.length)return b=this.options.values[a],b=this._trimAlignValue(b);b=this.options.values.slice();for(c=0;c<b.length;c+=1)b[c]=this._trimAlignValue(b[c]);return b},_trimAlignValue:function(a){if(a<=this._valueMin())return this._valueMin();if(a>=this._valueMax())return this._valueMax();var b=this.options.step>0?this.options.step:1,c=(a-this._valueMin())%b;return a-=c,Math.abs(c)*2>=b&&(a+=c>0?b:-b),parseFloat(a.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var b=this.options.range,c=this.options,e=this,f=this._animateOff?!1:c.animate,g,h={},i,j,k,l;this.options.values&&this.options.values.length?this.handles.each(function(b){g=(e.values(b)-e._valueMin())/(e._valueMax()-e._valueMin())*100,h[e.orientation==="horizontal"?"left":"bottom"]=g+"%",a(this).stop(1,1)[f?"animate":"css"](h,c.animate),e.options.range===!0&&(e.orientation==="horizontal"?(b===0&&e.range.stop(1,1)[f?"animate":"css"]({left:g+"%"},c.animate),b===1&&e.range[f?"animate":"css"]({width:g-i+"%"},{queue:!1,duration:c.animate})):(b===0&&e.range.stop(1,1)[f?"animate":"css"]({bottom:g+"%"},c.animate),b===1&&e.range[f?"animate":"css"]({height:g-i+"%"},{queue:!1,duration:c.animate}))),i=g}):(j=this.value(),k=this._valueMin(),l=this._valueMax(),g=l!==k?(j-k)/(l-k)*100:0,h[e.orientation==="horizontal"?"left":"bottom"]=g+"%",this.handle.stop(1,1)[f?"animate":"css"](h,c.animate),b==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[f?"animate":"css"]({width:g+"%"},c.animate),b==="max"&&this.orientation==="horizontal"&&this.range[f?"animate":"css"]({width:100-g+"%"},{queue:!1,duration:c.animate}),b==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[f?"animate":"css"]({height:g+"%"},c.animate),b==="max"&&this.orientation==="vertical"&&this.range[f?"animate":"css"]({height:100-g+"%"},{queue:!1,duration:c.animate}))}}),a.extend(a.ui.slider,{version:"1.8.16"})}(jQuery),function(a,b){function c(){return++e}function d(){return++f}var e=0,f=0;a.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:!1,cookie:null,collapsible:!1,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(!0)},_setOption:function(a,b){a=="selected"?this.options.collapsible&&b==this.options.selected||this.select(b):(this.options[a]=b,this._tabify())},_tabId:function(a){return a.title&&a.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+c()},_sanitizeSelector:function(a){return a.replace(/:/g,"\\:")},_cookie:function(){var b=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+d());return a.cookie.apply(null,[b].concat(a.makeArray(arguments)))},_ui:function(a,b){return{tab:a,panel:b,index:this.anchors.index(a)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var b=a(this);b.html(b.data("label.tabs")).removeData("label.tabs")})},_tabify:function(c){function d(b,c){b.css("display",""),!a.support.opacity&&c.opacity&&b[0].style.removeAttribute("filter")}var e=this,f=this.options,g=/^#.+/;this.list=this.element.find("ol,ul").eq(0),this.lis=a(" > li:has(a[href])",this.list),this.anchors=this.lis.map(function(){return a("a",this)[0]}),this.panels=a([]),this.anchors.each(function(b,c){var d=a(c).attr("href"),h=d.split("#")[0],i;h&&(h===location.toString().split("#")[0]||(i=a("base")[0])&&h===i.href)&&(d=c.hash,c.href=d),g.test(d)?e.panels=e.panels.add(e.element.find(e._sanitizeSelector(d))):d&&d!=="#"?(a.data(c,"href.tabs",d),a.data(c,"load.tabs",d.replace(/#.*$/,"")),d=e._tabId(c),c.href="#"+d,c=e.element.find("#"+d),c.length||(c=a(f.panelTemplate).attr("id",d).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(e.panels[b-1]||e.list),c.data("destroy.tabs",!0)),e.panels=e.panels.add(c)):f.disabled.push(b)}),c?(this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all"),this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.lis.addClass("ui-state-default ui-corner-top"),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom"),f.selected===b?(location.hash&&this.anchors.each(function(a,b){if(b.hash==location.hash)return f.selected=a,!1}),typeof f.selected!="number"&&f.cookie&&(f.selected=parseInt(e._cookie(),10)),typeof f.selected!="number"&&this.lis.filter(".ui-tabs-selected").length&&(f.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"))),f.selected=f.selected||(this.lis.length?0:-1)):f.selected===null&&(f.selected=-1),f.selected=f.selected>=0&&this.anchors[f.selected]||f.selected<0?f.selected:0,f.disabled=a.unique(f.disabled.concat(a.map(this.lis.filter(".ui-state-disabled"),function(a){return e.lis.index(a)}))).sort(),a.inArray(f.selected,f.disabled)!=-1&&f.disabled.splice(a.inArray(f.selected,f.disabled),1),this.panels.addClass("ui-tabs-hide"),this.lis.removeClass("ui-tabs-selected ui-state-active"),f.selected>=0&&this.anchors.length&&(e.element.find(e._sanitizeSelector(e.anchors[f.selected].hash)).removeClass("ui-tabs-hide"),this.lis.eq(f.selected).addClass("ui-tabs-selected ui-state-active"),e.element.queue("tabs",function(){e._trigger("show",null,e._ui(e.anchors[f.selected],e.element.find(e._sanitizeSelector(e.anchors[f.selected].hash))[0]))}),this.load(f.selected)),a(window).bind("unload",function(){e.lis.add(e.anchors).unbind(".tabs"),e.lis=e.anchors=e.panels=null})):f.selected=this.lis.index(this.lis.filter(".ui-tabs-selected")),this.element[f.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible"),f.cookie&&this._cookie(f.selected,f.cookie),c=0;for(var h;h=this.lis[c];c++)a(h)[a.inArray(c,f.disabled)!=-1&&!a(h).hasClass("ui-tabs-selected")?"addClass":"removeClass"]("ui-state-disabled");f.cache===!1&&this.anchors.removeData("cache.tabs"),this.lis.add(this.anchors).unbind(".tabs");if(f.event!=="mouseover"){var i=function(a,b){b.is(":not(.ui-state-disabled)")&&b.addClass("ui-state-"+a)},j=function(a,b){b.removeClass("ui-state-"+a)};this.lis.bind("mouseover.tabs",function(){i("hover",a(this))}),this.lis.bind("mouseout.tabs",function(){j("hover",a(this))}),this.anchors.bind("focus.tabs",function(){i("focus",a(this).closest("li"))}),this.anchors.bind("blur.tabs",function(){j("focus",a(this).closest("li"))})}var k,l;f.fx&&(a.isArray(f.fx)?(k=f.fx[0],l=f.fx[1]):k=l=f.fx);var m=l?function(b,c){a(b).closest("li").addClass("ui-tabs-selected ui-state-active"),c.hide().removeClass("ui-tabs-hide").animate(l,l.duration||"normal",function(){d(c,l),e._trigger("show",null,e._ui(b,c[0]))})}:function(b,c){a(b).closest("li").addClass("ui-tabs-selected ui-state-active"),c.removeClass("ui-tabs-hide"),e._trigger("show",null,e._ui(b,c[0]))},n=k?function(a,b){b.animate(k,k.duration||"normal",function(){e.lis.removeClass("ui-tabs-selected ui-state-active"),b.addClass("ui-tabs-hide"),d(b,k),e.element.dequeue("tabs")})}:function(a,b){e.lis.removeClass("ui-tabs-selected ui-state-active"),b.addClass("ui-tabs-hide"),e.element.dequeue("tabs")};this.anchors.bind(f.event+".tabs",function(){var b=this,c=a(b).closest("li"),d=e.panels.filter(":not(.ui-tabs-hide)"),g=e.element.find(e._sanitizeSelector(b.hash));if(c.hasClass("ui-tabs-selected")&&!f.collapsible||c.hasClass("ui-state-disabled")||c.hasClass("ui-state-processing")||e.panels.filter(":animated").length||e._trigger("select",null,e._ui(this,g[0]))===!1)return this.blur(),!1;f.selected=e.anchors.index(this),e.abort();if(f.collapsible){if(c.hasClass("ui-tabs-selected"))return f.selected=-1,f.cookie&&e._cookie(f.selected,f.cookie),e.element.queue("tabs",function(){n(b,d)}).dequeue("tabs"),this.blur(),!1;if(!d.length)return f.cookie&&e._cookie(f.selected,f.cookie),e.element.queue("tabs",function(){m(b,g)}),e.load(e.anchors.index(this)),this.blur(),!1}f.cookie&&e._cookie(f.selected,f.cookie);if(!g.length)throw"jQuery UI Tabs: Mismatching fragment identifier.";d.length&&e.element.queue("tabs",function(){n(b,d)}),e.element.queue("tabs",function(){m(b,g)}),e.load(e.anchors.index(this)),a.browser.msie&&this.blur()}),this.anchors.bind("click.tabs",function(){return!1})},_getIndex:function(a){return typeof a=="string"&&(a=this.anchors.index(this.anchors.filter("[href$="+a+"]"))),a},destroy:function(){var b=this.options;return this.abort(),this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs"),this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.anchors.each(function(){var b=a.data(this,"href.tabs");b&&(this.href=b);var c=a(this).unbind(".tabs");a.each(["href","load","cache"],function(a,b){c.removeData(b+".tabs")})}),this.lis.unbind(".tabs").add(this.panels).each(function(){a.data(this,"destroy.tabs")?a(this).remove():a(this).removeClass("ui-state-default ui-corner-top ui-tabs-selected ui-state-active ui-state-hover ui-state-focus ui-state-disabled ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide")}),b.cookie&&this._cookie(null,b.cookie),this},add:function(c,d,e){e===b&&(e=this.anchors.length);var f=this,g=this.options;d=a(g.tabTemplate.replace(/#\{href\}/g,c).replace(/#\{label\}/g,d)),c=c.indexOf("#")?this._tabId(a("a",d)[0]):c.replace("#",""),d.addClass("ui-state-default ui-corner-top").data("destroy.tabs",!0);var h=f.element.find("#"+c);return h.length||(h=a(g.panelTemplate).attr("id",c).data("destroy.tabs",!0)),h.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"),e>=this.lis.length?(d.appendTo(this.list),h.appendTo(this.list[0].parentNode)):(d.insertBefore(this.lis[e]),h.insertBefore(this.panels[e])),g.disabled=a.map(g.disabled,function(a){return a>=e?++a:a}),this._tabify(),this.anchors.length==1&&(g.selected=0,d.addClass("ui-tabs-selected ui-state-active"),h.removeClass("ui-tabs-hide"),this.element.queue("tabs",function(){f._trigger("show",null,f._ui(f.anchors[0],f.panels[0]))}),this.load(0)),this._trigger("add",null,this._ui(this.anchors[e],this.panels[e])),this},remove:function(b){b=this._getIndex(b);var c=this.options,d=this.lis.eq(b).remove(),e=this.panels.eq(b).remove();return d.hasClass("ui-tabs-selected")&&this.anchors.length>1&&this.select(b+(b+1<this.anchors.length?1:-1)),c.disabled=a.map(a.grep(c.disabled,function(a){return a!=b}),function(a){return a>=b?--a:a}),this._tabify(),this._trigger("remove",null,this._ui(d.find("a")[0],e[0])),this},enable:function(b){b=this._getIndex(b);var c=this.options;if(a.inArray(b,c.disabled)!=-1)return this.lis.eq(b).removeClass("ui-state-disabled"),c.disabled=a.grep(c.disabled,function(a){return a!=b}),this._trigger("enable",null,this._ui(this.anchors[b],this.panels[b])),this},disable:function(a){a=this._getIndex(a);var b=this.options;return a!=b.selected&&(this.lis.eq(a).addClass("ui-state-disabled"),b.disabled.push(a),b.disabled.sort(),this._trigger("disable",null,this._ui(this.anchors[a],this.panels[a]))),this},select:function(a){a=this._getIndex(a);if(a==-1){if(!this.options.collapsible||this.options.selected==-1)return this;a=this.options.selected}return this.anchors.eq(a).trigger(this.options.event+".tabs"),this},load:function(b){b=this._getIndex(b);var c=this,d=this.options,e=this.anchors.eq(b)[0],f=a.data(e,"load.tabs");this.abort();if(!(!f||this.element.queue("tabs").length!==0&&a.data(e,"cache.tabs"))){this.lis.eq(b).addClass("ui-state-processing");if(d.spinner){var g=a("span",e);g.data("label.tabs",g.html()).html(d.spinner)}return this.xhr=a.ajax(a.extend({},d.ajaxOptions,{url:f,success:function(f,g){c.element.find(c._sanitizeSelector(e.hash)).html(f),c._cleanup(),d.cache&&a.data(e,"cache.tabs",!0),c._trigger("load",null,c._ui(c.anchors[b],c.panels[b]));try{d.ajaxOptions.success(f,g)}catch(h){}},error:function(a,f){c._cleanup(),c._trigger("load",null,c._ui(c.anchors[b],c.panels[b]));try{d.ajaxOptions.error(a,f,b,e)}catch(g){}}})),c.element.dequeue("tabs"),this}this.element.dequeue("tabs")},abort:function(){return this.element.queue([]),this.panels.stop(!1,!0),this.element.queue("tabs",this.element.queue("tabs").splice(-2,2)),this.xhr&&(this.xhr.abort(),delete this.xhr),this._cleanup(),this},url:function(a,b){return this.anchors.eq(a).removeData("cache.tabs").data("load.tabs",b),this},length:function(){return this.anchors.length}}),a.extend(a.ui.tabs,{version:"1.8.16"}),a.extend(a.ui.tabs.prototype,{rotation:null,rotate:function(a,b){var c=this,d=this.options,e=c._rotate||(c._rotate=function(b){clearTimeout(c.rotation),c.rotation=setTimeout(function(){var a=d.selected;c.select(++a<c.anchors.length?a:0)},a),b&&b.stopPropagation()});return b=c._unrotate||(c._unrotate=b?function(){t=d.selected,e()}:function(a){a.clientX&&c.rotate(null)}),a?(this.element.bind("tabsshow",e),this.anchors.bind(d.event+".tabs",b),e()):(clearTimeout(c.rotation),this.element.unbind("tabsshow",e),this.anchors.unbind(d.event+".tabs",b),delete this._rotate,delete this._unrotate),this}})}(jQuery),function(d,C){function M(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._inDialog=this._datepickerShowing=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},d.extend(this._defaults,this.regional[""]),this.dpDiv=N(d('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function N(a){return a.bind("mouseout",function(a){a=d(a.target).closest("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a"),a.length&&a.removeClass("ui-state-hover ui-datepicker-prev-hover ui-datepicker-next-hover")}).bind("mouseover",function(b){b=d(b.target).closest("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a"),!d.datepicker._isDisabledDatepicker(J.inline?a.parent()[0]:J.input[0])&&!!b.length&&(b.parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),b.addClass("ui-state-hover"),b.hasClass("ui-datepicker-prev")&&b.addClass("ui-datepicker-prev-hover"),b.hasClass("ui-datepicker-next")&&b.addClass("ui-datepicker-next-hover"))})}function H(a,b){d.extend(a,b);for(var c in b)if(b[c]==null||b[c]==C)a[c]=b[c];return a}d.extend(d.ui,{datepicker:{version:"1.8.16"}});var B=(new Date).getTime(),J;d.extend(M.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return H(this._defaults,a||{}),this},_attachDatepicker:function(a,b){var c=null;for(var e in this._defaults){var f=a.getAttribute("date:"+e);if(f){c=c||{};try{c[e]=eval(f)}catch(h){c[e]=f}}}e=a.nodeName.toLowerCase(),f=e=="div"||e=="span",a.id||(this.uuid+=1,a.id="dp"+this.uuid);var i=this._newInst(d(a),f);i.settings=d.extend({},b||{},c||{}),e=="input"?this._connectDatepicker(a,i):f&&this._inlineDatepicker(a,i)},_newInst:function(a,b){return{id:a[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1"),input:a,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:b,dpDiv:b?N(d('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(a,b){var c=d(a);b.append=d([]),b.trigger=d([]),c.hasClass(this.markerClassName)||(this._attachments(c,b),c.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(a,c,d){b.settings[c]=d}).bind("getData.datepicker",function(a,c){return this._get(b,c)}),this._autoSize(b),d.data(a,"datepicker",b),b.settings.disabled&&this._disableDatepicker(a))},_attachments:function(a,b){var c=this._get(b,"appendText"),e=this._get(b,"isRTL");b.append&&b.append.remove(),c&&(b.append=d('<span class="'+this._appendClass+'">'+c+"</span>"),a[e?"before":"after"](b.append)),a.unbind("focus",this._showDatepicker),b.trigger&&b.trigger.remove(),c=this._get(b,"showOn"),(c=="focus"||c=="both")&&a.focus(this._showDatepicker);if(c=="button"||c=="both"){c=this._get(b,"buttonText");var f=this._get(b,"buttonImage");b.trigger=d(this._get(b,"buttonImageOnly")?d("<img/>").addClass(this._triggerClass).attr({src:f,alt:c,title:c}):d('<button type="button"></button>').addClass(this._triggerClass).html(f==""?c:d("<img/>").attr({src:f,alt:c,title:c}))),a[e?"before":"after"](b.trigger),b.trigger.click(function(){return d.datepicker._datepickerShowing&&d.datepicker._lastInput==a[0]?d.datepicker._hideDatepicker():d.datepicker._showDatepicker(a[0]),!1})}},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b=new Date(2009,11,20),c=this._get(a,"dateFormat");if(c.match(/[DM]/)){var d=function(a){for(var b=0,c=0,d=0;d<a.length;d++)a[d].length>b&&(b=a[d].length,c=d);return c};b.setMonth(d(this._get(a,c.match(/MM/)?"monthNames":"monthNamesShort"))),b.setDate(d(this._get(a,c.match(/DD/)?"dayNames":"dayNamesShort"))+20-b.getDay())}a.input.attr("size",this._formatDate(a,b).length)}},_inlineDatepicker:function(a,b){var c=d(a);c.hasClass(this.markerClassName)||(c.addClass(this.markerClassName).append(b.dpDiv).bind("setData.datepicker",function(a,c,d){b.settings[c]=d}).bind("getData.datepicker",function(a,c){return this._get(b,c)}),d.data(a,"datepicker",b),this._setDate(b,this._getDefaultDate(b),!0),this._updateDatepicker(b),this._updateAlternate(b),b.settings.disabled&&this._disableDatepicker(a),b.dpDiv.css("display","block"))},_dialogDatepicker:function(a,b,c,e,f){return a=this._dialogInst,a||(this.uuid+=1,this._dialogInput=d('<input type="text" id="'+("dp"+this.uuid)+'" style="position: absolute; top: -100px; width: 0px; z-index: -10;"/>'),this._dialogInput.keydown(this._doKeyDown),d("body").append(this._dialogInput),a=this._dialogInst=this._newInst(this._dialogInput,!1),a.settings={},d.data(this._dialogInput[0],"datepicker",a)),H(a.settings,e||{}),b=b&&b.constructor==Date?this._formatDate(a,b):b,this._dialogInput.val(b),this._pos=f?f.length?f:[f.pageX,f.pageY]:null,this._pos||(this._pos=[document.documentElement.clientWidth/2-100+(document.documentElement.scrollLeft||document.body.scrollLeft),document.documentElement.clientHeight/2-150+(document.documentElement.scrollTop||document.body.scrollTop)]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),a.settings.onSelect=c,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),d.blockUI&&d.blockUI(this.dpDiv),d.data(this._dialogInput[0],"datepicker",a),this},_destroyDatepicker:function(a){var b=d(a),c=d.data(a,"datepicker");if(b.hasClass(this.markerClassName)){var e=a.nodeName.toLowerCase();d.removeData(a,"datepicker"),e=="input"?(c.append.remove(),c.trigger.remove(),b.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):(e=="div"||e=="span")&&b.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(a){var b=d(a),c=d.data(a,"datepicker");if(b.hasClass(this.markerClassName)){var e=a.nodeName.toLowerCase();if(e=="input")a.disabled=!1,c.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if(e=="div"||e=="span")b=b.children("."+this._inlineClass),b.children().removeClass("ui-state-disabled"),b.find("select.ui-datepicker-month, select.ui-datepicker-year").removeAttr("disabled");this._disabledInputs=d.map(this._disabledInputs,function(b){return b==a?null:b})}},_disableDatepicker:function(a){var b=d(a),c=d.data(a,"datepicker");if(b.hasClass(this.markerClassName)){var e=a.nodeName.toLowerCase();if(e=="input")a.disabled=!0,c.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if(e=="div"||e=="span")b=b.children("."+this._inlineClass),b.children().addClass("ui-state-disabled"),b.find("select.ui-datepicker-month, select.ui-datepicker-year").attr("disabled","disabled");this._disabledInputs=d.map(this._disabledInputs,function(b){return b==a?null:b}),this._disabledInputs[this._disabledInputs.length]=a}},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;b<this._disabledInputs.length;b++)if(this._disabledInputs[b]==a)return!0;return!1},_getInst:function(a){try{return d.data(a,"datepicker")}catch(b){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(a,b,c){var e=this._getInst(a);if(arguments.length==2&&typeof b=="string")return b=="defaults"?d.extend({},d.datepicker._defaults):e?b=="all"?d.extend({},e.settings):this._get(e,b):null;var f=b||{};typeof b=="string"&&(f={},f[b]=c);if(e){this._curInst==e&&this._hideDatepicker();var g=this._getDateDatepicker(a,!0),h=this._getMinMaxDate(e,"min"),i=this._getMinMaxDate(e,"max");H(e.settings,f),h!==null&&f.dateFormat!==C&&f.minDate===C&&(e.settings.minDate=this._formatDate(e,h)),i!==null&&f.dateFormat!==C&&f.maxDate===C&&(e.settings.maxDate=this._formatDate(e,i)),this._attachments(d(a),e),this._autoSize(e),this._setDate(e,g),this._updateAlternate(e),this._updateDatepicker(e)}},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){(a=this._getInst(a))&&this._updateDatepicker(a)},_setDateDatepicker:function(a,b){if(a=this._getInst(a))this._setDate(a,b),this._updateDatepicker(a),this._updateAlternate(a)},_getDateDatepicker:function(a,b){return(a=this._getInst(a))&&!a.inline&&this._setDateFromField(a,b),a?this._getDate(a):null},_doKeyDown:function(a){var b=d.datepicker._getInst(a.target),c=!0,e=b.dpDiv.is(".ui-datepicker-rtl");b._keyEvent=!0;if(d.datepicker._datepickerShowing)switch(a.keyCode){case 9:d.datepicker._hideDatepicker(),c=!1;break;case 13:return c=d("td."+d.datepicker._dayOverClass+":not(."+d.datepicker._currentClass+")",b.dpDiv),c[0]&&d.datepicker._selectDay(a.target,b.selectedMonth,b.selectedYear,c[0]),(a=d.datepicker._get(b,"onSelect"))?(c=d.datepicker._formatDate(b),a.apply(b.input?b.input[0]:null,[c,b])):d.datepicker._hideDatepicker(),!1;case 27:d.datepicker._hideDatepicker();break;case 33:d.datepicker._adjustDate(a.target,a.ctrlKey?-d.datepicker._get(b,"stepBigMonths"):-d.datepicker._get(b,"stepMonths"),"M");break;case 34:d.datepicker._adjustDate(a.target,a.ctrlKey?+d.datepicker._get(b,"stepBigMonths"):+d.datepicker._get(b,"stepMonths"),"M");break;case 35:(a.ctrlKey||a.metaKey)&&d.datepicker._clearDate(a.target),c=a.ctrlKey||a.metaKey;break;case 36:(a.ctrlKey||a.metaKey)&&d.datepicker._gotoToday(a.target),c=a.ctrlKey||a.metaKey;break;case 37:(a.ctrlKey||a.metaKey)&&d.datepicker._adjustDate(a.target,e?1:-1,"D"),c=a.ctrlKey||a.metaKey,a.originalEvent.altKey&&d.datepicker._adjustDate(a.target,a.ctrlKey?-d.datepicker._get(b,"stepBigMonths"):-d.datepicker._get(b,"stepMonths"),"M");break;case 38:(a.ctrlKey||a.metaKey)&&d.datepicker._adjustDate(a.target,-7,"D"),c=a.ctrlKey||a.metaKey;break;case 39:(a.ctrlKey||a.metaKey)&&d.datepicker._adjustDate(a.target,e?-1:1,"D"),c=a.ctrlKey||a.metaKey,a.originalEvent.altKey&&d.datepicker._adjustDate(a.target,a.ctrlKey?+d.datepicker._get(b,"stepBigMonths"):+d.datepicker._get(b,"stepMonths"),"M");break;case 40:(a.ctrlKey||a.metaKey)&&d.datepicker._adjustDate(a.target,7,"D"),c=a.ctrlKey||a.metaKey;break;default:c=!1}else a.keyCode==36&&a.ctrlKey?d.datepicker._showDatepicker(this):c=!1;c&&(a.preventDefault(),a.stopPropagation())},_doKeyPress:function(a){var b=d.datepicker._getInst(a.target);if(d.datepicker._get(b,"constrainInput")){b=d.datepicker._possibleChars(d.datepicker._get(b,"dateFormat"));var c=String.fromCharCode(a.charCode==C?a.keyCode:a.charCode);return a.ctrlKey||a.metaKey||c<" "||!b||b.indexOf(c)>-1}},_doKeyUp:function(a){a=d.datepicker._getInst(a.target);if(a.input.val()!=a.lastVal)try{d.datepicker.parseDate(d.datepicker._get(a,"dateFormat"),a.input?a.input.val():null,d.datepicker._getFormatConfig(a))&&(d.datepicker._setDateFromField(a),d.datepicker._updateAlternate(a),d.datepicker._updateDatepicker(a))}catch(b){d.datepicker.log(b)}return!0},_showDatepicker:function(a){a=a.target||a,a.nodeName.toLowerCase()!="input"&&(a=d("input",a.parentNode)[0]);if(!d.datepicker._isDisabledDatepicker(a)&&d.datepicker._lastInput!=a){var b=d.datepicker._getInst(a);d.datepicker._curInst&&d.datepicker._curInst!=b&&(d.datepicker._datepickerShowing&&d.datepicker._triggerOnClose(d.datepicker._curInst),d.datepicker._curInst.dpDiv.stop(!0,!0));var c=d.datepicker._get(b,"beforeShow");c=c?c.apply(a,[a,b]):{};if(c!==!1){H(b.settings,c),b.lastVal=null,d.datepicker._lastInput=a,d.datepicker._setDateFromField(b),d.datepicker._inDialog&&(a.value=""),d.datepicker._pos||(d.datepicker._pos=d.datepicker._findPos(a),d.datepicker._pos[1]+=a.offsetHeight);var e=!1;d(a).parents().each(function(){return e|=d(this).css("position")=="fixed",!e}),e&&d.browser.opera&&(d.datepicker._pos[0]-=document.documentElement.scrollLeft,d.datepicker._pos[1]-=document.documentElement.scrollTop),c={left:d.datepicker._pos[0],top:d.datepicker._pos[1]},d.datepicker._pos=null,b.dpDiv.empty(),b.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),d.datepicker._updateDatepicker(b),c=d.datepicker._checkOffset(b,c,e),b.dpDiv.css({position:d.datepicker._inDialog&&d.blockUI?"static":e?"fixed":"absolute",display:"none",left:c.left+"px",top:c.top+"px"});if(!b.inline){c=d.datepicker._get(b,"showAnim");var f=d.datepicker._get(b,"duration"),g=function(){var a=b.dpDiv.find("iframe.ui-datepicker-cover");if(a.length){var c=d.datepicker._getBorders(b.dpDiv);a.css({left:-c[0],top:-c[1],width:b.dpDiv.outerWidth(),height:b.dpDiv.outerHeight()})}};b.dpDiv.zIndex(d(a).zIndex()+1),d.datepicker._datepickerShowing=!0,d.effects&&d.effects[c]?b.dpDiv.show(c,d.datepicker._get(b,"showOptions"),f,g):b.dpDiv[c||"show"](c?f:null,g),(!c||!f)&&g(),b.input.is(":visible")&&!b.input.is(":disabled")&&b.input.focus(),d.datepicker._curInst=b}}}},_updateDatepicker:function(a){this.maxRows=4;var b=d.datepicker._getBorders(a.dpDiv);J=a,a.dpDiv.empty().append(this._generateHTML(a));var c=a.dpDiv.find("iframe.ui-datepicker-cover");c.length&&c.css({left:-b[0],top:-b[1],width:a.dpDiv.outerWidth(),height:a.dpDiv.outerHeight()}),a.dpDiv.find("."+this._dayOverClass+" a").mouseover(),b=this._getNumberOfMonths(a),c=b[1],a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),c>1&&a.dpDiv.addClass("ui-datepicker-multi-"+c).css("width",17*c+"em"),a.dpDiv[(b[0]!=1||b[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi"),a.dpDiv[(this._get(a,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),a==d.datepicker._curInst&&d.datepicker._datepickerShowing&&a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&a.input[0]!=document.activeElement&&a.input.focus();if(a.yearshtml){var e=a.yearshtml;setTimeout(function(){e===a.yearshtml&&a.yearshtml&&a.dpDiv.find("select.ui-datepicker-year:first").replaceWith(a.yearshtml),e=a.yearshtml=null},0)}},_getBorders:function(a){var b=function(a){return{thin:1,medium:2,thick:3}[a]||a};return[parseFloat(b(a.css("border-left-width"))),parseFloat(b(a.css("border-top-width")))]},_checkOffset:function(a,b,c){var e=a.dpDiv.outerWidth(),f=a.dpDiv.outerHeight(),g=a.input?a.input.outerWidth():0,h=a.input?a.input.outerHeight():0,i=document.documentElement.clientWidth+d(document).scrollLeft(),j=document.documentElement.clientHeight+d(document).scrollTop();return b.left-=this._get(a,"isRTL")?e-g:0,b.left-=c&&b.left==a.input.offset().left?d(document).scrollLeft():0,b.top-=c&&b.top==a.input.offset().top+h?d(document).scrollTop():0,b.left-=Math.min(b.left,b.left+e>i&&i>e?Math.abs(b.left+e-i):0),b.top-=Math.min(b.top,b.top+f>j&&j>f?Math.abs(f+h):0),b},_findPos:function(a){for(var b=this._get(this._getInst(a),"isRTL");a&&(a.type=="hidden"||a.nodeType!=1||d.expr.filters.hidden(a));)a=a[b?"previousSibling":"nextSibling"];return a=d(a).offset(),[a.left,a.top]},_triggerOnClose:function(a){var b=this._get(a,"onClose");b&&b.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a])},_hideDatepicker:function(a){var b=this._curInst;if(!(!b||a&&b!=d.data(a,"datepicker"))&&this._datepickerShowing){a=this._get(b,"showAnim");var c=this._get(b,"duration"),e=function(){d.datepicker._tidyDialog(b),this._curInst=null};d.effects&&d.effects[a]?b.dpDiv.hide(a,d.datepicker._get(b,"showOptions"),c,e):b.dpDiv[a=="slideDown"?"slideUp":a=="fadeIn"?"fadeOut":"hide"](a?c:null,e),a||e(),d.datepicker._triggerOnClose(b),this._datepickerShowing=!1,this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),d.blockUI&&(d.unblockUI(),d("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(a){d.datepicker._curInst&&(a=d(a.target),a[0].id!=d.datepicker._mainDivId&&a.parents("#"+d.datepicker._mainDivId).length==0&&!a.hasClass(d.datepicker.markerClassName)&&!a.hasClass(d.datepicker._triggerClass)&&d.datepicker._datepickerShowing&&(!d.datepicker._inDialog||!d.blockUI)&&d.datepicker._hideDatepicker())},_adjustDate:function(a,b,c){a=d(a);var e=this._getInst(a[0]);this._isDisabledDatepicker(a[0])||(this._adjustInstDate(e,b+(c=="M"?this._get(e,"showCurrentAtPos"):0),c),this._updateDatepicker(e))},_gotoToday:function(a){a=d(a);var b=this._getInst(a[0]);if(this._get(b,"gotoCurrent")&&b.currentDay)b.selectedDay=b.currentDay,b.drawMonth=b.selectedMonth=b.currentMonth,b.drawYear=b.selectedYear=b.currentYear;else{var c=new Date;b.selectedDay=c.getDate(),b.drawMonth=b.selectedMonth=c.getMonth(),b.drawYear=b.selectedYear=c.getFullYear()}this._notifyChange(b),this._adjustDate(a)},_selectMonthYear:function(a,b,c){a=d(a);var e=this._getInst(a[0]);e["selected"+(c=="M"?"Month":"Year")]=e["draw"+(c=="M"?"Month":"Year")]=parseInt(b.options[b.selectedIndex].value,10),this._notifyChange(e),this._adjustDate(a)},_selectDay:function(a,b,c,e){var f=d(a);!d(e).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(f[0])&&(f=this._getInst(f[0]),f.selectedDay=f.currentDay=d("a",e).html(),f.selectedMonth=f.currentMonth=b,f.selectedYear=f.currentYear=c,this._selectDate(a,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear)))},_clearDate:function(a){a=d(a),this._getInst(a[0]),this._selectDate(a,"")},_selectDate:function(a,b){a=this._getInst(d(a)[0]),b=b!=null?b:this._formatDate(a),a.input&&a.input.val(b),this._updateAlternate(a);var c=this._get(a,"onSelect");c?c.apply(a.input?a.input[0]:null,[b,a]):a.input&&a.input.trigger("change"),a.inline?this._updateDatepicker(a):(this._hideDatepicker(),this._lastInput=a.input[0],typeof a.input[0]!="object"&&a.input.focus(),this._lastInput=null)},_updateAlternate:function(a){var b=this._get(a,"altField");if(b){var c=this._get(a,"altFormat")||this._get(a,"dateFormat"),e=this._getDate(a),f=this.formatDate(c,e,this._getFormatConfig(a));d(b).each(function(){d(this).val(f)})}},noWeekends:function(a){return a=a.getDay(),[a>0&&a<6,""]},iso8601Week:function(a){a=new Date(a.getTime()),a.setDate(a.getDate()+4-(a.getDay()||7));var b=a.getTime();return a.setMonth(0),a.setDate(1),Math.floor(Math.round((b-a)/864e5)/7)+1},parseDate:function(a,b,c){if(a==null||b==null)throw"Invalid arguments";b=typeof b=="object"?b.toString():b+"";if(b=="")return null;var e=(c?c.shortYearCutoff:null)||this._defaults.shortYearCutoff;e=typeof e!="string"?e:(new Date).getFullYear()%100+parseInt(e,10);for(var f=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,g=(c?c.dayNames:null)||this._defaults.dayNames,h=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,i=(c?c.monthNames:null)||this._defaults.monthNames,j=c=-1,k=-1,l=-1,m=!1,n=function(b){return(b=s+1<a.length&&a.charAt(s+1)==b)&&s++,b},o=function(a){var c=n(a);a=new RegExp("^\\d{1,"+(a=="@"?14:a=="!"?20:a=="y"&&c?4:a=="o"?3:2)+"}"),a=b.substring(r).match(a);if(!a)throw"Missing number at position "+r;return r+=a[0].length,parseInt(a[0],10)},p=function(a,c,e){a=d.map(n(a)?e:c,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)});var f=-1;d.each(a,function(a,c){a=c[1];if(b.substr(r,a.length).toLowerCase()==a.toLowerCase())return f=c[0],r+=a.length,!1});if(f!=-1)return f+1;throw"Unknown name at position "+r},q=function(){if(b.charAt(r)!=a.charAt(s))throw"Unexpected literal at position "+r;r++},r=0,s=0;s<a.length;s++)if(m)a.charAt(s)=="'"&&!n("'")?m=!1:q();else switch(a.charAt(s)){case"d":k=o("d");break;case"D":p("D",f,g);break;case"o":l=o("o");break;case"m":j=o("m");break;case"M":j=p("M",h,i);break;case"y":c=o("y");break;case"@":var t=new Date(o("@"));c=t.getFullYear(),j=t.getMonth()+1,k=t.getDate();break;case"!":t=new Date((o("!")-this._ticksTo1970)/1e4),c=t.getFullYear(),j=t.getMonth()+1,k=t.getDate();break;case"'":n("'")?q():m=!0;break;default:q()}if(r<b.length)throw"Extra/unparsed characters found in date: "+b.substring(r);c==-1?c=(new Date).getFullYear():c<100&&(c+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c<=e?0:-100));if(l>-1){j=1,k=l;do{e=this._getDaysInMonth(c,j-1);if(k<=e)break;j++,k-=e}while(1)}t=this._daylightSavingAdjust(new Date(c,j-1,k));if(t.getFullYear()!=c||t.getMonth()+1!=j||t.getDate()!=k)throw"Invalid date";return t},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*24*60*60*1e7,formatDate:function(a,b,c){if(!b)return"";var d=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,e=(c?c.dayNames:null)||this._defaults.dayNames,f=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort;c=(c?c.monthNames:null)||this._defaults.monthNames;var g=function(b){return(b=l+1<a.length&&a.charAt(l+1)==b)&&l++,b},h=function(a,b,c){b=""+b;if(g(a))for(;b.length<c;)b="0"+b;return b},i=function(a,b,c,d){return g(a)?d[b]:c[b]},j="",k=!1;if(b)for(var l=0;l<a.length;l++)if(k)a.charAt(l)=="'"&&!g("'")?k=!1:j+=a.charAt(l);else switch(a.charAt(l)){case"d":j+=h("d",b.getDate(),2);break;case"D":j+=i("D",b.getDay(),d,e);break;case"o":j+=h("o",Math.round(((new Date(b.getFullYear(),b.getMonth(),b.getDate())).getTime()-(new Date(b.getFullYear(),0,0)).getTime())/864e5),3);break;case"m":j+=h("m",b.getMonth()+1,2);break;case"M":j+=i("M",b.getMonth(),f,c);break;case"y":j+=g("y")?b.getFullYear():(b.getYear()%100<10?"0":"")+b.getYear()%100;break;case"@":j+=b.getTime();break;case"!":j+=b.getTime()*1e4+this._ticksTo1970;break;case"'":g("'")?j+="'":k=!0;break;default:j+=a.charAt(l)}return j},_possibleChars:function(a){for(var b="",c=!1,d=function(b){return(b=e+1<a.length&&a.charAt(e+1)==b)&&e++,b},e=0;e<a.length;e++)if(c)a.charAt(e)=="'"&&!d("'")?c=!1:b+=a.charAt(e);else switch(a.charAt(e)){case"d":case"m":case"y":case"@":b+="0123456789";break;case"D":case"M":return null;case"'":d("'")?b+="'":c=!0;break;default:b+=a.charAt(e)}return b},_get:function(a,b){return a.settings[b]!==C?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()!=a.lastVal){var c=this._get(a,"dateFormat"),d=a.lastVal=a.input?a.input.val():null,e,f;e=f=this._getDefaultDate(a);var g=this._getFormatConfig(a);try{e=this.parseDate(c,d,g)||f}catch(h){this.log(h),d=b?"":d}a.selectedDay=e.getDate(),a.drawMonth=a.selectedMonth=e.getMonth(),a.drawYear=a.selectedYear=e.getFullYear(),a.currentDay=d?e.getDate():0,a.currentMonth=d?e.getMonth():0,a.currentYear=d?e.getFullYear():0,this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(a,b,c){var e=function(a){var b=new Date;return b.setDate(b.getDate()+a),b},f=function(b){try{return d.datepicker.parseDate(d.datepicker._get(a,"dateFormat"),b,d.datepicker._getFormatConfig(a))}catch(c){}var e=(b.toLowerCase().match(/^c/)?d.datepicker._getDate(a):null)||new Date,f=e.getFullYear(),g=e.getMonth();e=e.getDate();for(var h=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,i=h.exec(b);i;){switch(i[2]||"d"){case"d":case"D":e+=parseInt(i[1],10);break;case"w":case"W":e+=parseInt(i[1],10)*7;break;case"m":case"M":g+=parseInt(i[1],10),e=Math.min(e,d.datepicker._getDaysInMonth(f,g));break;case"y":case"Y":f+=parseInt(i[1],10),e=Math.min(e,d.datepicker._getDaysInMonth(f,g))}i=h.exec(b)}return new Date(f,g,e)};if(b=(b=b==null||b===""?c:typeof b=="string"?f(b):typeof b=="number"?isNaN(b)?c:e(b):new Date(b.getTime()))&&b.toString()=="Invalid Date"?c:b)b.setHours(0),b.setMinutes(0),b.setSeconds(0),b.setMilliseconds(0);return this._daylightSavingAdjust(b)},_daylightSavingAdjust:function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null},_setDate:function(a,b,c){var d=!b,e=a.selectedMonth,f=a.selectedYear;b=this._restrictMinMax(a,this._determineDate(a,b,new Date)),a.selectedDay=a.currentDay=b.getDate(),a.drawMonth=a.selectedMonth=a.currentMonth=b.getMonth(),a.drawYear=a.selectedYear=a.currentYear=b.getFullYear(),(e!=a.selectedMonth||f!=a.selectedYear)&&!c&&this._notifyChange(a),this._adjustInstDate(a),a.input&&a.input.val(d?"":this._formatDate(a))},_getDate:function(a){return!a.currentYear||a.input&&a.input.val()==""?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay))},_generateHTML:function(a){var b=new Date;b=this._daylightSavingAdjust(new Date(b.getFullYear(),b.getMonth(),b.getDate()));var c=this._get(a,"isRTL"),e=this._get(a,"showButtonPanel"),f=this._get(a,"hideIfNoPrevNext"),g=this._get(a,"navigationAsDateFormat"),h=this._getNumberOfMonths(a),i=this._get(a,"showCurrentAtPos"),j=this._get(a,"stepMonths"),k=h[0]!=1||h[1]!=1,l=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),m=this._getMinMaxDate(a,"min"),n=this._getMinMaxDate(a,"max");i=a.drawMonth-i;var o=a.drawYear;i<0&&(i+=12,o--);if(n){var p=this._daylightSavingAdjust(new Date(n.getFullYear(),n.getMonth()-h[0]*h[1]+1,n.getDate()));for(p=m&&p<m?m:p;this._daylightSavingAdjust(new Date(o,i,1))>p;)i--,i<0&&(i=11,o--)}a.drawMonth=i,a.drawYear=o,p=this._get(a,"prevText"),p=g?this.formatDate(p,this._daylightSavingAdjust(new Date(o,i-j,1)),this._getFormatConfig(a)):p,p=this._canAdjustMonth(a,-1,o,i)?'<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_'+B+".datepicker._adjustDate('#"+a.id+"', -"+j+", 'M');\" title=\""+p+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+p+"</span></a>":f?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+p+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+p+"</span></a>";var q=this._get(a,"nextText");q=g?this.formatDate(q,this._daylightSavingAdjust(new Date(o,i+j,1)),this._getFormatConfig(a)):q,f=this._canAdjustMonth(a,1,o,i)?'<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_'+B+".datepicker._adjustDate('#"+a.id+"', +"+j+", 'M');\" title=\""+q+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+q+"</span></a>":f?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+q+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+q+"</span></a>",j=this._get(a,"currentText"),q=this._get(a,"gotoCurrent")&&a.currentDay?l:b,j=g?this.formatDate(j,q,this._getFormatConfig(a)):j,g=a.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery_'+B+'.datepicker._hideDatepicker();">'+this._get(a,"closeText")+"</button>",e=e?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(c?g:"")+(this._isInRange(a,q)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery_'+B+".datepicker._gotoToday('#"+a.id+"');\">"+j+"</button>":"")+(c?"":g)+"</div>":"",g=parseInt(this._get(a,"firstDay"),10),g=isNaN(g)?0:g,j=this._get(a,"showWeek"),q=this._get(a,"dayNames"),this._get(a,"dayNamesShort");var r=this._get(a,"dayNamesMin"),s=this._get(a,"monthNames"),t=this._get(a,"monthNamesShort"),u=this._get(a,"beforeShowDay"),v=this._get(a,"showOtherMonths"),w=this._get(a,"selectOtherMonths");this._get(a,"calculateWeek");for(var x=this._getDefaultDate(a),y="",z=0;z<h[0];z++){var A="";this.maxRows=4;for(var C=0;C<h[1];C++){var D=this._daylightSavingAdjust(new Date(o,i,a.selectedDay)),E=" ui-corner-all",F="";if(k){F+='<div class="ui-datepicker-group';if(h[1]>1)switch(C){case 0:F+=" ui-datepicker-group-first",E=" ui-corner-"+(c?"right":"left");break;case h[1]-1:F+=" ui-datepicker-group-last",E=" ui-corner-"+(c?"left":"right");break;default:F+=" ui-datepicker-group-middle",E=""}F+='">'}F+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+E+'">'+(/all|left/.test(E)&&z==0?c?f:p:"")+(/all|right/.test(E)&&z==0?c?p:f:"")+this._generateMonthYearHeader(a,i,o,m,n,z>0||C>0,s,t)+'</div><table class="ui-datepicker-calendar"><thead><tr>';var G=j?'<th class="ui-datepicker-week-col">'+this._get(a,"weekHeader")+"</th>":"";for(E=0;E<7;E++){var H=(E+g)%7;G+="<th"+((E+g+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+q[H]+'">'+r[H]+"</span></th>"}F+=G+"</tr></thead><tbody>",G=this._getDaysInMonth(o,i),o==a.selectedYear&&i==a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,G)),E=(this._getFirstDayOfMonth(o,i)-g+7)%7,G=Math.ceil((E+G)/7),this.maxRows=G=k?this.maxRows>G?this.maxRows:G:G,H=this._daylightSavingAdjust(new Date(o,i,1-E));for(var I=0;I<G;I++){F+="<tr>";var J=j?'<td class="ui-datepicker-week-col">'+this._get(a,"calculateWeek")(H)+"</td>":"";for(E=0;E<7;E++){var K=u?u.apply(a.input?a.input[0]:null,[H]):[!0,""],L=H.getMonth()!=i,M=L&&!w||!K[0]||m&&H<m||n&&H>n;J+='<td class="'+((E+g+6)%7>=5?" ui-datepicker-week-end":"")+(L?" ui-datepicker-other-month":"")+(H.getTime()==D.getTime()&&i==a.selectedMonth&&a._keyEvent||x.getTime()==H.getTime()&&x.getTime()==D.getTime()?" "+this._dayOverClass:"")+(M?" "+this._unselectableClass+" ui-state-disabled":"")+(L&&!v?"":" "+K[1]+(H.getTime()==l.getTime()?" "+this._currentClass:"")+(H.getTime()==b.getTime()?" ui-datepicker-today":""))+'"'+((!L||v)&&K[2]?' title="'+K[2]+'"':"")+(M?"":' onclick="DP_jQuery_'+B+".datepicker._selectDay('#"+a.id+"',"+H.getMonth()+","+H.getFullYear()+', this);return false;"')+">"+(L&&!v?"&#xa0;":M?'<span class="ui-state-default">'+H.getDate()+"</span>":'<a class="ui-state-default'+(H.getTime()==b.getTime()?" ui-state-highlight":"")+(H.getTime()==l.getTime()?" ui-state-active":"")+(L?" ui-priority-secondary":"")+'" href="#">'+H.getDate()+"</a>")+"</td>",H.setDate(H.getDate()+1),H=this._daylightSavingAdjust(H)}F+=J+"</tr>"}i++,i>11&&(i=0,o++),F+="</tbody></table>"+(k?"</div>"+(h[0]>0&&C==h[1]-1?'<div class="ui-datepicker-row-break"></div>':""):""),A+=F}y+=A}return y+=e+(d.browser.msie&&parseInt(d.browser.version,10)<7&&!a.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),a._keyEvent=!1,y},_generateMonthYearHeader:function(a,b,c,d,e,f,g,h){var i=this._get(a,"changeMonth"),j=this._get(a,"changeYear"),k=this._get(a,"showMonthAfterYear"),l='<div class="ui-datepicker-title">',m="";if(f||!i)m+='<span class="ui-datepicker-month">'+g[b]+"</span>";else{g=d&&d.getFullYear()==c;var n=e&&e.getFullYear()==c;m+='<select class="ui-datepicker-month" onchange="DP_jQuery_'+B+".datepicker._selectMonthYear('#"+a.id+"', this, 'M');\" >";for(var o=0;o<12;o++)(!g||o>=d.getMonth())&&(!n||o<=e.getMonth())&&(m+='<option value="'+o+'"'+(o==b?' selected="selected"':"")+">"+h[o]+"</option>");m+="</select>"}k||(l+=m+(f||!i||!j?"&#xa0;":""));if(!a.yearshtml){a.yearshtml="";if(f||!j)l+='<span class="ui-datepicker-year">'+c+"</span>";else{h=this._get(a,"yearRange").split(":");var p=(new Date).getFullYear();g=function(a){return a=a.match(/c[+-].*/)?c+parseInt(a.substring(1),10):a.match(/[+-].*/)?p+parseInt(a,10):parseInt(a,10),isNaN(a)?p:a},b=g(h[0]),h=Math.max(b,g(h[1]||"")),b=d?Math.max(b,d.getFullYear()):b,h=e?Math.min(h,e.getFullYear()):h;for(a.yearshtml+='<select class="ui-datepicker-year" onchange="DP_jQuery_'+B+".datepicker._selectMonthYear('#"+a.id+"', this, 'Y');\" >";b<=h;b++)a.yearshtml+='<option value="'+b+'"'+(b==c?' selected="selected"':"")+">"+b+"</option>";a.yearshtml+="</select>",l+=a.yearshtml,a.yearshtml=null}}return l+=this._get(a,"yearSuffix"),k&&(l+=(f||!i||!j?"&#xa0;":"")+m),l+="</div>",l},_adjustInstDate:function(a,b,c){var d=a.drawYear+(c=="Y"?b:0),e=a.drawMonth+(c=="M"?b:0);b=Math.min(a.selectedDay,this._getDaysInMonth(d,e))+(c=="D"?b:0),d=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(d,e,b))),a.selectedDay=d.getDate(),a.drawMonth=a.selectedMonth=d.getMonth(),a.drawYear=a.selectedYear=d.getFullYear(),(c=="M"||c=="Y")&&this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min");return a=this._getMinMaxDate(a,"max"),b=c&&b<c?c:b,b=a&&b>a?a:b},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){return a=this._get(a,"numberOfMonths"),a==null?[1,1]:typeof a=="number"?[1,a]:a},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return(new Date(a,b,1)).getDay()},_canAdjustMonth:function(a,b,c,d){var e=this._getNumberOfMonths(a);return c=this._daylightSavingAdjust(new Date(c,d+(b<0?b:e[0]*e[1]),1)),b<0&&c.setDate(this._getDaysInMonth(c.getFullYear(),c.getMonth())),this._isInRange(a,c)},_isInRange:function(a,b){var c=this._getMinMaxDate(a,"min");return a=this._getMinMaxDate(a,"max"),(!c||b.getTime()>=c.getTime())&&(!a||b.getTime()<=a.getTime())},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");return b=typeof b!="string"?b:(new Date).getFullYear()%100+parseInt(b,10),{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,d){return b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear),b=b?typeof b=="object"?b:this._daylightSavingAdjust(new Date(d,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay)),this.formatDate(this._get(a,"dateFormat"),b,this._getFormatConfig(a))}}),d.fn.datepicker=function(a){if(!this.length)return this;d.datepicker.initialized||(d(document).mousedown(d.datepicker._checkExternalClick).find("body").append(d.datepicker.dpDiv),d.datepicker.initialized=!0);var b=Array.prototype.slice.call(arguments,1);return typeof a!="string"||a!="isDisabled"&&a!="getDate"&&a!="widget"?a=="option"&&arguments.length==2&&typeof arguments[1]=="string"?d.datepicker["_"+a+"Datepicker"].apply(d.datepicker,[this[0]].concat(b)):this.each(function(){typeof a=="string"?d.datepicker["_"+a+"Datepicker"].apply(d.datepicker,[this].concat(b)):d.datepicker._attachDatepicker(this,a)}):d.datepicker["_"+a+"Datepicker"].apply(d.datepicker,[this[0]].concat(b))},d.datepicker=new M,d.datepicker.initialized=!1,d.datepicker.uuid=(new Date).getTime(),d.datepicker.version="1.8.16",window["DP_jQuery_"+B]=d}(jQuery),function(a,b){a.widget("ui.progressbar",{options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()}),this.valueDiv=a("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this.oldValue=this._value(),this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove(),a.Widget.prototype.destroy.apply(this,arguments)},value:function(a){return a===b?this._value():(this._setOption("value",a),this)},_setOption:function(b,c){b==="value"&&(this.options.value=c,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete")),a.Widget.prototype._setOption.apply(this,arguments)},_value:function(){var a=this.options.value;return typeof a!="number"&&(a=0),Math.min(this.options.max,Math.max(this.min,a))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var a=this.value(),b=this._percentage();this.oldValue!==a&&(this.oldValue=a,this._trigger("change")),this.valueDiv.toggle(a>this.min).toggleClass("ui-corner-right",a===this.options.max).width(b.toFixed(0)+"%"),this.element.attr("aria-valuenow",a)}}),a.extend(a.ui.progressbar,{version:"1.8.16"})}(jQuery),jQuery.effects||function(a,b){function c(b){var c;return b&&b.constructor==Array&&b.length==3?b:(c=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(b))?[parseInt(c[1],10),parseInt(c[2],10),parseInt(c[3],10)]:(c=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(b))?[parseFloat(c[1])*2.55,parseFloat(c[2])*2.55,parseFloat(c[3])*2.55]:(c=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(b))?[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]:(c=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(b))?[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]:/rgba\(0, 0, 0, 0\)/.exec(b)?j.transparent:j[a.trim(b).toLowerCase()]}function d(b,d){var e;do{e=a.curCSS(b,d);if(e!=""&&e!="transparent"||a.nodeName(b,"body"))break;d="backgroundColor"}while(b=b.parentNode);return c(e)}function e(){var a=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,b={},c,d;if(a&&a.length&&a[0]&&a[a[0]])for(var e=a.length;e--;)c=a[e],typeof a[c]=="string"&&(d=c.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()}),b[d]=a[c]);else for(c in a)typeof a[c]=="string"&&(b[c]=a[c]);return b}function f(b){var c,d;for(c in b)d=b[c],(d==null||a.isFunction(d)||c in l||/scrollbar/.test(c)||!/color/i.test(c)&&isNaN(parseFloat(d)))&&delete b[c];return b}function g(a,b){var c={_:0},d;for(d in b)a[d]!=b[d]&&(c[d]=b[d]);return c}function h(b,c,d,e){typeof b=="object"&&(e=c,d=null,c=b,b=c.effect),a.isFunction(c)&&(e=c,d=null,c={});if(typeof c=="number"||a.fx.speeds[c])e=d,d=c,c={};return a.isFunction(d)&&(e=d,d=null),c=c||{},d=d||c.duration,d=a.fx.off?0:typeof d=="number"?d:d in a.fx.speeds?a.fx.speeds[d]:a.fx.speeds._default,e=e||c.complete,[b,c,d,e]}function i(b){return!b||typeof b=="number"||a.fx.speeds[b]?!0:typeof b=="string"&&!a.effects[b]?!0:!1}a.effects={},a.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(b,e){a.fx.step[e]=function(a){a.colorInit||(a.start=d(a.elem,e),a.end=c(a.end),a.colorInit=!0),a.elem.style[e]="rgb("+Math.max(Math.min(parseInt(a.pos*(a.end[0]-a.start[0])+a.start[0],10),255),0)+","+Math.max(Math.min(parseInt(a.pos*(a.end[1]-a.start[1])+a.start[1],10),255),0)+","+Math.max(Math.min(parseInt(a.pos*(a.end[2]-a.start[2])+a.start[2],10),255),0)+")"}});var j={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},k=["add","remove","toggle"],l={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.effects.animateClass=function(b,c,d,h){return a.isFunction(d)&&(h=d,d=null),this.queue(function(){var i=a(this),j=i.attr("style")||" ",l=f(e.call(this)),m,n=i.attr("class");a.each(k,function(a,c){b[c]&&i[c+"Class"](b[c])}),m=f(e.call(this)),i.attr("class",n),i.animate(g(l,m),{queue:!1,duration:c,easing:d,complete:function(){a.each(k,function(a,c){b[c]&&i[c+"Class"](b[c])}),typeof i.attr("style")=="object"?(i.attr("style").cssText="",i.attr("style").cssText=j):i.attr("style",j),h&&h.apply(this,arguments),a.dequeue(this)}})})},a.fn.extend({_addClass:a.fn.addClass,addClass:function(b,c,d,e){return c?a.effects.animateClass.apply(this,[{add:b},c,d,e]):this._addClass(b)},_removeClass:a.fn.removeClass,removeClass:function(b,c,d,e){return c?a.effects.animateClass.apply(this,[{remove:b},c,d,e]):this._removeClass(b)},_toggleClass:a.fn.toggleClass,toggleClass:function(c,d,e,f,g){return typeof d=="boolean"||d===b?e?a.effects.animateClass.apply(this,[d?{add:c}:{remove:c},e,f,g]):this._toggleClass(c,d):a.effects.animateClass.apply(this,[{toggle:c},d,e,f])},switchClass:function(b,c,d,e,f){return a.effects.animateClass.apply(this,[{add:c,remove:b},d,e,f])}}),a.extend(a.effects,{version:"1.8.16",save:function(a,b){for(var c=0;c<b.length;c++)b[c]!==null&&a.data("ec.storage."+b[c],a[0].style[b[c]])},restore:function(a,b){for(var c=0;c<b.length;c++)b[c]!==null&&a.css(b[c],a.data("ec.storage."+b[c]))},setMode:function(a,b){return b=="toggle"&&(b=a.is(":hidden")?"show":"hide"),b},getBaseline:function(a,b){var c;switch(a[0]){case"top":c=0;break;case"middle":c=.5;break;case"bottom":c=1;break;default:c=a[0]/b.height}switch(a[1]){case"left":a=0;break;case"center":a=.5;break;case"right":a=1;break;default:a=a[1]/b.width}return{x:a,y:c}},createWrapper:function(b){if(b.parent().is(".ui-effects-wrapper"))return b.parent();var c={width:b.outerWidth(!0),height:b.outerHeight(!0),"float":b.css("float")},d=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e=document.activeElement;return b.wrap(d),(b[0]===e||a.contains(b[0],e))&&a(e).focus(),d=b.parent(),b.css("position")=="static"?(d.css({position:"relative"}),b.css({position:"relative"})):(a.extend(c,{position:b.css("position"),zIndex:b.css("z-index")}),a.each(["top","left","bottom","right"],function(a,d){c[d]=b.css(d),isNaN(parseInt(c[d],10))&&(c[d]="auto")}),b.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),d.css(c).show()},removeWrapper:function(b){var c,d=document.activeElement;return b.parent().is(".ui-effects-wrapper")?(c=b.parent().replaceWith(b),(b[0]===d||a.contains(b[0],d))&&a(d).focus(),c):b},setTransition:function(b,c,d,e){return e=e||{},a.each(c,function(a,c){unit=b.cssUnit(c),unit[0]>0&&(e[c]=unit[0]*d+unit[1])}),e}}),a.fn.extend({effect:function(b){var c=h.apply(this,arguments),d={options:c[1],duration:c[2],callback:c[3]};c=d.options.mode;var e=a.effects[b];return a.fx.off||!e?c?this[c](d.duration,d.callback):this.each(function(){d.callback&&d.callback.call(this)}):e.call(this,d)},_show:a.fn.show,show:function(a){if(i(a))return this._show.apply(this,arguments);var b=h.apply(this,arguments);return b[1].mode="show",this.effect.apply(this,b)},_hide:a.fn.hide,hide:function(a){if(i(a))return this._hide.apply(this,arguments);var b=h.apply(this,arguments);return b[1].mode="hide",this.effect.apply(this,b)},__toggle:a.fn.toggle,toggle:function(b){if(i(b)||typeof b=="boolean"||a.isFunction(b))return this.__toggle.apply(this,arguments);var c=h.apply(this,arguments);return c[1].mode="toggle",this.effect.apply(this,c)},cssUnit:function(b){var c=this.css(b),d=[];return a.each(["em","px","%","pt"],function(a,b){c.indexOf(b)>0&&(d=[parseFloat(c),b])}),d}}),a.easing.jswing=a.easing.swing,a.extend(a.easing,{def:"easeOutQuad",swing:function(b,c,d,e,f){return a.easing[a.easing.def](b,c,d,e,f)},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b+c:-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b*b+c:d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return b==0?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(a,b,c,d,e){return b==0?c:b==e?c+d:(b/=e/2)<1?d/2*Math.pow(2,10*(b-1))+c:d/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){return(b/=e/2)<1?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){a=1.70158;var f=0,g=d;return b==0?c:(b/=e)==1?c+d:(f||(f=e*.3),g<Math.abs(d)?(g=d,a=f/4):a=f/(2*Math.PI)*Math.asin(d/g),-(g*Math.pow(2,10*(b-=1))*Math.sin((b*e-a)*2*Math.PI/f))+c)},easeOutElastic:function(a,b,c,d,e){a=1.70158;var f=0,g=d;return b==0?c:(b/=e)==1?c+d:(f||(f=e*.3),g<Math.abs(d)?(g=d,a=f/4):a=f/(2*Math.PI)*Math.asin(d/g),g*Math.pow(2,-10*b)*Math.sin((b*e-a)*2*Math.PI/f)+d+c)},easeInOutElastic:function(a,b,c,d,e){a=1.70158;var f=0,g=d;return b==0?c:(b/=e/2)==2?c+d:(f||(f=e*.3*1.5),g<Math.abs(d)?(g=d,a=f/4):a=f/(2*Math.PI)*Math.asin(d/g),b<1?-0.5*g*Math.pow(2,10*(b-=1))*Math.sin((b*e-a)*2*Math.PI/f)+c:g*Math.pow(2,-10*(b-=1))*Math.sin((b*e-a)*2*Math.PI/f)*.5+d+c)},easeInBack:function(a,c,d,e,f,g){return g==b&&(g=1.70158),e*(c/=f)*c*((g+1)*c-g)+d},easeOutBack:function(a,c,d,e,f,g){return g==b&&(g=1.70158),e*((c=c/f-1)*c*((g+1)*c+g)+1)+d},easeInOutBack:function(a,c,d,e,f,g){return g==b&&(g=1.70158),(c/=f/2)<1?e/2*c*c*(((g*=1.525)+1)*c-g)+d:e/2*((c-=2)*c*(((g*=1.525)+1)*c+g)+2)+d},easeInBounce:function(b,c,d,e,f){return e-a.easing.easeOutBounce(b,f-c,0,e,f)+d},easeOutBounce:function(a,b,c,d,e){return(b/=e)<1/2.75?d*7.5625*b*b+c:b<2/2.75?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:b<2.5/2.75?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c},easeInOutBounce:function(b,c,d,e,f){return c<f/2?a.easing.easeInBounce(b,c*2,0,e,f)*.5+d:a.easing.easeOutBounce(b,c*2-f,0,e,f)*.5+e*.5+d}})}(jQuery),function(a){a.effects.blind=function(c){return this.queue(function(){var d=a(this),e=["position","top","bottom","left","right"],f=a.effects.setMode(d,c.options.mode||"hide"),g=c.options.direction||"vertical";a.effects.save(d,e),d.show();var h=a.effects.createWrapper(d).css({overflow:"hidden"}),i=g=="vertical"?"height":"width";g=g=="vertical"?h.height():h.width(),f=="show"&&h.css(i,0);var j={};j[i]=f=="show"?g:0,h.animate(j,c.duration,c.options.easing,function(){f=="hide"&&d.hide(),a.effects.restore(d,e),a.effects.removeWrapper(d),c.callback&&c.callback.apply(d[0],arguments),d.dequeue()})})}}(jQuery),function(a){a.effects.bounce=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],f=a.effects.setMode(c,b.options.mode||"effect"),g=b.options.direction||"up",h=b.options.distance||20,i=b.options.times||5,j=b.duration||250;/show|hide/.test(f)&&d.push("opacity"),a.effects.save(c,d),c.show(),a.effects.createWrapper(c);var k=g=="up"||g=="down"?"top":"left";g=g=="up"||g=="left"?"pos":"neg",h=b.options.distance||(k=="top"?c.outerHeight({margin:!0})/3:c.outerWidth({margin:!0})/3),f=="show"&&c.css("opacity",0).css(k,g=="pos"?-h:h),f=="hide"&&(h/=i*2),f!="hide"&&i--;if(f=="show"){var l={opacity:1};l[k]=(g=="pos"?"+=":"-=")+h,c.animate(l,j/2,b.options.easing),h/=2,i--}for(l=0;l<i;l++){var m={},n={};m[k]=(g=="pos"?"-=":"+=")+h,n[k]=(g=="pos"?"+=":"-=")+h,c.animate(m,j/2,b.options.easing).animate(n,j/2,b.options.easing),h=f=="hide"?h*2:h/2}f=="hide"?(l={opacity:0},l[k]=(g=="pos"?"-=":"+=")+h,c.animate(l,j/2,b.options.easing,function(){c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments)})):(m={},n={},m[k]=(g=="pos"?"-=":"+=")+h,n[k]=(g=="pos"?"+=":"-=")+h,c.animate(m,j/2,b.options.easing).animate(n,j/2,b.options.easing,function(){a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments)})),c.queue("fx",function(){c.dequeue()}),c.dequeue()})}}(jQuery),function(a){a.effects.clip=function(c){return this.queue(function(){var d=a(this),f=["position","top","bottom","left","right","height","width"],g=a.effects.setMode(d,c.options.mode||"hide"),h=c.options.direction||"vertical";a.effects.save(d,f),d.show();var i=a.effects.createWrapper(d).css({overflow:"hidden"});i=d[0].tagName=="IMG"?i:d;var j={size:h=="vertical"?"height":"width",position:h=="vertical"?"top":"left"};h=h=="vertical"?i.height():i.width(),g=="show"&&(i.css(j.size,0),i.css(j.position,h/2));var k={};k[j.size]=g=="show"?h:0,k[j.position]=g=="show"?0:h/2,i.animate(k,{queue:!1,duration:c.duration,easing:c.options.easing,complete:function(){g=="hide"&&d.hide(),a.effects.restore(d,f),a.effects.removeWrapper(d),c.callback&&c.callback.apply(d[0],arguments),d.dequeue()}})})}}(jQuery),function(a){a.effects.drop=function(b){return this.queue(function(){var e=a(this),f=["position","top","bottom","left","right","opacity"],g=a.effects.setMode(e,b.options.mode||"hide"),h=b.options.direction||"left";a.effects.save(e,f),e.show(),a.effects.createWrapper(e);var i=h=="up"||h=="down"?"top":"left";h=h=="up"||h=="left"?"pos":"neg";var j=b.options.distance||(i=="top"?e.outerHeight({margin:!0})/2:e.outerWidth({margin:!0})/2);g=="show"&&e.css("opacity",0).css(i,h=="pos"?-j:j);var k={opacity:g=="show"?1:0};k[i]=(g=="show"?h=="pos"?"+=":"-=":h=="pos"?"-=":"+=")+j,e.animate(k,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){g=="hide"&&e.hide(),a.effects.restore(e,f),a.effects.removeWrapper(e),b.callback&&b.callback.apply(this,arguments),e.dequeue()}})})}}(jQuery),function(a){a.effects.explode=function(b){return this.queue(function(){var c=b.options.pieces?Math.round(Math.sqrt(b.options.pieces)):3,d=b.options.pieces?Math.round(Math.sqrt(b.options.pieces)):3;b.options.mode=b.options.mode=="toggle"?a(this).is(":visible")?"hide":"show":b.options.mode;var e=a(this).show().css("visibility","hidden"),f=e.offset();f.top-=parseInt(e.css("marginTop"),10)||0,f.left-=parseInt(e.css("marginLeft"),10)||0;for(var g=e.outerWidth(!0),h=e.outerHeight(!0),i=0;i<c;i++)for(var k=0;k<d;k++)e.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-k*(g/d),top:-i*(h/c)}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:g/d,height:h/c,left:f.left+k*(g/d)+(b.options.mode=="show"?(k-Math.floor(d/2))*(g/d):0),top:f.top+i*(h/c)+(b.options.mode=="show"?(i-Math.floor(c/2))*(h/c):0),opacity:b.options.mode=="show"?0:1}).animate({left:f.left+k*(g/d)+(b.options.mode=="show"?0:(k-Math.floor(d/2))*(g/d)),top:f.top+i*(h/c)+(b.options.mode=="show"?0:(i-Math.floor(c/2))*(h/c)),opacity:b.options.mode=="show"?1:0},b.duration||500);setTimeout(function(){b.options.mode=="show"?e.css({visibility:"visible"}):e.css({visibility:"visible"}).hide(),b.callback&&b.callback.apply(e[0]),e.dequeue(),a("div.ui-effects-explode").remove()},b.duration||500)})}}(jQuery),function(a){a.effects.fade=function(c){return this.queue(function(){var d=a(this),e=a.effects.setMode(d,c.options.mode||"hide");d.animate({opacity:e},{queue:!1,duration:c.duration,easing:c.options.easing,complete:function(){c.callback&&c.callback.apply(this,arguments),d.dequeue()}})})}}(jQuery),function(a){a.effects.fold=function(b){return this.queue(function(){var d=a(this),e=["position","top","bottom","left","right"],f=a.effects.setMode(d,b.options.mode||"hide"),g=b.options.size||15,h=!!b.options.horizFirst,i=b.duration?b.duration/2:a.fx.speeds._default/2;a.effects.save(d,e),d.show();var j=a.effects.createWrapper(d).css({overflow:"hidden"}),k=f=="show"!=h,l=k?["width","height"]:["height","width"];k=k?[j.width(),j.height()]:[j.height(),j.width()];var m=/([0-9]+)%/.exec(g);m&&(g=parseInt(m[1],10)/100*k[f=="hide"?0:1]),f=="show"&&j.css(h?{height:0,width:g}:{height:g,width:0}),h={},m={},h[l[0]]=f=="show"?k[0]:g,m[l[1]]=f=="show"?k[1]:0,j.animate(h,i,b.options.easing).animate(m,i,b.options.easing,function(){f=="hide"&&d.hide(),a.effects.restore(d,e),a.effects.removeWrapper(d),b.callback&&b.callback.apply(d[0],arguments),d.dequeue()})})}}(jQuery),function(a){a.effects.highlight=function(c){return this.queue(function(){var d=a(this),e=["backgroundImage","backgroundColor","opacity"],f=a.effects.setMode(d,c.options.mode||"show"),g={backgroundColor:d.css("backgroundColor")};f=="hide"&&(g.opacity=0),a.effects.save(d,e),d.show().css({backgroundImage:"none",backgroundColor:c.options.color||"#ffff99"}).animate(g,{queue:!1,duration:c.duration,easing:c.options.easing,complete:function(){f=="hide"&&d.hide(),a.effects.restore(d,e),f=="show"&&!a.support.opacity&&this.style.removeAttribute("filter"),c.callback&&c.callback.apply(this,arguments),d.dequeue()}})})}}(jQuery),function(a){a.effects.pulsate=function(b){return this.queue(function(){var c=a(this),e=a.effects.setMode(c,b.options.mode||"show");times=(b.options.times||5)*2-1,duration=b.duration?b.duration/2:a.fx.speeds._default/2,isVisible=c.is(":visible"),animateTo=0,isVisible||(c.css("opacity",0).show(),animateTo=1),(e=="hide"&&isVisible||e=="show"&&!isVisible)&&times--;for(e=0;e<times;e++)c.animate({opacity:animateTo},duration,b.options.easing),animateTo=(animateTo+1)%2;c.animate({opacity:animateTo},duration,b.options.easing,function(){animateTo==0&&c.hide(),b.callback&&b.callback.apply(this,arguments)}),c.queue("fx",function(){c.dequeue()}).dequeue()})}}(jQuery),function(a){a.effects.puff=function(b){return this.queue(function(){var d=a(this),e=a.effects.setMode(d,b.options.mode||"hide"),f=parseInt(b.options.percent,10)||150,g=f/100,h={height:d.height(),width:d.width()};a.extend(b.options,{fade:!0,mode:e,percent:e=="hide"?f:100,from:e=="hide"?h:{height:h.height*g,width:h.width*g}}),d.effect("scale",b.options,b.duration,b.callback),d.dequeue()})},a.effects.scale=function(b){return this.queue(function(){var d=a(this),e=a.extend(!0,{},b.options),f=a.effects.setMode(d,b.options.mode||"effect"),g=parseInt(b.options.percent,10)||(parseInt(b.options.percent,10)==0?0:f=="hide"?0:100),h=b.options.direction||"both",i=b.options.origin;f!="effect"&&(e.origin=i||["middle","center"],e.restore=!0),i={height:d.height(),width:d.width()},d.from=b.options.from||(f=="show"?{height:0,width:0}:i),g={y:h!="horizontal"?g/100:1,x:h!="vertical"?g/100:1},d.to={height:i.height*g.y,width:i.width*g.x},b.options.fade&&(f=="show"&&(d.from.opacity=0,d.to.opacity=1),f=="hide"&&(d.from.opacity=1,d.to.opacity=0)),e.from=d.from,e.to=d.to,e.mode=f,d.effect("size",e,b.duration,b.callback),d.dequeue()})},a.effects.size=function(b){return this.queue(function(){var d=a(this),e=["position","top","bottom","left","right","width","height","overflow","opacity"],f=["position","top","bottom","left","right","overflow","opacity"],g=["width","height","overflow"],h=["fontSize"],i=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],j=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],k=a.effects.setMode(d,b.options.mode||"effect"),l=b.options.restore||!1,m=b.options.scale||"both",n=b.options.origin,o={height:d.height(),width:d.width()};d.from=b.options.from||o,d.to=b.options.to||o,n&&(n=a.effects.getBaseline(n,o),d.from.top=(o.height-d.from.height)*n.y,d.from.left=(o.width-d.from.width)*n.x,d.to.top=(o.height-d.to.height)*n.y,d.to.left=(o.width-d.to.width)*n.x);var p={from:{y:d.from.height/o.height,x:d.from.width/o.width},to:{y:d.to.height/o.height,x:d.to.width/o.width}};if(m=="box"||m=="both")p.from.y!=p.to.y&&(e=e.concat(i),d.from=a.effects.setTransition(d,i,p.from.y,d.from),d.to=a.effects.setTransition(d,i,p.to.y,d.to)),p.from.x!=p.to.x&&(e=e.concat(j),d.from=a.effects.setTransition(d,j,p.from.x,d.from),d.to=a.effects.setTransition(d,j,p.to.x,d.to));(m=="content"||m=="both")&&p.from.y!=p.to.y&&(e=e.concat(h),d.from=a.effects.setTransition(d,h,p.from.y,d.from),d.to=a.effects.setTransition(d,h,p.to.y,d.to)),a.effects.save(d,l?e:f),d.show(),a.effects.createWrapper(d),d.css("overflow","hidden").css(d.from);if(m=="content"||m=="both")i=i.concat(["marginTop","marginBottom"]).concat(h),j=j.concat(["marginLeft","marginRight"]),g=e.concat(i).concat(j),d.find("*[width]").each(function(){child=a(this),l&&a.effects.save(child,g);var d={height:child.height(),width:child.width()};child.from={height:d.height*p.from.y,width:d.width*p.from.x},child.to={height:d.height*p.to.y,width:d.width*p.to.x},p.from.y!=p.to.y&&(child.from=a.effects.setTransition(child,i,p.from.y,child.from),child.to=a.effects.setTransition(child,i,p.to.y,child.to)),p.from.x!=p.to.x&&(child.from=a.effects.setTransition(child,j,p.from.x,child.from),child.to=a.effects.setTransition(child,j,p.to.x,child.to)),child.css(child.from),child.animate(child.to,b.duration,b.options.easing,function(){l&&a.effects.restore(child,g)})});d.animate(d.to,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){d.to.opacity===0&&d.css("opacity",d.from.opacity),k=="hide"&&d.hide(),a.effects.restore(d,l?e:f),a.effects.removeWrapper(d),b.callback&&b.callback.apply(this,arguments),d.dequeue()}})})}}(jQuery),function(a){a.effects.shake=function(b){return this.queue(function(){var c=a(this),e=["position","top","bottom","left","right"];a.effects.setMode(c,b.options.mode||"effect");var f=b.options.direction||"left",g=b.options.distance||20,h=b.options.times||3,i=b.duration||b.options.duration||140;a.effects.save(c,e),c.show(),a.effects.createWrapper(c);var j=f=="up"||f=="down"?"top":"left",k=f=="up"||f=="left"?"pos":"neg";f={};var l={},m={};f[j]=(k=="pos"?"-=":"+=")+g,l[j]=(k=="pos"?"+=":"-=")+g*2,m[j]=(k=="pos"?"-=":"+=")+g*2,c.animate(f,i,b.options.easing);for(g=1;g<h;g++)c.animate(l,i,b.options.easing).animate(m,i,b.options.easing);c.animate(l,i,b.options.easing).animate(f,i/2,b.options.easing,function(){a.effects.restore(c,e),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments)}),c.queue("fx",function(){c.dequeue()}),c.dequeue()})}}(jQuery),function(a){a.effects.slide=function(b){return this.queue(function(){var e=a(this),f=["position","top","bottom","left","right"],g=a.effects.setMode(e,b.options.mode||"show"),h=b.options.direction||"left";a.effects.save(e,f),e.show(),a.effects.createWrapper(e).css({overflow:"hidden"});var i=h=="up"||h=="down"?"top":"left";h=h=="up"||h=="left"?"pos":"neg";var j=b.options.distance||(i=="top"?e.outerHeight({margin:!0}):e.outerWidth({margin:!0}));g=="show"&&e.css(i,h=="pos"?isNaN(j)?"-"+j:-j:j);var k={};k[i]=(g=="show"?h=="pos"?"+=":"-=":h=="pos"?"-=":"+=")+j,e.animate(k,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){g=="hide"&&e.hide(),a.effects.restore(e,f),a.effects.removeWrapper(e),b.callback&&b.callback.apply(this,arguments),e.dequeue()}})})}}(jQuery),function(a){a.effects.transfer=function(b){return this.queue(function(){var c=a(this),d=a(b.options.to),f=d.offset();d={top:f.top,left:f.left,height:d.innerHeight(),width:d.innerWidth()},f=c.offset();var g=a('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(b.options.className).css({top:f.top,left:f.left,height:c.innerHeight(),width:c.innerWidth(),position:"absolute"}).animate(d,b.duration,b.options.easing,function(){g.remove(),b.callback&&b.callback.apply(c[0],arguments),c.dequeue()})})}}(jQuery),function($){$.extend({tablesorter:new function(){function log(a){typeof console!="undefined"&&typeof console.debug!="undefined"?console.log(a):alert(a)}function benchmark(a,b){log(a+","+((new Date).getTime()-b.getTime())+"ms")}function getElementText(a,b,c){var d="",e=a.textExtraction;return b?(a.supportsTextContent||(a.supportsTextContent=b.textContent||!1),e==="simple"?a.supportsTextContent?d=b.textContent:b.childNodes[0]&&b.childNodes[0].hasChildNodes()?d=b.childNodes[0].innerHTML:d=b.innerHTML:typeof e=="function"?d=e(b):typeof e=="object"&&e.hasOwnProperty(c)?d=e[c](b):d=$(b).text(),d):""}function getParserById(a){var b,c=g.length;for(b=0;b<c;b++)if(g[b].id.toLowerCase()===a.toLowerCase())return g[b];return!1}function getNodeFromRowAndCellIndex(a,b,c){return a[b].cells[c]}function trimAndGetNodeText(a,b,c){return $.trim(getElementText(a,b,c))}function detectParserForColumn(a,b,c,d){var e,f=g.length,h=!1,i="",j=!0;while(i===""&&j)c++,b[c]?(h=getNodeFromRowAndCellIndex(b,c,d),i=trimAndGetNodeText(a.config,h,d),a.config.debug&&log("Checking if value was empty on row:"+c)):j=!1;for(e=1;e<f;e++)if(g[e].is(i,a,h))return g[e];return g[0]}function buildParserCache(a,b){if(a.tBodies.length===0)return;var c=a.tBodies[0].rows,d,e,f,g,h,i,j="";if(c[0]){d=[],e=c[0].cells,f=e.length;for(h=0;h<f;h++)i=!1,g=$(b[h]),$.metadata&&g.metadata()&&g.metadata().sorter?i=getParserById(g.metadata().sorter):a.config.headers[h]&&a.config.headers[h].sorter?i=getParserById(a.config.headers[h].sorter):g.attr("class")&&g.attr("class").match("sorter-")&&(i=getParserById(g.attr("class").match(/sorter-(\w+)/)[1]||"")),i||(i=detectParserForColumn(a,c,-1,h)),a.config.debug&&(j+="column:"+h+" parser:"+i.id+"\n"),d.push(i)}return a.config.debug&&log(j),d}function buildCache(a){var b=a.tBodies[0],c=b&&b.rows.length||0,d=b.rows[0]&&b.rows[0].cells.length||0,e=a.config.parsers,f={row:[],normalized:[]},g,h,i,j,k,l;a.config.debug&&(l=new Date);for(h=0;h<c;++h){j=$(b.rows[h]),k=[];if(j.hasClass(a.config.cssChildRow)){f.row[f.row.length-1]=f.row[f.row.length-1].add(j);continue}f.row.push(j);for(i=0;i<d;++i)g=trimAndGetNodeText(a.config,j[0].cells[i],i),k.push(g===""?"":e[i].format(g,a,j[0].cells[i],i));k.push(f.normalized.length),f.normalized.push(k)}return a.config.debug&&benchmark("Building cache for "+c+" rows:",l),a.config.cache=f,f}function getWidgetById(a){var b,c,d=widgets.length;for(b=0;b<d;b++){c=widgets[b];if(c&&c.hasOwnProperty("id")&&c.id.toLowerCase()===a.toLowerCase())return c}}function applyWidget(a){var b=a.config.widgets,c,d,e=b.length;for(c=0;c<e;c++)d=getWidgetById(b[c]),d&&d.hasOwnProperty("format")&&d.format(a)}function appendToTable(a,b){var c=a.config,d=b.row,e=b.normalized,f=e.length,g=f?e[0].length-1:0,h=[],i,j,k,l,m;c.debug&&(m=new Date);for(i=0;i<f;i++){l=e[i][g],h.push(d[l]);if(!c.appender||!c.removeRows){k=d[l].length;for(j=0;j<k;j++)a.tBodies[0].appendChild(d[l][j])}}c.appender&&c.appender(a,h),c.debug&&benchmark("Rebuilt table:",m),applyWidget(a),setTimeout(function(){$(a).trigger("sortEnd",a)},0)}function computeTableHeaderCellIndexes(a){var b=[],c={},d=a.getElementsByTagName("THEAD")[0],e=d.getElementsByTagName("TR"),f,g,h,i,j,k,l,m,n,o,p,q;for(f=0;f<e.length;f++){k=e[f].cells;for(g=0;g<k.length;g++){j=k[g],l=j.parentNode.rowIndex,m=l+"-"+j.cellIndex,n=j.rowSpan||1,o=j.colSpan||1,typeof b[l]=="undefined"&&(b[l]=[]);for(h=0;h<b[l].length+1;h++)if(typeof b[l][h]=="undefined"){p=h;break}c[m]=p;for(h=l;h<l+n;h++){typeof b[h]=="undefined"&&(b[h]=[]),q=b[h];for(i=p;i<p+o;i++)q[i]="x"}}}return c}function formatSortingOrder(a){return typeof a!="number"?a.toLowerCase().charAt(0)==="d"?1:0:a===1?1:0}function checkHeaderMetadata(a){return $.metadata&&$(a).metadata().sorter===!1}function checkHeaderOptions(a,b){return a.config.headers[b]&&a.config.headers[b].sorter===!1}function checkHeaderLocked(a,b){return a.config.headers[b]&&a.config.headers[b].lockedOrder!==null?a.config.headers[b].lockedOrder:!1}function checkHeaderOrder(a,b){return a.config.headers[b]&&a.config.headers[b].sortInitialOrder?a.config.headers[b].sortInitialOrder:a.config.sortInitialOrder}function buildHeaders(a){var b=$.metadata?!0:!1,c=computeTableHeaderCellIndexes(a),d,e,f,g,h=a.config;return h.headerList=[],h.debug&&(f=new Date),g=$(h.selectorHeaders,a).wrapInner("<span/>").each(function(b){this.column=c[this.parentNode.rowIndex+"-"+this.cellIndex],this.order=formatSortingOrder(checkHeaderOrder(a,b)),this.count=this.order;if(checkHeaderMetadata(this)||checkHeaderOptions(a,b)||$(this).is(".sorter-false"))this.sortDisabled=!0;this.lockedOrder=!1,e=checkHeaderLocked(a,b),typeof e!="undefined"&&e!==!1&&(this.order=this.lockedOrder=formatSortingOrder(e)),this.sortDisabled||(d=$(this).addClass(h.cssHeader),h.onRenderHeader&&h.onRenderHeader.apply(d,[b])),h.headerList[b]=this}),h.debug&&(benchmark("Built headers:",f),log(g)),g}function checkCellColSpan(a,b,c){var d,e,f=[],g=a.tHead.rows,h=g[c].cells;for(d=0;d<h.length;d++)e=h[d],e.colSpan>1?f=f.concat(checkCellColSpan(a,b,c++)):(a.tHead.length===1||e.rowSpan>1||!g[c+1])&&f.push(e);return f}function isValueInArray(a,b){var c,d=b.length;for(c=0;c<d;c++)if(b[c][0]===a)return!0;return!1}function setHeadersCss(a,b,c,d){b.removeClass(d[0]).removeClass(d[1]);var e=[],f,g;b.each(function(a){this.sortDisabled||(e[this.column]=$(this))}),g=c.length;for(f=0;f<g;f++)e[c[f][0]].addClass(d[c[f][1]])}function fixColumnWidth(a,b){if(a.config.widthFixed){var c=$("<colgroup>");$("tr:first td",a.tBodies[0]).each(function(){c.append($("<col>").css("width",$(this).width()))}),$(a).prepend(c)}}function updateHeaderSortCount(a,b){var c,d,e,f=a.config,g=b.length;for(c=0;c<g;c++)d=b[c],e=f.headerList[d[0]],e.count=d[1],e.count++}function getCachedSortType(a,b){return a?a[b].type:""}function multisort(a,b,d){var f="var sortWrapper = function(a,b) {",col,mx=0,dir=0,tc=a.config,lc=d.normalized.length,l=b.length,sortTime,i,j,c,s,e,order,orgOrderCol;tc.debug&&(sortTime=new Date);for(i=0;i<l;i++){c=b[i][0],order=b[i][1],s=getCachedSortType(tc.parsers,c)==="text"?order===0?"sortText":"sortTextDesc":order===0?"sortNumeric":"sortNumericDesc",e="e"+i;if(/Numeric/.test(s)&&tc.headers[c]&&tc.headers[c].string){for(j=0;j<lc;j++)col=Math.abs(parseFloat(d.normalized[j][c])),mx=Math.max(mx,isNaN(col)?0:col);dir=tc.headers[c]?tc.string[tc.headers[c].string]||0:0}f+="var "+e+" = "+s+"(a["+c+"],b["+c+"],"+mx+","+dir+"); ",f+="if ("+e+") { return "+e+"; } ",f+="else { "}orgOrderCol=d.normalized&&d.normalized[0]?d.normalized[0].length-1:0,f+="return a["+orgOrderCol+"]-b["+orgOrderCol+"];";for(i=0;i<l;i++)f+="}; ";return f+="return 0; ",f+="}; ",eval(f),d.normalized.sort(sortWrapper),tc.debug&&benchmark("Sorting on "+b.toString()+" and dir "+order+" time:",sortTime),d}function sortText(a,b){if(a==="")return 1;if(b==="")return-1;if(a===b)return 0;if($.data(tbl[0],"tablesorter").sortLocaleCompare)return a.localeCompare(b);try{var c=0,d,e,f=/^(\.)?\d/,g=Math.min(a.length,b.length)+1;while(c<g&&a.charAt(c)===b.charAt(c)&&f.test(b.substring(c))===!1&&f.test(a.substring(c))===!1)c++;a=a.substring(c),b=b.substring(c);if(f.test(a)||f.test(b)){if(f.test(a)===!1)return a?1:-1;if(f.test(b)===!1)return b?-1:1;e=parseFloat(a)-parseFloat(b);if(e!==0)return e;e=a.search(/[^\.\d]/),e===-1&&(e=b.search(/[^\.\d]/)),a=a.substring(e),b=b.substring(e)}return a>b?1:-1}catch(h){return 0}}function sortTextDesc(a,b){return a===""?1:b===""?-1:a===b?0:$.data(tbl[0],"tablesorter").sortLocaleCompare?b.localeCompare(a):-sortText(a,b)}function getTextValue(a,b,c){if(b){var d,e=a.length,f=b+c;for(d=0;d<e;d++)f+=a.charCodeAt(d);return c*f}return 0}function sortNumeric(a,b,c,d){return a===""?1:b===""?-1:(isNaN(a)&&(a=getTextValue(a,c,d)),isNaN(b)&&(b=getTextValue(b,c,d)),a-b)}function sortNumericDesc(a,b,c,d){return a===""?1:b===""?-1:(isNaN(a)&&(a=getTextValue(a,c,d)),isNaN(b)&&(b=getTextValue(b,c,d)),b-a)}var g=[],widgets=[],tbl;this.defaults={cssHeader:"header",cssAsc:"headerSortUp",cssDesc:"headerSortDown",cssChildRow:"expand-child",sortInitialOrder:"asc",sortMultiSortKey:"shiftKey",sortForce:null,sortAppend:null,sortLocaleCompare:!1,textExtraction:"simple",parsers:{},widgets:[],widgetZebra:{css:["even","odd"]},headers:{},widthFixed:!1,cancelSelection:!0,sortList:[],headerList:[],dateFormat:"mmddyyyy",onRenderHeader:null,selectorHeaders:"thead th",tableClass:"tablesorter",debug:!1},this.benchmark=benchmark,this.construct=function(a){return this.each(function(){if(!this.tHead||!this.tBodies)return;var b,c,e,f,g,h=0,i,j,k,l,m,n,o,p,q;this.config={},g=$.extend(this.config,$.tablesorter.defaults,a),tbl=b=$(this).addClass(this.config.tableClass),$.data(this,"tablesorter",g),e=buildHeaders(this),this.config.parsers=buildParserCache(this,e),this.config.string={max:1,"max+":1,"max-":-1,none:0},f=buildCache(this),j=[g.cssDesc,g.cssAsc],fixColumnWidth(this),e.click(function(a){k=b[0].tBodies[0]&&b[0].tBodies[0].rows.length||0;if(!this.sortDisabled){b.trigger("sortStart",tbl[0]),l=$(this),m=this.column,this.order=this.count++%2,typeof this.lockedOrder!="undefined"&&this.lockedOrder!==!1&&(this.order=this.lockedOrder);if(!a[g.sortMultiSortKey]){g.sortList=[];if(g.sortForce!==null){o=g.sortForce;for(n=0;n<o.length;n++)o[n][0]!==m&&g.sortList.push(o[n])}g.sortList.push([m,this.order])}else if(isValueInArray(m,g.sortList))for(n=0;n<g.sortList.length;n++)p=g.sortList[n],q=g.headerList[p[0]],p[0]===m&&(q.count=p[1],q.count++,p[1]=q.count%2);else g.sortList.push([m,this.order]);if(g.sortAppend!==null){o=g.sortAppend;for(n=0;n<o.length;n++)o[n][0]!==m&&g.sortList.push(o[n])}return b.trigger("sortBegin",tbl[0]),setTimeout(function(){setHeadersCss(b[0],e,g.sortList,j),appendToTable(b[0],multisort(b[0],g.sortList,f))},1),!1}}).mousedown(function(){if(g.cancelSelection)return this.onselectstart=function(){return!1},!1}),b.bind("update",function(){var a=this;setTimeout(function(){a.config.parsers=buildParserCache(a,e),f=buildCache(a),b.trigger("sorton",[a.config.sortList])},1)}).bind("updateCell",function(a,c){var d=this.config,e=[c.parentNode.rowIndex-1,c.cellIndex];f.normalized[e[0]][e[1]]=d.parsers[e[1]].format(getElementText(d,c,e[1]),c),this.config.cache=f,b.trigger("sorton",[d.sortList])}).bind("addRows",function(a,c){var d,e=this.config,g=c.filter("tr").length,h=[],i=c[0].cells.length;for(d=0;d<g;d++){for(n=0;n<i;n++)h[n]=e.parsers[n].format(getElementText(e,c[d].cells[n],n),c[d].cells[n]);h.push(f.row.length),f.row.push([c[d]]),f.normalized.push(h),h=[]}e.cache=f,b.trigger("sorton",[e.sortList])}).bind("sorton",function(a,b){$(this).trigger("sortStart",tbl[0]),g.sortList=b;var c=g.sortList;updateHeaderSortCount(this,c),setHeadersCss(this,e,c,j),appendToTable(this,multisort(this,c,f))}).bind("appendCache",function(){appendToTable(this,f)}).bind("applyWidgetId",function(a,b){getWidgetById(b).format(this)}).bind("applyWidgets",function(){applyWidget(this)}),$.metadata&&$(this).metadata()&&$(this).metadata().sortlist&&(g.sortList=$(this).metadata().sortlist),g.sortList.length>0&&b.trigger("sorton",[g.sortList]),applyWidget(this)})},this.addParser=function(a){var b,c=g.length,d=!0;for(b=0;b<c;b++)g[b].id.toLowerCase()===a.id.toLowerCase()&&(d=!1);d&&g.push(a)},this.addWidget=function(a){widgets.push(a)},this.formatFloat=function(a){var b=parseFloat(a);return isNaN(b)?$.trim(a):b},this.isDigit=function(a){return/^[\-+]?\d*$/.test($.trim(a.replace(/[,.']/g,"")))},this.clearTableBody=function(a){if($.browser.msie){var b=function(){while(this.firstChild)this.removeChild(this.firstChild)};b.apply(a.tBodies[0])}else a.tBodies[0].innerHTML=""}}})(),$.fn.extend({tablesorter:$.tablesorter.construct});var m=$.tablesorter;m.addParser({id:"text",is:function(a){return!0},format:function(a){return $.trim(a.toLocaleLowerCase())},type:"text"}),m.addParser({id:"digit",is:function(a){return $.tablesorter.isDigit(a.replace(/,/g,""))},format:function(a){return $.tablesorter.formatFloat(a.replace(/,/g,""))},type:"numeric"}),m.addParser({id:"currency",is:function(a){return/^[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]/.test(a)},format:function(a){return $.tablesorter.formatFloat(a.replace(/\,/g,".").replace(new RegExp(/[^0-9. \-]/g),""))},type:"numeric"}),m.addParser({id:"ipAddress",is:function(a){return/^\d{2,3}[\.]\d{2,3}[\.]\d{2,3}[\.]\d{2,3}$/.test(a)},format:function(a){var b,c,d=a.split("."),e="",f=d.length;for(b=0;b<f;b++)c=d[b],c.length===2?e+="0"+c:e+=c;return $.tablesorter.formatFloat(e)},type:"numeric"}),m.addParser({id:"url",is:function(a){return/^(https?|ftp|file):\/\/$/.test(a)},format:function(a){return $.trim(a.replace(new RegExp(/(https?|ftp|file):\/\//),""))},type:"text"}),m.addParser({id:"isoDate",is:function(a){return/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(a)},format:function(a){return $.tablesorter.formatFloat(a!==""?(new Date(a.replace(new RegExp(/-/g),"/"))).getTime():"0")},type:"numeric"}),m.addParser({id:"percent",is:function(a){return/\%$/.test($.trim(a))},format:function(a){return $.tablesorter.formatFloat(a.replace(new RegExp(/%/g),""))},type:"numeric"}),m.addParser({id:"usLongDate",is:function(a){return a.match(new RegExp(/^[A-Za-z]{3,10}\.? [0-9]{1,2}, ([0-9]{4}|'?[0-9]{2}) (([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(AM|PM)))$/))},format:function(a){return $.tablesorter.formatFloat((new Date(a)).getTime())},type:"numeric"}),m.addParser({id:"shortDate",is:function(a){return/\d{1,4}[\/\-\,\.\s+]\d{1,4}[\/\-\.\,\s+]\d{1,4}/.test(a)},format:function(a,b,c,d){var e=b.config,f=e.headers&&e.headers[d]?e.headers[d].dateFormat||e.dateFormat:e.dateFormat;return a=a.replace(/\s+/g," ").replace(/[\-|\.|\,|\s]/g,"/"),f==="mmddyyyy"?a=a.replace(/(\d{1,2})\/(\d{1,2})\/(\d{4})/,"$3/$1/$2"):f==="ddmmyyyy"?a=a.replace(/(\d{1,2})\/(\d{1,2})\/(\d{4})/,"$3/$2/$1"):f==="yyyymmdd"&&(a=a.replace(/(\d{4})\/(\d{1,2})\/(\d{1,2})/,"$1/$2/$3")),$.tablesorter.formatFloat((new Date(a)).getTime())},type:"numeric"}),m.addParser({id:"time",is:function(a){return/^(([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(am|pm)))$/.test(a)},format:function(a){return $.tablesorter.formatFloat((new Date("2000/01/01 "+a)).getTime())},type:"numeric"}),m.addParser({id:"metadata",is:function(a){return!1},format:function(a,b,c){var d=b.config,e=d.parserMetadataName?d.parserMetadataName:"sortValue";return $(c).metadata()[e]},type:"numeric"}),m.addWidget({id:"zebra",format:function(a){var b,c=0,d,e,f=a.config.cssChildRow,g=a.config.widgetZebra.css;a.config.debug&&(e=new Date),$("tr:visible",a.tBodies[0]).each(function(a){b=$(this),b.hasClass(f)||c++,d=c%2===0,b.removeClass(g[d?1:0]).addClass(g[d?0:1])}),a.config.debug&&$.tablesorter.benchmark("Applying Zebra widget",e)}})}(jQuery),function(a){a.extend({tablesorterPager:new function(){var b=function(b){var c="addClass",d="removeClass",e=b.cssDisabled;b.updateArrows&&(b.container[b.totalRows<b.size?c:d](e),a(b.cssFirst+","+b.cssPrev,b.container)[b.page===0?c:d](e),a(b.cssNext+","+b.cssLast,b.container)[b.page===b.totalPages-1?c:d](e))},c=function(c,d){d.startRow=d.size*d.page+1,d.endRow=Math.min(d.totalRows,d.size*(d.page+1));var e=a(d.cssPageDisplay,d.container),f=d.output.replace(/\{(page|totalPages|startRow|endRow|totalRows)\}/gi,function(a){return{"{page}":d.page+1,"{totalPages}":d.totalPages,"{startRow}":d.startRow,"{endRow}":d.endRow,"{totalRows}":d.totalRows}[a]});e[0].tagName==="INPUT"?e.val(f):e.html(f),b(d),d.container.show(),a(c).trigger("pagerComplete",d)},d=function(b,c){var d=a(b);!c.pagerPositionSet&&c.positionFixed&&(d.offset&&c.container.css({top:d.offset().top+d.height()+c.offset+"px",position:"absolute"}),c.pagerPositionSet=!0)},e=function(b,c){var d,e=a("tr",b.tBodies[0]),f=e.length,g=c.page*c.size,h=g+c.size;h>f&&(h=f);for(d=0;d<f;d++)e[d].style.display=d>=g&&d<h?"":"none"},f=function(c,d){d.size=d.lastSize=parseInt(a(d.cssPageSize,d.container).val(),10),b(d),d.removeRows||(e(c,d),a(c).bind("sortEnd.pager",function(){e(c,d),a(c).trigger("applyWidgets")}))},g=function(b,f,g){var h,i,j,k=a(b.tBodies[0]),m=f.length,n=g.page*g.size,o=n+g.size;if(m<1)return;a(b).trigger("pagerChange",g);if(!g.removeRows)e(b,g);else{o>f.length&&(o=f.length),a.tablesorter.clearTableBody(b);for(h=n;h<o;h++){j=f[h],m=j.length;for(i=0;i<m;i++)k[0].appendChild(j[i])}}d(b,k,g),a(b).trigger("applyWidgets"),g.page>=g.totalPages&&l(b,g),c(b,g)},h=function(a,b){b.lastPage=b.page,b.lastSize=b.size,b.size=b.totalRows,b.totalPages=1,g(a,b.rowsCopy,b)},i=function(a,b){if(b.isDisabled)return;if(b.page<0||b.page>b.totalPages-1)b.page=0;g(a,b.rowsCopy,b)},j=function(a,b,c){c.size=b,c.totalPages=Math.ceil(c.totalRows/c.size),c.pagerPositionSet=!1,i(a,c),d(a,c)},k=function(a,b){b.page=0,i(a,b)},l=function(a,b){b.page=b.totalPages-1,i(a,b)},m=function(a,b){b.page++,b.page>=b.totalPages-1&&(b.page=b.totalPages-1),i(a,b)},n=function(a,b){b.page--,b.page<=0&&(b.page=0),i(a,b)},o=function(b,c){h(b,c),c.container.hide(),c.appender=null,a(b).unbind("destroy.pager sortEnd.pager enable.pager disable.pager")},p=function(b,c){c.isDisabled=!1,a("table").trigger("update"),c.page=c.lastPage||0,c.totalPages=Math.ceil(c.totalRows/c.size),f(b,c)};this.appender=function(a,b){var c=a.config;c.rowsCopy=b,c.totalRows=b.length,c.size=c.lastSize||c.size,c.totalPages=Math.ceil(c.totalRows/c.size),g(a,b,c)},this.defaults={container:null,output:"{startRow} to {endRow} of {totalRows} rows",updateArrows:!0,page:0,size:10,positionFixed:!0,offset:0,removeRows:!0,cssNext:".next",cssPrev:".prev",cssFirst:".first",cssLast:".last",cssPageDisplay:".pagedisplay",cssPageSize:".pagesize",cssDisabled:"disabled",totalRows:0,totalPages:0,appender:this.appender},this.construct=function(b){return this.each(function(){var c=a.extend(this.config,a.tablesorterPager.defaults,b),d=this,e=c.container;a(this).trigger("appendCache"),f(d,c),a(c.cssFirst,e).unbind("click.pager").bind("click.pager",function(){return k(d,c),!1}),a(c.cssNext,e).unbind("click.pager").bind("click.pager",function(){return m(d,c),!1}),a(c.cssPrev,e).unbind("click.pager").bind("click.pager",function(){return n(d,c),!1}),a(c.cssLast,e).unbind("click.pager").bind("click.pager",function(){return l(d,c),!1}),a(c.cssPageSize,e).unbind("change.pager").bind("change.pager",function(){return j(d,parseInt(a(this).val(),10),c),!1}),a(this).unbind("disable.pager enable.pager destroy.pager").bind("disable.pager",function(){c.isDisabled=!0,h(d,c)}).bind("enable.pager",function(){p(d,c)}).bind("destroy.pager",function(){o(d,c)})})}}}),a.fn.extend({tablesorterPager:a.tablesorterPager.construct})}(jQuery),function(a){a.fn.lightbox_me=function(b){return this.each(function(){function j(){var b=e[0].style;c.destroyOnClose?e.add(d).remove():e.add(d).hide(),c.parentLightbox&&c.parentLightbox.fadeIn(200),f.remove(),e.undelegate(c.closeSelector,"click"),a(window).unbind("reposition",l),a(window).unbind("reposition",m),a(window).unbind("scroll",m),a(window).unbind("keyup.lightbox_me"),g&&b.removeExpression("top"),c.onClose()}function k(a){(a.keyCode==27||a.DOM_VK_ESCAPE==27&&a.which==0)&&c.closeEsc&&j()}function l(){a(window).height()<a(document).height()?(d.css({height:a(document).height()+"px"}),f.css({height:a(document).height()+"px"})):(d.css({height:"100%"}),g&&(a("html,body").css("height","100%"),f.css("height","100%")))}function m(){var b=e[0].style;e.css({left:"50%",marginLeft:e.outerWidth()/2*-1,zIndex:c.zIndex+3});if(e.height()+80>=a(window).height()&&(e.css("position")!="absolute"||g)){var d=a(document).scrollTop()+40;e.css({position:"absolute",top:d+"px",marginTop:0}),g&&b.removeExpression("top")}else if(e.height()+80<a(window).height())if(g){b.position="absolute";if(c.centered)b.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),b.marginTop=0;else{var f=c.modalCSS&&c.modalCSS.top?parseInt(c.modalCSS.top):0;b.setExpression("top","((blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+f+') + "px"')}}else c.centered?e.css({position:"fixed",top:"50%",marginTop:e.outerHeight()/2*-1}):e.css({position:"fixed"}).css(c.modalCSS)}var c=a.extend({},a.fn.lightbox_me.defaults,b),d=a(),e=a(this),f=a('<iframe id="foo" style="z-index: '+(c.zIndex+1)+';border: none; margin: 0; padding: 0; position: absolute; width: 100%; height: 100%; top: 0; left: 0; filter: mask();"/>'),g=a.browser.msie&&a.browser.version<7;if(c.showOverlay){var h=a(".js_lb_overlay:visible");h.length>0?d=a('<div class="lb_overlay_clear js_lb_overlay"/>'):d=a('<div class="'+c.classPrefix+'_overlay js_lb_overlay"/>')}if(g){var i=/^https/i.test(window.location.href||"")?"javascript:false":"about:blank";f.attr("src",i),a("body").append(f)}a("body").append(e.hide()).append(d),c.showOverlay&&(l(),d.css({position:"absolute",width:"100%",top:0,left:0,right:0,bottom:0,zIndex:c.zIndex+2,display:"none"}),d.hasClass("lb_overlay_clear")||d.css(c.overlayCSS)),c.showOverlay?d.fadeIn(c.overlaySpeed,function(){m(),e[c.appearEffect](c.lightboxSpeed,function(){l(),m(),c.onLoad()})}):(m(),e[c.appearEffect](c.lightboxSpeed,function(){c.onLoad()})),c.parentLightbox&&c.parentLightbox.fadeOut(200),a(window).resize(l).resize(m).scroll(m),a(window).bind("keyup.lightbox_me",k),c.closeClick&&d.click(function(a){j(),a.preventDefault}),e.delegate(c.closeSelector,"click",function(a){j(),a.preventDefault()}),e.bind("close",j),e.bind("reposition",m)})},a.fn.lightbox_me.defaults={appearEffect:"fadeIn",appearEase:"",overlaySpeed:250,lightboxSpeed:300,closeSelector:".close",closeClick:!0,closeEsc:!0,destroyOnClose:!1,showOverlay:!0,parentLightbox:!1,onLoad:function(){},onClose:function(){},classPrefix:"lb",zIndex:999,centered:!1,modalCSS:{top:"40px"},overlayCSS:{background:"black",opacity:.3}}}(jQuery),!function(a){"use strict",a.widget("ui.rangeSliderMouseTouch",a.ui.mouse,{enabled:!0,_mouseInit:function(){var b=this;a.ui.mouse.prototype._mouseInit.apply(this),this._mouseDownEvent=!1,this.element.bind("touchstart."+this.widgetName,function(a){return b._touchStart(a)})},_mouseDestroy:function(){a(document).unbind("touchmove."+this.widgetName,this._touchMoveDelegate).unbind("touchend."+this.widgetName,this._touchEndDelegate),a.ui.mouse.prototype._mouseDestroy.apply(this)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},destroy:function(){this._mouseDestroy(),a.ui.mouse.prototype.destroy.apply(this),this._mouseInit=null},_touchStart:function(b){if(!this.enabled)return!1;b.which=1,b.preventDefault(),this._fillTouchEvent(b);var c=this,d=this._mouseDownEvent;this._mouseDown(b),d!==this._mouseDownEvent&&(this._touchEndDelegate=function(a){c._touchEnd(a)},this._touchMoveDelegate=function(a){c._touchMove(a)},a(document).bind("touchmove."+this.widgetName,this._touchMoveDelegate).bind("touchend."+this.widgetName,this._touchEndDelegate))},_mouseDown:function(b){return this.enabled?a.ui.mouse.prototype._mouseDown.apply(this,[b]):!1},_touchEnd:function(b){this._fillTouchEvent(b),this._mouseUp(b),a(document).unbind("touchmove."+this.widgetName,this._touchMoveDelegate).unbind("touchend."+this.widgetName,this._touchEndDelegate),this._mouseDownEvent=!1,a(document).trigger("mouseup")},_touchMove:function(a){return a.preventDefault(),this._fillTouchEvent(a),this._mouseMove(a)},_fillTouchEvent:function(a){var b;b="undefined"==typeof a.targetTouches&&"undefined"==typeof a.changedTouches?a.originalEvent.targetTouches[0]||a.originalEvent.changedTouches[0]:a.targetTouches[0]||a.changedTouches[0],a.pageX=b.pageX,a.pageY=b.pageY}})}(jQuery),function(a){"use strict",a.widget("ui.rangeSliderDraggable",a.ui.rangeSliderMouseTouch,{cache:null,options:{containment:null},_create:function(){a.ui.rangeSliderMouseTouch.prototype._create.apply(this),setTimeout(a.proxy(this._initElementIfNotDestroyed,this),10)},destroy:function(){this.cache=null,a.ui.rangeSliderMouseTouch.prototype.destroy.apply(this)},_initElementIfNotDestroyed:function(){this._mouseInit&&this._initElement()},_initElement:function(){this._mouseInit(),this._cache()},_setOption:function(b,c){"containment"===b&&(this.options.containment=null===c||0===a(c).length?null:a(c))},_mouseStart:function(a){return this._cache(),this.cache.click={left:a.pageX,top:a.pageY},this.cache.initialOffset=this.element.offset(),this._triggerMouseEvent("mousestart"),!0},_mouseDrag:function(a){var b=a.pageX-this.cache.click.left;return b=this._constraintPosition(b+this.cache.initialOffset.left),this._applyPosition(b),this._triggerMouseEvent("sliderDrag"),!1},_mouseStop:function(){this._triggerMouseEvent("stop")},_constraintPosition:function(a){return 0!==this.element.parent().length&&null!==this.cache.parent.offset&&(a=Math.min(a,this.cache.parent.offset.left+this.cache.parent.width-this.cache.width.outer),a=Math.max(a,this.cache.parent.offset.left)),a},_applyPosition:function(a){var b={top:this.cache.offset.top,left:a};this.element.offset({left:a}),this.cache.offset=b},_cacheIfNecessary:function(){null===this.cache&&this._cache()},_cache:function(){this.cache={},this._cacheMargins(),this._cacheParent(),this._cacheDimensions(),this.cache.offset=this.element.offset()},_cacheMargins:function(){this.cache.margin={left:this._parsePixels(this.element,"marginLeft"),right:this._parsePixels(this.element,"marginRight"),top:this._parsePixels(this.element,"marginTop"),bottom:this._parsePixels(this.element,"marginBottom")}},_cacheParent:function(){if(null!==this.options.parent){var a=this.element.parent();this.cache.parent={offset:a.offset(),width:a.width()}}else this.cache.parent=null},_cacheDimensions:function(){this.cache.width={outer:this.element.outerWidth(),inner:this.element.width()}},_parsePixels:function(a,b){return parseInt(a.css(b),10)||0},_triggerMouseEvent:function(a){var b=this._prepareEventData();this.element.trigger(a,b)},_prepareEventData:function(){return{element:this.element,offset:this.cache.offset||null}}})}(jQuery),function(a,b){"use strict",a.widget("ui.rangeSlider",{options:{bounds:{min:0,max:100},defaultValues:{min:20,max:50},wheelMode:null,wheelSpeed:4,arrows:!0,valueLabels:"show",formatter:null,durationIn:0,durationOut:400,delayOut:200,range:{min:!1,max:!1},step:!1,scales:!1,enabled:!0},_values:null,_valuesChanged:!1,bar:null,leftHandle:null,rightHandle:null,innerBar:null,container:null,arrows:null,labels:null,changing:{min:!1,max:!1},changed:{min:!1,max:!1},ruler:null,_create:function(){this._setDefaultValues(),this.labels={left:null,right:null,leftDisplayed:!0,rightDisplayed:!0},this.arrows={left:null,right:null},this.changing={min:!1,max:!1},this.changed={min:!1,max:!1},this._createElements(),this._bindResize(),setTimeout(a.proxy(this.resize,this),1),setTimeout(a.proxy(this._initValues,this),1)},_setDefaultValues:function(){this._values={min:this.options.defaultValues.min,max:this.options.defaultValues.max}},_bindResize:function(){var b=this;this._resizeProxy=function(a){b.resize(a)},a(window).resize(this._resizeProxy)},_initWidth:function(){this.container.css("width",this.element.width()-this.container.outerWidth(!0)+this.container.width()),this.innerBar.css("width",this.container.width()-this.innerBar.outerWidth(!0)+this.innerBar.width())},_initValues:function(){this.values(this._values.min,this._values.max)},_setOption:function(a,b){this._setWheelOption(a,b),this._setArrowsOption(a,b),this._setLabelsOption(a,b),this._setLabelsDurations(a,b),this._setFormatterOption(a,b),this._setBoundsOption(a,b),this._setRangeOption(a,b),this._setStepOption(a,b),this._setScalesOption(a,b),this._setEnabledOption(a,b)},_validProperty:function(a,b,c){return null===a||"undefined"==typeof a[b]?c:a[b]},_setStepOption:function(a,b){"step"===a&&(this.options.step=b,this._leftHandle("option","step",b),this._rightHandle("option","step",b),this._changed(!0))},_setScalesOption:function(a,b){"scales"===a&&(b===!1||null===b?(this.options.scales=!1,this._destroyRuler()):b instanceof Array&&(this.options.scales=b,this._updateRuler()))},_setRangeOption:function(a,b){"range"===a&&(this._bar("option","range",b),this.options.range=this._bar("option","range"),this._changed(!0))},_setBoundsOption:function(a,b){"bounds"===a&&"undefined"!=typeof b.min&&"undefined"!=typeof b.max&&this.bounds(b.min,b.max)},_setWheelOption:function(a,b){("wheelMode"===a||"wheelSpeed"===a)&&(this._bar("option",a,b),this.options[a]=this._bar("option",a))},_setLabelsOption:function(a,b){if("valueLabels"===a){if("hide"!==b&&"show"!==b&&"change"!==b)return;this.options.valueLabels=b,"hide"!==b?(this._createLabels(),this._leftLabel("update"),this._rightLabel("update")):this._destroyLabels()}},_setFormatterOption:function(a,b){"formatter"===a&&null!==b&&"function"==typeof b&&"hide"!==this.options.valueLabels&&(this._leftLabel("option","formatter",b),this.options.formatter=this._rightLabel("option","formatter",b))},_setArrowsOption:function(a,b){"arrows"!==a||b!==!0&&b!==!1||b===this.options.arrows||(b===!0?(this.element.removeClass("ui-rangeSlider-noArrow").addClass("ui-rangeSlider-withArrows"),this.arrows.left.css("display","block"),this.arrows.right.css("display","block"),this.options.arrows=!0):b===!1&&(this.element.addClass("ui-rangeSlider-noArrow").removeClass("ui-rangeSlider-withArrows"),this.arrows.left.css("display","none"),this.arrows.right.css("display","none"),this.options.arrows=!1),this._initWidth())},_setLabelsDurations:function(a,b){if("durationIn"===a||"durationOut"===a||"delayOut"===a){if(parseInt(b,10)!==b)return;null!==this.labels.left&&this._leftLabel("option",a,b),null!==this.labels.right&&this._rightLabel("option",a,b),this.options[a]=b}},_setEnabledOption:function(a,b){"enabled"===a&&this.toggle(b)},_createElements:function(){"absolute"!==this.element.css("position")&&this.element.css("position","relative"),this.element.addClass("ui-rangeSlider"),this.container=a("<div class='ui-rangeSlider-container' />").css("position","absolute").appendTo(this.element),this.innerBar=a("<div class='ui-rangeSlider-innerBar' />").css("position","absolute").css("top",0).css("left",0),this._createHandles(),this._createBar(),this.container.prepend(this.innerBar),this._createArrows(),"hide"!==this.options.valueLabels?this._createLabels():this._destroyLabels(),this._updateRuler(),this.options.enabled||this._toggle(this.options.enabled)},_createHandle:function(b){return a("<div />")[this._handleType()](b).bind("sliderDrag",a.proxy(this._changing,this)).bind("stop",a.proxy(this._changed,this))},_createHandles:function(){this.leftHandle=this._createHandle({isLeft:!0,bounds:this.options.bounds,value:this._values.min,step:this.options.step}).appendTo(this.container),this.rightHandle=this._createHandle({isLeft:!1,bounds:this.options.bounds,value:this._values.max,step:this.options.step}).appendTo(this.container)},_createBar:function(){this.bar=a("<div />").prependTo(this.container).bind("sliderDrag scroll zoom",a.proxy(this._changing,this)).bind("stop",a.proxy(this._changed,this)),this._bar({leftHandle:this.leftHandle,rightHandle:this.rightHandle,values:{min:this._values.min,max:this._values.max},type:this._handleType(),range:this.options.range,wheelMode:this.options.wheelMode,wheelSpeed:this.options.wheelSpeed}),this.options.range=this._bar("option","range"),this.options.wheelMode=this._bar("option","wheelMode"),this.options.wheelSpeed=this._bar("option","wheelSpeed")},_createArrows:function(){this.arrows.left=this._createArrow("left"),this.arrows.right=this._createArrow("right"),this.options.arrows?this.element.addClass("ui-rangeSlider-withArrows"):(this.arrows.left.css("display","none"),this.arrows.right.css("display","none"),this.element.addClass("ui-rangeSlider-noArrow"))},_createArrow:function(b){var c,d=a("<div class='ui-rangeSlider-arrow' />").append("<div class='ui-rangeSlider-arrow-inner' />").addClass("ui-rangeSlider-"+b+"Arrow").css("position","absolute").css(b,0).appendTo(this.element);return c="right"===b?a.proxy(this._scrollRightClick,this):a.proxy(this._scrollLeftClick,this),d.bind("mousedown touchstart",c),d},_proxy:function(a,b,c){var d=Array.prototype.slice.call(c);return a&&a[b]?a[b].apply(a,d):null},_handleType:function(){return"rangeSliderHandle"},_barType:function(){return"rangeSliderBar"},_bar:function(){return this._proxy(this.bar,this._barType(),arguments)},_labelType:function(){return"rangeSliderLabel"},_leftLabel:function(){return this._proxy(this.labels.left,this._labelType(),arguments)},_rightLabel:function(){return this._proxy(this.labels.right,this._labelType(),arguments)},_leftHandle:function(){return this._proxy(this.leftHandle,this._handleType(),arguments)},_rightHandle:function(){return this._proxy(this.rightHandle,this._handleType(),arguments)},_getValue:function(a,b){return b===this.rightHandle&&(a-=b.outerWidth()),a*(this.options.bounds.max-this.options.bounds.min)/(this.container.innerWidth()-b.outerWidth(!0))+this.options.bounds.min},_trigger:function(a){var b=this;setTimeout(function(){b.element.trigger(a,{label:b.element,values:b.values()})},1)},_changing:function(){this._updateValues()&&(this._trigger("valuesChanging"),this._valuesChanged=!0)},_deactivateLabels:function(){"change"===this.options.valueLabels&&(this._leftLabel("option","show","hide"),this._rightLabel("option","show","hide"))},_reactivateLabels:function(){"change"===this.options.valueLabels&&(this._leftLabel("option","show","change"),this._rightLabel("option","show","change"))},_changed:function(a){a===!0&&this._deactivateLabels(),(this._updateValues()||this._valuesChanged)&&(this._trigger("valuesChanged"),a!==!0&&this._trigger("userValuesChanged"),this._valuesChanged=!1),a===!0&&this._reactivateLabels()},_updateValues:function(){var a=this._leftHandle("value"),b=this._rightHandle("value"),c=this._min(a,b),d=this._max(a,b),e=c!==this._values.min||d!==this._values.max;return this._values.min=this._min(a,b),this._values.max=this._max(a,b),e},_min:function(a,b){return Math.min(a,b)},_max:function(a,b){return Math.max(a,b)},_createLabel:function(b,c){var d;return null===b?(d=this._getLabelConstructorParameters(b,c),b=a("<div />").appendTo(this.element)[this._labelType()](d)):(d=this._getLabelRefreshParameters(b,c),b[this._labelType()](d)),b},_getLabelConstructorParameters:function(a,b){return{handle:b,handleType:this._handleType(),formatter:this._getFormatter(),show:this.options.valueLabels,durationIn:this.options.durationIn,durationOut:this.options.durationOut,delayOut:this.options.delayOut}},_getLabelRefreshParameters:function(){return{formatter:this._getFormatter(),show:this.options.valueLabels,durationIn:this.options.durationIn,durationOut:this.options.durationOut,delayOut:this.options.delayOut}},_getFormatter:function(){return this.options.formatter===!1||null===this.options.formatter?this._defaultFormatter:this.options.formatter},_defaultFormatter:function(a){return Math.round(a)},_destroyLabel:function(a){return null!==a&&(a[this._labelType()]("destroy"),a.remove(),a=null),a},_createLabels:function(){this.labels.left=this._createLabel(this.labels.left,this.leftHandle),this.labels.right=this._createLabel(this.labels.right,this.rightHandle),this._leftLabel("pair",this.labels.right)},_destroyLabels:function(){this.labels.left=this._destroyLabel(this.labels.left),this.labels.right=this._destroyLabel(this.labels.right)},_stepRatio:function(){return this._leftHandle("stepRatio")},_scrollRightClick:function(a){return this.options.enabled?(a.preventDefault(),this._bar("startScroll"),this._bindStopScroll(),this._continueScrolling("scrollRight",4*this._stepRatio(),1),void 0):!1},_continueScrolling:function(a,b,c,d){if(!this.options.enabled)return!1;this._bar(a,c),d=d||5,d--;var e=this,f=16,g=Math.max(1,4/this._stepRatio());this._scrollTimeout=setTimeout(function(){0===d&&(b>f?b=Math.max(f,b/1.5):c=Math.min(g,2*c),d=5),e._continueScrolling(a,b,c,d)},b)},_scrollLeftClick:function(a){return this.options.enabled?(a.preventDefault(),this._bar("startScroll"),this._bindStopScroll(),this._continueScrolling("scrollLeft",4*this._stepRatio(),1),void 0):!1},_bindStopScroll:function(){var b=this;this._stopScrollHandle=function(a){a.preventDefault(),b._stopScroll()},a(document).bind("mouseup touchend",this._stopScrollHandle)},_stopScroll:function(){a(document).unbind("mouseup touchend",this._stopScrollHandle),this._stopScrollHandle=null,this._bar("stopScroll"),clearTimeout(this._scrollTimeout)},_createRuler:function(){this.ruler=a("<div class='ui-rangeSlider-ruler' />").appendTo(this.innerBar)},_setRulerParameters:function(){this.ruler.ruler({min:this.options.bounds.min,max:this.options.bounds.max,scales:this.options.scales})},_destroyRuler:function(){null!==this.ruler&&a.fn.ruler&&(this.ruler.ruler("destroy"),this.ruler.remove(),this.ruler=null)},_updateRuler:function(){this._destroyRuler(),this.options.scales!==!1&&a.fn.ruler&&(this._createRuler(),this._setRulerParameters())},values:function(a,b){var c;return"undefined"!=typeof a&&"undefined"!=typeof b?(this._deactivateLabels(),c=this._bar("values",a,b),this._changed(!0),this._reactivateLabels()):c=this._bar("values",a,b),c},min:function(a){return this._values.min=this.values(a,this._values.max).min,this._values.min},max:function(a){return this._values.max=this.values(this._values.min,a).max,this._values.max},bounds:function(a,b){return this._isValidValue(a)&&this._isValidValue(b)&&b>a&&(this._setBounds(a,b),this._updateRuler(),this._changed(!0)),this.options.bounds},_isValidValue:function(a){return"undefined"!=typeof a&&parseFloat(a)===a},_setBounds:function(a,b){this.options.bounds={min:a,max:b},this._leftHandle("option","bounds",this.options.bounds),this._rightHandle("option","bounds",this.options.bounds),this._bar("option","bounds",this.options.bounds)},zoomIn:function(a){this._bar("zoomIn",a)},zoomOut:function(a){this._bar("zoomOut",a)},scrollLeft:function(a){this._bar("startScroll"),this._bar("scrollLeft",a),this._bar("stopScroll")},scrollRight:function(a){this._bar("startScroll"),this._bar("scrollRight",a),this._bar("stopScroll")},resize:function(){this._initWidth(),this._leftHandle("update"),this._rightHandle("update"),this._bar("update")},enable:function(){this.toggle(!0)},disable:function(){this.toggle(!1)},toggle:function(a){a===b&&(a=!this.options.enabled),this.options.enabled!==a&&this._toggle(a)},_toggle:function(a){this.options.enabled=a,this.element.toggleClass("ui-rangeSlider-disabled",!a);var b=a?"enable":"disable";this._bar(b),this._leftHandle(b),this._rightHandle(b),this._leftLabel(b),this._rightLabel(b)},destroy:function(){this.element.removeClass("ui-rangeSlider-withArrows ui-rangeSlider-noArrow ui-rangeSlider-disabled"),this._destroyWidgets(),this._destroyElements(),this.element.removeClass("ui-rangeSlider"),this.options=null,a(window).unbind("resize",this._resizeProxy),this._resizeProxy=null,this._bindResize=null,a.Widget.prototype.destroy.apply(this,arguments)},_destroyWidget:function(a){this["_"+a]("destroy"),this[a].remove(),this[a]=null},_destroyWidgets:function(){this._destroyWidget("bar"),this._destroyWidget("leftHandle"),this._destroyWidget("rightHandle"),this._destroyRuler(),this._destroyLabels()},_destroyElements:function(){this.container.remove(),this.container=null,this.innerBar.remove(),this.innerBar=null,this.arrows.left.remove(),this.arrows.right.remove(),this.arrows=null}})}(jQuery),function(a){"use strict",a.widget("ui.rangeSliderHandle",a.ui.rangeSliderDraggable,{currentMove:null,margin:0,parentElement:null,options:{isLeft:!0,bounds:{min:0,max:100},range:!1,value:0,step:!1},_value:0,_left:0,_create:function(){a.ui.rangeSliderDraggable.prototype._create.apply(this),this.element.css("position","absolute").css("top",0).addClass("ui-rangeSlider-handle").toggleClass("ui-rangeSlider-leftHandle",this.options.isLeft).toggleClass("ui-rangeSlider-rightHandle",!this.options.isLeft),this.element.append("<div class='ui-rangeSlider-handle-inner' />"),this._value=this._constraintValue(this.options.value)},destroy:function(){this.element.empty(),a.ui.rangeSliderDraggable.prototype.destroy.apply(this)},_setOption:function(b,c){"isLeft"!==b||c!==!0&&c!==!1||c===this.options.isLeft?"step"===b&&this._checkStep(c)?(this.options.step=c,this.update()):"bounds"===b?(this.options.bounds=c,this.update()):"range"===b&&this._checkRange(c)&&(this.options.range=c,this.update()):(this.options.isLeft=c,this.element.toggleClass("ui-rangeSlider-leftHandle",this.options.isLeft).toggleClass("ui-rangeSlider-rightHandle",!this.options.isLeft),this._position(this._value),this.element.trigger("switch",this.options.isLeft)),a.ui.rangeSliderDraggable.prototype._setOption.apply(this,[b,c])},_checkRange:function(a){return a===!1||!this._isValidValue(a.min)&&!this._isValidValue(a.max)},_isValidValue:function(a){return"undefined"!=typeof a&&a!==!1&&parseFloat(a)!==a},_checkStep:function(a){return a===!1||parseFloat(a)===a},_initElement:function(){a.ui.rangeSliderDraggable.prototype._initElement.apply(this),0===this.cache.parent.width||null===this.cache.parent.width?setTimeout(a.proxy(this._initElementIfNotDestroyed,this),500):(this._position(this._value),this._triggerMouseEvent("initialize"))},_bounds:function(){return this.options.bounds},_cache:function(){a.ui.rangeSliderDraggable.prototype._cache.apply(this),this._cacheParent()},_cacheParent:function(){var a=this.element.parent();this.cache.parent={element:a,offset:a.offset(),padding:{left:this._parsePixels(a,"paddingLeft")},width:a.width()}},_position:function(a){var b=this._getPositionForValue(a);this._applyPosition(b)},_constraintPosition:function(a){var b=this._getValueForPosition(a);return this._getPositionForValue(b)},_applyPosition:function(b){a.ui.rangeSliderDraggable.prototype._applyPosition.apply(this,[b]),this._left=b,this._setValue(this._getValueForPosition(b)),this._triggerMouseEvent("moving")},_prepareEventData:function(){var b=a.ui.rangeSliderDraggable.prototype._prepareEventData.apply(this);return b.value=this._value,b},_setValue:function(a){a!==this._value&&(this._value=a)},_constraintValue:function(a){if(a=Math.min(a,this._bounds().max),a=Math.max(a,this._bounds().min),a=this._round(a),this.options.range!==!1){var b=this.options.range.min||!1,c=this.options.range.max||!1;b!==!1&&(a=Math.max(a,this._round(b))),c!==!1&&(a=Math.min(a,this._round(c))),a=Math.min(a,this._bounds().max),a=Math.max(a,this._bounds().min)}return a},_round:function(a){return this.options.step!==!1&&this.options.step>0?Math.round(a/this.options.step)*this.options.step:a},_getPositionForValue:function(a){if(!this.cache||!this.cache.parent||null===this.cache.parent.offset)return 0;a=this._constraintValue(a);var b=(a-this.options.bounds.min)/(this.options.bounds.max-this.options.bounds.min),c=this.cache.parent.width,d=this.cache.parent.offset.left,e=this.options.isLeft?0:this.cache.width.outer;return b*c+d-e},_getValueForPosition:function(a){var b=this._getRawValueForPositionAndBounds(a,this.options.bounds.min,this.options.bounds.max);return this._constraintValue(b)},_getRawValueForPositionAndBounds:function(a,b,c){a+=this.options.isLeft?0:this.cache.width.outer;var d=null===this.cache.parent.offset?0:this.cache.parent.offset.left,e=this.cache.parent.width,f=e>0?(a-d)/e:0;return f*(c-b)+b},value:function(a){return"undefined"!=typeof a&&(this._cache(),a=this._constraintValue(a),this._position(a)),this._value},update:function(){this._cache();var a=this._constraintValue(this._value),b=this._getPositionForValue(a);a!==this._value?(this._triggerMouseEvent("updating"),this._position(a),this._triggerMouseEvent("update")):b!==this.cache.offset.left&&(this._triggerMouseEvent("updating"),this._position(a),this._triggerMouseEvent("update"))},position:function(a){return"undefined"!=typeof a&&(this._cache(),a=this._constraintPosition(a),this._applyPosition(a)),this._left},add:function(a,b){return a+b},substract:function(a,b){return a-b},stepsBetween:function(a,b){return this.options.step===!1?b-a:(b-a)/this.options.step},multiplyStep:function(a,b){return a*b},moveRight:function(a){var b;return this.options.step===!1?(b=this._left,this.position(this._left+a),this._left-b):(b=this._value,this.value(this.add(b,this.multiplyStep(this.options.step,a))),this.stepsBetween(b,this._value))},moveLeft:function(a){return-this.moveRight(-a)},stepRatio:function(){if(this.options.step===!1)return 1;var a=(this.options.bounds.max-this.options.bounds.min)/this.options.step;return this.cache.parent.width/a}})}(jQuery),function(a){function b(a,b){return"undefined"==typeof a?b||!1:a}"use strict",a.widget("ui.rangeSliderBar",a.ui.rangeSliderDraggable,{options:{leftHandle:null,rightHandle:null,bounds:{min:0,max:100},type:"rangeSliderHandle",range:!1,drag:function(){},stop:function(){},values:{min:0,max:20},wheelSpeed:4,wheelMode:null},_values:{min:0,max:20},_waitingToInit:2,_wheelTimeout:!1,_create:function(){a.ui.rangeSliderDraggable.prototype._create.apply(this),this.element.css("position","absolute").css("top",0).addClass("ui-rangeSlider-bar"),this.options.leftHandle.bind("initialize",a.proxy(this._onInitialized,this)).bind("mousestart",a.proxy(this._cache,this)).bind("stop",a.proxy(this._onHandleStop,this)),this.options.rightHandle.bind("initialize",a.proxy(this._onInitialized,this)).bind("mousestart",a.proxy(this._cache,this)).bind("stop",a.proxy(this._onHandleStop,this)),this._bindHandles(),this._values=this.options.values,this._setWheelModeOption(this.options.wheelMode)},destroy:function(){this.options.leftHandle.unbind(".bar"),this.options.rightHandle.unbind(".bar"),this.options=null,a.ui.rangeSliderDraggable.prototype.destroy.apply(this)},_setOption:function(a,b){"range"===a?this._setRangeOption(b):"wheelSpeed"===a?this._setWheelSpeedOption(b):"wheelMode"===a&&this._setWheelModeOption(b)},_setRangeOption:function(a){if(("object"!=typeof a||null===a)&&(a=!1),a!==!1||this.options.range!==!1){if(a!==!1){var c=b(a.min,this.options.range.min),d=b(a.max,this.options.range.max);this.options.range={min:c,max:d}}else this.options.range=!1;this._setLeftRange(),this._setRightRange()}},_setWheelSpeedOption:function(a){"number"==typeof a&&a>0&&(this.options.wheelSpeed=a)},_setWheelModeOption:function(a){(null===a||a===!1||"zoom"===a||"scroll"===a)&&(this.options.wheelMode!==a&&this.element.parent().unbind("mousewheel.bar"),this._bindMouseWheel(a),this.options.wheelMode=a)},_bindMouseWheel:function(b){"zoom"===b?this.element.parent().bind("mousewheel.bar",a.proxy(this._mouseWheelZoom,this)):"scroll"===b&&this.element.parent().bind("mousewheel.bar",a.proxy(this._mouseWheelScroll,this))},_setLeftRange:function(){if(this.options.range===!1)return!1;var a=this._values.max,b={min:!1,max:!1};b.max=(this.options.range.min||!1)!==!1?this._leftHandle("substract",a,this.options.range.min):!1,b.min=(this.options.range.max||!1)!==!1?this._leftHandle("substract",a,this.options.range.max):!1,this._leftHandle("option","range",b)},_setRightRange:function(){var a=this._values.min,b={min:!1,max:!1};b.min=(this.options.range.min||!1)!==!1?this._rightHandle("add",a,this.options.range.min):!1,b.max=(this.options.range.max||!1)!==!1?this._rightHandle("add",a,this.options.range.max):!1,this._rightHandle("option","range",b)},_deactivateRange:function(){this._leftHandle("option","range",!1),this._rightHandle("option","range",!1)},_reactivateRange:function(){this._setRangeOption(this.options.range)},_onInitialized:function(){this._waitingToInit--,0===this._waitingToInit&&this._initMe()},_initMe:function(){this._cache(),this.min(this._values.min),this.max(this._values.max);var a=this._leftHandle("position"),b=this._rightHandle("position")+this.options.rightHandle.width();this.element.offset({left:a}),this.element.css("width",b-a)},_leftHandle:function(){return this._handleProxy(this.options.leftHandle,arguments)},_rightHandle:function(){return this._handleProxy(this.options.rightHandle,arguments)},_handleProxy:function(a,b){var c=Array.prototype.slice.call(b);return a[this.options.type].apply(a,c)},_cache:function(){a.ui.rangeSliderDraggable.prototype._cache.apply(this),this._cacheHandles()},_cacheHandles:function(){this.cache.rightHandle={},this.cache.rightHandle.width=this.options.rightHandle.width(),this.cache.rightHandle.offset=this.options.rightHandle.offset(),this.cache.leftHandle={},this.cache.leftHandle.offset=this.options.leftHandle.offset()},_mouseStart:function(b){a.ui.rangeSliderDraggable.prototype._mouseStart.apply(this,[b]),this._deactivateRange()},_mouseStop:function(b){a.ui.rangeSliderDraggable.prototype._mouseStop.apply(this,[b]),this._cacheHandles(),this._values.min=this._leftHandle("value"),this._values.max=this._rightHandle("value"),this._reactivateRange(),this._leftHandle().trigger("stop"),this._rightHandle().trigger("stop")},_onDragLeftHandle:function(a,b){if(this._cacheIfNecessary(),b.element[0]===this.options.leftHandle[0]){if(this._switchedValues())return this._switchHandles(),this._onDragRightHandle(a,b),void 0;this._values.min=b.value,this.cache.offset.left=b.offset.left,this.cache.leftHandle.offset=b.offset,this._positionBar()}},_onDragRightHandle:function(a,b){if(this._cacheIfNecessary(),b.element[0]===this.options.rightHandle[0]){if(this._switchedValues())return this._switchHandles(),this._onDragLeftHandle(a,b),void 0;this._values.max=b.value,this.cache.rightHandle.offset=b.offset,this._positionBar()}},_positionBar:function(){var a=this.cache.rightHandle.offset.left+this.cache.rightHandle.width-this.cache.leftHandle.offset.left;this.cache.width.inner=a,this.element.css("width",a).offset({left:this.cache.leftHandle.offset.left})},_onHandleStop:function(){this._setLeftRange(),this._setRightRange()},_switchedValues:function(){if(this.min()>this.max()){var a=this._values.min;return this._values.min=this._values.max,this._values.max=a,!0}return!1},_switchHandles:function(){var a=this.options.leftHandle;this.options.leftHandle=this.options.rightHandle,this.options.rightHandle=a,this._leftHandle("option","isLeft",!0),this._rightHandle("option","isLeft",!1),this._bindHandles(),this._cacheHandles()},_bindHandles:function(){this.options.leftHandle.unbind(".bar").bind("sliderDrag.bar update.bar moving.bar",a.proxy(this._onDragLeftHandle,this)),this.options.rightHandle.unbind(".bar").bind("sliderDrag.bar update.bar moving.bar",a.proxy(this._onDragRightHandle,this))},_constraintPosition:function(b){var c,d={};return d.left=a.ui.rangeSliderDraggable.prototype._constraintPosition.apply(this,[b]),d.left=this._leftHandle("position",d.left),c=this._rightHandle("position",d.left+this.cache.width.outer-this.cache.rightHandle.width),d.width=c-d.left+this.cache.rightHandle.width,d},_applyPosition:function(b){a.ui.rangeSliderDraggable.prototype._applyPosition.apply(this,[b.left]),this.element.width(b.width)},_mouseWheelZoom:function(b,c,d,e){if(!this.enabled)return!1;var f=this._values.min+(this._values.max-this._values.min)/2,g={},h={};return this.options.range===!1||this.options.range.min===!1?(g.max=f,h.min=f):(g.max=f-this.options.range.min/2,h.min=f+this.options.range.min/2),this.options.range!==!1&&this.options.range.max!==!1&&(g.min=f-this.options.range.max/2,h.max=f+this.options.range.max/2),this._leftHandle("option","range",g),this._rightHandle("option","range",h),clearTimeout(this._wheelTimeout),this._wheelTimeout=setTimeout(a.proxy(this._wheelStop,this),200),this.zoomOut(e*this.options.wheelSpeed),!1},_mouseWheelScroll:function(b,c,d,e){return this.enabled?(this._wheelTimeout===!1?this.startScroll():clearTimeout(this._wheelTimeout),this._wheelTimeout=setTimeout(a.proxy(this._wheelStop,this),200),this.scrollLeft(e*this.options.wheelSpeed),!1):!1},_wheelStop:function(){this.stopScroll(),this._wheelTimeout=!1},min:function(a){return this._leftHandle("value",a)},max:function(a){return this._rightHandle("value",a)},startScroll:function(){this._deactivateRange()},stopScroll:function(){this._reactivateRange(),this._triggerMouseEvent("stop"),this._leftHandle().trigger("stop"),this._rightHandle().trigger("stop")},scrollLeft:function(a){return a=a||1,0>a?this.scrollRight(-a):(a=this._leftHandle("moveLeft",a),this._rightHandle("moveLeft",a),this.update(),this._triggerMouseEvent("scroll"),void 0)},scrollRight:function(a){return a=a||1,0>a?this.scrollLeft(-a):(a=this._rightHandle("moveRight",a),this._leftHandle("moveRight",a),this.update(),this._triggerMouseEvent("scroll"),void 0)},zoomIn:function(a){if(a=a||1,0>a)return this.zoomOut(-a);var b=this._rightHandle("moveLeft",a);a>b&&(b/=2,this._rightHandle("moveRight",b)),this._leftHandle("moveRight",b),this.update(),this._triggerMouseEvent("zoom")},zoomOut:function(a){if(a=a||1,0>a)return this.zoomIn(-a);var b=this._rightHandle("moveRight",a);a>b&&(b/=2,this._rightHandle("moveLeft",b)),this._leftHandle("moveLeft",b),this.update(),this._triggerMouseEvent("zoom")},values:function(a,b){if("undefined"!=typeof a&&"undefined"!=typeof b){var c=Math.min(a,b),d=Math.max(a,b);this._deactivateRange(),this.options.leftHandle.unbind(".bar"),this.options.rightHandle.unbind(".bar"),this._values.min=this._leftHandle("value",c),this._values.max=this._rightHandle("value",d),this._bindHandles(),this._reactivateRange(),this.update()}return{min:this._values.min,max:this._values.max}},update:function(){this._values.min=this.min(),this._values.max=this.max(),this._cache(),this._positionBar()}})}(jQuery),function(a){function b(b,c,d,e){this.label1=b,this.label2=c,this.type=d,this.options=e,this.handle1=this.label1[this.type]("option","handle"),this.handle2=this.label2[this.type]("option","handle"),this.cache=null,this.left=b,this.right=c,this.moving=!1,this.initialized=!1,this.updating=!1,this.Init=function(){this.BindHandle(this.handle1),this.BindHandle(this.handle2),"show"===this.options.show?(setTimeout(a.proxy(this.PositionLabels,this),1),this.initialized=!0):setTimeout(a.proxy(this.AfterInit,this),1e3),this._resizeProxy=a.proxy(this.onWindowResize,this),a(window).resize(this._resizeProxy)},this.Destroy=function(){this._resizeProxy&&(a(window).unbind("resize",this._resizeProxy),this._resizeProxy=null,this.handle1.unbind(".positionner"),this.handle1=null,this.handle2.unbind(".positionner"),this.handle2=null,this.label1=null,this.label2=null,this.left=null,this.right=null),this.cache=null},this.AfterInit=function(){this.initialized=!0},this.Cache=function(){"none"!==this.label1.css("display")&&(this.cache={},this.cache.label1={},this.cache.label2={},this.cache.handle1={},this.cache.handle2={},this.cache.offsetParent={},this.CacheElement(this.label1,this.cache.label1),this.CacheElement(this.label2,this.cache.label2),this.CacheElement(this.handle1,this.cache.handle1),this.CacheElement(this.handle2,this.cache.handle2),this.CacheElement(this.label1.offsetParent(),this.cache.offsetParent))},this.CacheIfNecessary=function(){null===this.cache?this.Cache():(this.CacheWidth(this.label1,this.cache.label1),this.CacheWidth(this.label2,this.cache.label2),this.CacheHeight(this.label1,this.cache.label1),this.CacheHeight(this.label2,this.cache.label2),this.CacheWidth(this.label1.offsetParent(),this.cache.offsetParent))},this.CacheElement=function(a,b){this.CacheWidth(a,b),this.CacheHeight(a,b),b.offset=a.offset(),b.margin={left:this.ParsePixels("marginLeft",a),right:this.ParsePixels("marginRight",a)},b.border={left:this.ParsePixels("borderLeftWidth",a),right:this.ParsePixels("borderRightWidth",a)}},this.CacheWidth=function(a,b){b.width=a.width(),b.outerWidth=a.outerWidth()},this.CacheHeight=function(a,b){b.outerHeightMargin=a.outerHeight(!0)},this.ParsePixels=function(a,b){return parseInt(b.css(a),10)||0},this.BindHandle=function(b){b.bind("updating.positionner",a.proxy(this.onHandleUpdating,this)),b.bind("update.positionner",a.proxy(this.onHandleUpdated,this)),b.bind("moving.positionner",a.proxy(this.onHandleMoving,this)),b.bind("stop.positionner",a.proxy(this.onHandleStop,this))},this.PositionLabels=function(){if(this.CacheIfNecessary(),null!==this.cache){var a=this.GetRawPosition(this.cache.label1,this.cache.handle1),b=this.GetRawPosition(this.cache.label2,this.cache.handle2);this.ConstraintPositions(a,b),this.PositionLabel(this.label1,a.left,this.cache.label1),this.PositionLabel(this.label2,b.left,this.cache.label2)}},this.PositionLabel=function(a,b,c){var d,e,f,g=this.cache.offsetParent.offset.left+this.cache.offsetParent.border.left;g-b>=0?(a.css("right",""),a.offset({left:b})):(d=g+this.cache.offsetParent.width,e=b+c.margin.left+c.outerWidth+c.margin.right,f=d-e,a.css("left",""),a.css("right",f))},this.ConstraintPositions=function(a,b){a.center<b.center&&a.outerRight>b.outerLeft?(a=this.getLeftPosition(a,b),b=this.getRightPosition(a,b)):a.center>b.center&&b.outerRight>a.outerLeft&&(b=this.getLeftPosition(b,a),a=this.getRightPosition(b,a))},this.getLeftPosition=function(a,b){var c=(b.center+a.center)/2,d=c-a.cache.outerWidth-a.cache.margin.right+a.cache.border.left;return a.left=d,a},this.getRightPosition=function(a,b){var c=(b.center+a.center)/2;return b.left=c+b.cache.margin.left+b.cache.border.left,b},this.ShowIfNecessary=function(){"show"===this.options.show||this.moving||!this.initialized||this.updating||(this.label1.stop(!0,!0).fadeIn(this.options.durationIn||0),this.label2.stop(!0,!0).fadeIn(this.options.durationIn||0),this.moving=!0)},this.HideIfNeeded=function(){this.moving===!0&&(this.label1.stop(!0,!0).delay(this.options.delayOut||0).fadeOut(this.options.durationOut||0),this.label2.stop(!0,!0).delay(this.options.delayOut||0).fadeOut(this.options.durationOut||0),this.moving=!1)},this.onHandleMoving=function(a,b){this.ShowIfNecessary(),this.CacheIfNecessary(),this.UpdateHandlePosition(b),this.PositionLabels()},this.onHandleUpdating=function(){this.updating=!0},this.onHandleUpdated=function(){this.updating=!1,this.cache=null},this.onHandleStop=function(){this.HideIfNeeded()},this.onWindowResize=function(){this.cache=null},this.UpdateHandlePosition=function(a){null!==this.cache&&(a.element[0]===this.handle1[0]?this.UpdatePosition(a,this.cache.handle1):this.UpdatePosition(a,this.cache.handle2))},this.UpdatePosition=function(a,b){b.offset=a.offset},this.GetRawPosition=function(a,b){var c=b.offset.left+b.outerWidth/2,d=c-a.outerWidth/2,e=d+a.outerWidth-a.border.left-a.border.right,f=d-a.margin.left-a.border.left,g=b.offset.top-a.outerHeightMargin;return{left:d,outerLeft:f,top:g,right:e,outerRight:f+a.outerWidth+a.margin.left+a.margin.right,cache:a,center:c}},this.Init()}"use strict",a.widget("ui.rangeSliderLabel",a.ui.rangeSliderMouseTouch,{options:{handle:null,formatter:!1,handleType:"rangeSliderHandle",show:"show",durationIn:0,durationOut:500,delayOut:500,isLeft:!1},cache:null,_positionner:null,_valueContainer:null,_innerElement:null,_value:null,_create:function(){this.options.isLeft=this._handle("option","isLeft"),this.element.addClass("ui-rangeSlider-label").css("position","absolute").css("display","block"),this._createElements(),this._toggleClass(),this.options.handle.bind("moving.label",a.proxy(this._onMoving,this)).bind("update.label",a.proxy(this._onUpdate,this)).bind("switch.label",a.proxy(this._onSwitch,this)),"show"!==this.options.show&&this.element.hide(),this._mouseInit()},destroy:function(){this.options.handle.unbind(".label"),this.options.handle=null,this._valueContainer=null,this._innerElement=null,this.element.empty(),this._positionner&&(this._positionner.Destroy(),this._positionner=null),a.ui.rangeSliderMouseTouch.prototype.destroy.apply(this)},_createElements:function(){this._valueContainer=a("<div class='ui-rangeSlider-label-value' />").appendTo(this.element),this._innerElement=a("<div class='ui-rangeSlider-label-inner' />").appendTo(this.element)},_handle:function(){var a=Array.prototype.slice.apply(arguments);return this.options.handle[this.options.handleType].apply(this.options.handle,a)},_setOption:function(a,b){"show"===a?this._updateShowOption(b):("durationIn"===a||"durationOut"===a||"delayOut"===a)&&this._updateDurations(a,b),this._setFormatterOption(a,b)},_setFormatterOption:function(a,b){"formatter"===a&&("function"==typeof b||b===!1)&&(this.options.formatter=b,this._display(this._value))},_updateShowOption:function(a){this.options.show=a,"show"!==this.options.show?(this.element.hide(),this._positionner.moving=!1):(this.element.show(),this._display(this.options.handle[this.options.handleType]("value")),this._positionner.PositionLabels()),this._positionner.options.show=this.options.show},_updateDurations:function(a,b){parseInt(b,10)===b&&(this._positionner.options[a]=b,this.options[a]=b)},_display:function(a){this.options.formatter===!1?this._displayText(Math.round(a)):this._displayText(this.options.formatter(a)),this._value=a},_displayText:function(a){this._valueContainer.text(a)},_toggleClass:function(){this.element.toggleClass("ui-rangeSlider-leftLabel",this.options.isLeft).toggleClass("ui-rangeSlider-rightLabel",!this.options.isLeft)},_mouseDown:function(a){this.options.handle.trigger(a)},_mouseUp:function(a){this.options.handle.trigger(a)},_mouseMove:function(a){this.options.handle.trigger(a)},_onMoving:function(a,b){this._display(b.value)},_onUpdate:function(){"show"===this.options.show&&this.update()},_onSwitch:function(a,b){this.options.isLeft=b,this._toggleClass(),this._positionner.PositionLabels()},pair:function(a){null===this._positionner&&(this._positionner=new b(this.element,a,this.widgetName,{show:this.options.show,durationIn:this.options.durationIn,durationOut:this.options.durationOut,delayOut:this.options.delayOut}),a[this.widgetName]("positionner",this._positionner))},positionner:function(a){return"undefined"!=typeof a&&(this._positionner=a),this._positionner},update:function(){this._positionner.cache=null,this._display(this._handle("value")),"show"===this.options.show&&this._positionner.PositionLabels()}})}(jQuery),function(a,b,c){function $(c,d,e){var g=b.createElement(c);return d&&(g.id=f+d),e&&(g.style.cssText=e),a(g)}function _(){return c.innerHeight?c.innerHeight:a(c).height()}function ba(a){var b=v.length,c=(O+a)%b;return c<0?b+c:c}function bb(a,b){return Math.round((/%/.test(a)?(b==="x"?w.width():_())/100:1)*parseInt(a,10))}function bc(a,b){return a.photo||a.photoRegex.test(b)}function bd(a,b){return a.retinaUrl&&c.devicePixelRatio>1?b.replace(a.photoRegex,a.retinaSuffix):b}function be(a){"contains"in o[0]&&!o[0].contains(a.target)&&(a.stopPropagation(),o.focus())}function bf(){var b,c=a.data(N,e);c==null?(I=a.extend({},d),console&&console.log&&console.log("Error: cboxElement missing settings object")):I=a.extend({},c);for(b in I)a.isFunction(I[b])&&b.slice(0,2)!=="on"&&(I[b]=I[b].call(N));I.rel=I.rel||N.rel||a(N).data("rel")||"nofollow",I.href=I.href||a(N).attr("href"),I.title=I.title||N.title,typeof I.href=="string"&&(I.href=a.trim(I.href))}function bg(c,d){a(b).trigger(c),H.triggerHandler(c),a.isFunction(d)&&d.call(N)}function bi(c){S||(N=c,bf(),v=a(N),O=0,I.rel!=="nofollow"&&(v=a("."+g).filter(function(){var b=a.data(this,e),c;return b&&(c=a(this).data("rel")||b.rel||this.rel),c===I.rel}),O=v.index(N),O===-1&&(v=v.add(N),O=v.length-1)),n.css({opacity:parseFloat(I.opacity),cursor:I.overlayClose?"pointer":"auto",visibility:"visible"}).show(),W&&o.add(n).removeClass(W),I.className&&o.add(n).addClass(I.className),W=I.className,I.closeButton?F.html(I.close).appendTo(q):F.appendTo("<div/>"),Q||(Q=R=!0,o.css({visibility:"hidden",display:"block"}),x=$(V,"LoadedContent","width:0; height:0; overflow:hidden"),q.css({width:"",height:""}).append(x),J=r.height()+u.height()+q.outerHeight(!0)-q.height(),K=s.width()+t.width()+q.outerWidth(!0)-q.width(),L=x.outerHeight(!0),M=x.outerWidth(!0),I.w=bb(I.initialWidth,"x"),I.h=bb(I.initialHeight,"y"),x.css({width:"",height:I.h}),U.position(),bg(h,I.onOpen),G.add(A).hide(),o.focus(),I.trapFocus&&b.addEventListener&&(b.addEventListener("focus",be,!0),H.one(l,function(){b.removeEventListener("focus",be,!0)})),I.returnFocus&&H.one(l,function(){a(N).focus()})),bl())}function bj(){!o&&b.body&&(Z=!1,w=a(c),o=$(V).attr({id:e,"class":a.support.opacity===!1?f+"IE":"",role:"dialog",tabindex:"-1"}).hide(),n=$(V,"Overlay").hide(),z=a([$(V,"LoadingOverlay")[0],$(V,"LoadingGraphic")[0]]),p=$(V,"Wrapper"),q=$(V,"Content").append(A=$(V,"Title"),B=$(V,"Current"),E=a('<button type="button"/>').attr({id:f+"Previous"}),D=a('<button type="button"/>').attr({id:f+"Next"}),C=$("button","Slideshow"),z),F=a('<button type="button"/>').attr({id:f+"Close"}),p.append($(V).append($(V,"TopLeft"),r=$(V,"TopCenter"),$(V,"TopRight")),$(V,!1,"clear:left").append(s=$(V,"MiddleLeft"),q,t=$(V,"MiddleRight")),$(V,!1,"clear:left").append($(V,"BottomLeft"),u=$(V,"BottomCenter"),$(V,"BottomRight"))).find("div div").css({"float":"left"}),y=$(V,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),G=D.add(E).add(B).add(C),a(b.body).append(n,o.append(p,y)))}function bk(){function c(a){a.which>1||a.shiftKey||a.altKey||a.metaKey||a.ctrlKey||(a.preventDefault(),bi(this))}return o?(Z||(Z=!0,D.click(function(){U.next()}),E.click(function(){U.prev()}),F.click(function(){U.close()}),n.click(function(){I.overlayClose&&U.close()}),a(b).bind("keydown."+f,function(a){var b=a.keyCode;Q&&I.escKey&&b===27&&(a.preventDefault(),U.close()),Q&&I.arrowKey&&v[1]&&!a.altKey&&(b===37?(a.preventDefault(),E.click()):b===39&&(a.preventDefault(),D.click()))}),a.isFunction(a.fn.on)?a(b).on("click."+f,"."+g,c):a("."+g).live("click."+f,c)),!0):!1}function bl(){var d,e,g=U.prep,h,j=++X;R=!0,P=!1,N=v[O],bf(),bg(m),bg(i,I.onLoad),I.h=I.height?bb(I.height,"y")-L-J:I.innerHeight&&bb(I.innerHeight,"y"),I.w=I.width?bb(I.width,"x")-M-K:I.innerWidth&&bb(I.innerWidth,"x"),I.mw=I.w,I.mh=I.h,I.maxWidth&&(I.mw=bb(I.maxWidth,"x")-M-K,I.mw=I.w&&I.w<I.mw?I.w:I.mw),I.maxHeight&&(I.mh=bb(I.maxHeight,"y")-L-J,I.mh=I.h&&I.h<I.mh?I.h:I.mh),d=I.href,T=setTimeout(function(){z.show()},100),I.inline?(h=$(V).hide().insertBefore(a(d)[0]),H.one(m,function(){h.replaceWith(x.children())}),g(a(d))):I.iframe?g(" "):I.html?g(I.html):bc(I,d)?(d=bd(I,d),P=b.createElement("img"),a(P).addClass(f+"Photo").bind("error",function(){I.title=!1,g($(V,"Error").html(I.imgError))}).one("load",function(){var b;if(j!==X)return;a.each(["alt","longdesc","aria-describedby"],function(b,c){var d=a(N).attr(c)||a(N).attr("data-"+c);d&&P.setAttribute(c,d)}),I.retinaImage&&c.devicePixelRatio>1&&(P.height=P.height/c.devicePixelRatio,P.width=P.width/c.devicePixelRatio),I.scalePhotos&&(e=function(){P.height-=P.height*b,P.width-=P.width*b},I.mw&&P.width>I.mw&&(b=(P.width-I.mw)/P.width,e()),I.mh&&P.height>I.mh&&(b=(P.height-I.mh)/P.height,e())),I.h&&(P.style.marginTop=Math.max(I.mh-P.height,0)/2+"px"),v[1]&&(I.loop||v[O+1])&&(P.style.cursor="pointer",P.onclick=function(){U.next()}),P.style.width=P.width+"px",P.style.height=P.height+"px",setTimeout(function(){g(P)},1)}),setTimeout(function(){P.src=d},1)):d&&y.load(d,I.data,function(b,c){j===X&&g(c==="error"?$(V,"Error").html(I.xhrError):a(this).contents())})}var d={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,href:!1,title:!1,rel:!1,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:undefined,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1},e="colorbox",f="cbox",g=f+"Element",h=f+"_open",i=f+"_load",j=f+"_complete",k=f+"_cleanup",l=f+"_closed",m=f+"_purge",n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H=a("<a/>"),I,J,K,L,M,N,O,P,Q,R,S,T,U,V="div",W,X=0,Y={},Z,bh=function(){function e(){clearTimeout(d)}function g(){if(I.loop||v[O+1])e(),d=setTimeout(U.next,I.slideshowSpeed)}function h(){C.html(I.slideshowStop).unbind(c).one(c,l),H.bind(j,g).bind(i,e),o.removeClass(b+"off").addClass(b+"on")}function l(){e(),H.unbind(j,g).unbind(i,e),C.html(I.slideshowStart).unbind(c).one(c,function(){U.next(),h()}),o.removeClass(b+"on").addClass(b+"off")}function m(){a=!1,C.hide(),e(),H.unbind(j,g).unbind(i,e),o.removeClass(b+"off "+b+"on")}var a,b=f+"Slideshow_",c="click."+f,d;return function(){a?I.slideshow||(H.unbind(k,m),m()):I.slideshow&&v[1]&&(a=!0,H.one(k,m),I.slideshowAuto?h():l(),C.show())}}();if(a.colorbox)return;a(bj),U=a.fn[e]=a[e]=function(b,c){var f=this;b=b||{},bj();if(bk()){if(a.isFunction(f))f=a("<a/>"),b.open=!0;else if(!f[0])return f;c&&(b.onComplete=c),f.each(function(){a.data(this,e,a.extend({},a.data(this,e)||d,b))}).addClass(g),(a.isFunction(b.open)&&b.open.call(f)||b.open)&&bi(f[0])}return f},U.position=function(b,c){function k(){r[0].style.width=u[0].style.width=q[0].style.width=parseInt(o[0].style.width,10)-K+"px",q[0].style.height=s[0].style.height=t[0].style.height=parseInt(o[0].style.height,10)-J+"px"}var d,e=0,g=0,h=o.offset(),i,j;w.unbind("resize."+f),o.css({top:-9e4,left:-9e4}),i=w.scrollTop(),j=w.scrollLeft(),I.fixed?(h.top-=i,h.left-=j,o.css({position:"fixed"})):(e=i,g=j,o.css({position:"absolute"})),I.right!==!1?g+=Math.max(w.width()-I.w-M-K-bb(I.right,"x"),0):I.left!==!1?g+=bb(I.left,"x"):g+=Math.round(Math.max(w.width()-I.w-M-K,0)/2),I.bottom!==!1?e+=Math.max(_()-I.h-L-J-bb(I.bottom,"y"),0):I.top!==!1?e+=bb(I.top,"y"):e+=Math.round(Math.max(_()-I.h-L-J,0)/2),o.css({top:h.top,left:h.left,visibility:"visible"}),p[0].style.width=p[0].style.height="9999px",d={width:I.w+M+K,height:I.h+L+J,top:e,left:g};if(b){var l=0;a.each(d,function(a){if(d[a]!==Y[a]){l=b;return}}),b=l}Y=d,b||o.css(d),o.dequeue().animate(d,{duration:b||0,complete:function(){k(),R=!1,p[0].style.width=I.w+M+K+"px",p[0].style.height=I.h+L+J+"px",I.reposition&&setTimeout(function(){w.bind("resize."+f,U.position)},1),c&&c()},step:k})},U.resize=function(a){var b;Q&&(a=a||{},a.width&&(I.w=bb(a.width,"x")-M-K),a.innerWidth&&(I.w=bb(a.innerWidth,"x")),x.css({width:I.w}),a.height&&(I.h=bb(a.height,"y")-L-J),a.innerHeight&&(I.h=bb(a.innerHeight,"y")),!a.innerHeight&&!a.height&&(b=x.scrollTop(),x.css({height:"auto"}),I.h=x.height()),x.css({height:I.h}),b&&x.scrollTop(b),U.position(I.transition==="none"?0:I.speed))},U.prep=function(c){function h(){return I.w=I.w||x.width(),I.w=I.mw&&I.mw<I.w?I.mw:I.w,I.w}function i(){return I.h=I.h||x.height(),I.h=I.mh&&I.mh<I.h?I.mh:I.h,I.h}if(!Q)return;var d,g=I.transition==="none"?0:I.speed;x.empty().remove(),x=$(V,"LoadedContent").append(c),x.hide().appendTo(y.show()).css({width:h(),overflow:I.scrolling?"auto":"hidden"}).css({height:i()}).prependTo(q),y.hide(),a(P).css({"float":"none"}),d=function(){function l(){a.support.opacity===!1&&o[0].style.removeAttribute("filter")}var c=v.length,d,h="frameBorder",i="allowTransparency",k;if(!Q)return;k=function(){clearTimeout(T),z.hide(),bg(j,I.onComplete)},A.html(I.title).add(x).show(),c>1?(typeof I.current=="string"&&B.html(I.current.replace("{current}",O+1).replace("{total}",c)).show(),D[I.loop||O<c-1?"show":"hide"]().html(I.next),E[I.loop||O?"show":"hide"]().html(I.previous),bh(),I.preloading&&a.each([ba(-1),ba(1)],function(){var c,d,f=v[this],g=a.data(f,e);g&&g.href?(c=g.href,a.isFunction(c)&&(c=c.call(f))):c=a(f).attr("href"),c&&bc(g,c)&&(c=bd(g,c),d=b.createElement("img"),d.src=c)})):G.hide(),I.iframe?(d=$("iframe")[0],h in d&&(d[h]=0),i in d&&(d[i]="true"),I.scrolling||(d.scrolling="no"),a(d).attr({src:I.href,name:(new Date).getTime(),"class":f+"Iframe",allowFullScreen:!0,webkitAllowFullScreen:!0,mozallowfullscreen:!0}).one("load",k).appendTo(x),H.one(m,function(){d.src="//about:blank"}),I.fastIframe&&a(d).trigger("load")):k(),I.transition==="fade"?o.fadeTo(g,1,l):l()},I.transition==="fade"?o.fadeTo(g,0,function(){U.position(0,d)}):U.position(g,d)},U.next=function(){!R&&v[1]&&(I.loop||v[O+1])&&(O=ba(1),bi(v[O]))},U.prev=function(){!R&&v[1]&&(I.loop||O)&&(O=ba(-1),bi(v[O]))},U.close=function(){Q&&!S&&(S=!0,Q=!1,bg(k,I.onCleanup),w.unbind("."+f),n.fadeTo(I.fadeOut||0,0),o.stop().fadeTo(I.fadeOut||0,0,function(){o.add(n).css({opacity:1,cursor:"auto"}).hide(),bg(m),x.empty().remove(),setTimeout(function(){S=!1,bg(l,I.onClosed)},1)}))},U.remove=function(){if(!o)return;o.stop(),a.colorbox.close(),o.stop().remove(),n.remove(),S=!1,o=null,a("."+g).removeData(e).removeClass(g),a(b).unbind("click."+f)},U.element=function(){return a(N)},U.settings=d}(jQuery,document,window),function(a){a.tabSelect=function(b,c){var d={activeClass:"active",inactiveClass:"inactive",disabledClass:"disable",elementType:"span",tabElements:[],selectedTabs:[],formElement:undefined,disabledElements:[],multipleSelections:!0,onChange:function(){}},e=this;e.settings={};var f=a(b),b=b;f.html(""),e.init=function(){e.settings=a.extend({},d,c),e.settings.selectedTabs=="all"&&(e.settings.selectedTabs=e.settings.tabElements),e.settings.formElement!=undefined&&(a(e.settings.formElement).is("select")?a(e.settings.formElement).find(":selected").each(function(b,c){e.settings.selectedTabs[b]=a(c).text()}):e.settings.selectedTabs=a(e.settings.formElement).val().split(",")),a.each(e.settings.tabElements,function(b,c){var d=document.createElement("span");e.settings.selectedTabs.indexOf(c)==-1?e.settings.disabledElements.indexOf(c)==-1?a(d).html(c).addClass(e.settings.inactiveClass):a(d).html(c).addClass(e.settings.disabledClass):a(d).html(c).addClass(e.settings.activeClass),a(d).click(function(){a(this).hasClass(e.settings.activeClass)?a(this).removeClass(e.settings.activeClass).addClass(e.settings.inactiveClass):a(this).removeClass(e.settings.inactiveClass).addClass(e.settings.activeClass),e.onChange()}),f.append(d)})},e.onChange=function(){if(e.settings.formElement!=undefined)if(a(e.settings.formElement).is("select")){a(e.settings.formElement).find("option").each(function(){a(this).removeAttr("selected")});var b=e.getAllSelected();a(e.settings.formElement).find("option").each(function(){b.indexOf(a(this).html())!==-1&&a(this).attr("selected","selected")})}else a(e.settings.formElement).val(e.getAllSelected());e.settings.onChange(e.getAllSelected())},e.getAllSelected=function(){var b=[];return f.find(e.settings.elementType).each(function(){a(this).hasClass(e.settings.activeClass)&&b.push(a(this).html())}),b},e.selectAll=function(){var b=0;f.find(e.settings.elementType).each(function(){a(this).hasClass(e.settings.inactiveClass)&&(a(this).removeClass(e.settings.inactiveClass).addClass(e.settings.activeClass),b++)}),b>0&&e.onChange()},e.deselectAll=function(){var b=0;f.find(e.settings.elementType).each(function(){a(this).hasClass(e.settings.activeClass)&&(a(this).removeClass(e.settings.activeClass).addClass(e.settings.inactiveClass),b++)}),b>0&&e.onChange()},e.init()},a.fn.tabSelect=function(b){return this.each(function(){var c=new a.tabSelect(this,b);a(this).data("tabSelect",c)})}}(jQuery),Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){for(var c=b||0,d=this.length;c<d;c++)if(this[c]===a)return c;return-1}),function(a){a.Jcrop=function(b,c){function i(a){return Math.round(a)+"px"}function j(a){return d.baseClass+"-"+a}function k(){return a.fx.step.hasOwnProperty("backgroundColor")}function l(b){var c=a(b).offset();return[c.left,c.top]}function m(a){return[a.pageX-e[0],a.pageY-e[1]]}function n(b){typeof b!="object"&&(b={}),d=a.extend(d,b),a.each(["onChange","onSelect","onRelease","onDblClick"],function(a,b){typeof d[b]!="function"&&(d[b]=function(){})})}function o(a,b,c){e=l(D),bc.setCursor(a==="move"?a:a+"-resize");if(a==="move")return bc.activateHandlers(q(b),v,c);var d=_.getFixed(),f=r(a),g=_.getCorner(r(f));_.setPressed(_.getCorner(f)),_.setCurrent(g),bc.activateHandlers(p(a,d),v,c)}function p(a,b){return function(c){if(!d.aspectRatio)switch(a){case"e":c[1]=b.y2;break;case"w":c[1]=b.y2;break;case"n":c[0]=b.x2;break;case"s":c[0]=b.x2}else switch(a){case"e":c[1]=b.y+1;break;case"w":c[1]=b.y+1;break;case"n":c[0]=b.x+1;break;case"s":c[0]=b.x+1}_.setCurrent(c),bb.update()}}function q(a){var b=a;return bd.watchKeys(),function(a){_.moveOffset([a[0]-b[0],a[1]-b[1]]),b=a,bb.update()}}function r(a){switch(a){case"n":return"sw";case"s":return"nw";case"e":return"nw";case"w":return"ne";case"ne":return"sw";case"nw":return"se";case"se":return"nw";case"sw":return"ne"}}function s(a){return function(b){return d.disabled?!1:a==="move"&&!d.allowMove?!1:(e=l(D),W=!0,o(a,m(b)),b.stopPropagation(),b.preventDefault(),!1)}}function t(a,b,c){var d=a.width(),e=a.height();d>b&&b>0&&(d=b,e=b/a.width()*a.height()),e>c&&c>0&&(e=c,d=c/a.height()*a.width()),T=a.width()/d,U=a.height()/e,a.width(d).height(e)}function u(a){return{x:a.x*T,y:a.y*U,x2:a.x2*T,y2:a.y2*U,w:a.w*T,h:a.h*U}}function v(a){var b=_.getFixed();b.w>d.minSelect[0]&&b.h>d.minSelect[1]?(bb.enableHandles(),bb.done()):bb.release(),bc.setCursor(d.allowSelect?"crosshair":"default")}function w(a){if(d.disabled)return;if(!d.allowSelect)return;W=!0,e=l(D),bb.disableHandles(),bc.setCursor("crosshair");var b=m(a);return _.setPressed(b),bb.update(),bc.activateHandlers(x,v,a.type.substring(0,5)==="touch"),bd.watchKeys(),a.stopPropagation(),a.preventDefault(),!1}function x(a){_.setCurrent(a),bb.update()}function y(){var b=a("<div></div>").addClass(j("tracker"));return g&&b.css({opacity:0,backgroundColor:"white"}),b}function be(a){G.removeClass().addClass(j("holder")).addClass(a)}function bf(a,b){function t(){window.setTimeout(u,l)}var c=a[0]/T,e=a[1]/U,f=a[2]/T,g=a[3]/U;if(X)return;var h=_.flipCoords(c,e,f,g),i=_.getFixed(),j=[i.x,i.y,i.x2,i.y2],k=j,l=d.animationDelay,m=h[0]-j[0],n=h[1]-j[1],o=h[2]-j[2],p=h[3]-j[3],q=0,r=d.swingSpeed;c=k[0],e=k[1],f=k[2],g=k[3],bb.animMode(!0);var s,u=function(){return function(){q+=(100-q)/r,k[0]=Math.round(c+q/100*m),k[1]=Math.round(e+q/100*n),k[2]=Math.round(f+q/100*o),k[3]=Math.round(g+q/100*p),q>=99.8&&(q=100),q<100?(bh(k),t()):(bb.done(),bb.animMode(!1),typeof b=="function"&&b.call(bs))}}();t()}function bg(a){bh([a[0]/T,a[1]/U,a[2]/T,a[3]/U]),d.onSelect.call(bs,u(_.getFixed())),bb.enableHandles()}function bh(a){_.setPressed([a[0],a[1]]),_.setCurrent([a[2],a[3]]),bb.update()}function bi(){return u(_.getFixed())}function bj(){return _.getFixed()}function bk(a){n(a),br()}function bl(){d.disabled=!0,bb.disableHandles(),bb.setCursor("default"),bc.setCursor("default")}function bm(){d.disabled=!1,br()}function bn(){bb.done(),bc.activateHandlers(null,null)}function bo(){G.remove(),A.show(),A.css("visibility","visible"),a(b).removeData("Jcrop")}function bp(a,b){bb.release(),bl();var c=new Image;c.onload=function(){var e=c.width,f=c.height,g=d.boxWidth,h=d.boxHeight;D.width(e).height(f),D.attr("src",a),H.attr("src",a),t(D,g,h),E=D.width(),F=D.height(),H.width(E).height(F),M.width(E+L*2).height(F+L*2),G.width(E).height(F),ba.resize(E,F),bm(),typeof b=="function"&&b.call(bs)},c.src=a}function bq(a,b,c){var e=b||d.bgColor;d.bgFade&&k()&&d.fadeTime&&!c?a.animate({backgroundColor:e},{queue:!1,duration:d.fadeTime}):a.css("backgroundColor",e)}function br(a){d.allowResize?a?bb.enableOnly():bb.enableHandles():bb.disableHandles(),bc.setCursor(d.allowSelect?"crosshair":"default"),bb.setCursor(d.allowMove?"move":"default"),d.hasOwnProperty("trueSize")&&(T=d.trueSize[0]/E,U=d.trueSize[1]/F),d.hasOwnProperty("setSelect")&&(bg(d.setSelect),bb.done(),delete d.setSelect),ba.refresh(),d.bgColor!=N&&(bq(d.shade?ba.getShades():G,d.shade?d.shadeColor||d.bgColor:d.bgColor),N=d.bgColor),O!=d.bgOpacity&&(O=d.bgOpacity,d.shade?ba.refresh():bb.setBgOpacity(O)),P=d.maxSize[0]||0,Q=d.maxSize[1]||0,R=d.minSize[0]||0,S=d.minSize[1]||0,d.hasOwnProperty("outerImage")&&(D.attr("src",d.outerImage),delete d.outerImage),bb.refresh()}var d=a.extend({},a.Jcrop.defaults),e,f=navigator.userAgent.toLowerCase(),g=/msie/.test(f),h=/msie [1-6]\./.test(f);typeof b!="object"&&(b=a(b)[0]),typeof c!="object"&&(c={}),n(c);var z={border:"none",visibility:"visible",margin:0,padding:0,position:"absolute",top:0,left:0},A=a(b),B=!0;if(b.tagName=="IMG"){if(A[0].width!=0&&A[0].height!=0)A.width(A[0].width),A.height(A[0].height);else{var C=new Image;C.src=A[0].src,A.width(C.width),A.height(C.height)}var D=A.clone().removeAttr("id").css(z).show();D.width(A.width()),D.height(A.height()),A.after(D).hide()}else D=A.css(z).show(),B=!1,d.shade===null&&(d.shade=!0);t(D,d.boxWidth,d.boxHeight);var E=D.width(),F=D.height(),G=a("<div />").width(E).height(F).addClass(j("holder")).css({position:"relative",backgroundColor:d.bgColor}).insertAfter(A).append(D);d.addClass&&G.addClass(d.addClass);var H=a("<div />"),I=a("<div />").width("100%").height("100%").css({zIndex:310,position:"absolute",overflow:"hidden"}),J=a("<div />").width("100%").height("100%").css("zIndex",320),K=a("<div />").css({position:"absolute",zIndex:600}).dblclick(function(){var a=_.getFixed();d.onDblClick.call(bs,a)}).insertBefore(D).append(I,J);B&&(H=a("<img />").attr("src",D.attr("src")).css(z).width(E).height(F),I.append(H)),h&&K.css({overflowY:"hidden"});var L=d.boundary,M=y().width(E+L*2).height(F+L*2).css({position:"absolute",top:i(-L),left:i(-L),zIndex:290}).mousedown(w),N=d.bgColor,O=d.bgOpacity,P,Q,R,S,T,U,V=!0,W,X,Y;e=l(D);var Z=function(){function a(){var a={},b=["touchstart","touchmove","touchend"],c=document.createElement("div"),d;try{for(d=0;d<b.length;d++){var e=b[d];e="on"+e;var f=e in c;f||(c.setAttribute(e,"return;"),f=typeof c[e]=="function"),a[b[d]]=f}return a.touchstart&&a.touchend&&a.touchmove}catch(g){return!1}}function b(){return d.touchSupport===!0||d.touchSupport===!1?d.touchSupport:a()}return{createDragger:function(a){return function(b){return d.disabled?!1:a==="move"&&!d.allowMove?!1:(e=l(D),W=!0,o(a,m(Z.cfilter(b)),!0),b.stopPropagation(),b.preventDefault(),!1)}},newSelection:function(a){return w(Z.cfilter(a))},cfilter:function(a){return a.pageX=a.originalEvent.changedTouches[0].pageX,a.pageY=a.originalEvent.changedTouches[0].pageY,a},isSupported:a,support:b()}}(),_=function(){function h(d){d=n(d),c=a=d[0],e=b=d[1]}function i(a){a=n(a),f=a[0]-c,g=a[1]-e,c=a[0],e=a[1]}function j(){return[f,g]}function k(d){var f=d[0],g=d[1];0>a+f&&(f-=f+a),0>b+g&&(g-=g+b),F<e+g&&(g+=F-(e+g)),E<c+f&&(f+=E-(c+f)),a+=f,c+=f,b+=g,e+=g}function l(a){var b=m();switch(a){case"ne":return[b.x2,b.y];case"nw":return[b.x,b.y];case"se":return[b.x2,b.y2];case"sw":return[b.x,b.y2]}}function m(){if(!d.aspectRatio)return p();var f=d.aspectRatio,g=d.minSize[0]/T,h=d.maxSize[0]/T,i=d.maxSize[1]/U,j=c-a,k=e-b,l=Math.abs(j),m=Math.abs(k),n=l/m,r,s,t,u;return h===0&&(h=E*10),i===0&&(i=F*10),n<f?(s=e,t=m*f,r=j<0?a-t:t+a,r<0?(r=0,u=Math.abs((r-a)/f),s=k<0?b-u:u+b):r>E&&(r=E,u=Math.abs((r-a)/f),s=k<0?b-u:u+b)):(r=c,u=l/f,s=k<0?b-u:b+u,s<0?(s=0,t=Math.abs((s-b)*f),r=j<0?a-t:t+a):s>F&&(s=F,t=Math.abs(s-b)*f,r=j<0?a-t:t+a)),r>a?(r-a<g?r=a+g:r-a>h&&(r=a+h),s>b?s=b+(r-a)/f:s=b-(r-a)/f):r<a&&(a-r<g?r=a-g:a-r>h&&(r=a-h),s>b?s=b+(a-r)/f:s=b-(a-r)/f),r<0?(a-=r,r=0):r>E&&(a-=r-E,r=E),s<0?(b-=s,s=0):s>F&&(b-=s-F,s=F),q(o(a,b,r,s))}function n(a){return a[0]<0&&(a[0]=0),a[1]<0&&(a[1]=0),a[0]>E&&(a[0]=E),a[1]>F&&(a[1]=F),[Math.round(a[0]),Math.round(a[1])]}function o(a,b,c,d){var e=a,f=c,g=b,h=d;return c<a&&(e=c,f=a),d<b&&(g=d,h=b),[e,g,f,h]}function p(){var d=c-a,f=e-b,g;return P&&Math.abs(d)>P&&(c=d>0?a+P:a-P),Q&&Math.abs(f)>Q&&(e=f>0?b+Q:b-Q),S/U&&Math.abs(f)<S/U&&(e=f>0?b+S/U:b-S/U),R/T&&Math.abs(d)<R/T&&(c=d>0?a+R/T:a-R/T),a<0&&(c-=a,a-=a),b<0&&(e-=b,b-=b),c<0&&(a-=c,c-=c),e<0&&(b-=e,e-=e),c>E&&(g=c-E,a-=g,c-=g),e>F&&(g=e-F,b-=g,e-=g),a>E&&(g=a-F,e-=g,b-=g),b>F&&(g=b-F,e-=g,b-=g),q(o(a,b,c,e))}function q(a){return{x:a[0],y:a[1],x2:a[2],y2:a[3],w:a[2]-a[0],h:a[3]-a[1]}}var a=0,b=0,c=0,e=0,f,g;return{flipCoords:o,setPressed:h,setCurrent:i,getOffset:j,moveOffset:k,getCorner:l,getFixed:m}}(),ba=function(){function f(a,b){e.left.css({height:i(b)}),e.right.css({height:i(b)})}function g(){return h(_.getFixed())}function h(a){e.top.css({left:i(a.x),width:i(a.w),height:i(a.y)}),e.bottom.css({top:i(a.y2),left:i(a.x),width:i(a.w),height:i(F-a.y2)}),e.right.css({left:i(a.x2),width:i(E-a.x2)}),e.left.css({width:i(a.x)})}function j(){return a("<div />").css({position:"absolute",backgroundColor:d.shadeColor||d.bgColor}).appendTo(c)}function k(){b||(b=!0,c.insertBefore(D),g(),bb.setBgOpacity(1,0,1),H.hide(),l(d.shadeColor||d.bgColor,1),bb.isAwake()?n(d.bgOpacity,1):n(1,1))}function l(a,b){bq(p(),a,b)}function m(){b&&(c.remove(),H.show(),b=!1,bb.isAwake()?bb.setBgOpacity(d.bgOpacity,1,1):(bb.setBgOpacity(1,1,1),bb.disableHandles()),bq(G,0,1))}function n(a,e){b&&(d.bgFade&&!e?c.animate({opacity:1-a},{queue:!1,duration:d.fadeTime}):c.css({opacity:1-a}))}function o(){d.shade?k():m(),bb.isAwake()&&n(d.bgOpacity)}function p(){return c.children()}var b=!1,c=a("<div />").css({position:"absolute",zIndex:240,opacity:0}),e={top:j(),left:j().height(F),right:j().height(F),bottom:j()};return{update:g,updateRaw:h,getShades:p,setBgColor:l,enable:k,disable:m,resize:f,refresh:o,opacity:n}}(),bb=function(){function k(b){var c=a("<div />").css({position:"absolute",opacity:d.borderOpacity}).addClass(j(b));return I.append(c),c}function l(b,c){var d=a("<div />").mousedown(s(b)).css({cursor:b+"-resize",position:"absolute",zIndex:c}).addClass("ord-"+b);return Z.support&&d.bind("touchstart.jcrop",Z.createDragger(b)),J.append(d),d}function m(a){var b=d.handleSize,e=l(a,c++).css({opacity:d.handleOpacity}).addClass(j("handle"));return b&&e.width(b).height(b),e}function n(a){return l(a,c++).addClass("jcrop-dragbar")}function o(a){var b;for(b=0;b<a.length;b++)g[a[b]]=n(a[b])}function p(a){var b,c;for(c=0;c<a.length;c++){switch(a[c]){case"n":b="hline";break;case"s":b="hline bottom";break;case"e":b="vline right";break;case"w":b="vline"}e[a[c]]=k(b)}}function q(a){var b;for(b=0;b<a.length;b++)f[a[b]]=m(a[b])}function r(a,b){d.shade||H.css({top:i(-b),left:i(-a)}),K.css({top:i(b),left:i(a)})}function t(a,b){K.width(Math.round(a)).height(Math.round(b))}function v(){var a=_.getFixed();_.setPressed([a.x,a.y]),_.setCurrent([a.x2,a.y2]),w()}function w(a){if(b)return x(a)}function x(a){var c=_.getFixed();t(c.w,c.h),r(c.x,c.y),d.shade&&ba.updateRaw(c),b||A(),a?d.onSelect.call(bs,u(c)):d.onChange.call(bs,u(c))}function z(a,c,e){if(!b&&!c)return;d.bgFade&&!e?D.animate({opacity:a},{queue:!1,duration:d.fadeTime}):D.css("opacity",a)}function A(){K.show(),d.shade?ba.opacity(O):z(O,!0),b=!0}function B(){F(),K.hide(),d.shade?ba.opacity(1):z(1),b=!1,d.onRelease.call(bs)}function C(){h&&J.show()}function E(){h=!0;if(d.allowResize)return J.show(),!0}function F(){h=!1,J.hide()}function G(a){a?(X=!0,F()):(X=!1,E())}function L(){G(!1),v()}var b,c=370,e={},f={},g={},h=!1;d.dragEdges&&a.isArray(d.createDragbars)&&o(d.createDragbars),a.isArray(d.createHandles)&&q(d.createHandles),d.drawBorders&&a.isArray(d.createBorders)&&p(d.createBorders),a(document).bind("touchstart.jcrop-ios",function(b){a(b.currentTarget).hasClass("jcrop-tracker")&&b.stopPropagation()});var M=y().mousedown(s("move")).css({cursor:"move",position:"absolute",zIndex:360});return Z.support&&M.bind("touchstart.jcrop",Z.createDragger("move")),I.append(M),F(),{updateVisible:w,update:x,release:B,refresh:v,isAwake:function(){return b},setCursor:function(a){M.css("cursor",a)},enableHandles:E,enableOnly:function(){h=!0},showHandles:C,disableHandles:F,animMode:G,setBgOpacity:z,done:L}}(),bc=function(){function f(b){M.css({zIndex:450}),b?a(document).bind("touchmove.jcrop",k).bind("touchend.jcrop",l):e&&a(document).bind("mousemove.jcrop",h).bind("mouseup.jcrop",i)}function g(){M.css({zIndex:290}),a(document).unbind(".jcrop")}function h(a){return b(m(a)),!1}function i(a){return a.preventDefault(),a.stopPropagation(),W&&(W=!1,c(m(a)),bb.isAwake()&&d.onSelect.call(bs,u(_.getFixed())),g(),b=function(){},c=function(){}),!1}function j(a,d,e){return W=!0,b=a,c=d,f(e),!1}function k(a){return b(m(Z.cfilter(a))),!1}function l(a){return i(Z.cfilter(a))}function n(a){M.css("cursor",a)}var b=function(){},c=function(){},e=d.trackDocument;return e||M.mousemove(h).mouseup(i).mouseout(i),D.before(M),{activateHandlers:j,setCursor:n}}(),bd=function(){function e(){d.keySupport&&(b.show(),b.focus())}function f(a){b.hide()}function g(a,b,c){d.allowMove&&(_.moveOffset([b,c]),bb.updateVisible(!0)),a.preventDefault(),a.stopPropagation()}function i(a){if(a.ctrlKey||a.metaKey)return!0;Y=a.shiftKey?!0:!1;var b=Y?10:1;switch(a.keyCode){case 37:g(a,-b,0);break;case 39:g(a,b,0);break;case 38:g(a,0,-b);break;case 40:g(a,0,b);break;case 27:d.allowSelect&&bb.release();break;case 9:return!0}return!1}var b=a('<input type="radio" />').css({opacity:"0",position:"fixed",left:"-120px",width:"12px"}).addClass("jcrop-keymgr"),c=a("<div />").css({position:"absolute",overflow:"hidden"}).append(b);return d.keySupport&&(b.keydown(i).blur(f),h||!d.fixedSupport?(b.css({position:"absolute",left:"-20px"}),c.append(b).insertBefore(D)):b.insertBefore(D)),{watchKeys:e}}();Z.support&&M.bind("touchstart.jcrop",Z.newSelection),J.hide(),br(!0);var bs={setImage:bp,animateTo:bf,setSelect:bg,setOptions:bk,tellSelect:bi,tellScaled:bj,setClass:be,disable:bl,enable:bm,cancel:bn,release:bb.release,destroy:bo,focus:bd.watchKeys,getBounds:function(){return[E*T,F*U]},getWidgetSize:function(){return[E,F]},getScaleFactor:function(){return[T,U]},getOptions:function(){return d},ui:{holder:G,selection:K}};return g&&G.bind("selectstart",function(){return!1}),A.data("Jcrop",bs),bs},a.fn.Jcrop=function(b,c){var d;return this.each(function(){if(a(this).data("Jcrop")){if(b==="api")return a(this).data("Jcrop");a(this).data("Jcrop").setOptions(b)}else this.tagName=="IMG"?a.Jcrop.Loader(this,function(){a(this).css({display:"block",visibility:"hidden"}),d=a.Jcrop(this,b),a.isFunction(c)&&c.call(d)}):(a(this).css({display:"block",visibility:"hidden"}),d=a.Jcrop(this,b),a.isFunction(c)&&c.call(d))}),this},a.Jcrop.Loader=function(b,c,d){function g(){f.complete?(e.unbind(".jcloader"),a.isFunction(c)&&c.call(f)):window.setTimeout(g,50)}var e=a(b),f=e[0];e.bind("load.jcloader",g).bind("error.jcloader",function(b){e.unbind(".jcloader"),a.isFunction(d)&&d.call(f)}),f.complete&&a.isFunction(c)&&(e.unbind(".jcloader"),c.call(f))},a.Jcrop.defaults={allowSelect:!0,allowMove:!0,allowResize:!0,trackDocument:!0,baseClass:"jcrop",addClass:null,bgColor:"black",bgOpacity:.6,bgFade:!1,borderOpacity:.4,handleOpacity:.5,handleSize:null,aspectRatio:1,keySupport:!0,createHandles:["n","s","e","w","nw","ne","se","sw"],createDragbars:["n","s","e","w"],createBorders:["n","s","e","w"],drawBorders:!0,dragEdges:!0,fixedSupport:!0,touchSupport:null,shade:null,boxWidth:0,boxHeight:0,boundary:2,fadeTime:400,animationDelay:20,swingSpeed:3,minSelect:[0,0],maxSize:[0,0],minSize:[0,0],onChange:function(){},onSelect:function(){},onDblClick:function(){},onRelease:function(){}}}(jQuery),function(){window.$jit=function(a){a=a||window;for(var b in $jit)$jit[b].$extend&&(a[b]=$jit[b])},$jit.version="2.0.1";var a=function(a){return document.getElementById(a)};a.empty=function(){},a.extend=function(a,b){for(var c in b||{})a[c]=b[c];return a},a.lambda=function(a){return typeof a=="function"?a:function(){return a}},a.time=Date.now||function(){return+(new Date)},a.splat=function(b){var c=a.type(b);return c?c!="array"?[b]:b:[]},a.type=function(b){var c=a.type.s.call(b).match(/^\[object\s(.*)\]$/)[1].toLowerCase();return c!="object"?c:b&&b.$$family?b.$$family:b&&b.nodeName&&b.nodeType==1?"element":c},a.type.s=Object.prototype.toString,a.each=function(b,c){var d=a.type(b);if(d=="object")for(var e in b)c(b[e],e);else for(var f=0,g=b.length;f<g;f++)c(b[f],f)},a.indexOf=function(a,b){if(Array.indexOf)return a.indexOf(b);for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},a.map=function(b,c){var d=[];return a.each(b,function(a,b){d.push(c(a,b))}),d},a.reduce=function(a,b,c){var d=a.length;if(d==0)return c;var e=arguments.length==3?c:a[--d];while(d--)e=b(e,a[d]);return e},a.merge=function(){var b={};for(var c=0,d=arguments.length;c<d;c++){var e=arguments[c];if(a.type(e)!="object")continue;for(var f in e){var g=e[f],h=b[f];b[f]=h&&a.type(g)=="object"&&a.type(h)=="object"?a.merge(h,g):a.unlink(g)}}return b},a.unlink=function(b){var c;switch(a.type(b)){case"object":c={};for(var d in b)c[d]=a.unlink(b[d]);break;case"array":c=[];for(var e=0,f=b.length;e<f;e++)c[e]=a.unlink(b[e]);break;default:return b}return c},a.zip=function(){if(arguments.length===0)return[];for(var a=0,b=[],c=arguments.length,d=arguments[0].length;a<d;a++){for(var e=0,f=[];e<c;e++)f.push(arguments[e][a]);b.push(f)}return b},a.rgbToHex=function(a,b){if(a.length<3)return null;if(a.length==4&&a[3]==0&&!b)return"transparent";var c=[];for(var d=0;d<3;d++){var e=(a[d]-0).toString(16);c.push(e.length==1?"0"+e:e)}return b?c:"#"+c.join("")},a.hexToRgb=function(a){if(a.length!=7){a=a.match(/^#?(\w{1,2})(\w{1,2})(\w{1,2})$/),a.shift();if(a.length!=3)return null;var b=[];for(var c=0;c<3;c++){var d=a[c];d.length==1&&(d+=d),b.push(parseInt(d,16))}return b}return a=parseInt(a.slice(1),16),[a>>16,a>>8&255,a&255]},a.destroy=function(b){a.clean(b),b.parentNode&&b.parentNode.removeChild(b),b.clearAttributes&&b.clearAttributes()},a.clean=function(b){for(var c=b.childNodes,d=0,e=c.length;d<e;d++)a.destroy(c[d])},a.addEvent=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,c)},a.addEvents=function(b,c){for(var d in c)a.addEvent(b,d,c[d])},a.hasClass=function(a,b){return(" "+a.className+" ").indexOf(" "+b+" ")>-1},a.addClass=function(b,c){a.hasClass(b,c)||(b.className=b.className+" "+c)},a.removeClass=function(a,b){a.className=a.className.replace(new RegExp("(^|\\s)"+b+"(?:\\s|$)"),"$1")},a.getPos=function(a){function d(a){var b={x:0,y:0};while(a&&!f(a))b.x+=a.offsetLeft,b.y+=a.offsetTop,a=a.offsetParent;return b}function e(a){var b={x:0,y:0};while(a&&!f(a))b.x+=a.scrollLeft,b.y+=a.scrollTop,a=a.parentNode;return b}function f(a){return/^(?:body|html)$/i.test(a.tagName)}var b=d(a),c=e(a);return{x:b.x-c.x,y:b.y-c.y}},a.event={get:function(a,b){return b=b||window,a||b.event},getWheel:function(a){return a.wheelDelta?a.wheelDelta/120:-(a.detail||0)/3},isRightClick:function(a){return a.which==3||a.button==2},getPos:function(a,b){b=b||window,a=a||b.event;var c=b.document;c=c.documentElement||c.body,a.touches&&a.touches.length&&(a=a.touches[0]);var d={x:a.pageX||a.clientX+c.scrollLeft,y:a.pageY||a.clientY+c.scrollTop};return d},stop:function(a){a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0,a.preventDefault?a.preventDefault():a.returnValue=!1}},$jit.util=$jit.id=a;var b=function(c){c=c||{};var d=function(){for(var c in this)typeof this[c]!="function"&&(this[c]=a.unlink(this[c]));this.constructor=d;if(b.prototyping)return this;var e=this.initialize?this.initialize.apply(this,arguments):this;return this.$$family="class",e};for(var e in b.Mutators){if(!c[e])continue;c=b.Mutators[e](c,c[e]),delete c[e]}return a.extend(d,this),d.constructor=b,d.prototype=c,d};b.Mutators={Implements:function(c,d){return a.each(a.splat(d),function(a){b.prototyping=a;var d=typeof a=="function"?new a:a;for(var e in d)e in c||(c[e]=d[e]);delete b.prototyping}),c}},a.extend(b,{inherit:function(c,d){for(var e in d){var f=d[e],g=c[e],h=a.type(f);g&&h=="function"?f!=g&&b.override(c,e,f):h=="object"?c[e]=a.merge(g,f):c[e]=f}return c},override:function(a,c,d){var e=b.prototyping;e&&a[c]!=e[c]&&(e=null);var f=function(){var b=this.parent;this.parent=e?e[c]:a[c];var f=d.apply(this,arguments);return this.parent=b,f};a[c]=f}}),b.prototype.implement=function(){var c=this.prototype;return a.each(Array.prototype.slice.call(arguments||[]),function(a){b.inherit(c,a)}),this},$jit.Class=b,$jit.json={prune:function(a,b){this.each(a,function(a,c){c==b&&a.children&&(delete a.children,a.children=[])})},getParent:function(a,b){if(a.id==b)return!1;var c=a.children;if(c&&c.length>0)for(var d=0;d<c.length;d++){if(c[d].id==b)return a;var e=this.getParent(c[d],b);if(e)return e}return!1},getSubtree:function(a,b){if(a.id==b)return a;for(var c=0,d=a.children;d&&c<d.length;c++){var e=this.getSubtree(d[c],b);if(e!=null)return e}return null},eachLevel:function(a,b,c,d){if(b<=c){d(a,b);if(!a.children)return;for(var e=0,f=a.children;e<f.length;e++)this.eachLevel(f[e],b+1,c,d)}},each:function(a,b){this.eachLevel(a,0,Number.MAX_VALUE,b)}},$jit.Trans={$extend:!0,linear:function(a){return a}};var c=$jit.Trans;(function(){var b=function(b,c){return c=a.splat(c),a.extend(b,{easeIn:function(a){return b(a,c)},easeOut:function(a){return 1-b(1-a,c)},easeInOut:function(a){return a<=.5?b(2*a,c)/2:(2-b(2*(1-a),c))/2}})},d={Pow:function(a,b){return Math.pow(a,b[0]||6)},Expo:function(a){return Math.pow(2,8*(a-1))},Circ:function(a){return 1-Math.sin(Math.acos(a))},Sine:function(a){return 1-Math.sin((1-a)*Math.PI/2)},Back:function(a,b){return b=b[0]||1.618,Math.pow(a,2)*((b+1)*a-b)},Bounce:function(a){var b;for(var c=0,d=1;1;c+=d,d/=2)if(a>=(7-4*c)/11){b=d*d-Math.pow((11-6*c-11*a)/4,2);break}return b},Elastic:function(a,b){return Math.pow(2,10*--a)*Math.cos(20*a*Math.PI*(b[0]||1)/3)}};a.each(d,function(a,d){c[d]=b(a)}),a.each(["Quad","Cubic","Quart","Quint"],function(a,d){c[a]=b(function(a){return Math.pow(a,[d+2])})})})();var d=new b({initialize:function(a){this.setOptions(a)},setOptions:function(b){var d={duration:2500,fps:40,transition:c.Quart.easeInOut,compute:a.empty,complete:a.empty,link:"ignore"};return this.opt=a.merge(d,b||{}),this},step:function(){var b=a.time(),c=this.opt;if(b<this.time+c.duration){var d=c.transition((b-this.time)/c.duration);c.compute(d)}else this.timer=clearInterval(this.timer),c.compute(1),c.complete()},start:function(){return this.check()?(this.time=0,this.startTimer(),this):this},startTimer:function(){var b=this,c=this.opt.fps;return this.timer?!1:(this.time=a.time()-this.time,this.timer=setInterval(function(){b.step()},Math.round(1e3/c)),!0)},pause:function(){return this.stopTimer(),this},resume:function(){return this.startTimer(),this},stopTimer:function(){return this.timer?(this.time=a.time()-this.time,this.timer=clearInterval(this.timer),!0):!1},check:function(){return this.timer?this.opt.link=="cancel"?(this.stopTimer(),!0):!1:!0}}),e=function(){var b=arguments;for(var c=0,d=b.length,f={};c<d;c++){var g=e[b[c]];g.$extend?a.extend(f,g):f[b[c]]=g}return f};e.AreaChart={$extend:!0,animate:!0,labelOffset:3,type:"stacked",Tips:{enable:!1,onShow:a.empty,onHide:a.empty},Events:{enable:!1,onClick:a.empty},selectOnHover:!0,showAggregates:!0,showLabels:!0,filterOnClick:!1,restoreOnRightClick:!1},e.Margin={$extend:!1,top:0,left:0,right:0,bottom:0},e.Canvas={$extend:!0,injectInto:"id",type:"2D",width:!1,height:!1,useCanvas:!1,withLabels:!0,background:!1,Scene:{Lighting:{enable:!1,ambient:[1,1,1],directional:{direction:{x:-100,y:-100,z:-100},color:[.5,.3,.1]}}}},e.Tree={$extend:!0,orientation:"left",subtreeOffset:8,siblingOffset:5,indent:10,multitree:!1,align:"center"},e.Node={$extend:!1,overridable:!1,type:"circle",color:"#ccb",alpha:1,dim:3,height:20,width:90,autoHeight:!1,autoWidth:!1,lineWidth:1,transform:!0,align:"center",angularWidth:1,span:1,CanvasStyles:{}},e.Edge={$extend:!1,overridable:!1,type:"line",color:"#ccb",lineWidth:1,dim:15,alpha:1,epsilon:7,CanvasStyles:{}},e.Fx={$extend:!0,fps:40,duration:2500,transition:$jit.Trans.Quart.easeInOut,clearCanvas:!0},e.Label={$extend:!1,overridable:!1,type:"HTML",style:" ",size:10,family:"sans-serif",textAlign:"center",textBaseline:"alphabetic",color:"#fff"},e.Tips={$extend:!1,enable:!1,type:"auto",offsetX:20,offsetY:20,force:!1,onShow:a.empty,onHide:a.empty},e.NodeStyles={$extend:!1,enable:!1,type:"auto",stylesHover:!1,stylesClick:!1},e.Events={$extend:!1,enable:!1,enableForEdges:!1,type:"auto",onClick:a.empty,onRightClick:a.empty,onMouseMove:a.empty,onMouseEnter:a.empty,onMouseLeave:a.empty,onDragStart:a.empty,onDragMove:a.empty,onDragCancel:a.empty,onDragEnd:a.empty,onTouchStart:a.empty,onTouchMove:a.empty,onTouchEnd:a.empty,onMouseWheel:a.empty},e.Navigation={$extend:!1,enable:!1,type:"auto",panning:!1,zooming:!1},e.Controller={$extend:!0,onBeforeCompute:a.empty,onAfterCompute:a.empty,onCreateLabel:a.empty,onPlaceLabel:a.empty,onComplete:a.empty,onBeforePlotLine:a.empty,onAfterPlotLine:a.empty,onBeforePlotNode:a.empty,onAfterPlotNode:a.empty,request:!1};var f={initialize:function(a,b){this.viz=b,this.canvas=b.canvas,this.config=b.config[a],this.nodeTypes=b.fx.nodeTypes;var c=this.config.type;this.dom=c=="auto"?b.config.Label.type!="Native":c!="Native",this.labelContainer=this.dom&&b.labels.getLabelContainer(),this.isEnabled()&&this.initializePost()},initializePost:a.empty,setAsProperty:a.lambda(!1),isEnabled:function(){return this.config.enable},isLabel:function(b,c,d){b=a.event.get(b,c);var e=this.labelContainer,f=b.target||b.srcElement,g=b.relatedTarget;return d?g&&g==this.viz.canvas.getCtx().canvas&&!!f&&this.isDescendantOf(f,e):this.isDescendantOf(f,e)},isDescendantOf:function(a,b){while(a&&a.parentNode){if(a.parentNode==b)return a;a=a.parentNode}return!1}},g={onMouseUp:a.empty,onMouseDown:a.empty,onMouseMove:a.empty,onMouseOver:a.empty,onMouseOut:a.empty,onMouseWheel:a.empty,onTouchStart:a.empty,onTouchMove:a.empty,onTouchEnd:a.empty,onTouchCancel:a.empty},h=new b({initialize:function(a){this.viz=a,this.canvas=a.canvas,this.node=!1,this.edge=!1,this.registeredObjects=[],this.attachEvents()},attachEvents:function(){var b=this.canvas.getElement(),c=this;b.oncontextmenu=a.lambda(!1),a.addEvents(b,{mouseup:function(b,d){var e=a.event.get(b,d);c.handleEvent("MouseUp",b,d,c.makeEventObject(b,d),a.event.isRightClick(e))},mousedown:function(b,d){var e=a.event.get(b,d);c.handleEvent("MouseDown",b,d,c.makeEventObject(b,d),a.event.isRightClick(e))},mousemove:function(a,b){c.handleEvent("MouseMove",a,b,c.makeEventObject(a,b))},mouseover:function(a,b){c.handleEvent("MouseOver",a,b,c.makeEventObject(a,b))},mouseout:function(a,b){c.handleEvent("MouseOut",a,b,c.makeEventObject(a,b))},touchstart:function(a,b){c.handleEvent("TouchStart",a,b,c.makeEventObject(a,b))},touchmove:function(a,b){c.handleEvent("TouchMove",a,b,c.makeEventObject(a,b))},touchend:function(a,b){c.handleEvent("TouchEnd",a,b,c.makeEventObject(a,b))}});var d=function(b,d){var e=a.event.get(b,d),f=a.event.getWheel(e);c.handleEvent("MouseWheel",b,d,f)};!document.getBoxObjectFor&&window.mozInnerScreenX==null?a.addEvent(b,"mousewheel",d):b.addEventListener("DOMMouseScroll",d,!1)},register:function(a){this.registeredObjects.push(a)},handleEvent:function(){var a=Array.prototype.slice.call(arguments),b=a.shift();for(var c=0,d=this.registeredObjects,e=d.length;c<e;c++)d[c]["on"+b].apply(d[c],a)},makeEventObject:function(b,c){var d=this,e=this.viz.graph,f=this.viz.fx,g=f.nodeTypes,h=f.edgeTypes;return{pos:!1,node:!1,edge:!1,contains:!1,getNodeCalled:!1,getEdgeCalled:!1,getPos:function(){var e=d.viz.canvas,f=e.getSize(),g=e.getPos(),h=e.translateOffsetX,i=e.translateOffsetY,j=e.scaleOffsetX,k=e.scaleOffsetY,l=a.event.getPos(b,c);return this.pos={x:(l.x-g.x-f.width/2-h)*1/j,y:(l.y-g.y-f.height/2-i)*1/k},this.pos},getNode:function(){if(this.getNodeCalled)return this.node;this.getNodeCalled=!0;for(var a in e.nodes){var b=e.nodes[a],c=b&&g[b.getData("type")],h=c&&c.contains&&c.contains.call(f,b,this.getPos());if(h)return this.contains=h,d.node=this.node=b}return d.node=this.node=!1},getEdge:function(){if(this.getEdgeCalled)return this.edge;this.getEdgeCalled=!0;var a={};for(var b in e.edges){var c=e.edges[b];a[b]=!0;for(var g in c){if(g in a)continue;var i=c[g],j=i&&h[i.getData("type")],k=j&&j.contains&&j.contains.call(f,i,this.getPos());if(k)return this.contains=k,d.edge=this.edge=i}}return d.edge=this.edge=!1},getContains:function(){return this.getNodeCalled?this.contains:(this.getNode(),this.contains)}}}}),i={initializeExtras:function(){var b=new h(this),c=this;a.each(["NodeStyles","Tips","Navigation","Events"],function(a){var d=new i.Classes[a](a,c);d.isEnabled()&&b.register(d),d.setAsProperty()&&(c[a.toLowerCase()]=d)})}};i.Classes={},i.Classes.Events=new b({Implements:[f,g],initializePost:function(){this.fx=this.viz.fx,this.ntypes=this.viz.fx.nodeTypes,this.etypes=this.viz.fx.edgeTypes,this.hovered=!1,this.pressed=!1,this.touched=!1,this.touchMoved=!1,this.moved=!1},setAsProperty:a.lambda(!0),onMouseUp:function(b,c,d,e){var f=a.event.get(b,c);this.moved||(e?this.config.onRightClick(this.hovered,d,f):this.config.onClick(this.pressed,d,f)),this.pressed&&(this.moved?this.config.onDragEnd(this.pressed,d,f):this.config.onDragCancel(this.pressed,d,f),this.pressed=this.moved=!1)},onMouseOut:function(b,c,d){var e=a.event.get(b,c),f;if(this.dom&&(f=this.isLabel(b,c,!0))){this.config.onMouseLeave(this.viz.graph.getNode(f.id),d,e),this.hovered=!1;return}var g=e.relatedTarget,h=this.canvas.getElement();while(g&&g.parentNode){if(h==g.parentNode)return;g=g.parentNode}this.hovered&&(this.config.onMouseLeave(this.hovered,d,e),this.hovered=!1)},onMouseOver:function(b,c,d){var e=a.event.get(b,c),f;this.dom&&(f=this.isLabel(b,c,!0))&&(this.hovered=this.viz.graph.getNode(f.id),this.config.onMouseEnter(this.hovered,d,e))},onMouseMove:function(b,c,d){var e,f=a.event.get(b,c);if(this.pressed){this.moved=!0,this.config.onDragMove(this.pressed,d,f);return}if(this.dom)this.config.onMouseMove(this.hovered,d,f);else{if(this.hovered){var g=this.hovered,h=g.nodeFrom?this.etypes[g.getData("type")]:this.ntypes[g.getData("type")],i=h&&h.contains&&h.contains.call(this.fx,g,d.getPos());if(i){this.config.onMouseMove(g,d,f);return}this.config.onMouseLeave(g,d,f),this.hovered=!1}(this.hovered=d.getNode()||this.config.enableForEdges&&d.getEdge())?this.config.onMouseEnter(this.hovered,d,f):this.config.onMouseMove(!1,d,f)}},onMouseWheel:function(b,c,d){this.config.onMouseWheel(d,a.event.get(b,c))},onMouseDown:function(b,c,d){var e=a.event.get(b,c),f;if(this.dom){if(f=this.isLabel(b,c))this.pressed=this.viz.graph.getNode(f.id)}else this.pressed=d.getNode()||this.config.enableForEdges&&d.getEdge();this.pressed&&this.config.onDragStart(this.pressed,d,e)},onTouchStart:function(b,c,d){var e=a.event.get(b,c),f;this.dom&&(f=this.isLabel(b,c))?this.touched=this.viz.graph.getNode(f.id):this.touched=d.getNode()||this.config.enableForEdges&&d.getEdge(),this.touched&&this.config.onTouchStart(this.touched,d,e)},onTouchMove:function(b,c,d){var e=a.event.get(b,c);this.touched&&(this.touchMoved=!0,this.config.onTouchMove(this.touched,d,e))},onTouchEnd:function(b,c,d){var e=a.event.get(b,c);this.touched&&(this.touchMoved?this.config.onTouchEnd(this.touched,d,e):this.config.onTouchCancel(this.touched,d,e),this.touched=this.touchMoved=!1)}}),i.Classes.Tips=new b({Implements:[f,g],initializePost:function(){if(document.body){var b=a("_tooltip")||document.createElement("div");b.id="_tooltip",b.className="tip",a.extend(b.style,{position:"absolute",display:"none",zIndex:13e3}),document.body.appendChild(b),this.tip=b,this.node=!1}},setAsProperty:a.lambda(!0),onMouseOut:function(b,c){var d=a.event.get(b,c);if(this.dom&&this.isLabel(b,c,!0)){this.hide(!0);return}var e=b.relatedTarget,f=this.canvas.getElement();while(e&&e.parentNode){if(f==e.parentNode)return;e=e.parentNode}this.hide(!1)},onMouseOver:function(a,b){var c;this.dom&&(c=this.isLabel(a,b,!1))&&(this.node=this.viz.graph.getNode(c.id),this.config.onShow(this.tip,this.node,c))},onMouseMove:function(b,c,d){this.dom&&this.isLabel(b,c)&&this.setTooltipPosition(a.event.getPos(b,c));if(!this.dom){var e=d.getNode();if(!e){this.hide(!0);return}if(this.config.force||!this.node||this.node.id!=e.id)this.node=e,this.config.onShow(this.tip,e,d.getContains());this.setTooltipPosition(a.event.getPos(b,c))}},setTooltipPosition:function(a){var b=this.tip,c=b.style,d=this.config;c.display="";var e={height:document.body.clientHeight,width:document.body.clientWidth},f={width:b.offsetWidth,height:b.offsetHeight},g=d.offsetX,h=d.offsetY;c.top=(a.y+h+f.height>e.height?a.y-f.height-h:a.y+h)+"px",c.left=(a.x+f.width+g>e.width?a.x-f.width-g:a.x+g)+"px"},hide:function(a){this.tip.style.display="none",a&&this.config.onHide()}}),i.Classes.NodeStyles=new b({Implements:[f,g],initializePost:function(){this.fx=this.viz.fx,this.types=this.viz.fx.nodeTypes,this.nStyles=this.config,this.nodeStylesOnHover=this.nStyles.stylesHover,this.nodeStylesOnClick=this.nStyles.stylesClick,this.hoveredNode=!1,this.fx.nodeFxAnimation=new d,this.down=!1,this.move=!1},onMouseOut:function(a,b){this.down=this.move=!1;if(!this.hoveredNode)return;this.dom&&this.isLabel(a,b,!0)&&this.toggleStylesOnHover(this.hoveredNode,!1);var c=a.relatedTarget,d=this.canvas.getElement();while(c&&c.parentNode){if(d==c.parentNode)return;c=c.parentNode}this.toggleStylesOnHover(this.hoveredNode,!1),this.hoveredNode=!1},onMouseOver:function(a,b){var c;if(this.dom&&(c=this.isLabel(a,b,!0))){var d=this.viz.graph.getNode(c.id);if(d.selected)return;this.hoveredNode=d,this.toggleStylesOnHover(this.hoveredNode,!0)}},onMouseDown:function(a,b,c,d){if(d)return;var e;this.dom&&(e=this.isLabel(a,b))?this.down=this.viz.graph.getNode(e.id):this.dom||(this.down=c.getNode()),this.move=!1},onMouseUp:function(a,b,c,d){if(d)return;this.move||this.onClick(c.getNode()),this.down=this.move=!1},getRestoredStyles:function(a,b){var c={},d=this["nodeStylesOn"+b];for(var e in d)c[e]=a.styles["$"+e];return c},toggleStylesOnHover:function(a,b){this.nodeStylesOnHover&&this.toggleStylesOn("Hover",a,b)},toggleStylesOnClick:function(a,b){this.nodeStylesOnClick&&this.toggleStylesOn("Click",a,b)},toggleStylesOn:function(b,d,e){var f=this.viz,g=this.nStyles;if(e){var h=this;d.styles||(d.styles=a.merge(d.data,{}));for(var i in this["nodeStylesOn"+b]){var j="$"+i;j in d.styles||(d.styles[j]=d.getData(i))}f.fx.nodeFx(a.extend({elements:{id:d.id,properties:h["nodeStylesOn"+b]},transition:c.Quart.easeOut,duration:300,fps:40},this.config))}else{var k=this.getRestoredStyles(d,b);f.fx.nodeFx(a.extend({elements:{id:d.id,properties:k},transition:c.Quart.easeOut,duration:300,fps:40},this.config))}},onClick:function(a){if(!a)return;var b=this.nodeStylesOnClick;if(!b)return;a.selected?(this.toggleStylesOnClick(a,!1),delete a.selected):(this.viz.graph.eachNode(function(a){if(a.selected){for(var c in b)a.setData(c,a.styles["$"+c],"end");delete a.selected}}),this.toggleStylesOnClick(a,!0),a.selected=!0,delete a.hovered,this.hoveredNode=!1)},onMouseMove:function(a,b,c){this.down&&(this.move=!0);if(this.dom&&this.isLabel(a,b))return;var d=this.nodeStylesOnHover;if(!d)return;if(!this.dom){if(this.hoveredNode){var e=this.types[this.hoveredNode.getData("type")],f=e&&e.contains&&e.contains.call(this.fx,this.hoveredNode,c.getPos());if(f)return}var g=c.getNode();if(!this.hoveredNode&&!g)return;if(g.hovered)return;g&&!g.selected?(this.fx.nodeFxAnimation.stopTimer(),this.viz.graph.eachNode(function(a){if(a.hovered&&!a.selected){for(var b in d)a.setData(b,a.styles["$"+b],"end");delete a.hovered}}),g.hovered=!0,this.hoveredNode=g,this.toggleStylesOnHover(g,!0)):this.hoveredNode&&!this.hoveredNode.selected&&(this.fx.nodeFxAnimation.stopTimer(),this.toggleStylesOnHover(this.hoveredNode,!1),delete this.hoveredNode.hovered,this.hoveredNode=!1)}}}),i.Classes.Navigation=new b({Implements:[f,g],initializePost:function(){this.pos=!1,this.pressed=!1},onMouseWheel:function(b,c,d){if(!this.config.zooming)return;a.event.stop(a.event.get(b,c));var e=this.config.zooming/1e3,f=1+d*e;this.canvas.scale(f,f)},onMouseDown:function(a,b,c){if(!this.config.panning)return;if(this.config.panning=="avoid nodes"&&(this.dom?this.isLabel(a,b):c.getNode()))return;this.pressed=!0,this.pos=c.getPos();var d=this.canvas,e=d.translateOffsetX,f=d.translateOffsetY,g=d.scaleOffsetX,h=d.scaleOffsetY;this.pos.x*=g,this.pos.x+=e,this.pos.y*=h,this.pos.y+=f},onMouseMove:function(a,b,c){if(!this.config.panning)return;if(!this.pressed)return;if(this.config.panning=="avoid nodes"&&(this.dom?this.isLabel(a,b):c.getNode()))return;var d=this.pos,e=c.getPos(),f=this.canvas,g=f.translateOffsetX,h=f.translateOffsetY,i=f.scaleOffsetX,j=f.scaleOffsetY;e.x*=i,e.y*=j,e.x+=g,e.y+=h;var k=e.x-d.x,l=e.y-d.y;this.pos=e,this.canvas.translate(k*1/i,l*1/j)},onMouseUp:function(a,b,c,d){if(!this.config.panning)return;this.pressed=!1}});var j;(function(){function e(b,c){var e=document.createElement(b);for(var f in c)typeof c[f]=="object"?a.extend(e[f],c[f]):e[f]=c[f];return b=="canvas"&&!d&&G_vmlCanvasManager&&(e=G_vmlCanvasManager.initElement(document.body.appendChild(e))),e}var c=typeof HTMLCanvasElement,d=c=="object"||c=="function";$jit.Canvas=j=new b({canvases:[],pos:!1,element:!1,labelContainer:!1,translateOffsetX:0,translateOffsetY:0,scaleOffsetX:1,scaleOffsetY:1,initialize:function(b,c){this.viz=b,this.opt=this.config=c;var d=a.type(c.injectInto)=="string"?c.injectInto:c.injectInto.id,f=c.type,g=d+"-label",h=a(d),i=c.width||h.offsetWidth,k=c.height||h.offsetHeight;this.id=d;var l={injectInto:d,width:i,height:k};this.element=e("div",{id:d+"-canvaswidget",style:{position:"relative",width:i+"px",height:k+"px"}}),this.labelContainer=this.createLabelContainer(c.Label.type,g,l),this.canvases.push(new j.Base[f]({config:a.extend({idSuffix:"-canvas"},l),plot:function(a){b.fx.plot()},resize:function(){b.refresh()}}));var m=c.background;if(m){var n=new j.Background[m.type](b,a.extend(m,l));this.canvases.push(new j.Base[f](n))}var o=this.canvases.length;while(o--)this.element.appendChild(this.canvases[o].canvas),o>0&&this.canvases[o].plot();this.element.appendChild(this.labelContainer),h.appendChild(this.element);var p=null,q=this;a.addEvent(window,"scroll",function(){clearTimeout(p),p=setTimeout(function(){q.getPos(!0)},500)})},getCtx:function(a){return this.canvases[a||0].getCtx()},getConfig:function(){return this.opt},getElement:function(){return this.element},getSize:function(a){return this.canvases[a||0].getSize()},resize:function(a,b){this.getPos(!0),this.translateOffsetX=this.translateOffsetY=0,this.scaleOffsetX=this.scaleOffsetY=1;for(var c=0,d=this.canvases.length;c<d;c++)this.canvases[c].resize(a,b);var e=this.element.style;e.width=a+"px",e.height=b+"px",this.labelContainer&&(this.labelContainer.style.width=a+"px")},translate:function(a,b,c){this.translateOffsetX+=a*this.scaleOffsetX,this.translateOffsetY+=b*this.scaleOffsetY;for(var d=0,e=this.canvases.length;d<e;d++)this.canvases[d].translate(a,b,c)},scale:function(a,b,c){var d=this.scaleOffsetX*a,e=this.scaleOffsetY*b,f=this.translateOffsetX*(a-1)/d,g=this.translateOffsetY*(b-1)/e;this.scaleOffsetX=d,this.scaleOffsetY=e;for(var h=0,i=this.canvases.length;h<i;h++)this.canvases[h].scale(a,b,!0);this.translate(f,g,!1)},getPos:function(b){return b||!this.pos?this.pos=a.getPos(this.getElement()):this.pos},clear:function(a){this.canvases[a||0].clear()},path:function(a,b){var c=this.canvases[0].getCtx();c.beginPath(),b(c),c[a](),c.closePath()},createLabelContainer:function(a,b,c){var d="http://www.w3.org/2000/svg";if(a=="HTML"||a=="Native")return e("div",{id:b,style:{overflow:"visible",position:"absolute",top:0,left:0,width:c.width+"px",height:0}});if(a=="SVG"){var f=document.createElementNS(d,"svg:svg");f.setAttribute("width",c.width),f.setAttribute("height",c.height);var g=f.style;g.position="absolute",g.left=g.top="0px";var h=document.createElementNS(d,"svg:g");return h.setAttribute("width",c.width),h.setAttribute("height",c.height),h.setAttribute("x",0),h.setAttribute("y",0),h.setAttribute("id",b),f.appendChild(h),f}}}),j.Base={},j.Base["2D"]=new b({translateOffsetX:0,translateOffsetY:0,scaleOffsetX:1,scaleOffsetY:1,initialize:function(a){this.viz=a,this.opt=a.config,this.size=!1,this.createCanvas(),this.translateToCenter()},createCanvas:function(){var a=this.opt,b=a.width,c=a.height;this.canvas=e("canvas",{id:a.injectInto+a.idSuffix,width:b,height:c,style:{position:"absolute",top:0,left:0,width:b+"px",height:c+"px"}})},getCtx:function(){return this.ctx?this.ctx:this.ctx=this.canvas.getContext("2d")},getSize:function(){if(this.size)return this.size;var a=this.canvas;return this.size={width:a.width,height:a.height}},translateToCenter:function(a){var b=this.getSize(),c=a?b.width-a.width-this.translateOffsetX*2:b.width;height=a?b.height-a.height-this.translateOffsetY*2:b.height;var d=this.getCtx();a&&d.scale(1/this.scaleOffsetX,1/this.scaleOffsetY),d.translate(c/2,height/2)},resize:function(a,b){var c=this.getSize(),e=this.canvas,f=e.style;this.size=!1,e.width=a,e.height=b,f.width=a+"px",f.height=b+"px",d?this.translateToCenter():this.translateToCenter(c),this.translateOffsetX=this.translateOffsetY=0,this.scaleOffsetX=this.scaleOffsetY=1,this.clear(),this.viz.resize(a,b,this)},translate:function(a,b,c){var d=this.scaleOffsetX,e=this.scaleOffsetY;this.translateOffsetX+=a*d,this.translateOffsetY+=b*e,this.getCtx().translate(a,b),!c&&this.plot()},scale:function(a,b,c){this.scaleOffsetX*=a,this.scaleOffsetY*=b,this.getCtx().scale(a,b),!c&&this.plot()},clear:function(){var a=this.getSize(),b=this.translateOffsetX,c=this.translateOffsetY,d=this.scaleOffsetX,e=this.scaleOffsetY;this.getCtx().clearRect((-a.width/2-b)*1/d,(-a.height/2-c)*1/e,a.width*1/d,a.height*1/e)},plot:function(){this.clear(),this.viz.plot(this)}}),j.Background={},j.Background.Circles=new b({initialize:function(b,c){this.viz=b,this.config=a.merge({idSuffix:"-bkcanvas",levelDistance:100,numberOfCircles:6,CanvasStyles:{},offset:0},c)},resize:function(a,b,c){this.plot(c)},plot:function(a){var b=a.canvas,c=a.getCtx(),d=this.config,e=d.CanvasStyles;for(var f in e)c[f]=e[f];var g=d.numberOfCircles,h=d.levelDistance;for(var i=1;i<=g;i++)c.beginPath(),c.arc(0,0,h*i,0,2*Math.PI,!1),c.stroke(),c.closePath()}})})();var k=function(a,b){this.theta=a||0,this.rho=b||0};$jit.Polar=k,k.prototype={getc:function(a){return this.toComplex(a)},getp:function(){return this},set:function(a){a=a.getp(),this.theta=a.theta,this.rho=a.rho},setc:function(a,b){this.rho=Math.sqrt(a*a+b*b),this.theta=Math.atan2(b,a),this.theta<0&&(this.theta+=Math.PI*2)},setp:function(a,b){this.theta=a,this.rho=b},clone:function(){return new k(this.theta,this.rho)},toComplex:function(a){var b=Math.cos(this.theta)*this.rho,c=Math.sin(this.theta)*this.rho;return a?{x:b,y:c}:new m(b,c)},add:function(a){return new k(this.theta+a.theta,this.rho+a.rho)},scale:function(a){return new k(this.theta,this.rho*a)},equals:function(a){return this.theta==a.theta&&this.rho==a.rho},$add:function(a){return this.theta=this.theta+a.theta,this.rho+=a.rho,this},$madd:function(a){return this.theta=(this.theta+a.theta)%(Math.PI*2),this.rho+=a.rho,this},$scale:function(a){return this.rho*=a,this},isZero:function(){var a=1e-4,b=Math.abs;return b(this.theta)<a&&b(this.rho)<a},interpolate:function(a,b){var c=Math.PI,d=c*2,e=function(a){var b=a<0?a%d+d:a%d;return b},f=this.theta,g=a.theta,h,i=Math.abs(f-g);i==c?f>g?h=e(g+(f-d-g)*b):h=e(g-d+(f-g)*b):i>=c?f>g?h=e(g+(f-d-g)*b):h=e(g-d+(f-(g-d))*b):h=e(g+(f-g)*b);var j=(this.rho-a.rho)*b+a.rho;return{theta:h,rho:j}}};var l=function(a,b){return new k(a,b)};k.KER=l(0,0);var m=function(a,b){this.x=a||0,this.y=b||0};$jit.Complex=m,m.prototype={getc:function(){return this},getp:function(a){return this.toPolar(a)},set:function(a){a=a.getc(!0),this.x=a.x,this.y=a.y},setc:function(a,b){this.x=a,this.y=b},setp:function(a,b){this.x=Math.cos(a)*b,this.y=Math.sin(a)*b},clone:function(){return new m(this.x,this.y)},toPolar:function(a){var b=this.norm(),c=Math.atan2(this.y,this.x);return c<0&&(c+=Math.PI*2),a?{theta:c,rho:b}:new k(c,b)},norm:function(){return Math.sqrt(this.squaredNorm())},squaredNorm:function(){return this.x*this.x+this.y*this.y},add:function(a){return new m(this.x+a.x,this.y+a.y)},prod:function(a){return new m(this.x*a.x-this.y*a.y,this.y*a.x+this.x*a.y)},conjugate:function(){return new m(this.x,-this.y)},scale:function(a){return new m(this.x*a,this.y*a)},equals:function(a){return this.x==a.x&&this.y==a.y},$add:function(a){return this.x+=a.x,this.y+=a.y,this},$prod:function(a){var b=this.x,c=this.y;return this.x=b*a.x-c*a.y,this.y=c*a.x+b*a.y,this},$conjugate:function(){return this.y=-this.y,this},$scale:function(a){return this.x*=a,this.y*=a,this},$div:function(a){var b=this.x,c=this.y,d=a.squaredNorm();return this.x=b*a.x+c*a.y,this.y=c*a.x-b*a.y,this.$scale(1/d)},isZero:function(){var a=1e-4,b=Math.abs;return b(this.x)<a&&b(this.y)<a}};var n=function(a,b){return new m(a,b)};m.KER=n(0,0),$jit.Graph=new b({initialize:function(b,c,d,e){var f={klass:m,Node:{}};this.Node=c,this.Edge=d,this.Label=e,this.opt=a.merge(f,b||{}),this.nodes={},this.edges={};var g=this;this.nodeList={};for(var h in p)g.nodeList[h]=function(a){return function(){var b=Array.prototype.slice.call(arguments);g.eachNode(function(c){c[a].apply(c,b)})}}(h)},getNode:function(a){return this.hasNode(a)?this.nodes[a]:!1},get:function(a){return this.getNode(a)},getByName:function(a){for(var b in this.nodes){var c=this.nodes[b];if(c.name==a)return c}return!1},getAdjacence:function(a,b){return a in this.edges?this.edges[a][b]:!1},addNode:function(b){if(!this.nodes[b.id]){var c=this.edges[b.id]={};this.nodes[b.id]=new o.Node(a.extend({id:b.id,name:b.name,data:a.merge(b.data||{},{}),adjacencies:c},this.opt.Node),this.opt.klass,this.Node,this.Edge,this.Label)}return this.nodes[b.id]},addAdjacence:function(a,b,c){this.hasNode(a.id)||this.addNode(a),this.hasNode(b.id)||this.addNode(b),a=this.nodes[a.id],b=this.nodes[b.id];if(!a.adjacentTo(b)){var d=this.edges[a.id]=this.edges[a.id]||{},e=this.edges[b.id]=this.edges[b.id]||{};return d[b.id]=e[a.id]=new o.Adjacence(a,b,c,this.Edge,this.Label),d[b.id]}return this.edges[a.id][b.id]},removeNode:function(a){if(this.hasNode(a)){delete this.nodes[a];var b=this.edges[a];for(var c in b)delete this.edges[c][a];delete this.edges[a]}},removeAdjacence:function(a,b){delete this.edges[a][b],delete this.edges[b][a]},hasNode:function(a){return a in this.nodes},empty:function(){this.nodes={},this.edges={}}});var o=$jit.Graph,p;(function(){var b=function(a,b,c,d,e){var f;c=c||"current",a="$"+(a?a+"-":""),c=="current"?f=this.data:c=="start"?f=this.startData:c=="end"&&(f=this.endData);var g=a+b;return d?f[g]:this.Config.overridable?g in f?f[g]:g in this.data?this.data[g]:e[b]||0:e[b]||0},c=function(a,b,c,d){d=d||"current",a="$"+(a?a+"-":"");var e;d=="current"?e=this.data:d=="start"?e=this.startData:d=="end"&&(e=this.endData),e[a+b]=c},d=function(b,c){b="$"+(b?b+"-":"");var d=this;a.each(c,function(a){var c=b+a;delete d.data[c],delete d.endData[c],delete d.startData[c]})};p={getData:function(a,c,d){return b.call(this,"",a,c,d,this.Config)},setData:function(a,b,d){c.call(this,"",a,b,d)},setDataset:function(b,c){b=a.splat(b);for(var d in c)for(var e=0,f=a.splat(c[d]),g=b.length;e<g;e++)this.setData(d,f[e],b[e])},removeData:function(){d.call(this,"",Array.prototype.slice.call(arguments))},getCanvasStyle:function(a,c,d){return b.call(this,"canvas",a,c,d,this.Config.CanvasStyles)},setCanvasStyle:function(a,b,d){c.call(this,"canvas",a,b,d)},setCanvasStyles:function(b,c){b=a.splat(b);for(var d in c)for(var e=0,f=a.splat(c[d]),g=b.length;e<g;e++)this.setCanvasStyle(d,f[e],b[e])},removeCanvasStyle:function(){d.call(this,"canvas",Array.prototype.slice.call(arguments))},getLabelData:function(a,c,d){return b.call(this,"label",a,c,d,this.Label)},setLabelData:function(a,b,d){c.call(this,"label",a,b,d)},setLabelDataset:function(b,c){b=a.splat(b);for(var d in c)for(var e=0,f=a.splat(c[d]),g=b.length;e<g;e++)this.setLabelData(d,f[e],b[e])},removeLabelData:function(){d.call(this,"label",Array.prototype.slice.call(arguments))}}})(),o.Node=new b({initialize:function(b,c,d,e,f){var g={id:"",name:"",data:{},startData:{},endData:{},adjacencies:{},selected:!1,drawn:!1,exist:!1,angleSpan:{begin:0,end:0},pos:new c,startPos:new c,endPos:new c};a.extend(this,a.extend(g,b)),this.Config=this.Node=d,this.Edge=e,this.Label=f},adjacentTo:function(a){return a.id in this.adjacencies},getAdjacency:function(a){return this.adjacencies[a]},getPos:function(a){a=a||"current";if(a=="current")return this.pos;if(a=="end")return this.endPos;if(a=="start")return this.startPos},setPos:function(a,b){b=b||"current";var c;b=="current"?c=this.pos:b=="end"?c=this.endPos:b=="start"&&(c=this.startPos),c.set(a)}}),o.Node.implement(p),o.Adjacence=new b({initialize:function(a,b,c,d,e){this.nodeFrom=a,this.nodeTo=b,this.data=c||{},this.startData={},this.endData={},this.Config=this.Edge=d,this.Label=e}}),o.Adjacence.implement(p),o.Util={filter:function(b){if(!b||a.type(b)!="string")return function(){return!0};var c=b.split(" ");return function(a){for(var b=0;b<c.length;b++)if(a[c[b]])return!1;return!0}},getNode:function(a,b){return a.nodes[b]},eachNode:function(a,b,c){var d=this.filter(c);for(var e in a.nodes)d(a.nodes[e])&&b(a.nodes[e])},each:function(a,b,c){this.eachNode(a,b,c)},eachAdjacency:function(a,b,c){var d=a.adjacencies,e=this.filter(c);for(var f in d){var g=d[f];if(e(g)){if(g.nodeFrom!=a){var h=g.nodeFrom;g.nodeFrom=g.nodeTo,g.nodeTo=h}b(g,f)}}},computeLevels:function(a,b,c,d){c=c||0;var e=this.filter(d);this.eachNode(a,function(a){a._flag=!1,a._depth=-1},d);var f=a.getNode(b);f._depth=c;var g=[f];while(g.length!=0){var h=g.pop();h._flag=!0,this.eachAdjacency(h,function(a){var b=a.nodeTo;b._flag==0&&e(b)&&(b._depth<0&&(b._depth=h._depth+1+c),g.unshift(b))},d)}},eachBFS:function(a,b,c,d){var e=this.filter(d);this.clean(a);var f=[a.getNode(b)];while(f.length!=0){var g=f.pop();g._flag=!0,c(g,g._depth),this.eachAdjacency(g,function(a){var b=a.nodeTo;b._flag==0&&e(b)&&(b._flag=!0,f.unshift(b))},d)}},eachLevel:function(a,b,c,d,e){var f=a._depth,g=this.filter(e),h=this;c=c===!1?Number.MAX_VALUE-f:c,function i(a,b,c){var e=a._depth;e>=b&&e<=c&&g(a)&&d(a,e),e<c&&h.eachAdjacency(a,function(a){var d=a.nodeTo;d._depth>e&&i(d,b,c)})}(a,b+f,c+f)},eachSubgraph:function(a,b,c){this.eachLevel(a,0,!1,b,c)},eachSubnode:function(a,b,c){this.eachLevel(a,1,1,b,c)},anySubnode:function(b,c,d){var e=!1;c=c||a.lambda(!0);var f=a.type(c)=="string"?function(a){return a[c]}:c;return this.eachSubnode(b,function(a){f(a)&&(e=!0)},d),e},getSubnodes:function(b,c,d){var e=[],f=this;c=c||0;var g,h;return a.type(c)=="array"?(g=c[0],h=c[1]):(g=c,h=Number.MAX_VALUE-b._depth),this.eachLevel(b,g,h,function(a){e.push(a)},d),e},getParents:function(a){var b=[];return this.eachAdjacency(a,function(c){var d=c.nodeTo;d._depth<a._depth&&b.push(d)}),b},isDescendantOf:function(a,b){if(a.id==b)return!0;var c=this.getParents(a),d=!1;for(var e=0;!d&&e<c.length;e++)d=d||this.isDescendantOf(c[e],b);return d},clean:function(a){this.eachNode(a,function(a){a._flag=!1})},getClosestNodeToOrigin:function(a,b,c){return this.getClosestNodeToPos(a,k.KER,b,c)},getClosestNodeToPos:function(a,b,c,d){var e=null;c=c||"current",b=b&&b.getc(!0)||m.KER;var f=function(a,b){var c=a.x-b.x,d=a.y-b.y;return c*c+d*d};return this.eachNode(a,function(a){e=e==null||f(a.getPos(c).getc(!0),b)<f(e.getPos(c).getc(!0),b)?a:e},d),e}},a.each(["get","getNode","each","eachNode","computeLevels","eachBFS","clean","getClosestNodeToPos","getClosestNodeToOrigin"],function(a){o.prototype[a]=function(){return o.Util[a].apply(o.Util,[this].concat(Array.prototype.slice.call(arguments)))}}),a.each(["eachAdjacency","eachLevel","eachSubgraph","eachSubnode","anySubnode","getSubnodes","getParents","isDescendantOf"],function(a){o.Node.prototype[a]=function(){return o.Util[a].apply(o.Util,[this].concat(Array.prototype.slice.call(arguments)))}}),o.Op={options:{type:"nothing",duration:2e3,hideLabels:!0,fps:30},initialize:function(a){this.viz=a},removeNode:function(b,c){var d=this.viz,e=a.merge(this.options,d.controller,c),f=a.splat(b),g,h,i;switch(e.type){case"nothing":for(g=0;g<f.length;g++)d.graph.removeNode(f[g]);break;case"replot":this.removeNode(f,{type:"nothing"}),d.labels.clearLabels(),d.refresh(!0);break;case"fade:seq":case"fade":h=this;for(g=0;g<f.length;g++)i=d.graph.getNode(f[g]),i.setData("alpha",0,"end");d.fx.animate(a.merge(e,{modes:["node-property:alpha"],onComplete:function(){h.removeNode(f,{type:"nothing"}),d.labels.clearLabels(),d.reposition(),d.fx.animate(a.merge(e,{modes:["linear"]}))}}));break;case"fade:con":h=this;for(g=0;g<f.length;g++)i=d.graph.getNode(f[g]),i.setData("alpha",0,"end"),i.ignore=!0;d.reposition(),d.fx.animate(a.merge(e,{modes:["node-property:alpha","linear"],onComplete:function(){h.removeNode(f,{type:"nothing"}),e.onComplete&&e.onComplete()}}));break;case"iter":h=this,d.fx.sequence({condition:function(){return f.length!=0},step:function(){h.removeNode(f.shift(),{type:"nothing"}),d.labels.clearLabels()},onComplete:function(){e.onComplete&&e.onComplete()},duration:Math.ceil(e.duration/f.length)});break;default:this.doError()}},removeEdge:function(b,c){var d=this.viz,e=a.merge(this.options,d.controller,c),f=a.type(b[0])=="string"?[b]:b,g,h,i;switch(e.type){case"nothing":for(g=0;g<f.length;g++)d.graph.removeAdjacence(f[g][0],f[g][1]);break;case"replot":this.removeEdge(f,{type:"nothing"}),d.refresh(!0);break;case"fade:seq":case"fade":h=this;for(g=0;g<f.length;g++)i=d.graph.getAdjacence(f[g][0],f[g][1]),i&&i.setData("alpha",0,"end");d.fx.animate(a.merge(e,{modes:["edge-property:alpha"],onComplete:function(){h.removeEdge(f,{type:"nothing"}),d.reposition(),d.fx.animate(a.merge(e,{modes:["linear"]}))}}));break;case"fade:con":h=this;for(g=0;g<f.length;g++)i=d.graph.getAdjacence(f[g][0],f[g][1]),i&&(i.setData("alpha",0,"end"),i.ignore=!0);d.reposition(),d.fx.animate(a.merge(e,{modes:["edge-property:alpha","linear"],onComplete:function(){h.removeEdge(f,{type:"nothing"}),e.onComplete&&e.onComplete()}}));break;case"iter":h=this,d.fx.sequence({condition:function(){return f.length!=0},step:function(){h.removeEdge(f.shift(),{type:"nothing"}),d.labels.clearLabels()},onComplete:function(){e.onComplete()},duration:Math.ceil(e.duration/f.length)});break;default:this.doError()}},sum:function(b,c){var d=this.viz,e=a.merge(this.options,d.controller,c),f=d.root,g;d.root=c.id||d.root;switch(e.type){case"nothing":g=d.construct(b),g.eachNode(function(a){a.eachAdjacency(function(a){d.graph.addAdjacence(a.nodeFrom,a.nodeTo,a.data)})});break;case"replot":d.refresh(!0),this.sum(b,{type:"nothing"}),d.refresh(!0);break;case"fade:seq":case"fade":case"fade:con":that=this,g=d.construct(b);var h=this.preprocessSum(g),i=h?["node-property:alpha","edge-property:alpha"]:["node-property:alpha"];d.reposition(),e.type!="fade:con"?d.fx.animate(a.merge(e,{modes:["linear"],onComplete:function(){d.fx.animate(a.merge(e,{modes:i,onComplete:function(){e.onComplete()}}))}})):(d.graph.eachNode(function(a){a.id!=f&&a.pos.isZero()&&(a.pos.set(a.endPos),a.startPos.set(a.endPos))}),d.fx.animate(a.merge(e,{modes:["linear"].concat(i)})));break;default:this.doError()}},morph:function(b,c,d){d=d||{};var e=this.viz,f=a.merge(this.options,e.controller,c),g=e.root,h;e.root=c.id||e.root;switch(f.type){case"nothing":h=e.construct(b),h.eachNode(function(a){var b=e.graph.hasNode(a.id);a.eachAdjacency(function(a){var b=!!e.graph.getAdjacence(a.nodeFrom.id,a.nodeTo.id);e.graph.addAdjacence(a.nodeFrom,a.nodeTo,a.data);if(b){var c=e.graph.getAdjacence(a.nodeFrom.id,a.nodeTo.id);for(var d in a.data||{})c.data[d]=a.data[d]}});if(b){var c=e.graph.getNode(a.id);for(var d in a.data||{})c.data[d]=a.data[d]}}),e.graph.eachNode(function(a){a.eachAdjacency(function(a){h.getAdjacence(a.nodeFrom.id,a.nodeTo.id)||e.graph.removeAdjacence(a.nodeFrom.id,a.nodeTo.id)}),h.hasNode(a.id)||e.graph.removeNode(a.id)});break;case"replot":e.labels.clearLabels(!0),this.morph(b,{type:"nothing"}),e.refresh(!0),e.refresh(!0);break;case"fade:seq":case"fade":case"fade:con":that=this,h=e.construct(b);var i="node-property"in d&&a.map(a.splat(d["node-property"]),function(a){return"$"+a});e.graph.eachNode(function(b){var c=h.getNode(b.id);if(!c)b.setData("alpha",1),b.setData("alpha",1,"start"),b.setData("alpha",0,"end"),b.ignore=!0;else{var d=c.data;for(var e in d)i&&a.indexOf(i,e)>-1?b.endData[e]=d[e]:b.data[e]=d[e]}}),e.graph.eachNode(function(a){if(a.ignore)return;a.eachAdjacency(function(a){if(a.nodeFrom.ignore||a.nodeTo.ignore)return;var b=h.getNode(a.nodeFrom.id),c=h.getNode(a.nodeTo.id);if(!b.adjacentTo(c)){var a=e.graph.getAdjacence(b.id,c.id);j=!0,a.setData("alpha",1),a.setData("alpha",1,"start"),a.setData("alpha",0,"end")}})});var j=this.preprocessSum(h),l=j?["node-property:alpha","edge-property:alpha"]:["node-property:alpha"];l[0]=l[0]+("node-property"in d?":"+a.splat(d["node-property"]).join(":"):""),l[1]=(l[1]||"edge-property:alpha")+("edge-property"in d?":"+a.splat(d["edge-property"]).join(":"):""),"label-property"in d&&l.push("label-property:"+a.splat(d["label-property"]).join(":")),e.reposition?e.reposition():e.compute("end"),e.graph.eachNode(function(a){a.id!=g&&a.pos.getp().equals(k.KER)&&(a.pos.set(a.endPos),a.startPos.set(a.endPos))}),e.fx.animate(a.merge(f,{modes:[d.position||"polar"].concat(l),onComplete:function(){e.graph.eachNode(function(a){a.ignore&&e.graph.removeNode(a.id)}),e.graph.eachNode(function(a){a.eachAdjacency(function(a){a.ignore&&e.graph.removeAdjacence(a.nodeFrom.id,a.nodeTo.id)})}),f.onComplete()}}));break;default:}},contract:function(b,c){var d=this.viz;if(b.collapsed||!b.anySubnode(a.lambda(!0)))return;c=a.merge(this.options,d.config,c||{},{modes:["node-property:alpha:span","linear"]}),b.collapsed=!0,function e(a){a.eachSubnode(function(a){a.ignore=!0,a.setData("alpha",0,c.type=="animate"?"end":"current"),e(a)})}(b),c.type=="animate"?(d.compute("end"),d.rotated&&d.rotate(d.rotated,"none",{property:"end"}),function f(a){a.eachSubnode(function(a){a.setPos(b.getPos("end"),"end"),f(a)})}(b),d.fx.animate(c)):c.type=="replot"&&d.refresh()},expand:function(b,c){if(!("collapsed"in b))return;var d=this.viz;c=a.merge(this.options,d.config,c||{},{modes:["node-property:alpha:span","linear"]}),delete b.collapsed,function e(a){a.eachSubnode(function(a){delete a.ignore,a.setData("alpha",1,c.type=="animate"?"end":"current"),e(a)})}(b),c.type=="animate"?(d.compute("end"),d.rotated&&d.rotate(d.rotated,"none",{property:"end"}),d.fx.animate(c)):c.type=="replot"&&d.refresh()},preprocessSum:function(a){var b=this.viz;a.eachNode(function(a){if(!b.graph.hasNode(a.id)){b.graph.addNode(a);var c=b.graph.getNode(a.id);c.setData("alpha",0),c.setData("alpha",0,"start"),c.setData("alpha",1,"end")}});var c=!1;return a.eachNode(function(a){a.eachAdjacency(function(a){var d=b.graph.getNode(a.nodeFrom.id),e=b.graph.getNode(a.nodeTo.id);if(!d.adjacentTo(e)){var a=b.graph.addAdjacence(d,e,a.data);d.startAlpha==d.endAlpha&&e.startAlpha==e.endAlpha&&(c=!0,a.setData("alpha",0),a.setData("alpha",0,"start"),a.setData("alpha",1,"end"))}})}),c}};var q={none:{render:a.empty,contains:a.lambda(!1)},circle:{render:function(a,b,c,d){var e=d.getCtx();e.beginPath(),e.arc(b.x,b.y,c,0,Math.PI*2,!0),e.closePath(),e[a]()},contains:function(a,b,c){var d=a.x-b.x,e=a.y-b.y,f=d*d+e*e;return f<=c*c}},ellipse:{render:function(a,b,c,d,e){var f=e.getCtx(),g=1,h=1,i=1,j=1,k=0;c>d?(k=c/2,h=d/c,j=c/d):(k=d/2,g=c/d,i=d/c),f.save(),f.scale(g,h),f.beginPath(),f.arc(b.x*i,b.y*j,k,0,Math.PI*2,!0),f.closePath(),f[a](),f.restore()},contains:function(a,b,c,d){var e=0,f=1,g=1,h=0,i=0,j=0;return c>d?(e=c/2,g=d/c):(e=d/2,f=c/d),h=(a.x-b.x)*(1/f),i=(a.y-b.y)*(1/g),j=h*h+i*i,j<=e*e}},square:{render:function(a,b,c,d){d.getCtx()[a+"Rect"](b.x-c,b.y-c,2*c,2*c)},contains:function(a,b,c){return Math.abs(b.x-a.x)<=c&&Math.abs(b.y-a.y)<=c}},rectangle:{render:function(a,b,c,d,e){e.getCtx()[a+"Rect"](b.x-c/2,b.y-d/2,c,d)},contains:function(a,b,c,d){return Math.abs(b.x-a.x)<=c/2&&Math.abs(b.y-a.y)<=d/2}},triangle:{render:function(a,b,c,d){var e=d.getCtx(),f=b.x,g=b.y-c,h=f-c,i=b.y+c,j=f+c,k=i;e.beginPath(),e.moveTo(f,g),e.lineTo(h,i),e.lineTo(j,k),e.closePath(),e[a]()},contains:function(a,b,c){return q.circle.contains(a,b,c)}},star:{render:function(a,b,c,d){var e=d.getCtx(),f=Math.PI/5;e.save(),e.translate(b.x,b.y),e.beginPath(),e.moveTo(c,0);for(var g=0;g<9;g++)e.rotate(f),g%2==0?e.lineTo(c/.525731*.200811,0):e.lineTo(c,0);e.closePath(),e[a](),e.restore()},contains:function(a,b,c){return q.circle.contains(a,b,c)}}},r={line:{render:function(a,b,c){var d=c.getCtx();d.beginPath(),d.moveTo(a.x,a.y),d.lineTo(b.x,b.y),d.stroke()},contains:function(a,b,c,d){var e=Math.min,f=Math.max,g=e(a.x,b.x),h=f(a.x,b.x),i=e(a.y,b.y),j=f(a.y,b.y);if(c.x>=g&&c.x<=h&&c.y>=i&&c.y<=j){if(Math.abs(b.x-a.x)<=d)return!0;var k=(b.y-a.y)/(b.x-a.x)*(c.x-a.x)+a.y;return Math.abs(k-c.y)<=d}return!1}},arrow:{render:function(a,b,c,d,e){var f=e.getCtx();if(d){var g=a;a=b,b=g}var h=new m(b.x-a.x,b.y-a.y);h.$scale(c/h.norm());var i=new m(b.x-h.x,b.y-h.y),j=new m(-h.y/2,h.x/2),k=i.add(j),l=i.$add(j.$scale(-1));f.beginPath(),f.moveTo(a.x,a.y),f.lineTo(b.x,b.y),f.stroke(),f.beginPath(),f.moveTo(k.x,k.y),f.lineTo(l.x,l.y),f.lineTo(b.x,b.y),f.closePath(),f.fill()},contains:function(a,b,c,d){return r.line.contains(a,b,c,d)}},hyperline:{render:function(a,b,c,d){function j(a,b){var c=a.x*b.y-a.y*b.x,d=c,e=a.squaredNorm(),f=b.squaredNorm();if(c==0)return{x:0,y:0,ratio:-1};var g=(a.y*f-b.y*e+a.y-b.y)/c,h=(b.x*e-a.x*f+b.x-a.x)/d,i=-g/2,j=-h/2,k=(g*g+h*h)/4-1;if(k<0)return{x:0,y:0,ratio:-1};var l=Math.sqrt(k),m={x:i,y:j,ratio:l>1e3?-1:l,a:g,b:h};return m}function i(a,b){return a<b?a+Math.PI>b?!1:!0:b+Math.PI>a?!0:!1}var e=d.getCtx(),f=j(a,b);if(f.a>1e3||f.b>1e3||f.ratio<0)e.beginPath(),e.moveTo(a.x*c,a.y*c),e.lineTo(b.x*c,b.y*c),e.stroke();else{var g=Math.atan2(b.y-f.y,b.x-f.x),h=Math.atan2(a.y-f.y,a.x-f.x),i=i(g,h);e.beginPath(),e.arc(f.x*c,f.y*c,f.ratio*c,g,h,i),e.stroke()}},contains:a.lambda(!1)}};o.Plot={initialize:function(a,b){this.viz=a,this.config=a.config,this.node=a.config.Node,this.edge=a.config.Edge,this.animation=new d,this.nodeTypes=new b.Plot.NodeTypes,this.edgeTypes=new b.Plot.EdgeTypes,this.labels=a.labels},nodeHelper:q,edgeHelper:r,Interpolator:{map:{border:"color",color:"color",width:"number",height:"number",dim:"number",alpha:"number",lineWidth:"number",angularWidth:"number",span:"number",valueArray:"array-number",dimArray:"array-number"},canvas:{globalAlpha:"number",fillStyle:"color",strokeStyle:"color",lineWidth:"number",shadowBlur:"number",shadowColor:"color",shadowOffsetX:"number",shadowOffsetY:"number",miterLimit:"number"},label:{size:"number",color:"color"},compute:function(a,b,c){return a+(b-a)*c},moebius:function(a,b,c,d){var e=d.scale(-c);if(e.norm()<1){var f=e.x,g=e.y,h=a.startPos.getc().moebiusTransformation(e);a.pos.setc(h.x,h.y),e.x=f,e.y=g}},linear:function(a,b,c){var d=a.startPos.getc(!0),e=a.endPos.getc(!0);a.pos.setc(this.compute(d.x,e.x,c),this.compute(d.y,e.y,c))},polar:function(a,b,c){var d=a.startPos.getp(!0),e=a.endPos.getp(),f=e.interpolate(d,c);a.pos.setp(f.theta,f.rho)},number:function(a,b,c,d,e){var f=a[d](b,"start"),g=a[d](b,"end");a[e](b,this.compute(f,g,c))},color:function(b,c,d,e,f){var g=a.hexToRgb(b[e](c,"start")),h=a.hexToRgb(b[e](c,"end")),i=this.compute,j=a.rgbToHex([parseInt(i(g[0],h[0],d)),parseInt(i(g[1],h[1],d)),parseInt(i(g[2],h[2],d))]);b[f](c,j)},"array-number":function(a,b,c,d,e){var f=a[d](b,"start"),g=a[d](b,"end"),h=[];for(var i=0,j=f.length;i<j;i++){var k=f[i],l=g[i];if(k.length){for(var m=0,n=k.length,o=[];m<n;m++)o.push(this.compute(k[m],l[m],c));h.push(o)}else h.push(this.compute(k,l,c))}a[e](b,h)},node:function(a,b,c,d,e,f){d=this[d];if(b){var g=b.length;for(var h=0;h<g;h++){var i=b[h];this[d[i]](a,i,c,e,f)}}else for(var i in d)this[d[i]](a,i,c,e,f)},edge:function(a,b,c,d,e,f){var g=a.adjacencies;for(var h in g)this.node(g[h],b,c,d,e,f)},"node-property":function(a,b,c){this.node(a,b,c,"map","getData","setData")},"edge-property":function(a,b,c){this.edge(a,b,c,"map","getData","setData")},"label-property":function(a,b,c){this.node(a,b,c,"label","getLabelData","setLabelData")},"node-style":function(a,b,c){this.node(a,b,c,"canvas","getCanvasStyle","setCanvasStyle")},"edge-style":function(a,b,c){this.edge(a,b,c,"canvas","getCanvasStyle","setCanvasStyle")}},sequence:function(b){var c=this;b=a.merge({condition:a.lambda(!1),step:a.empty,onComplete:a.empty,duration:200},b||{});var d=setInterval(function(){b.condition()?b.step():(clearInterval(d),b.onComplete()),c.viz.refresh(!0)},b.duration)},prepare:function(b){var c=this.viz.graph,d={"node-property":{getter:"getData",setter:"setData"},"edge-property":{getter:"getData",setter:"setData"},"node-style":{getter:"getCanvasStyle",setter:"setCanvasStyle"},"edge-style":{getter:"getCanvasStyle",setter:"setCanvasStyle"}},e={};if(a.type(b)=="array")for(var f=0,g=b.length;f<g;f++){var h=b[f].split(":");e[h.shift()]=h}else for(var i in b)i=="position"?e[b.position]=[]:e[i]=a.splat(b[i]);return c.eachNode(function(b){b.startPos.set(b.pos),a.each(["node-property","node-style"],function(a){if(a in e){var c=e[a];for(var f=0,g=c.length;f<g;f++)b[d[a].setter](c[f],b[d[a].getter](c[f]),"start")}}),a.each(["edge-property","edge-style"],function(a){if(a in e){var c=e[a];b.eachAdjacency(function(b){for(var e=0,f=c.length;e<f;e++)b[d[a].setter](c[e],b[d[a].getter](c[e]),"start")})}})}),e},animate:function(b,c){b=a.merge(this.viz.config,b||{});var d=this,e=this.viz,f=e.graph,g=this.Interpolator,h=b.type==="nodefx"?this.nodeFxAnimation:this.animation,i=this.prepare(b.modes);b.hideLabels&&this.labels.hideLabels(!0),h.setOptions(a.extend(b,{$animating:!1,compute:function(a){f.eachNode(function(b){for(var d in i)g[d](b,i[d],a,c)}),d.plot(b,this.$animating,a),this.$animating=!0},complete:function(){b.hideLabels&&d.labels.hideLabels(!1),d.plot(b),b.onComplete()}})).start()},nodeFx:function(b){var c=this.viz,d=c.graph,e=this.nodeFxAnimation,f=a.merge(this.viz.config,{elements:{id:!1,properties:{}},reposition:!1});b=a.merge(f,b||{},{onBeforeCompute:a.empty,onAfterCompute:a.empty}),e.stopTimer();var g=b.elements.properties;if(!b.elements.id)d.eachNode(function(a){for(var b in g)a.setData(b,g[b],"end")});else{var h=a.splat(b.elements.id);a.each(h,function(a){var b=d.getNode(a);if(b)for(var c in g)b.setData(c,g[c],"end")})}var i=[];for(var j in g)i.push(j);var k=["node-property:"+i.join(":")];b.reposition&&(k.push("linear"),c.compute("end")),this.animate(a.merge(b,{modes:k,type:"nodefx"}))},plot:function(a,b){var c=this.viz,d=c.graph,e=c.canvas,f=c.root,g=this,h=e.getCtx(),i=Math.min,a=a||this.viz.controller;a.clearCanvas&&e.clear();var j=d.getNode(f);if(!j)return;var k=!!j.visited;d.eachNode(function(c){var d=c.getData("alpha");c.eachAdjacency(function(d){var f=d.nodeTo;!!f.visited===k&&c.drawn&&f.drawn&&(!b&&a.onBeforePlotLine(d),g.plotLine(d,e,b),!b&&a.onAfterPlotLine(d))}),c.drawn&&(!b&&a.onBeforePlotNode(c),g.plotNode(c,e,b),!b&&a.onAfterPlotNode(c)),!g.labelsHidden&&a.withLabels&&(c.drawn&&d>=.95?g.labels.plotLabel(e,c,a):g.labels.hideLabel(c,!1)),c.visited=!k})},plotTree:function(a,b,c){var d=this,e=this.viz,f=e.canvas,g=this.config,h=f.getCtx(),i=a.getData("alpha");a.eachSubnode(function(e){if(b.plotSubtree(a,e)&&e.exist&&e.drawn){var g=a.getAdjacency(e.id);!c&&b.onBeforePlotLine(g),d.plotLine(g,f,c),!c&&b.onAfterPlotLine(g),d.plotTree(e,b,c)}}),a.drawn?(!c&&b.onBeforePlotNode(a),this.plotNode(a,f,c),!c&&b.onAfterPlotNode(a),!b.hideLabels&&b.withLabels&&i>=.95?this.labels.plotLabel(f,a,b):this.labels.hideLabel(a,!1)):this.labels.hideLabel(a,!0)},plotNode:function(a,b,c){var d=a.getData("type"),e=this.node.CanvasStyles;if(d!="none"){var f=a.getData("lineWidth"),g=a.getData("color"),h=a.getData("alpha"),i=b.getCtx();i.save(),i.lineWidth=f,i.fillStyle=i.strokeStyle=g,i.globalAlpha=h;for(var j in e)i[j]=a.getCanvasStyle(j);this.nodeTypes[d].render.call(this,a,b,c),i.restore()}},plotLine:function(a,b,c){var d=a.getData("type"),e=this.edge.CanvasStyles;if(d!="none"){var f=a.getData("lineWidth"),g=a.getData("color"),h=b.getCtx(),i=a.nodeFrom,j=a.nodeTo;h.save(),h.lineWidth=f,h.fillStyle=h.strokeStyle=g,h.globalAlpha=Math.min(i.getData("alpha"),j.getData("alpha"),a.getData("alpha"));for(var k in e)h[k]=a.getCanvasStyle(k);this.edgeTypes[d].render.call(this,a,b,c),h.restore()}}},o.Plot3D=a.merge(o.Plot,{Interpolator:{linear:function(a,b,c){var d=a.startPos.getc(!0),e=a.endPos.getc(!0);a.pos.setc(this.compute(d.x,e.x,c),this.compute(d.y,e.y,c),this.compute(d.z,e.z,c))}},plotNode:function(a,b){if(a.getData("type")=="none")return;this.plotElement(a,b,{getAlpha:function(){return a.getData("alpha")}})},plotLine:function(a,b){if(a.getData("type")=="none")return;this.plotElement(a,b,{getAlpha:function(){return Math.min(a.nodeFrom.getData("alpha"),a.nodeTo.getData("alpha"),a.getData("alpha"))}})},plotElement:function(b,c,d){var e=c.getCtx(),f=new Matrix4,g=c.config.Scene.Lighting,h=c.canvases[0],i=h.program,j=h.camera;b.geometry||(b.geometry=new(O3D[b.getData("type")])),b.geometry.update(b);if(!b.webGLVertexBuffer){var k=[],l=[],m=[],n=0,o=b.geometry;for(var p=0,q=o.vertices,r=o.faces,s=r.length;p<s;p++){var t=r[p],u=q[t.a],v=q[t.b],w=q[t.c],x=t.d?q[t.d]:!1,y=t.normal;k.push(u.x,u.y,u.z),k.push(v.x,v.y,v.z),k.push(w.x,w.y,w.z),x&&k.push(x.x,x.y,x.z),m.push(y.x,y.y,y.z),m.push(y.x,y.y,y.z),m.push(y.x,y.y,y.z),x&&m.push(y.x,y.y,y.z),l.push(n,n+1,n+2),x?(l.push(n,n+2,n+3),n+=4):n+=3}b.webGLVertexBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,b.webGLVertexBuffer),e.bufferData(e.ARRAY_BUFFER,new Float32Array(k),e.STATIC_DRAW),b.webGLFaceBuffer=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,b.webGLFaceBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(l),e.STATIC_DRAW),b.webGLFaceCount=l.length,b.webGLNormalBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,b.webGLNormalBuffer),e.bufferData(e.ARRAY_BUFFER,new Float32Array(m),e.STATIC_DRAW)}f.multiply(j.matrix,b.geometry.matrix),e.uniformMatrix4fv(i.viewMatrix,!1,f.flatten()),e.uniformMatrix4fv(i.projectionMatrix,!1,j.projectionMatrix.flatten());var z=Matrix4.makeInvert(f);z.$transpose(),e.uniformMatrix4fv(i.normalMatrix,!1,z.flatten());var A=a.hexToRgb(b.getData("color"));A.push(d.getAlpha()),e.uniform4f(i.color,A[0]/255,A[1]/255,A[2]/255,A[3]),e.uniform1i(i.enableLighting,g.enable);if(g.enable){if(g.ambient){var B=g.ambient;e.uniform3f(i.ambientColor,B[0],B[1],B[2])}if(g.directional){var C=g.directional,A=C.color,D=C.direction,E=(new Vector3(D.x,D.y,D.z)).normalize().$scale(-1);e.uniform3f(i.lightingDirection,E.x,E.y,E.z),e.uniform3f(i.directionalColor,A[0],A[1],A[2])}}e.bindBuffer(e.ARRAY_BUFFER,b.webGLVertexBuffer),e.vertexAttribPointer(i.position,3,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,b.webGLNormalBuffer),e.vertexAttribPointer(i.normal,3,e.FLOAT,!1,0,0),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,b.webGLFaceBuffer),e.drawElements(e.TRIANGLES,b.webGLFaceCount,e.UNSIGNED_SHORT,0)}}),o.Label={},o.Label.Native=new b({initialize:function(a){this.viz=a},plotLabel:function(a,b,c){var d=a.getCtx(),e=b.pos.getc(!0);d.font=b.getLabelData("style")+" "+b.getLabelData("size")+"px "+b.getLabelData("family"),d.textAlign=b.getLabelData("textAlign"),d.fillStyle=d.strokeStyle=b.getLabelData("color"),d.textBaseline=b.getLabelData("textBaseline"),this.renderLabel(a,b,c)},renderLabel:function(a,b,c){var d=a.getCtx(),e=b.pos.getc(!0);d.fillText(b.name,e.x,e.y+b.getData("height")/2)},hideLabel:a.empty,hideLabels:a.empty}),o.Label.DOM=new b({labelsHidden:!1,labelContainer:!1,labels:{},getLabelContainer:function(){return this.labelContainer?this.labelContainer:this.labelContainer=document.getElementById(this.viz.config.labelContainer)},getLabel:function(a){return a in this.labels&&this.labels[a]!=null?this.labels[a]:this.labels[a]=document.getElementById(a)},hideLabels:function(a){var b=this.getLabelContainer();a?b.style.display="none":b.style.display="",this.labelsHidden=a},clearLabels:function(a){for(var b in this.labels)if(a||!this.viz.graph.hasNode(b))this.disposeLabel(b),delete this.labels[b]},disposeLabel:function(a){var b=this.getLabel(a);b&&b.parentNode&&b.parentNode.removeChild(b)},hideLabel:function(b,c){b=a.splat(b);var d=c?"":"none",e,f=this;a.each(b,function(a){var b=f.getLabel(a.id);b&&(b.style.display=d)})},fitsInCanvas:function(a,b){var c=b.getSize();return a.x>=c.width||a.x<0||a.y>=c.height||a.y<0?!1:!0}}),o.Label.HTML=new b({Implements:o.Label.DOM,plotLabel:function(a,b,c){var d=b.id,e=this.getLabel(d);if(!e&&!(e=document.getElementById(d))){e=document.createElement("div");var f=this.getLabelContainer();e.id=d,e.className="node",e.style.position="absolute",c.onCreateLabel(e,b),f.appendChild(e),this.labels[b.id]=e}this.placeLabel(e,b,c)}}),o.Label.SVG=new b({Implements:o.Label.DOM,plotLabel:function(a,b,c){var d=b.id,e=this.getLabel(d);if(!e&&!(e=document.getElementById(d))){var f="http://www.w3.org/2000/svg";e=document.createElementNS(f,"svg:text");var g=document.createElementNS(f,"svg:tspan");e.appendChild(g);var h=this.getLabelContainer();e.setAttribute("id",d),e.setAttribute("class","node"),h.appendChild(e),c.onCreateLabel(e,b),this.labels[b.id]=e}this.placeLabel(e,b,c)}}),o.Geom=new b({initialize:function(a){this.viz=a,this.config=a.config,this.node=a.config.Node,this.edge=a.config.Edge},translate:function(b,c){c=a.splat(c),this.viz.graph.eachNode(function(d){a.each(c,function(a){d.getPos(a).$add(b)})})},setRightLevelToShow:function(b,c,d){var e=this.getRightLevelToShow(b,c),f=this.viz.labels,g=a.merge({execShow:!0,execHide:!0,onHide:a.empty,onShow:a.empty},d||{});b.eachLevel(0,this.config.levelsToShow,function(a){var c=a._depth-b._depth;c>e?(g.onHide(a),g.execHide&&(a.drawn=!1,a.exist=!1,f.hideLabel(a,!1))):(g.onShow(a),g.execShow&&(a.exist=!0))}),b.drawn=!0},getRightLevelToShow:function(a,b){var c=this.config,d=c.levelsToShow,e=c.constrained;if(!e)return d;while(!this.treeFitsInCanvas(a,b,d)&&d>1)d--;return d}});var s={construct:function(b){var c=a.type(b)=="array",d=new o(this.graphOptions,this.config.Node,this.config.Edge,this.config.Label);return c?function(b,c){var d=function(a){for(var d=0,e=c.length;d<e;d++)if(c[d].id==a)return c[d];var f={id:a,name:a};return b.addNode(f)};for(var e=0,f=c.length;e<f;e++){b.addNode(c[e]);var g=c[e].adjacencies;if(g)for(var h=0,i=g.length;h<i;h++){var j=g[h],k={};typeof g[h]!="string"&&(k=a.merge(j.data,{}),j=j.nodeTo),b.addAdjacence(c[e],d(j),k)}}}(d,b):function(a,b){a.addNode(b);if(b.children)for(var c=0,d=b.children;c<d.length;c++)a.addAdjacence(b,d[c]),arguments.callee(a,d[c])}(d,b),d},loadJSON:function(b,c){this.json=b,this.labels&&this.labels.clearLabels&&this.labels.clearLabels(!0),this.graph=this.construct(b),a.type(b)!="array"?this.root=b.id:this.root=b[c?c:0].id},toJSON:function(a){a=a||"tree";if(a=="tree"){var b={},c=this.graph.getNode(this.root),b=function e(a){var b={};b.id=a.id,b.name=a.name,b.data=a.data;var c=[];return a.eachSubnode(function(a){c.push(e(a))}),b.children=c,b}(c);return b}var b=[],d=!!this.graph.getNode(this.root).visited;return this.graph.eachNode(function(a){var c={};c.id=a.id,c.name=a.name,c.data=a.data;var e=[];a.eachAdjacency(function(a){var b=a.nodeTo;if(!!b.visited===d){var c={};c.nodeTo=b.id,c.data=a.data,e.push(c)}}),c.adjacencies=e,b.push(c),a.visited=!d}),b}},t=$jit.Layouts={},u={label:null,compute:function(b,c,d){this.initializeLabel(d);var e=this.label,f=e.style;b.eachNode(function(b){var c=b.getData("autoWidth"),d=b.getData("autoHeight");if(c||d){delete b.data.$width,delete b.data.$height,delete b.data.$dim;var g=b.getData("width"),h=b.getData("height");f.width=c?"auto":g+"px",f.height=d?"auto":h+"px",e.innerHTML=b.name;var i=e.offsetWidth,j=e.offsetHeight,k=b.getData("type");if(a.indexOf(["circle","square","triangle","star"],k)===-1)b.setData("width",i),b.setData("height",j);else{var l=i>j?i:j;b.setData("width",l),b.setData("height",l),b.setData("dim",l)}}})},initializeLabel:function(a){this.label||(this.label=document.createElement("div"),document.body.appendChild(this.label)),this.setLabelStyles(a)},setLabelStyles:function(b){a.extend(this.label.style,{visibility:"hidden",position:"absolute",width:"auto",height:"auto"}),this.label.className="jit-autoadjust-label"}};t.Tree=function(){function d(a,b,c,d,e){var f=b.Node,g=b.multitree;if(f.overridable){var h=-1,i=-1;return a.eachNode(function(a){if(a._depth==c&&(!g||"$orn"in a.data&&a.data.$orn==d)){var b=a.getData("width",e),f=a.getData("height",e);h=h<b?b:h,i=i<f?f:i}}),{width:h<0?f.width:h,height:i<0?f.height:i}}return f}function e(a,b,c,d){var e=d=="left"||d=="right"?"y":"x";a.getPos(b)[e]+=c}function f(b,d){var e=[];return a.each(b,function(a){a=c.call(a),a[0]+=d,a[1]+=d,e.push(a)}),e}function g(a,b){if(a.length==0)return b;if(b.length==0)return a;var c=a.shift(),d=b.shift();return[[c[0],d[1]]].concat(g(a,b))}function h(a,b){b=b||[];if(a.length==0)return b;var c=a.pop();return h(a,g(c,b))}function i(a,b,c,d,e){if(a.length<=e||b.length<=e)return 0;var f=a[e][1],g=b[e][0];return Math.max(i(a,b,c,d,++e)+c,f-g+d)}function j(a,b,c){function d(a,e,h){if(e.length<=h)return[];var j=e[h],k=i(a,j,b,c,0);return[k].concat(d(g(a,f(j,k)),e,++h))}return d([],a,0)}function k(a,b,d){function e(a,c,h){if(c.length<=h)return[];var j=c[h],k=-i(j,a,b,d,0);return[k].concat(e(g(f(j,k),a),c,++h))}a=c.call(a);var h=e([],a.reverse(),0);return h.reverse()}function l(a,b,c,d){var e=j(a,b,c),f=k(a,b,c);d=="left"?f=e:d=="right"&&(e=f);for(var g=0,h=[];g<e.length;g++)h[g]=(e[g]+f[g])/2;return h}function m(a,b,c,g,i){function w(b,k,m){var n=b.getData(r,c),q=k||b.getData(s,c),x=[],y=[],z=!1,A=q+g.levelDistance;b.eachSubnode(function(b){if(b.exist&&(!j||"$orn"in b.data&&b.data.$orn==i)){z||(z=d(a,g,b._depth,i,c));var e=w(b,z[s],m+A);x.push(e.tree),y.push(e.extent)}});var B=l(y,u,t,v);for(var C=0,D=[],E=[];C<x.length;C++)e(x[C],c,B[C],i),E.push(f(y[C],B[C]));var F=[[-n/2,n/2]].concat(h(E));return b.getPos(c)[o]=0,i=="top"||i=="left"?b.getPos(c)[p]=m:b.getPos(c)[p]=-m,{tree:b,extent:F}}var j=g.multitree,k=["x","y"],m=["width","height"],n=+(i=="left"||i=="right"),o=k[n],p=k[1-n],q=g.Node,r=m[n],s=m[1-n],t=g.siblingOffset,u=g.subtreeOffset,v=g.align;w(b,!1,0)}var c=Array.prototype.slice;return new b({compute:function(b,c){var d=b||"start",e=this.graph.getNode(this.root);a.extend(e,{drawn:!0,exist:!0,selected:!0}),u.compute(this.graph,d,this.config),(!!c||!("_depth"in e))&&this.graph.computeLevels(this.root,0,"ignore"),this.computePositions(e,d)},computePositions:function(b,c){var d=this.config,e=d.multitree,f=d.align,g=f!=="center"&&d.indent,h=d.orientation,i=e?["top","right","bottom","left"]:[h],j=this;a.each(i,function(a){m(j.graph,b,c,j.config,a,c);var d=["x","y"][+(a=="left"||a=="right")];(function h(b){b.eachSubnode(function(i){i.exist&&(!e||"$orn"in i.data&&i.data.$orn==a)&&(i.getPos(c)[d]+=b.getPos(c)[d],g&&(i.getPos(c)[d]+=f=="left"?g:-g),h(i))})})(b)})}})}(),$jit.ST=function(){function d(a){a=a||this.clickedNode;if(!this.config.constrained)return[];var b=this.geom,d=this.graph,e=this.canvas,f=a._depth,g=[];d.eachNode(function(b){b.exist&&!b.selected&&(b.isDescendantOf(a.id)?b._depth<=f&&g.push(b):g.push(b))});var h=b.getRightLevelToShow(a,e);a.eachLevel(h,h,function(a){a.exist&&!a.selected&&g.push(a)});for(var i=0;i<c.length;i++){var j=this.graph.getNode(c[i]);j.isDescendantOf(a.id)||g.push(j)}return g}function f(a){var b=[],c=this.config;return a=a||this.clickedNode,this.clickedNode.eachLevel(0,c.levelsToShow,function(a){!c.multitree||"$orn"in a.data||!a.anySubnode(function(a){return a.exist&&!a.drawn})?a.drawn&&!a.anySubnode("drawn")&&b.push(a):b.push(a)}),b}var c=[];return new b({Implements:[s,i,t.Tree],initialize:function(b){var c=$jit.ST,d={levelsToShow:2,levelDistance:30,constrained:!0,Node:{type:"rectangle"},duration:700,offsetX:0,offsetY:0};this.controller=this.config=a.merge(e("Canvas","Fx","Tree","Node","Edge","Controller","Tips","NodeStyles","Events","Navigation","Label"),d,b);var f=this.config;f.useCanvas?(this.canvas=f.useCanvas,this.config.labelContainer=this.canvas.id+"-label"):(f.background&&(f.background=a.merge({type:"Circles"},f.background)),this.canvas=new j(this,f),this.config.labelContainer=(typeof f.injectInto=="string"?f.injectInto:f.injectInto.id)+"-label"),this.graphOptions={klass:m},this.graph=new o(this.graphOptions,this.config.Node,this.config.Edge),this.labels=new c.Label[f.Label.type](this),this.fx=new c.Plot(this,c),this.op=new c.Op(this),this.group=new c.Group(this),this.geom=new c.Geom(this),this.clickedNode=null,this.initializeExtras()},plot:function(){this.fx.plot(this.controller)},switchPosition:function(a,b,c){var d=this.geom,e=this.fx,f=this;e.busy||(e.busy=!0,this.contract({onComplete:function(){d.switchOrientation(a),f.compute("end",!1),e.busy=!1,b=="animate"?f.onClick(f.clickedNode.id,c):b=="replot"&&f.select(f.clickedNode.id,c)}},a))},switchAlignment:function(a,b,c){this.config.align=a,b=="animate"?this.select(this.clickedNode.id,c):b=="replot"&&this.onClick(this.clickedNode.id,c)},addNodeInPath:function(a){c.push(a),this.select(this.clickedNode&&this.clickedNode.id||this.root)},clearNodesInPath:function(a){c.length=0,this.select(this.clickedNode&&this.clickedNode.id||this.root)},refresh:function(){this.reposition(),this.select(this.clickedNode&&this.clickedNode.id||this.root)},reposition:function(){this.graph.computeLevels(this.root,0,"ignore"),this.geom.setRightLevelToShow(this.clickedNode,this.canvas),this.graph.eachNode(function(a){a.exist&&(a.drawn=!0)}),this.compute("end")},requestNodes:function(b,c){var d=a.merge(this.controller,c),e=this.config.levelsToShow;if(d.request){var f=[],g=b._depth;b.eachLevel(0,e,function(a){a.drawn&&!a.anySubnode()&&(f.push(a),a._level=e-(a._depth-g))}),this.group.requestNodes(f,d)}else d.onComplete()},contract:function(b,c){var e=this.config.orientation,f=this.geom,g=this.group;c&&f.switchOrientation(c);var h=d.call(this);c&&f.switchOrientation(e),g.contract(h,a.merge(this.controller,b))},move:function(b,c){this.compute("end",!1);var d=c.Move,e={x:d.offsetX,y:d.offsetY};d.enable&&this.geom.translate(b.endPos.add(e).$scale(-1),"end"),this.fx.animate(a.merge(this.controller,{modes:["linear"]},c))},expand:function(b,c){var d=f.call(this,b);this.group.expand(d,a.merge(this.controller,c))},selectPath:function(b){function e(b){if(b==null||b.selected)return;b.selected=!0,a.each(d.group.getSiblings([b])[b.id],function(a){a.exist=!0,a.drawn=!0});var c=b.getParents();c=c.length>0?c[0]:null,e(c)}var d=this;this.graph.eachNode(function(a){a.selected=!1});for(var f=0,g=[b.id].concat(c);f<g.length;f++)e(this.graph.getNode(g[f]))},setRoot:function(a,b,c){function h(){if(this.config.multitree&&g.data.$orn){var b=g.data.$orn,h={left:"right",right:"left",top:"bottom",bottom:"top"}[b];f.data.$orn=h,function i(b){b.eachSubnode(function(b){b.id!=a&&(b.data.$orn=h,i(b))})}(f),delete g.data.$orn}this.root=a,this.clickedNode=g,this.graph.computeLevels(this.root,0,"ignore"),this.geom.setRightLevelToShow(g,e,{execHide:!1,onShow:function(a){a.drawn||(a.drawn=!0,a.setData("alpha",1,"end"),a.setData("alpha",0),a.pos.setc(g.pos.x,g.pos.y))}}),this.compute("end"),this.busy=!0,this.fx.animate({modes:["linear","node-property:alpha"],onComplete:function(){d.busy=!1,d.onClick(a,{onComplete:function(){c&&c.onComplete()}})}})}if(this.busy)return;this.busy=!0;var d=this,e=this.canvas,f=this.graph.getNode(this.root),g=this.graph.getNode(a);delete f.data.$orns,b=="animate"?(h.call(this),d.selectPath(g)):b=="replot"&&(h.call(this),this.select(this.root))},addSubtree:function(b,c,d){c=="replot"?this.op.sum(b,a.extend({type:"replot"},d||{})):c=="animate"&&this.op.sum(b,a.extend({type:"fade:seq"},d||{}))},removeSubtree:function(b,c,d,e){var f=this.graph.getNode(b),g=[];f.eachLevel(+!c,!1,function(a){g.push(a.id)}),d=="replot"?this.op.removeNode(g,a.extend({type:"replot"},e||{})):d=="animate"&&this.op.removeNode(g,a.extend({type:"fade:seq"},e||{}))},select:function(b,c){var e=this.group,g=this.geom,h=this.graph.getNode(b),i=this.canvas,j=this.graph.getNode(this.root),k=a.merge(this.controller,c),l=this;k.onBeforeCompute(h),this.selectPath(h),this.clickedNode=h,this.requestNodes(h,{onComplete:function(){e.hide(e.prepare(d.call(l)),k),g.setRightLevelToShow(h,i),l.compute("current"),l.graph.eachNode(function(a){var b=a.pos.getc(!0);a.startPos.setc(b.x,b.y),a.endPos.setc(b.x,b.y),a.visited=!1});var a={x:k.offsetX,y:k.offsetY};l.geom.translate(h.endPos.add(a).$scale(-1),["start","current","end"]),e.show(f.call(l)),l.plot(),k.onAfterCompute(l.clickedNode),k.onComplete()}})},onClick:function(b,c){var d=this.canvas,e=this,f=this.geom,g=this.config,h={Move:{enable:!0,offsetX:g.offsetX||0,offsetY:g.offsetY||0},setRightLevelToShowConfig:!1,onBeforeRequest:a.empty,onBeforeContract:a.empty,onBeforeMove:a.empty,onBeforeExpand:a.empty},i=a.merge(this.controller,h,c);if(!this.busy){this.busy=!0;var j=this.graph.getNode(b);this.selectPath(j,this.clickedNode),this.clickedNode=j,i.onBeforeCompute(j),i.onBeforeRequest(j),this.requestNodes(j,{onComplete:function(){i.onBeforeContract(j),e.contract({onComplete:function(){f.setRightLevelToShow(j,d,i.setRightLevelToShowConfig),i.onBeforeMove(j),e.move(j,{Move:i.Move,onComplete:function(){i.onBeforeExpand(j),e.expand(j,{onComplete:function(){e.busy=!1,i.onAfterCompute(b),i.onComplete()}})}})}})}})}}})}(),$jit.ST.$extend=!0,$jit.ST.Op=new b({Implements:o.Op}),$jit.ST.Group=new b({initialize:function(a){this.viz=a,this.canvas=a.canvas,this.config=a.config,this.animation=new d,this.nodes=null},requestNodes:function(a,b){var c=0,d=a.length,e={},f=function(){b.onComplete()},g=this.viz;d==0&&f();for(var h=0;h<d;h++)e[a[h].id]=a[h],b.request(a[h].id,a[h]._level,{onComplete:function(a,b){b&&b.children&&(b.id=a,g.op.sum(b,{type:"nothing"})),++c==d&&(g.graph.computeLevels(g.root,0),f())}})},contract:function(b,c){var d=this.viz,e=this;b=this.prepare(b),this.animation.setOptions(a.merge(c,{$animating:!1,compute:function(a){a==1&&(a=.99),e.plotStep(1-a,c,this.$animating),this.$animating="contract"},complete:function(){e.hide(b,c)}})).start()},hide:function(b,c){var d=this.viz;for(var e=0;e<b.length;e++)b[e].eachLevel(1,!1,function(b){b.exist&&a.extend(b,{drawn:!1,exist:!1})});c.onComplete()},expand:function(b,c){var d=this;this.show(b),this.animation.setOptions(a.merge(c,{$animating:!1,compute:function(a){d.plotStep(a,c,this.$animating),this.$animating="expand"},complete:function(){d.plotStep(undefined,c,!1),c.onComplete()}})).start()},show:function(b){var c=this.config;this.prepare(b),a.each(b,function(a){if(c.multitree&&!("$orn"in a.data)){delete a.data.$orns;var b=" ";a.eachSubnode(function(a){"$orn"in a.data&&b.indexOf(a.data.$orn)<0&&a.exist&&!a.drawn&&(b+=a.data.$orn+" ")}),a.data.$orns=b}a.eachLevel(0,c.levelsToShow,function(a){a.exist&&(a.drawn=!0)})})},prepare:function(a){return this.nodes=this.getNodesWithChildren(a),this.nodes},getNodesWithChildren:function(a){var b=[],c=this.config,d=this.viz.root;a.sort(function(a,b){return(a._depth<=b._depth)-(a._depth>=b._depth)});for(var e=0;e<a.length;e++)if(a[e].anySubnode("exist")){for(var f=e+1,g=!1;!g&&f<a.length;f++)if(!c.multitree||"$orn"in a[f].data)g=g||a[e].isDescendantOf(a[f].id);g||b.push(a[e])}return b},plotStep:function(b,c,d){var e=this.viz,f=this.config,g=e.canvas,h=g.getCtx(),i=this.nodes,j,k,l={};for(j=0;j<i.length;j++){k=i[j],l[k.id]=[];var m=f.multitree&&!("$orn"in k.data),n=m&&k.data.$orns;k.eachSubgraph(function(a){m&&n&&n.indexOf(a.data.$orn)>0&&a.drawn?(a.drawn=!1,l[k.id].push(a)):(!m||!n)&&a.drawn&&(a.drawn=!1,l[k.id].push(a))}),k.drawn=!0}i.length>0&&e.fx.plot();for(j in l)a.each(l[j],function(a){a.drawn=!0});for(j=0;j<i.length;j++)k=i[j],h.save(),e.fx.plotSubtree(k,c,b,d),h.restore()},getSiblings:function(b){var c={};return a.each(b,function(a){var b=a.getParents();if(b.length==0)c[a.id]=[a];else{var d=[];b[0].eachSubnode(function(a){d.push(a)}),c[a.id]=d}}),c}}),$jit.ST.Geom=new b({Implements:o.Geom,switchOrientation:function(a){this.config.orientation=a},dispatch:function(){var a=Array.prototype.slice.call(arguments),b=a.shift(),c=a.length,d=function(a){return typeof a=="function"?a():a};if(c==2)return b=="top"||b=="bottom"?d(a[0]):d(a[1]);if(c==4)switch(b){case"top":return d(a[0]);case"right":return d(a[1]);case"bottom":return d(a[2]);case"left":return d(a[3])}return undefined},getSize:function(a,b){var c=a.data,d=this.config,e=d.siblingOffset,f=d.multitree&&"$orn"in c&&c.$orn||d.orientation,g=a.getData("width")+e,h=a.getData("height")+e;return b?this.dispatch(f,g,h):this.dispatch(f,h,g)},getTreeBaseSize:function(a,b,c){var d=this.getSize(a,!0),e=0,f=this;return c(b,a)?d:b===0?0:(a.eachSubnode(function(a){e+=f.getTreeBaseSize(a,b-1,c)}),(d>e?d:e)+this.config.subtreeOffset)},getEdge:function(a,b,c){var d=function(b,c){return function(){return a.pos.add(new m(b,c))}},e=this.node,f=a.getData("width"),g=a.getData("height");if(b=="begin"){if(e.align=="center")return this.dispatch(c,d(0,g/2),d(-f/2,0),d(0,-g/2),d(f/2,0));if(e.align=="left")return this.dispatch(c,d(0,g),d(0,0),d(0,0),d(f,0));if(e.align=="right")return this.dispatch(c,d(0,0),d(-f,0),d(0,-g),d(0,0));throw"align: not implemented"}if(b=="end"){if(e.align=="center")return this.dispatch(c,d(0,-g/2),d(f/2,0),d(0,g/2),d(-f/2,0));if(e.align=="left")return this.dispatch(c,d(0,0),d(f,0),d(0,g),d(0,0));if(e.align=="right")return this.dispatch(c,d(0,-g),d(0,0),d(0,0),d(-f,0));throw"align: not implemented"}},getScaledTreePosition:function(a,b){var c=this.node,d=a.getData("width"),e=a.getData("height"),f=this.config.multitree&&"$orn"in a.data&&a.data.$orn||this.config.orientation,g=function(c,d){return function(){return a.pos.add(new m(c,d)).$scale(1-b)}};if(c.align=="left")return this.dispatch(f,g(0,e),g(0,0),g(0,0),g(d,0));if(c.align=="center")return this.dispatch(f,g(0,e/2),g(-d/2,0),g(0,-e/2),g(d/2,0));if(c.align=="right")return this.dispatch(f,g(0,0),g(-d,0),g(0,-e),g(0,0));throw"align: not implemented"},treeFitsInCanvas:function(a,b,c){var d=b.getSize(),e=this.config.multitree&&"$orn"in a.data&&a.data.$orn||this.config.orientation,f=this.dispatch(e,d.width,d.height),g=this.getTreeBaseSize(a,c,function(a,b){return a===0||!b.anySubnode()});return g<f}}),$jit.ST.Plot=new b({Implements:o.Plot,plotSubtree:function(b,c,d,e){var f=this.viz,g=f.canvas,h=f.config;d=Math.min(Math.max(.001,d),1);if(d>=0){b.drawn=!1;var i=g.getCtx(),j=f.geom.getScaledTreePosition(b,d);i.translate(j.x,j.y),i.scale(d,d)}this.plotTree(b,a.merge(c,{withLabels:!0,hideLabels:!!d,plotSubtree:function(a,c){var d=h.multitree&&!("$orn"in b.data),e=d&&b.getData("orns");return!d||e.indexOf(b.getData("orn"))>-1}}),e),d>=0&&(b.drawn=!0)},getAlignedPos:function(a,b,c){var d=this.node,e,f;if(d.align=="center")e={x:a.x-b/2,y:a.y-c/2};else if(d.align=="left")f=this.config.orientation,f=="bottom"||f=="top"?e={x:a.x-b/2,y:a.y}:e={x:a.x,y:a.y-c/2};else{if(d.align!="right")throw"align: not implemented";f=this.config.orientation,f=="bottom"||f=="top"?e={x:a.x-b/2,y:a.y-c}:e={x:a.x-b,y:a.y-c/2}}return e},getOrientation:function(a){var b=this.config,c=b.orientation;if(b.multitree){var d=a.nodeFrom,e=a.nodeTo;c="$orn"in d.data&&d.data.$orn||"$orn"in e.data&&e.data.$orn}return c}}),$jit.ST.Label={},$jit.ST.Label.Native=new b({Implements:o.Label.Native,renderLabel:function(a,b,c){var d=a.getCtx(),e=b.pos.getc(!0),f=b.getData("width"),g=b.getData("height"),h=this.viz.fx.getAlignedPos(e,f,g);d.fillText(b.name,h.x+f/2,h.y+g/2)}}),$jit.ST.Label.DOM=new b({Implements:o.Label.DOM,placeLabel:function(a,b,c){var d=b.pos.getc(!0),e=this.viz.config,f=e.Node,g=this.viz.canvas,h=b.getData("width"),i=b.getData("height"),j=g.getSize(),k,l,m=g.translateOffsetX,n=g.translateOffsetY,o=g.scaleOffsetX,p=g.scaleOffsetY,q=d.x*o+m,r=d.y*p+n;if(f.align=="center")k={x:Math.round(q-h/2+j.width/2),y:Math.round(r-i/2+j.height/2)};else if(f.align=="left")l=e.orientation,l=="bottom"||l=="top"?k={x:Math.round(q-h/2+j.width/2),y:Math.round(r+j.height/2)}:k={x:Math.round(q+j.width/2),y:Math.round(r-i/2+j.height/2)};else{if(f.align!="right")throw"align: not implemented";l=e.orientation,l=="bottom"||l=="top"?k={x:Math.round(q-h/2+j.width/2),y:Math.round(r-i+j.height/2)}:k={x:Math.round(q-h+j.width/2),y:Math.round(r-i/2+j.height/2)}}var s=a.style;s.left=k.x+"px",s.top=k.y+"px",s.display=this.fitsInCanvas(k,g)?"":"none",c.onPlaceLabel(a,b)}}),$jit.ST.Label.SVG=new b({Implements:[$jit.ST.Label.DOM,o.Label.SVG],initialize:function(a){this.viz=a}}),$jit.ST.Label.HTML=new b({Implements:[$jit.ST.Label.DOM,o.Label.HTML],initialize:function(a){this.viz=a}}),$jit.ST.Plot.NodeTypes=new b({none:{render:a.empty,contains:a.lambda(!1)},circle:{render:function(a,b){var c=a.getData("dim"),d=this.getAlignedPos(a.pos.getc(!0),c,c),e=c/2;this.nodeHelper.circle.render("fill",{x:d.x+e,y:d.y+e},e,b)},contains:function(a,b){var c=a.getData("dim"),d=this.getAlignedPos(a.pos.getc(!0),c,c),e=c/2;this.nodeHelper.circle.contains({x:d.x+e,y:d.y+e},b,e)}},square:{render:function(a,b){var c=a.getData("dim"),d=c/2,e=this.getAlignedPos(a.pos.getc(!0),c,c);this.nodeHelper.square.render("fill",{x:e.x+d,y:e.y+d},d,b)},contains:function(a,b){var c=a.getData("dim"),d=this.getAlignedPos(a.pos.getc(!0),c,c),e=c/2;this.nodeHelper.square.contains({x:d.x+e,y:d.y+e},b,e)}},ellipse:{render:function(a,b){var c=a.getData("width"),d=a.getData("height"),e=this.getAlignedPos(a.pos.getc(!0),c,d);this.nodeHelper.ellipse.render("fill",{x:e.x+c/2,y:e.y+d/2},c,d,b)},contains:function(a,b){var c=a.getData("width"),d=a.getData("height"),e=this.getAlignedPos(a.pos.getc(!0),c,d);this.nodeHelper.ellipse.contains({x:e.x+c/2,y:e.y+d/2},b,c,d)}},rectangle:{render:function(a,b){var c=a.getData("width"),d=a.getData("height"),e=this.getAlignedPos(a.pos.getc(!0),c,d);this.nodeHelper.rectangle.render("fill",{x:e.x+c/2,y:e.y+d/2},c,d,b)},contains:function(a,b){var c=a.getData("width"),d=a.getData("height"),e=this.getAlignedPos(a.pos.getc(!0),c,d);this.nodeHelper.rectangle.contains({x:e.x+c/2,y:e.y+d/2},b,c,d)}}}),$jit.ST.Plot.EdgeTypes=new b({none:a.empty,line:{render:function(a,b){var c=this.getOrientation(a),d=a.nodeFrom,e=a.nodeTo,f=d._depth<e._depth,g=this.viz.geom.getEdge(f?d:e,"begin",c),h=this.viz.geom.getEdge(f?e:d,"end",c);this.edgeHelper.line.render(g,h,b)},contains:function(a,b){var c=this.getOrientation(a),d=a.nodeFrom,e=a.nodeTo,f=d._depth<e._depth,g=this.viz.geom.getEdge(f?d:e,"begin",c),h=this.viz.geom.getEdge(f?e:d,"end",c);return this.edgeHelper.line.contains(g,h,b,this.edge.epsilon)}},arrow:{render:function(a,b){var c=this.getOrientation(a),d=a.nodeFrom,e=a.nodeTo,f=a.getData("dim"),g=this.viz.geom.getEdge(d,"begin",c),h=this.viz.geom.getEdge(e,"end",c),i=a.data.$direction,j=i&&i.length>1&&i[0]!=d.id;this.edgeHelper.arrow.render(g,h,f,j,b)},contains:function(a,b){var c=this.getOrientation(a),d=a.nodeFrom,e=a.nodeTo,f=d._depth<e._depth,g=this.viz.geom.getEdge(f?d:e,"begin",c),h=this.viz.geom.getEdge(f?e:d,"end",c);return this.edgeHelper.arrow.contains(g,h,b,this.edge.epsilon)}},"quadratic:begin":{render:function(a,b){var c=this.getOrientation(a),d=a.nodeFrom,e=a.nodeTo,f=d._depth<e._depth,g=this.viz.geom.getEdge(f?d:e,"begin",c),h=this.viz.geom.getEdge(f?e:d,"end",c),i=a.getData("dim"),j=b.getCtx();j.beginPath(),j.moveTo(g.x,g.y);switch(c){case"left":j.quadraticCurveTo(g.x+i,g.y,h.x,h.y);break;case"right":j.quadraticCurveTo(g.x-i,g.y,h.x,h.y);break;case"top":j.quadraticCurveTo(g.x,g.y+i,h.x,h.y);break;case"bottom":j.quadraticCurveTo(g.x,g.y-i,h.x,h.y)}j.stroke()}},"quadratic:end":{render:function(a,b){var c=this.getOrientation(a),d=a.nodeFrom,e=a.nodeTo,f=d._depth<e._depth,g=this.viz.geom.getEdge(f?d:e,"begin",c),h=this.viz.geom.getEdge(f?e:d,"end",c),i=a.getData("dim"),j=b.getCtx();j.beginPath(),j.moveTo(g.x,g.y);switch(c){case"left":j.quadraticCurveTo(h.x-i,h.y,h.x,h.y);break;case"right":j.quadraticCurveTo(h.x+i,h.y,h.x,h.y);break;case"top":j.quadraticCurveTo(h.x,h.y-i,h.x,h.y);break;case"bottom":j.quadraticCurveTo(h.x,h.y+i,h.x,h.y)}j.stroke()}},bezier:{render:function(a,b){var c=this.getOrientation(a),d=a.nodeFrom,e=a.nodeTo,f=d._depth<e._depth,g=this.viz.geom.getEdge(f?d:e,"begin",c),h=this.viz.geom.getEdge(f?e:d,"end",c),i=a.getData("dim"),j=b.getCtx();j.beginPath(),j.moveTo(g.x,g.y);switch(c){case"left":j.bezierCurveTo(g.x+i,g.y,h.x-i,h.y,h.x,h.y);break;case"right":j.bezierCurveTo(g.x-i,g.y,h.x+i,h.y,h.x,h.y);break;case"top":j.bezierCurveTo(g.x,g.y+i,h.x,h.y-i,h.x,h.y);break;case"bottom":j.bezierCurveTo(g.x,g.y-i,h.x,h.y+i,h.x,h.y)}j.stroke()}}}),$jit.ST.Plot.NodeTypes.implement({"areachart-stacked":{render:function(b,c){var d=b.pos.getc(!0),e=b.getData("width"),f=b.getData("height"),g=this.getAlignedPos(d,e,f),h=g.x,i=g.y,j=b.getData("stringArray"),k=b.getData("dimArray"),l=b.getData("valueArray"),m=a.reduce(l,function(a,b){return a+b[0]},0),n=a.reduce(l,function(a,b){return a+b[1]},0),o=b.getData("colorArray"),p=o.length,q=b.getData("config"),r=b.getData("gradient"),s=q.showLabels,t=q.showAggregates,u=q.Label,v=b.getData("prev"),w=c.getCtx(),x=b.getData("border");if(o&&k&&j){for(var y=0,z=k.length,A=0,B=0,C=0;y<z;y++){w.fillStyle=w.strokeStyle=o[y%p],w.save();if(r&&(k[y][0]>0||k[y][1]>0)){var D=A+k[y][0],E=B+k[y][1],F=Math.atan((E-D)/e),G=55,H=w.createLinearGradient(h+e/2,i-(D+E)/2,h+e/2+G*Math.sin(F),i-(D+E)/2+G*Math.cos(F)),I=a.rgbToHex(a.map(a.hexToRgb(o[y%p].slice(1)),function(a){return a*.85>>0}));H.addColorStop(0,o[y%p]),H.addColorStop(1,I),w.fillStyle=H}w.beginPath(),w.moveTo(h,i-A),w.lineTo(h+e,i-B),w.lineTo(h+e,i-B-k[y][1]),w.lineTo(h,i-A-k[y][0]),w.lineTo(h,i-A),w.fill(),w.restore();if(x){var J=x.name==j[y],K=J?.7:.8,I=a.rgbToHex(a.map(a.hexToRgb(o[y%p].slice(1)),function(a){return a*K>>0}));w.strokeStyle=I,w.lineWidth=J?4:1,w.save(),w.beginPath(),x.index===0?(w.moveTo(h,i-A),w.lineTo(h,i-A-k[y][0])):(w.moveTo(h+e,i-B),w.lineTo(h+e,i-B-k[y][1])),w.stroke(),w.restore()}A+=k[y][0]||0,B+=k[y][1]||0,k[y][0]>0&&(C+=l[y][0]||0)}if(v&&u.type=="Native"){w.save(),w.beginPath(),w.fillStyle=w.strokeStyle=u.color,w.font=u.style+" "+u.size+"px "+u.family,w.textAlign="center",w.textBaseline="middle";var L=t(b.name,m,n,b,C);L!==!1&&w.fillText(L!==!0?L:C,h,i-A-q.labelOffset-u.size/2,e),s(b.name,m,n,b)&&w.fillText(b.name,h,i+u.size/2+q.labelOffset),w.restore()}}},contains:function(a,b){var c=a.pos.getc(!0),d=a.getData("width"),e=a.getData("height"),f=this.getAlignedPos(c,d,e),g=f.x,h=f.y,i=a.getData("dimArray"),j=b.x-g;if(b.x<g||b.x>g+d||b.y>h||b.y<h-e)return!1;for(var k=0,l=i.length,m=h,n=h;k<l;k++){var o=i[k];m-=o[0],n-=o[1];var p=m+(n-m)*j/d;if(b.y>=p){var q=+(j>d/2);return{name:a.getData("stringArray")[k],color:a.getData("colorArray")[k],value:a.getData("valueArray")[k][q],index:q}}}return!1}}}),$jit.AreaChart=new b({st:null,colors:["#416D9C","#70A35E","#EBB056","#C74243","#83548B","#909291","#557EAA"],selected:{},busy:!1,initialize:function(b){this.controller=this.config=a.merge(e("Canvas","Margin","Label","AreaChart"),{Label:{type:"Native"}},b);var c=this.config.showLabels,d=a.type(c),f=this.config.showAggregates,g=a.type(f);this.config.showLabels=d=="function"?c:a.lambda(c),this.config.showAggregates=g=="function"?f:a.lambda(f),this.initializeViz()},initializeViz:function(){var b=this.config,c=this,d=b.type.split(":")[0],e={},f=new $jit.ST({injectInto:b.injectInto,width:b.width,height:b.height,orientation:"bottom",levelDistance:0,siblingOffset:0,subtreeOffset:0,withLabels:b.Label.type!="Native",useCanvas:b.useCanvas,Label:{type:b.Label.type},Node:{overridable:!0,type:"areachart-"+d,align:"left",width:1,height:1},Edge:{type:"none"},Tips:{enable:b.Tips.enable,type:"Native",force:!0,onShow:function(a,c,d){var e=d;b.Tips.onShow(a,e,c)}},Events:{enable:!0,type:"Native",onClick:function(a,d,e){if(!b.filterOnClick&&!b.Events.enable)return;var f=d.getContains();f&&b.filterOnClick&&c.filter(f.name),b.Events.enable&&b.Events.onClick(f,d,e)},onRightClick:function(a,d,e){if(!b.restoreOnRightClick)return;c.restore()},onMouseMove:function(a,d,e){if(!b.selectOnHover)return;if(a){var f=d.getContains();c.select(a.id,f.name,f.index)}else c.select(!1,!1,!1)}},onCreateLabel:function(c,d){var f=b.Label,g=d.getData("valueArray"),h=a.reduce(g,function(a,b){return a+b[0]},0),i=a.reduce(g,function(a,b){return a+b[1]},0);if(d.getData("prev")){var j={wrapper:document.createElement("div"),aggregate:document.createElement("div"),label:document.createElement("div")},k=j.wrapper,l=j.label,m=j.aggregate,n=k.style,o=l.style,p=m.style;e[d.id]=j,k.appendChild(l),k.appendChild(m),b.showLabels(d.name,h,i,d)||(l.style.display="none"),b.showAggregates(d.name,h,i,d)||(m.style.display="none"),n.position="relative",n.overflow="visible",n.fontSize=f.size+"px",n.fontFamily=f.family,n.color=f.color,n.textAlign="center",p.position=o.position="absolute",c.style.width=d.getData("width")+"px",c.style.height=d.getData("height")+"px",l.innerHTML=d.name,c.appendChild(k)}},onPlaceLabel:function(c,d){if(!d.getData("prev"))return;var f=e[d.id],g=f.wrapper.style,h=f.label.style,i=f.aggregate.style,j=d.getData("width"),k=d.getData("height"),l=d.getData("dimArray"),m=d.getData("valueArray"),n=a.reduce(m,function(a,b){return a+b[0]},0),o=a.reduce(m,function(a,b){return a+b[1]},0),p=parseInt(g.fontSize,10),q=c.style;if(l&&m){b.showLabels(d.name,n,o,d)?h.display="":h.display="none";var r=b.showAggregates(d.name,n,o,d);r!==!1?i.display="":i.display="none",g.width=i.width=h.width=c.style.width=j+"px",i.left=h.left=-j/2+"px";for(var s=0,t=m.length,u=0,v=0;s<t;s++)l[s][0]>0&&(u+=m[s][0],v+=l[s][0]);i.top=-p-b.labelOffset+"px",h.top=b.labelOffset+v+"px",c.style.top=parseInt(c.style.top,10)-v+"px",c.style.height=g.height=v+"px",f.aggregate.innerHTML=r!==!0?r:u}}}),g=f.canvas.getSize(),h=b.Margin;f.config.offsetY=-g.height/2+h.bottom+(b.showLabels&&b.labelOffset+b.Label.size),f.config.offsetX=(h.right-h.left)/2,this.delegate=f,this.canvas=this.delegate.canvas},loadJSON:function(b){var c=a.time(),d=[],e=this.delegate,f=a.splat(b.label),g=a.splat(b.color||this.colors),h=this.config,i=!!h.type.split(":")[1],j=h.animate;for(var k=0,l=b.values,m=l.length;k<m-1;k++){var n=l[k],o=l[k-1],p=l[k+1],q=a.splat(l[k].values),r=a.splat(l[k+1].values),s=a.zip(q,r),t=0,u=0;d.push({id:c+n.label,name:n.label,data:{value:s,$valueArray:s,$colorArray:g,$stringArray:f,$next:p.label,$prev:o?o.label:!1,$config:h,$gradient:i},children:[]})}var v={id:c+"$root",name:"",data:{$type:"none",$width:1,$height:1},children:d};e.loadJSON(v),this.normalizeDims(),e.compute(),e.select(e.root),j&&e.fx.animate({modes:["node-property:height:dimArray"],duration:1500})},updateJSON:function(b,c){if(this.busy)return;this.busy=!0;var d=this.delegate,e=d.graph,f=b.label&&a.splat(b.label),g=b.values,h=this.config.animate,i=this,j={};for(var k=0,l=g.length;k<l;k++)j[g[k].label]=g[k];e.eachNode(function(b){var c=j[b.name],d=b.getData("stringArray"),e=b.getData("valueArray"),g=b.getData("next");c&&(c.values=a.splat(c.values),a.each(e,function(a,b){a[0]=c.values[b],f&&(d[b]=f[b])}),b.setData("valueArray",e)),g&&(c=j[g],c&&a.each(e,function(a,b){a[1]=c.values[b]}))}),this.normalizeDims(),d.compute(),d.select(d.root),h&&d.fx.animate({modes:["node-property:height:dimArray"],duration:1500,onComplete:function(){i.busy=!1,c&&c.onComplete()}})},filter:function(b,c){if(this.busy)return;this.busy=!0,this.config.Tips.enable&&this.delegate.tips.hide(),this.select(!1,!1,!1);var d=a.splat(b),e=this.delegate.graph.getNode(this.delegate.root),f=this;this.normalizeDims(),e.eachAdjacency(function(b){var c=b.nodeTo,e=c.getData("dimArray","end"),f=c.getData("stringArray");c.setData("dimArray",a.map(e,function(b,c){return a.indexOf(d,f[c])>-1?b:[0,0]}),"end")}),this.delegate.fx.animate({modes:["node-property:dimArray"],duration:1500,onComplete:function(){f.busy=!1,c&&c.onComplete()}})},restore:function(a){if(this.busy)return;this.busy=!0,this.config.Tips.enable&&this.delegate.tips.hide(),this.select(!1,!1,!1),this.normalizeDims();var b=this;this.delegate.fx.animate({modes:["node-property:height:dimArray"],duration:1500,onComplete:function(){b.busy=!1,a&&a.onComplete()}})},select:function(a,b,c){if(!this.config.selectOnHover)return;var d=this.selected;if(d.id!=a||d.name!=b||d.index!=c){d.id=a,d.name=b,d.index=c,this.delegate.graph.eachNode(function(a){a.setData("border",!1)});if(a){var e=this.delegate.graph.getNode(a);e.setData("border",d);var f=c===0?"prev":"next";f=e.getData(f),f&&(e=this.delegate.graph.getByName(f),e&&e.setData("border",{name:b,index:1-c}))}this.delegate.plot()}},getLegend:function(){var b={},c;this.delegate.graph.getNode(this.delegate.root).eachAdjacency(function(a){c=a.nodeTo});var d=c.getData("colorArray"),e=d.length;return a.each(c.getData("stringArray"),function(a,c){b[a]=d[c%e]}),b},getMaxValue:function(){var b=0;return this.delegate.graph.eachNode(function(c){var d=c.getData("valueArray"),e=0,f=0;a.each(d,function(a){e+=+a[0],f+=+a[1]});var g=f>e?f:e;b=b>g?b:g}),b},normalizeDims:function(){var b=this.delegate.graph.getNode(this.delegate.root),c=0;b.eachAdjacency(function(){c++});var d=this.getMaxValue()||1,e=this.delegate.canvas.getSize(),f=this.config,g=f.Margin,h=f.labelOffset+f.Label.size,i=(e.width-(g.left+g.right))/c,j=f.animate,k=e.height-(g.top+g.bottom)-(f.showAggregates&&h)-(f.showLabels&&h);this.delegate.graph.eachNode(function(b){var c=0,e=0,f=[];a.each(b.getData("valueArray"),function(a){c+=+a[0],e+=+a[1],f.push([0,0])});var g=e>c?e:c;b.setData("width",i);if(j){b.setData("height",g*k/d,"end"),b.setData("dimArray",a.map(b.getData("valueArray"),function(a){return[a[0]*k/d,a[1]*k/d]}),"end");var h=b.getData("dimArray");h||b.setData("dimArray",f)}else b.setData("height",g*k/d),b.setData("dimArray",a.map(b.getData("valueArray"),function(a){return[a[0]*k/d,a[1]*k/d]}))})}}),e.BarChart={$extend:!0,animate:!0,type:"stacked",labelOffset:3,barsOffset:0,hoveredColor:"#9fd4ff",orientation:"horizontal",showAggregates:!0,showLabels:!0,Tips:{enable:!1,onShow:a.empty,onHide:a.empty},Events:{enable:!1,onClick:a.empty}},$jit.ST.Plot.NodeTypes.implement({"barchart-stacked":{render:function(b,c){var d=b.pos.getc(!0),e=b.getData("width"),f=b.getData("height"),g=this.getAlignedPos(d,e,f),h=g.x,i=g.y,j=b.getData("dimArray"),k=b.getData("valueArray"),l=b.getData("colorArray"),m=l.length,n=b.getData("stringArray"),o=c.getCtx(),p={},q=b.getData("border"),r=b.getData("gradient"),s=b.getData("config"),t=s.orientation=="horizontal",u=s.showAggregates,v=s.showLabels,w=s.Label;if(l&&j&&n){for(var x=0,y=j.length,z=0,A=0;x<y;x++){o.fillStyle=o.strokeStyle=l[x%m];if(r){var B;t?B=o.createLinearGradient(h+z+j[x]/2,i,h+z+j[x]/2,i+f):B=o.createLinearGradient(h,i-z-j[x]/2,h+e,i-z-j[x]/2);var C=a.rgbToHex(a.map(a.hexToRgb(l[x%m].slice(1)),function(a){return a*.5>>0}));B.addColorStop(0,C),B.addColorStop(.5,l[x%m]),B.addColorStop(1,C),o.fillStyle=B}t?o.fillRect(h+z,i,j[x],f):o.fillRect(h,i-z-j[x],e,j[x]),q&&q.name==n[x]&&(p.acum=z,p.dimValue=j[x]),z+=j[x]||0,A+=k[x]||0}q&&(o.save(),o.lineWidth=2,o.strokeStyle=q.color,t?o.strokeRect(h+p.acum+1,i+1,p.dimValue-2,f-2):o.strokeRect(h+1,i-p.acum-p.dimValue+1,e-2,p.dimValue-2),o.restore());if(w.type=="Native"){o.save(),o.fillStyle=o.strokeStyle=w.color,o.font=w.style+" "+w.size+"px "+w.family,o.textBaseline="middle";var D=u(b.name,A,b);D!==!1&&(D=D!==!0?D:A,t?(o.textAlign="right",o.fillText(D,h+z-s.labelOffset,i+f/2)):(o.textAlign="center",o.fillText(D,h+e/2,i-f-w.size/2-s.labelOffset))),v(b.name,A,b)&&(t?(o.textAlign="center",o.translate(h-s.labelOffset-w.size/2,i+f/2),o.rotate(Math.PI/2),o.fillText(b.name,0,0)):(o.textAlign="center",o.fillText(b.name,h+e/2,i+w.size/2+s.labelOffset))),o.restore()}}},contains:function(a,b){var c=a.pos.getc(!0),d=a.getData("width"),e=a.getData("height"),f=this.getAlignedPos(c,d,e),g=f.x,h=f.y,i=a.getData("dimArray"),j=a.getData("config"),k=b.x-g,l=j.orientation=="horizontal";if(l){if(b.x<g||b.x>g+d||b.y>h+e||b.y<h)return!1}else if(b.x<g||b.x>g+d||b.y>h||b.y<h-e)return!1;for(var m=0,n=i.length,o=l?g:h;m<n;m++){var p=i[m];if(l){o+=p;var q=o;if(b.x<=q)return{name:a.getData("stringArray")[m],color:a.getData("colorArray")[m],value:a.getData("valueArray")[m],label:a.name}}else{o-=p;var q=o;if(b.y>=q)return{name:a.getData("stringArray")[m],color:a.getData("colorArray")[m],value:a.getData("valueArray")[m],label:a.name}}}return!1}},"barchart-grouped":{render:function(b,c){var d=b.pos.getc(!0),e=b.getData("width"),f=b.getData("height"),g=this.getAlignedPos(d,e,f),h=g.x,i=g.y,j=b.getData("dimArray"),k=b.getData("valueArray"),l=k.length,m=b.getData("colorArray"),n=m.length,o=b.getData("stringArray"),p=c.getCtx(),q={},r=b.getData("border"),s=b.getData("gradient"),t=b.getData("config"),u=t.orientation=="horizontal",v=t.showAggregates,w=t.showLabels,x=t.Label,y=(u?f:e)/l;if(m&&j&&o){for(var z=0,A=l,B=0,C=0;z<A;z++){p.fillStyle=p.strokeStyle=m[z%n];if(s){var D;u?D=p.createLinearGradient(h+j[z]/2,i+y*z,h+j[z]/2,i+y*(z+1)):D=p.createLinearGradient(h+y*z,i-j[z]/2,h+y*(z+1),i-j[z]/2);var E=a.rgbToHex(a.map(a.hexToRgb(m[z%n].slice(1)),function(a){return a*.5>>0}));D.addColorStop(0,E),D.addColorStop(.5,m[z%n]),D.addColorStop(1,E),p.fillStyle=D}u?p.fillRect(h,i+y*z,j[z],y):p.fillRect(h+y*z,i-j[z],y,j[z]),r&&r.name==o[z]&&(q.acum=y*z,q.dimValue=j[z]),B+=j[z]||0,C+=k[z]||0}r&&(p.save(),p.lineWidth=2,p.strokeStyle=r.color,u?p.strokeRect(h+1,i+q.acum+1,q.dimValue-2,y-2):p.strokeRect(h+q.acum+1,i-q.dimValue+1,y-2,q.dimValue-2),p.restore());if(x.type=="Native"){p.save(),p.fillStyle=p.strokeStyle=x.color,p.font=x.style+" "+x.size+"px "+x.family,p.textBaseline="middle";var F=v(b.name,C,b);F!==!1&&(F=F!==!0?F:C,u?(p.textAlign="right",p.fillText(F,h+Math.max.apply(null,j)-t.labelOffset,i+f/2)):(p.textAlign="center",p.fillText(F,h+e/2,i-Math.max.apply(null,j)-x.size/2-t.labelOffset))),w(b.name,C,b)&&(u?(p.textAlign="center",p.translate(h-t.labelOffset-x.size/2,i+f/2),p.rotate(Math.PI/2),p.fillText(b.name,0,0)):(p.textAlign="center",p.fillText(b.name,h+e/2,i+x.size/2+t.labelOffset))),p.restore()}}},contains:function(a,b){var c=a.pos.getc(!0),d=a.getData("width"),e=a.getData("height"),f=this.getAlignedPos(c,d,e),g=f.x,h=f.y,i=a.getData("dimArray"),j=i.length,k=a.getData("config"),l=b.x-g,m=k.orientation=="horizontal",n=(m?e:d)/j;if(m){if(b.x<g||b.x>g+d||b.y>h+e||b.y<h)return!1}else if(b.x<g||b.x>g+d||b.y>h||b.y<h-e)return!1;for(var o=0,p=i.length;o<p;o++){var q=i[o];if(m){var r=h+n*o;if(b.x<=g+q&&b.y>=r&&b.y<=r+n)return{name:a.getData("stringArray")[o],color:a.getData("colorArray")[o],value:a.getData("valueArray")[o],label:a.name}}else{var r=g+n*o;if(b.x>=r&&b.x<=r+n&&b.y>=h-q)return{name:a.getData("stringArray")[o],color:a.getData("colorArray")[o],value:a.getData("valueArray")[o],label:a.name}}}return!1}}}),$jit.BarChart=new b({st:null,colors:["#416D9C","#70A35E","#EBB056","#C74243","#83548B","#909291","#557EAA"],selected:{},busy:!1,initialize:function(b){this.controller=this.config=a.merge(e("Canvas","Margin","Label","BarChart"),{Label:{type:"Native"}},b);var c=this.config.showLabels,d=a.type(c),f=this.config.showAggregates,g=a.type(f);this.config.showLabels=d=="function"?c:a.lambda(c),this.config.showAggregates=g=="function"?f:a.lambda(f),this.initializeViz()},initializeViz:function(){var b=this.config,c=this,d=b.type.split(":")[0],e=b.orientation=="horizontal",f={},g=new $jit.ST({injectInto:b.injectInto,width:b.width,height:b.height,orientation:e?"left":"bottom",levelDistance:0,siblingOffset:b.barsOffset,subtreeOffset:0,withLabels:b.Label.type!="Native",useCanvas:b.useCanvas,Label:{type:b.Label.type},Node:{overridable:!0,type:"barchart-"+d,align:"left",width:1,height:1},Edge:{type:"none"},Tips:{enable:b.Tips.enable,type:"Native",force:!0,onShow:function(a,c,d){var e=d;b.Tips.onShow(a,e,c)}},Events:{enable:!0,type:"Native",onClick:function(a,c,d){if(!b.Events.enable)return;var e=c.getContains();b.Events.onClick(e,c,d)},onMouseMove:function(a,d,e){if(!b.hoveredColor)return;if(a){var f=d.getContains();c.select(a.id,f.name,f.index)}else c.select(!1,!1,!1)}},onCreateLabel:function(c,d){var e=b.Label,g=d.getData("valueArray"),h=a.reduce(g,function(a,b){return a+b},0),i={wrapper:document.createElement("div"),aggregate:document.createElement("div"),label:document.createElement("div")},j=i.wrapper,k=i.label,l=i.aggregate,m=j.style,n=k.style,o=l.style;f[d.id]=i,j.appendChild(k),j.appendChild(l),b.showLabels(d.name,h,d)||(n.display="none"),b.showAggregates(d.name,h,d)||(o.display="none"),m.position="relative",m.overflow="visible",m.fontSize=e.size+"px",m.fontFamily=e.family,m.color=e.color,m.textAlign="center",o.position=n.position="absolute",c.style.width=d.getData("width")+"px",c.style.height=d.getData("height")+"px",o.left=n.left="0px",k.innerHTML=d.name,c.appendChild(j)},onPlaceLabel:function(a,c){if(!f[c.id])return;var d=f[c.id],e=d.wrapper.style,g=d.label.style,h=d.aggregate.style,i=b.type.split(":")[0]=="grouped",j=b.orientation=="horizontal",k=c.getData("dimArray"),l=c.getData("valueArray"),m=i&&j?Math.max.apply(null,k):c.getData("width"),n=i&&!j?Math.max.apply(null,k):c.getData("height"),o=parseInt(e.fontSize,10),p=a.style;if(k&&l){e.width=h.width=g.width=a.style.width=m+"px";for(var q=0,r=l.length,s=0;q<r;q++)k[q]>0&&(s+=l[q]);b.showLabels(c.name,s,c)?g.display="":g.display="none";var t=b.showAggregates(c.name,s,c);t!==!1?h.display="":h.display="none",b.orientation=="horizontal"?(h.textAlign="right",g.textAlign="left",g.textIndex=h.textIndent=b.labelOffset+"px",h.top=g.top=(n-o)/2+"px",a.style.height=e.height=n+"px"):(h.top=-o-b.labelOffset+"px",g.top=b.labelOffset+n+"px",a.style.top=parseInt(a.style.top,10)-n+"px",a.style.height=e.height=n+"px"),d.aggregate.innerHTML=t!==!0?t:s}}}),h=g.canvas.getSize(),i=b.Margin;e?(g.config.offsetX=h.width/2-i.left-(b.showLabels&&b.labelOffset+b.Label.size),g.config.offsetY=(i.bottom-i.top)/2):(g.config.offsetY=-h.height/2+i.bottom+(b.showLabels&&b.labelOffset+b.Label.size),g.config.offsetX=(i.right-i.left)/2),this.delegate=g,this.canvas=this.delegate.canvas},loadJSON:function(b){if(this.busy)return;this.busy=!0;var c=a.time(),d=[],e=this.delegate,f=a.splat(b.label),g=a.splat(b.color||this.colors),h=this.config,i=!!h.type.split(":")[1],j=h.animate,k=h.orientation=="horizontal",l=this;for(var m=0,n=b.values,o=n.length;m<o;m++){var p=n[m],q=a.splat(n[m].values),r=0;d.push({id:c+p.label,name:p.label,data:{value:q,$valueArray:q,$colorArray:g,$stringArray:f,$gradient:i,$config:h},children:[]})}var s={id:c+"$root",name:"",data:{$type:"none",$width:1,$height:1},children:d};e.loadJSON(s),this.normalizeDims(),e.compute(),e.select(e.root),j?k?e.fx.animate({modes:["node-property:width:dimArray"],duration:1500,onComplete:function(){l.busy=!1}}):e.fx.animate({modes:["node-property:height:dimArray"],duration:1500,onComplete:function(){l.busy=!1}}):this.busy=!1},updateJSON:function(b,c){if(this.busy)return;this.busy=!0,this.select(!1,!1,!1);var d=this.delegate,e=d.graph,f=b.values,g=this.config.animate,h=this,i=this.config.orientation=="horizontal";a.each(f,function(c){var d=e.getByName(c.label);d&&(d.setData("valueArray",a.splat(c.values)),b.label&&d.setData("stringArray",a.splat(b.label)))}),this.normalizeDims(),d.compute(),d.select(d.root),g&&(i?d.fx.animate({modes:["node-property:width:dimArray"],duration:1500,onComplete:function(){h.busy=!1,c&&c.onComplete()}}):d.fx.animate({modes:["node-property:height:dimArray"],duration:1500,onComplete:function(){h.busy=!1,c&&c.onComplete()}}))},select:function(a,b){if(!this.config.hoveredColor)return;var c=this.selected;if(c.id!=a||c.name!=b)c.id=a,c.name=b,c.color=this.config.hoveredColor,this.delegate.graph.eachNode(function(b){a==b.id?b.setData("border",c):b.setData("border",!1)}),this.delegate.plot()},getLegend:function(){var b={},c;this.delegate.graph.getNode(this.delegate.root).eachAdjacency(function(a){c=a.nodeTo});var d=c.getData("colorArray"),e=d.length;return a.each(c.getData("stringArray"),function(a,c){b[a]=d[c%e]}),b},getMaxValue:function(){var b=0,c=this.config.type.split(":")[0]=="stacked";return this.delegate.graph.eachNode(function(d){var e=d.getData("valueArray"),f=0;if(!e)return;c?a.each(e,function(a){f+=+a}):f=Math.max.apply(null,e),b=b>f?b:f}),b},setBarType:function(a){this.config.type=a,this.delegate.config.Node.type="barchart-"+a.split(":")[0]},normalizeDims:function(){var b=this.delegate.graph.getNode(this.delegate.root),c=0;b.eachAdjacency(function(){c++});var d=this.getMaxValue()||1,e=this.delegate.canvas.getSize(),f=this.config,g=f.Margin,h=g.left+g.right,i=g.top+g.bottom,j=f.orientation=="horizontal",k=(e[j?"height":"width"]-(j?i:h)-(c-1)*f.barsOffset)/c,l=f.animate,m=e[j?"width":"height"]-(j?h:i)-(!j&&f.showAggregates&&f.Label.size+f.labelOffset)-(f.showLabels&&f.Label.size+f.labelOffset),n=j?"height":"width",o=j?"width":"height";this.delegate.graph.eachNode(function(b){var c=0,e=[];a.each(b.getData("valueArray"),function(a){c+=+a,e.push(0)}),b.setData(n,k);if(l){b.setData(o,c*m/d,"end"),b.setData("dimArray",a.map(b.getData("valueArray"),function(a){return a*m/d}),"end");var f=b.getData("dimArray");f||b.setData("dimArray",e)}else b.setData(o,c*m/d),b.setData("dimArray",a.map(b.getData("valueArray"),function(a){return a*m/d}))})}}),e.PieChart={$extend:!0,animate:!0,offset:25,sliceOffset:0,labelOffset:3,type:"stacked",hoveredColor:"#9fd4ff",Events:{enable:!1,onClick:a.empty},Tips:{enable:!1,onShow:a.empty,onHide:a.empty},showLabels:!0,resizeLabels:!1,updateHeights:!1},t.Radial=new b({compute:function(b){var c=a.splat(b||["current","start","end"]);u.compute(this.graph,c,this.config),this.graph.computeLevels(this.root,0,"ignore");var d=this.createLevelDistanceFunc();this.computeAngularWidths(c),this.computePositions(c,d)},computePositions:function(a,b){var c=a,d=this.graph,e=d.getNode(this.root),f=this.parent,g=this.config;for(var h=0,i=c.length;h<i;h++){var j=c[h];e.setPos(l(0,0),j),e.setData("span",Math.PI*2,j)}e.angleSpan={begin:0,end:2*Math.PI},d.eachBFS(this.root,function(a){var d=a.angleSpan.end-a.angleSpan.begin,e=a.angleSpan.begin,g=b(a),h=0,i=[],j={};a.eachSubnode(function(a){h+=a._treeAngularWidth;for(var b=0,d=c.length;b<d;b++){var e=c[b],f=a.getData("dim",e);j[e]=e in j?f>j[e]?f:j[e]:f}i.push(a)},"ignore"),f&&f.id==a.id&&i.length>0&&i[0].dist&&i.sort(function(a,b){return(a.dist>=b.dist)-(a.dist<=b.dist)});for(var k=0,m=i.length;k<m;k++){var n=i[k];if(!n._flag){var o=n._treeAngularWidth/h*d,p=e+o/2;for(var q=0,r=c.length;q<r;q++){var s=c[q];n.setPos(l(p,g),s),n.setData("span",o,s),n.setData("dim-quotient",n.getData("dim",s)/j[s],s)}n.angleSpan={begin:e,end:e+o},e+=o}}},"ignore")},setAngularWidthForNodes:function(a){this.graph.eachBFS(this.root,function(b,c){var d=b.getData("angularWidth",a[0])||5;b._angularWidth=d/c},"ignore")},setSubtreesAngularWidth:function(){var a=this;this.graph.eachNode(function(b){a.setSubtreeAngularWidth(b)},"ignore")},setSubtreeAngularWidth:function(a){var b=this,c=a._angularWidth,d=0;a.eachSubnode(function(a){b.setSubtreeAngularWidth(a),d+=a._treeAngularWidth},"ignore"),a._treeAngularWidth=Math.max(c,d)},computeAngularWidths:function(a){this.setAngularWidthForNodes(a),this.setSubtreesAngularWidth()}}),$jit.Sunburst=new b({Implements:[s,i,t.Radial],initialize:function(b){var c=$jit.Sunburst,d={interpolation:"linear",levelDistance:100,Node:{type:"multipie",height:0},Edge:{type:"none"},Label:{textAlign:"start",textBaseline:"middle"}};this.controller=this.config=a.merge(e("Canvas","Node","Edge","Fx","Tips","NodeStyles","Events","Navigation","Controller","Label"),d,b);var f=this.config;f.useCanvas?(this.canvas=f.useCanvas,this.config.labelContainer=this.canvas.id+"-label"):(f.background&&(f.background=a.merge({type:"Circles"},f.background)),this.canvas=new j(this,f),this.config.labelContainer=(typeof f.injectInto=="string"?f.injectInto:f.injectInto.id)+"-label"),this.graphOptions={klass:k,Node:{selected:!1,exist:!0,drawn:!0}},this.graph=new o(this.graphOptions,this.config.Node,this.config.Edge),this.labels=new c.Label[f.Label.type](this),this.fx=new c.Plot(this,c),this.op=new c.Op(this),this.json=null,this.root=null,this.rotated=null,this.busy=!1,this.initializeExtras()},createLevelDistanceFunc:function(){var a=this.config.levelDistance;return function(b){return(b._depth+1)*a}},refresh:function(){this.compute(),this.plot()},reposition:function(){this.compute("end")},rotate:function(a,b,c){var d=a.getPos(c.property||"current").getp(!0).theta;this.rotated=a,this.rotateAngle(-d,b,c)},rotateAngle:function(b,c,d){var e=this,f=a.merge(this.config,d||{},{modes:["polar"]}),g=d.property||(c==="animate"?"end":"current");c==="animate"&&this.fx.animation.pause(),this.graph.eachNode(function(a){var c=a.getPos(g);c.theta+=b,c.theta<0&&(c.theta+=Math.PI*2)}),c=="animate"?this.fx.animate(f):c=="replot"&&(this.fx.plot(),this.busy=!1)},plot:function(){this.fx.plot()}}),$jit.Sunburst.$extend=!0,function(c){c.Op=new b({Implements:o.Op}),c.Plot=new b({Implements:o.Plot}),c.Label={},c.Label.Native=new b({Implements:o.Label.Native,initialize:function(a){this.viz=a,this.label=a.config.Label,this.config=a.config},renderLabel:function(a,b,c){var d=b.getData("span");if(d<Math.PI/2&&Math.tan(d)*this.config.levelDistance*b._depth<10)return;var e=a.getCtx(),f=e.measureText(b.name);if(b.id==this.viz.root)var g=-f.width/2,h=0,i=0,j=0;else{var k=5,j=c.levelDistance-k,l=b.pos.clone();l.rho+=k;var m=l.getp(!0),n=l.getc(!0),g=n.x,h=n.y,o=Math.PI,p=m.theta>o/2&&m.theta<3*o/2,i=p?m.theta+o:m.theta;p?(g-=Math.abs(Math.cos(m.theta)*f.width),h+=Math.sin(m.theta)*f.width):b.id==this.viz.root&&(g-=f.width/2)}e.save(),e.translate(g,h),e.rotate(i),e.fillText(b.name,0,0),e.restore()}}),c.Label.SVG=new b({Implements:o.Label.SVG,initialize:function(a){this.viz=a},placeLabel:function(a,b,c){var d=b.pos.getc(!0),e=this.viz,f=this.viz.canvas,g=f.getSize(),h={x:Math.round(d.x+g.width/2),y:Math.round(d.y+g.height/2)};a.setAttribute("x",h.x),a.setAttribute("y",h.y);var i=a.getBBox();if(i){var j=a.getAttribute("x"),k=a.getAttribute("y"),l=b.pos.getp(!0),m=Math.PI,n=l.theta>m/2&&l.theta<3*m/2;n?(a.setAttribute("x",j-i.width),a.setAttribute("y",k-i.height)):b.id==e.root&&a.setAttribute("x",j-i.width/2);var o=n?l.theta+m:l.theta;b._depth&&a.setAttribute("transform","rotate("+o*360/(2*m)+" "+j+" "+k+")")}c.onPlaceLabel(a,b)}}),c.Label.HTML=new b({Implements:o.Label.HTML,initialize:function(a){this.viz=a},placeLabel:function(a,b,c){var d=b.pos.clone(),e=this.viz.canvas,f=b.getData("height"),g=(f||b._depth==0?f:this.viz.config.levelDistance)/2,h=e.getSize();d.rho+=g,d=d.getc(!0);var i={x:Math.round(d.x+h.width/2),y:Math.round(d.y+h.height/2)},j=a.style;j.left=i.x+"px",j.top=i.y+"px",j.display=this.fitsInCanvas(i,e)?"":"none",c.onPlaceLabel(a,b)}}),c.Plot.NodeTypes=new b({none:{render:a.empty,contains:a.lambda(!1),anglecontains:function(a,b){var c=a.getData("span")/2,d=a.pos.theta,e=d-c,f=d+c;e<0&&(e+=Math.PI*2);var g=Math.atan2(b.y,b.x);return g<0&&(g+=Math.PI*2),e>f?g>e&&g<=Math.PI*2||g<f:g>e&&g<f}},pie:{render:function(a,b){var c=a.getData("span")/2,d=a.pos.theta,e=d-c,f=d+c,g=a.pos.getp(!0),h=new k(g.rho,e),i=h.getc(!0);h.theta=f;var j=h.getc(!0),l=b.getCtx();l.beginPath(),l.moveTo(0,0),l.lineTo(i.x,i.y),l.moveTo(0,0),l.lineTo(j.x,j.y),l.moveTo(0,0),l.arc(0,0,g.rho*a.getData("dim-quotient"),e,f,!1),l.fill()},contains:function(a,b){if(this.nodeTypes.none.anglecontains.call(this,a,b)){var c=Math.sqrt(b.x*b.x+b.y*b.y),d=this.config.levelDistance,e=a._depth;return c<=d*e}return!1}},multipie:{render:function(a,b){var c=a.getData("height"),d=c?c:this.config.levelDistance,e=a.getData("span")/2,f=a.pos.theta,g=f-e,h=f+e,i=a.pos.getp(!0),j=new k(i.rho,g),l=j.getc(!0);j.theta=h;var m=j.getc(!0);j.rho+=d;var n=j.getc(!0);j.theta=g;var o=j.getc(!0),p=b.getCtx();p.moveTo(0,0),p.beginPath(),p.arc(0,0,i.rho,g,h,!1),p.arc(0,0,i.rho+d,h,g,!0),p.moveTo(l.x,l.y),p.lineTo(o.x,o.y),p.moveTo(m.x,m.y),p.lineTo(n.x,n.y),p.fill(),a.collapsed&&(p.save(),p.lineWidth=2,p.moveTo(0,0),p.beginPath(),p.arc(0,0,i.rho+d+5,h-.01,g+.01,!0),p.stroke(),p.restore())},contains:function(a,b){if(this.nodeTypes.none.anglecontains.call(this,a,b)){var c=Math.sqrt(b.x*b.x+b.y*b.y),d=a.getData("height"),e=d?d:this.config.levelDistance,f=this.config.levelDistance,g=a._depth;return c>=f*g&&c<=f*g+e}return!1}},"gradient-multipie":{render:function(b,c){var d=c.getCtx(),e=b.getData("height"),f=e?e:this.config.levelDistance,g=d.createRadialGradient(0,0,b.getPos().rho,0,0,b.getPos().rho+f),h=a.hexToRgb(b.getData("color")),i=[];a.each(h,function(a){i.push(parseInt(a*.5,10))});var j=a.rgbToHex(i);g.addColorStop(0,j),g.addColorStop(1,b.getData("color")),d.fillStyle=g,this.nodeTypes.multipie.render.call(this,b,c)},contains:function(a,b){return this.nodeTypes.multipie.contains.call(this,a,b)}},"gradient-pie":{render:function(b,c){var d=c.getCtx(),e=d.createRadialGradient(0,0,0,0,0,b.getPos().rho),f=a.hexToRgb(b.getData("color")),g=[];a.each(f,function(a){g.push(parseInt(a*.5,10))});var h=a.rgbToHex(g);e.addColorStop(1,h),e.addColorStop(0,b.getData("color")),d.fillStyle=e,this.nodeTypes.pie.render.call(this,b,c)},contains:function(a,b){return this.nodeTypes.pie.contains.call(this,a,b)}}}),c.Plot.EdgeTypes=new b({none:a.empty,line:{render:function(a,b){var c=a.nodeFrom.pos.getc(!0),d=a.nodeTo.pos.getc(!0);this.edgeHelper.line.render(c,d,b)},contains:function(a,b){var c=a.nodeFrom.pos.getc(!0),d=a.nodeTo.pos.getc(!0);return this.edgeHelper.line.contains(c,d,b,this.edge.epsilon)}},arrow:{render:function(a,b){var c=a.nodeFrom.pos.getc(!0),d=a.nodeTo.pos.getc(!0),e=a.getData("dim"),f=a.data.$direction,g=f&&f.length>1&&f[0]!=a.nodeFrom.id;this.edgeHelper.arrow.render(c,d,e,g,b)},contains:function(a,b){var c=a.nodeFrom.pos.getc(!0),d=a.nodeTo.pos.getc(!0);return this.edgeHelper.arrow.contains(c,d,b,this.edge.epsilon)}},hyperline:{render:function(a,b){var c=a.nodeFrom.pos.getc(),d=a.nodeTo.pos.getc(),e=Math.max(c.norm(),d.norm());this.edgeHelper.hyperline.render(c.$scale(1/e),d.$scale(1/e),e,b)},contains:a.lambda(!1)}})}($jit.Sunburst),$jit.Sunburst.Plot.NodeTypes.implement({"piechart-stacked":{render:function(b,c){var d=b.pos.getp(!0),e=b.getData("dimArray"),f=b.getData("valueArray"),g=b.getData("colorArray"),h=g.length,i=b.getData("stringArray"),j=b.getData("span")/2,l=b.pos.theta,m=l-j,n=l+j,o=new k,p=c.getCtx(),q={},r=b.getData("gradient"),s=b.getData("border"),t=b.getData("config"),u=t.showLabels,v=t.resizeLabels,w=t.Label,x=t.sliceOffset*Math.cos((m+n)/2),y=t.sliceOffset*Math.sin((m+n)/2);if(g&&e&&i){for(var z=0,A=e.length,B=0,C=0;z<A;z++){var D=e[z],E=g[z%h];if(D<=0)continue;p.fillStyle=p.strokeStyle=E;if(r&&D){var F=p.createRadialGradient(x,y,B+t.sliceOffset,x,y,B+D+t.sliceOffset),G=a.hexToRgb(E),H=a.map(G,function(a){return a*.8>>0}),I=a.rgbToHex(H);F.addColorStop(0,E),F.addColorStop(.5,E),F.addColorStop(1,I),p.fillStyle=F}o.rho=B+t.sliceOffset,o.theta=m;var J=o.getc(!0);o.theta=n;var K=o.getc(!0);o.rho+=D;var L=o.getc(!0);o.theta=m;var M=o.getc(!0);p.beginPath(),p.arc(x,y,B+.01,m,n,!1),p.arc(x,y,B+D+.01,n,m,!0),p.fill(),s&&s.name==i[z]&&(q.acum=B,q.dimValue=e[z],q.begin=m,q.end=n),B+=D||0,C+=f[z]||0}if(s){p.save(),p.globalCompositeOperation="source-over",p.lineWidth=2,p.strokeStyle=s.color;var N=m<n?1:-1;p.beginPath(),p.arc(x,y,q.acum+.01+1,q.begin,q.end,!1),p.arc(x,y,q.acum+q.dimValue+.01-1,q.end,q.begin,!0),p.closePath(),p.stroke(),p.restore()}if(u&&w.type=="Native"){p.save(),p.fillStyle=p.strokeStyle=w.color;var O=v?b.getData("normalizedDim"):1,P=w.size*O>>0;P=P<+v?+v:P,p.font=w.style+" "+P+"px "+w.family,p.textBaseline="middle",p.textAlign="center",o.rho=B+t.labelOffset+t.sliceOffset,o.theta=b.pos.theta;var Q=o.getc(!0);p.fillText(b.name,Q.x,Q.y),p.restore()}}},contains:function(a,b){if(this.nodeTypes.none.anglecontains.call(this,a,b)){var c=Math.sqrt(b.x*b.x+b.y*b.y),d=this.config.levelDistance,e=a._depth,f=a.getData("config");if(c<=d*e+f.sliceOffset){var g=a.getData("dimArray");for(var h=0,i=g.length,j=f.sliceOffset;h<i;h++){var k=g[h];if(c>=j&&c<=j+k)return{name:a.getData("stringArray")[h],color:a.getData("colorArray")[h],value:a.getData("valueArray")[h],label:a.name};j+=k}}return!1}return!1}}}),$jit.PieChart=new b({sb:null,colors:["#416D9C","#70A35E","#EBB056","#C74243","#83548B","#909291","#557EAA"],selected:{},busy:!1,initialize:function(b){this.controller=this.config=a.merge(e("Canvas","PieChart","Label"),{Label:{type:"Native"}},b),this.initializeViz()},initializeViz:function(){var a=this.config,b=this,c=a.type.split(":")[0],d=new $jit.Sunburst({injectInto:a.injectInto,width:a.width,height:a.height,useCanvas:a.useCanvas,withLabels:a.Label.type!="Native",Label:{type:a.Label.type},Node:{overridable:!0,type:"piechart-"+c,width:1,height:1},Edge:{type:"none"},Tips:{enable:a.Tips.enable,type:"Native",force:!0,onShow:function(b,c,d){var e=d;a.Tips.onShow(b,e,c)}},Events:{enable:!0,type:"Native",onClick:function(b,c,d){if(!a.Events.enable)return;var e=c.getContains();a.Events.onClick(e,c,d)},onMouseMove:function(c,d,e){if(!a.hoveredColor)return;if(c){var f=d.getContains();b.select(c.id,f.name,f.index)}else b.select(!1,!1,!1)}},onCreateLabel:function(b,c){var d=a.Label;if(a.showLabels){var e=b.style;e.fontSize=d.size+"px",e.fontFamily=d.family,e.color=d.color,e.textAlign="center",b.innerHTML=c.name}},onPlaceLabel:function(c,d){if(!a.showLabels)return;var e=d.pos.getp(!0),f=d.getData("dimArray"),g=d.getData("span")/2,h=d.pos.theta,i=h-g,j=h+g,l=new k,m=a.showLabels,n=a.resizeLabels,o=a.Label;if(f){for(var p=0,q=f.length,r=0;p<q;p++)r+=f[p];var s=n?d.getData("normalizedDim"):1,t=o.size*s>>0;t=t<+n?+n:t,c.style.fontSize=t+"px",l.rho=r+a.labelOffset+a.sliceOffset,l.theta=(i+j)/2;var e=l.getc(!0),u=b.canvas.getSize(),v={x:Math.round(e.x+u.width/2),y:Math.round(e.y+u.height/2)};c.style.left=v.x+"px",c.style.top=v.y+"px"}}}),e=d.canvas.getSize(),f=Math.min;d.config.levelDistance=f(e.width,e.height)/2-a.offset-a.sliceOffset,this.delegate=d,this.canvas=this.delegate.canvas,this.canvas.getCtx().globalCompositeOperation="lighter"},loadJSON:function(b){var c=a.time(),d=[],e=this.delegate,f=a.splat(b.label),g=f.length,h=a.splat(b.color||this.colors),i=h.length,j=this.config,k=!!j.type.split(":")[1],l=j.animate,m=g==1;for(var n=0,o=b.values,p=o.length;n<p;n++){var q=o[n],r=a.splat(q.values);d.push({id:c+q.label,name:q.label,data:{value:r,$valueArray:r,$colorArray:m?a.splat(h[n%i]):h,$stringArray:f,$gradient:k,$config:j,$angularWidth:a.reduce(r,function(a,b){return a+b})},children:[]})}var s={id:c+"$root",name:"",data:{$type:"none",$width:1,$height:1},children:d};e.loadJSON(s),this.normalizeDims(),e.refresh(),l&&e.fx.animate({modes:["node-property:dimArray"],duration:1500})},updateJSON:function(b,c){if(this.busy)return;this.busy=!0;var d=this.delegate,e=d.graph,f=b.values,g=this.config.animate,h=this;a.each(f,function(c){var d=e.getByName(c.label),f=a.splat(c.values);d&&(d.setData("valueArray",f),d.setData("angularWidth",a.reduce(f,function(a,b){return a+b})),b.label&&d.setData("stringArray",a.splat(b.label)))}),this.normalizeDims(),g?(d.compute("end"),d.fx.animate({modes:["node-property:dimArray:span","linear"],duration:1500,onComplete:function(){h.busy=!1,c&&c.onComplete()}})):d.refresh()},select:function(a,b){if(!this.config.hoveredColor)return;var c=this.selected;if(c.id!=a||c.name!=b)c.id=a,c.name=b,c.color=this.config.hoveredColor,this.delegate.graph.eachNode(function(b){a==b.id?b.setData("border",c):b.setData("border",!1)}),this.delegate.plot()},getLegend:function(){var b={},c;this.delegate.graph.getNode(this.delegate.root).eachAdjacency(function(a){c=a.nodeTo});var d=c.getData("colorArray"),e=d.length;return a.each(c.getData("stringArray"),function(a,c){b[a]=d[c%e]}),b},getMaxValue:function(){var b=0;return this.delegate.graph.eachNode(function(c){var d=c.getData("valueArray"),e=0;a.each(d,function(a){e+=+a}),b=b>e?b:e}),b},normalizeDims:function(){var b=this.delegate.graph.getNode(this.delegate.root),c=0;b.eachAdjacency(function(){c++});var d=this.getMaxValue()||1,e=this.config,f=e.animate,g=this.delegate.config.levelDistance;this.delegate.graph.eachNode(function(b){var c=0,h=[];a.each(b.getData("valueArray"),function(a){c+=+a,h.push(1)});var i=h.length==1&&!e.updateHeights;if(f){b.setData("dimArray",a.map(b.getData("valueArray"),function(a){return i?g:a*g/d}),"end");var j=b.getData("dimArray");j||b.setData("dimArray",h)}else b.setData("dimArray",a.map(b.getData("valueArray"),function(a){return i?g:a*g/d}));b.setData("normalizedDim",c/d)})}}),t.TM={},t.TM.SliceAndDice=new b({compute:function(a){var b=this.graph.getNode(this.clickedNode&&this.clickedNode.id||this.root);this.controller.onBeforeCompute(b);var c=this.canvas.getSize(),d=this.config,e=c.width,f=c.height;this.graph.computeLevels(this.root,0,"ignore"),b.getPos(a).setc(-e/2,-f/2),b.setData("width",e,a),b.setData("height",f+d.titleHeight,a),this.computePositions(b,b,this.layout.orientation,a),this.controller.onAfterCompute(b)},computePositions:function(a,b,c,d){var e=0;a.eachSubnode(function(a){e+=a.getData("area",d)});var f=this.config,g=f.offset,h=a.getData("width",d),i=Math.max(a.getData("height",d)-f.titleHeight,0),j=a==b?1:b.getData("area",d)/e,k,l,m,n,o,p,q,r=c=="h";r?(c="v",k=i,l=h*j,m="height",n="y",o="x",p=f.titleHeight,q=0):(c="h",k=i*j,l=h,m="width",n="x",o="y",p=0,q=f.titleHeight);var s=b.getPos(d);b.setData("width",l,d),b.setData("height",k,d);var t=0,u=this;b.eachSubnode(function(a){var e=a.getPos(d);e[n]=t+s[n]+p,e[o]=s[o]+q,u.computePositions(b,a,c,d),t+=a.getData(m,d)})}}),t.TM.Area={compute:function(a){a=a||"current";var b=this.graph.getNode(this.clickedNode&&this.clickedNode.id||this.root);this.controller.onBeforeCompute(b);var c=this.config,d=this.canvas.getSize(),e=d.width,f=d.height,g=c.offset,h=e-g,i=f-g;this.graph.computeLevels(this.root,0,"ignore"),b.getPos(a).setc(-e/2,-f/2),b.setData("width",e,a),b.setData("height",f,a);var j={top:-f/2+c.titleHeight,left:-e/2,width:h,height:i-c.titleHeight};this.computePositions(b,j,a),this.controller.onAfterCompute(b)},computeDim:function(a,b,c,d,e,f){if(a.length+b.length==1){var g=a.length==1?a:b;this.layoutLast(g,c,d,f);return}a.length>=2&&b.length==0&&(b=[a.shift()]);if(a.length==0){b.length>0&&this.layoutRow(b,c,d,f);return}var h=a[0];if(e(b,c)>=e([h].concat(b),c))this.computeDim(a.slice(1),b.concat([h]),c,d,e,f);else{var i=this.layoutRow(b,c,d,f);this.computeDim(a,[],i.dim,i,e,f)}},worstAspectRatio:function(a,b){if(!a||a.length==0)return Number.MAX_VALUE;var c=0,d=0,e=Number.MAX_VALUE;for(var f=0,g=a.length;f<g;f++){var h=a[f]._area;c+=h,e=e<h?e:h,d=d>h?d:h}var i=b*b,j=c*c;return Math.max(i*d/j,j/(i*e))},avgAspectRatio:function(a,b){if(!a||a.length==0)return Number.MAX_VALUE;var c=0;for(var d=0,e=a.length;d<e;d++){var f=a[d]._area,g=f/b;c+=b>g?b/g:g/b}return c/e},layoutLast:function(a,b,c,d){var e=a[0];e.getPos(d).setc(c.left,c.top),e.setData("width",c.width,d),e.setData("height",c.height,d)}},t.TM.Squarified=new b({Implements:t.TM.Area,computePositions:function(a,b,c){var d=this.config,e=Math.max;b.width>=b.height?this.layout.orientation="h":this.layout.orientation="v";var f=a.getSubnodes([1,1],"ignore");if(f.length>0){this.processChildrenLayout(a,f,b,c);for(var g=0,h=f.length;g<h;g++){var i=f[g],j=d.offset,k=e(i.getData("height",c)-j-d.titleHeight,0),l=e(i.getData("width",c)-j,0),m=i.getPos(c);b={width:l,height:k,top:m.y+d.titleHeight,left:m.x},this.computePositions(i,b,c)}}},processChildrenLayout:function(a,b,c,d){var e=c.width*c.height,f,g=b.length,h=0,i=[];for(f=0;f<g;f++)i[f]=parseFloat(b[f].getData("area",d)),h+=i[f];for(f=0;f<g;f++)b[f]._area=e*i[f]/h;var j=this.layout.horizontal()?c.height:c.width;b.sort(function(a,b){var c=b._area-a._area;return c?c:b.id==a.id?0:b.id<a.id?1:-1});var k=[b[0]],l=b.slice(1);this.squarify(l,k,j,c,d)},squarify:function(a,b,c,d,e){this.computeDim(a,b,c,d,this.worstAspectRatio,e)},layoutRow:function(a,b,c,d){return this.layout.horizontal()?this.layoutV(a,b,c,d):this.layoutH(a,b,c,d)},layoutV:function(b,c,d,e){var f=0,g=function(a){return a};a.each(b,function(a){f+=a._area});var h=g(f/c),i=0;for(var j=0,k=b.length;j<k;j++){var l=g(b[j]._area/h),m=b[j];m.getPos(e).setc(d.left,d.top+i),m.setData("width",h,e),m.setData("height",l,e),i+=l}var n={height:d.height,width:d.width-h,top:d.top,left:d.left+h};return n.dim=Math.min(n.width,n.height),n.dim!=n.height&&this.layout.change(),n},layoutH:function(b,c,d,e){var f=0;a.each(b,function(a){f+=a._area});var g=f/c,h=d.top,i=0;for(var j=0,k=b.length;j<k;j++){var l=b[j],c=l._area/g;l.getPos(e).setc(d.left+i,h),l.setData("width",c,e),l.setData("height",g,e),i+=c}var m={height:d.height-g,width:d.width,top:d.top+g,left:d.left};return m.dim=Math.min(m.width,m.height),m.dim!=m.width&&this.layout.change(),m}}),t.TM.Strip=new b({Implements:t.TM.Area,computePositions:function(a,b,c){var d=a.getSubnodes([1,1],"ignore"),e=this.config,f=Math.max;if(d.length>0){this.processChildrenLayout(a,d,b,c);for(var g=0,h=d.length;g<h;g++){var i=d[g],j=e.offset,k=f(i.getData("height",c)-j-e.titleHeight,0),l=f(i.getData("width",c)-j,0),m=i.getPos(c);b={width:l,height:k,top:m.y+e.titleHeight,left:m.x},this.computePositions(i,b,c)}}},processChildrenLayout:function(a,b,c,d){var e=c.width*c.height,f,g=b.length,h=0,i=[];for(f=0;f<g;f++)i[f]=+b[f].getData("area",d),h+=i[f];for(f=0;f<g;f++)b[f]._area=e*i[f]/h;var j=this.layout.horizontal()?c.width:c.height,k=[b[0]],l=b.slice(1);this.stripify(l,k,j,c,d)},stripify:function(a,b,c,d,e){this.computeDim(a,b,c,d,this.avgAspectRatio,e)},layoutRow:function(a,b,c,d){return this.layout.horizontal()?this.layoutH(a,b,c,d):this.layoutV(a,b,c,d)},layoutV:function(b,c,d,e){var f=0;a.each(b,function(a){f+=a._area});var g=f/c,h=0;for(var i=0,j=b.length;i<j;i++){var k=b[i],l=k._area/g;k.getPos(e).setc(d.left,d.top+(c-l-h)),k.setData("width",g,e),k.setData("height",l,e),h+=l}return{height:d.height,width:d.width-g,top:d.top,left:d.left+g,dim:c}},layoutH:function(b,c,d,e){var f=0;a.each(b,function(a){f+=a._area});var g=f/c,h=d.height-g,i=0;for(var j=0,k=b.length;j<k;j++){var l=b[j],m=l._area/g;l.getPos(e).setc(d.left+i,d.top+h),l.setData("width",m,e),l.setData("height",g,e),i+=m}return{height:d.height-g,width:d.width,top:d.top,left:d.left,dim:c}}}),t.Icicle=new b({compute:function(a){a=a||"current";var b=this.graph.getNode(this.root),c=this.config,d=this.canvas.getSize(),e=d.width,f=d.height,g=c.offset,h=c.constrained?c.levelsToShow:Number.MAX_VALUE;this.controller.onBeforeCompute(b),o.Util.computeLevels(this.graph,b.id,0,"ignore");var i=0;o.Util.eachLevel(b,0,!1,function(a,b){b>i&&(i=b)});var j=this.graph.getNode(this.clickedNode&&this.clickedNode.id||b.id),k=Math.min(i,h-1),l=j._depth;this.layout.horizontal()?this.computeSubtree(j,-e/2,-f/2,e/(k+1),f,l,k,a):this.computeSubtree(j,-e/2,-f/2,e,f/(k+1),l,k,a)},computeSubtree:function(b,c,d,e,f,g,h,i){b.getPos(i).setc(c,d),b.setData("width",e,i),b.setData("height",f,i);var j,k=0,l=0,m=o.Util.getSubnodes(b,[1,1],"ignore");if(!m.length)return;a.each(m,function(a){l+=a.getData("dim")});for(var n=0,p=m.length;n<p;n++)this.layout.horizontal()?(j=f*m[n].getData("dim")/l,this.computeSubtree(m[n],c+e,d,e,j,g,h,i),d+=j):(j=e*m[n].getData("dim")/l,this.computeSubtree(m[n],c,d+f,j,f,g,h,i),c+=j)}}),$jit.Icicle=new b({Implements:[s,i,t.Icicle],layout:{orientation:"h",vertical:function(){return this.orientation=="v"},horizontal:function(){return this.orientation=="h"},change:function(){this.orientation=this.vertical()?"h":"v"}},initialize:function(b){var c={animate:!1,orientation:"h",offset:2,levelsToShow:Number.MAX_VALUE,constrained:!1,Node:{type:"rectangle",overridable:!0},Edge:{type:"none"},Label:{type:"Native"},duration:700,fps:45},d=e("Canvas","Node","Edge","Fx","Tips","NodeStyles","Events","Navigation","Controller","Label");this.controller=this.config=a.merge(d,c,b),this.layout.orientation=this.config.orientation;var f=this.config;f.useCanvas?(this.canvas=f.useCanvas,this.config.labelContainer=this.canvas.id+"-label"):(this.canvas=new j(this,f),this.config.labelContainer=(typeof f.injectInto=="string"?f.injectInto:f.injectInto.id)+"-label"),this.graphOptions={klass:m,Node:{selected:!1,exist:!0,drawn:!0}},this.graph=new o(this.graphOptions,this.config.Node,this.config.Edge,this.config.Label),this.labels=new $jit.Icicle.Label[this.config.Label.type](this),this.fx=new $jit.Icicle.Plot(this,$jit.Icicle),this.op=new $jit.Icicle.Op(this),this.group=new $jit.Icicle.Group(this),this.clickedNode=null,this.initializeExtras()},refresh:function(){var a=this.config.Label.type;if(a!="Native"){var b=this;this.graph.eachNode(function(a){b.labels.hideLabel(a,!1)})}this.compute(),this.plot()},plot:function(){this.fx.plot(this.config)},enter:function(a){if(this.busy)return;this.busy=!0;var b=this,c=this.config,d={onComplete:function(){c.request&&b.compute(),c.animate?(b.graph.nodeList.setDataset(["current","end"],{alpha:[1,0]}),o.Util.eachSubgraph(a,function(a){a.setData("alpha",1,"end")},"ignore"),b.fx.animate({duration:500,modes:["node-property:alpha"],onComplete:function(){b.clickedNode=a,b.compute("end"),b.fx.animate({modes:["linear","node-property:width:height"],duration:1e3,onComplete:function(){b.busy=!1,b.clickedNode=a}})}})):(b.clickedNode=a,b.busy=!1,b.refresh())}};c.request?this.requestNodes(clickedNode,d):d.onComplete()},out:function(){if(this.busy)return;var a=this,b=o.Util,c=this.config,d=this.graph,e=b.getParents(d.getNode(this.clickedNode&&this.clickedNode.id||this.root)),f=e[0],g=f,h=this.clickedNode;this.busy=!0,this.events.hoveredNode=!1;if(!f){this.busy=!1;return}callback={onComplete:function(){a.clickedNode=f,c.request?a.requestNodes(f,{onComplete:function(){a.compute(),a.plot(),a.busy=!1}}):(a.compute(),a.plot(),a.busy=!1)}},c.animate?(this.clickedNode=g,this.compute("end"),this.clickedNode=h,this.fx.animate({modes:["linear","node-property:width:height"],duration:1e3,onComplete:function(){a.clickedNode=g,d.nodeList.setDataset(["current","end"],{alpha:[0,1]}),b.eachSubgraph(h,function(a){a.setData("alpha",1)},"ignore"),a.fx.animate({duration:500,modes:["node-property:alpha"],onComplete:function(){callback.onComplete()}})}})):callback.onComplete()},requestNodes:function(b,c){var d=a.merge(this.controller,c),e=this.config.constrained?this.config.levelsToShow:Number.MAX_VALUE;if(d.request){var f=[],g=b._depth;o.Util.eachLevel(b,0,e,function(a){a.drawn&&!o.Util.anySubnode(a)&&(f.push(a),a._level=a._depth-g,this.config.constrained&&(a._level=e-a._level))}),this.group.requestNodes(f,d)}else d.onComplete()}}),$jit.Icicle.Op=new b({Implements:o.Op}),$jit.Icicle.Group=new b({initialize:function(a){this.viz=a,this.canvas=a.canvas,this.config=a.config},requestNodes:function(a,b){var c=0,d=a.length,e={},f=function(){b.onComplete()},g=this.viz;d==0&&f();for(var h=0;h<d;h++)e[a[h].id]=a[h],b.request(a[h].id,a[h]._level,{onComplete:function(a,b){b&&b.children&&(b.id=a,g.op.sum(b,{type:"nothing"})),++c==d&&(o.Util.computeLevels(g.graph,g.root,0),f())}})}}),$jit.Icicle.Plot=new b({Implements:o.Plot,plot:function(b,c){b=b||this.viz.controller;var d=this.viz,e=d.graph,f=e.getNode(d.clickedNode&&d.clickedNode.id||d.root),g=f._depth;d.canvas.clear(),this.plotTree(f,a.merge(b,{withLabels:!0,hideLabels:!1,plotSubtree:function(a,b){return!d.config.constrained||b._depth-g<d.config.levelsToShow}}),c)}}),$jit.Icicle.Label={},$jit.Icicle.Label.Native=new b({Implements:o.Label.Native,renderLabel:function(a,b,c){var d=a.getCtx(),e=b.getData("width"),f=b.getData("height"),g=b.getLabelData("size"),h=d.measureText(b.name);if(f<g*1.5||e<h.width)return;var i=b.pos.getc(!0);d.fillText(b.name,i.x+e/2,i.y+f/2)}}),$jit.Icicle.Label.SVG=new b({Implements:o.Label.SVG,initialize:function(a){this.viz=a},placeLabel:function(a,b,c){var d=b.pos.getc(!0),e=this.viz.canvas,f=e.getSize(),g={x:Math.round(d.x+f.width/2),y:Math.round(d.y+f.height/2)};a.setAttribute("x",g.x),a.setAttribute("y",g.y),c.onPlaceLabel(a,b)}}),$jit.Icicle.Label.HTML=new b({Implements:o.Label.HTML,initialize:function(a){this.viz=a},placeLabel:function(a,b,c){var d=b.pos.getc(!0),e=this.viz.canvas,f=e.getSize(),g={x:Math.round(d.x+f.width/2),y:Math.round(d.y+f.height/2)},h=a.style;h.left=g.x+"px",h.top=g.y+"px",h.display="",c.onPlaceLabel(a,b)}}),$jit.Icicle.Plot.NodeTypes=new b({none:{render:a.empty},rectangle:{render:function(b,c,d){var e=this.viz.config,f=e.offset,g=b.getData("width"),h=b.getData("height"),i=b.getData("border"),j=b.pos.getc(!0),k=j.x+f/2,l=j.y+f/2,m=c.getCtx();if(g-f<2||h-f<2)return;if(e.cushion){var n=b.getData("color"),o=m.createRadialGradient(k+(g-f)/2,l+(h-f)/2,1,k+(g-f)/2,l+(h-f)/2,g<h?h:g),p=a.rgbToHex(a.map(a.hexToRgb(n),function(a){return a*.3>>0}));o.addColorStop(0,n),o.addColorStop(1,p),m.fillStyle=o}i&&(m.strokeStyle=i,m.lineWidth=3),m.fillRect(k,l,Math.max(0,g-f),Math.max(0,h-f)),i&&m.strokeRect(j.x,j.y,g,h)},contains:function(a,b){if(this.viz.clickedNode&&!$jit.Graph.Util.isDescendantOf(a,this.viz.clickedNode.id))return!1;var c=a.pos.getc(!0),d=a.getData("width"),e=a.getData("height");return this.nodeHelper.rectangle.contains({x:c.x+d/2,y:c.y+e/2},b,d,e)}}}),$jit.Icicle.Plot.EdgeTypes=new b({none:a.empty}),t.ForceDirected=new b({getOptions:function(a){var b=this.canvas.getSize(),c=b.width,d=b.height,e=0;this.graph.eachNode(function(a){e++});var f=c*d/e,g=Math.sqrt(f),h=this.config.levelDistance;return{width:c,height:d,tstart:c*.1,nodef:function(a){return f/(a||1)},edgef:function(a){return g*(a-h)}}},compute:function(b,c){var d=a.splat(b||["current","start","end"]),e=this.getOptions();u.compute(this.graph,d,this.config),this.graph.computeLevels(this.root,0,"ignore"),this.graph.eachNode(function(b){a.each(d,function(c){var f=b.getPos(c);f.equals(m.KER)&&(f.x=e.width/5*(Math.random()-.5),f.y=e.height/5*(Math.random()-.5)),b.disp={},a.each(d,function(a){b.disp[a]=n(0,0)})})}),this.computePositions(d,e,c)},computePositions:function(a,b,c){var d=this.config.iterations,e=0,f=this;if(c)(function g(){for(var h=c.iter,i=0;i<h;i++){b.t=b.tstart,d&&(b.t*=1-e++/(d-1)),f.computePositionStep(a,b);if(d&&e>=d){c.onComplete();return}}c.onStep(Math.round(e/(d-1)*100)),setTimeout(g,1)})();else for(;e<d;e++)b.t=b.tstart*(1-e/(d-1)),this.computePositionStep(a,b)},computePositionStep:function(b,c){var d=this.graph,e=Math.min,f=Math.max,g=n(0,0);d.eachNode(function(e){a.each(b,function(a){e.disp[a].x=0,e.disp[a].y=0}),d.eachNode(function(d){d.id!=e.id&&a.each(b,function(a){var b=e.getPos(a),f=d.getPos(a);g.x=b.x-f.x,g.y=b.y-f.y;var h=g.norm()||1;e.disp[a].$add(g.$scale(c.nodef(h)/h))})})});var h=!!d.getNode(this.root).visited;d.eachNode(function(d){d.eachAdjacency(function(e){var f=e.nodeTo;!!f.visited===h&&a.each(b,function(a){var b=d.getPos(a),e=f.getPos(a);g.x=b.x-e.x,g.y=b.y-e.y;var h=g.norm()||1;d.disp[a].$add(g.$scale(-c.edgef(h)/h)),f.disp[a].$add(g.$scale(-1))})}),d.visited=!h});var i=c.t,j=c.width/2,k=c.height/2;d.eachNode(function(c){a.each(b,function(a){var b=c.disp[a],d=b.norm()||1,a=c.getPos(a);a.$add(n(b.x*e(Math.abs(b.x),i)/d,b.y*e(Math.abs(b.y),i)/d)),a.x=e(j,f(-j,a.x)),a.y=e(k,f(-k,a.y))})})}}),$jit.ForceDirected=new b({Implements:[s,i,t.ForceDirected],initialize:function(b){var c=$jit.ForceDirected,d={iterations:50,levelDistance:50};this.controller=this.config=a.merge(e("Canvas","Node","Edge","Fx","Tips","NodeStyles","Events","Navigation","Controller","Label"),d,b);var f=this.config;f.useCanvas?(this.canvas=f.useCanvas,this.config.labelContainer=this.canvas.id+"-label"):(f.background&&(f.background=a.merge({type:"Circles"},f.background)),this.canvas=new j(this,f),this.config.labelContainer=(typeof f.injectInto=="string"?f.injectInto:f.injectInto.id)+"-label"),this.graphOptions={klass:m,Node:{selected:!1,exist:!0,drawn:!0}},this.graph=new o(this.graphOptions,this.config.Node,this.config.Edge),this.labels=new c.Label[f.Label.type](this),this.fx=new c.Plot(this,c),this.op=new c.Op(this),this.json=null,this.busy=!1,this.initializeExtras()},refresh:function(){this.compute(),this.plot()},reposition:function(){this.compute("end")},computeIncremental:function(b){b=a.merge({iter:20,property:"end",onStep:a.empty,onComplete:a.empty},b||{}),this.config.onBeforeCompute(this.graph.getNode(this.root)),this.compute(b.property,b)},plot:function(){this.fx.plot()},animate:function(b){this.fx.animate(a.merge({modes:["linear"]},b||{}))}}),$jit.ForceDirected.$extend=!0,function(c){c.Op=new b({Implements:o.Op}),c.Plot=new b({Implements:o.Plot}),c.Label={},c.Label.Native=new b({Implements:o.Label.Native}),c.Label.SVG=new b({Implements:o.Label.SVG,initialize:function(a){this.viz=a},placeLabel:function(a,b,c){var d=b.pos.getc(!0),e=this.viz.canvas,f=e.translateOffsetX,g=e.translateOffsetY,h=e.scaleOffsetX,i=e.scaleOffsetY,j=e.getSize(),k={x:Math.round(d.x*h+f+j.width/2),y:Math.round(d.y*i+g+j.height/2)};a.setAttribute("x",k.x),a.setAttribute("y",k.y),c.onPlaceLabel(a,b)}}),c.Label.HTML=new b({Implements:o.Label.HTML,initialize:function(a){this.viz=a},placeLabel:function(a,b,c){var d=b.pos.getc(!0),e=this.viz.canvas,f=e.translateOffsetX,g=e.translateOffsetY,h=e.scaleOffsetX,i=e.scaleOffsetY,j=e.getSize(),k={x:Math.round(d.x*h+f+j.width/2),y:Math.round(d.y*i+g+j.height/2)},l=a.style;l.left=k.x+"px",l.top=k.y+"px",l.display=this.fitsInCanvas(k,e)?"":"none",c.onPlaceLabel(a,b)}}),c.Plot.NodeTypes=new b({none:{render:a.empty,contains:a.lambda(!1)},circle:{render:function(a,b){var c=a.pos.getc(!0),d=a.getData("dim");this.nodeHelper.circle.render("fill",c,d,b)},contains:function(a,b){var c=a.pos.getc(!0),d=a.getData("dim");return this.nodeHelper.circle.contains(c,b,d)}},ellipse:{render:function(a,b){var c=a.pos.getc(!0),d=a.getData("width"),e=a.getData("height");this.nodeHelper.ellipse.render("fill",c,d,e,b)},contains:function(a,b){var c=a.pos.getc(!0),d=a.getData("width"),e=a.getData("height");return this.nodeHelper.ellipse.contains(c,b,d,e)}},square:{render:function(a,b){var c=a.pos.getc(!0),d=a.getData("dim");this.nodeHelper.square.render("fill",c,d,b)},contains:function(a,b){var c=a.pos.getc(!0),d=a.getData("dim");return this.nodeHelper.square.contains(c,b,d)}},rectangle:{render:function(a,b){var c=a.pos.getc(!0),d=a.getData("width"),e=a.getData("height");this.nodeHelper.rectangle.render("fill",c,d,e,b)},contains:function(a,b){var c=a.pos.getc(!0),d=a.getData("width"),e=a.getData("height");return this.nodeHelper.rectangle.contains(c,b,d,e)}},triangle:{render:function(a,b){var c=a.pos.getc(!0),d=a.getData("dim");this.nodeHelper.triangle.render("fill",c,d,b)},contains:function(a,b){var c=a.pos.getc(!0),d=a.getData("dim");return this.nodeHelper.triangle.contains(c,b,d)}},star:{render:function(a,b){var c=a.pos.getc(!0),d=a.getData("dim");this.nodeHelper.star.render("fill",c,d,b)},contains:function(a,b){var c=a.pos.getc(!0),d=a.getData("dim");return this.nodeHelper.star.contains(c,b,d)}}}),c.Plot.EdgeTypes=new b({none:a.empty,line:{render:function(a,b){var c=a.nodeFrom.pos.getc(!0),d=a.nodeTo.pos.getc(!0);this.edgeHelper.line.render(c,d,b)},contains:function(a,b){var c=a.nodeFrom.pos.getc(!0),d=a.nodeTo.pos.getc(!0);return this.edgeHelper.line.contains(c,d,b,this.edge.epsilon)}},arrow:{render:function(a,b){var c=a.nodeFrom.pos.getc(!0),d=a.nodeTo.pos.getc(!0),e=a.getData("dim"),f=a.data.$direction,g=f&&f.length>1&&f[0]!=a.nodeFrom.id;this.edgeHelper.arrow.render(c,d,e,g,b)},contains:function(a,b){var c=a.nodeFrom.pos.getc(!0),d=a.nodeTo.pos.getc(!0);return this.edgeHelper.arrow.contains(c,d,b,this.edge.epsilon)}}})}($jit.ForceDirected),$jit.TM={};var v=$jit.TM;$jit.TM.$extend=!0,v.Base={layout:{orientation:"h",vertical:function(){return this.orientation=="v"},horizontal:function(){return this.orientation=="h"},change:function(){this.orientation=this.vertical()?"h":"v"}},initialize:function(b){var c={orientation:"h",titleHeight:13,offset:2,levelsToShow:0,constrained:!1,animate:!1,Node:{type:"rectangle",overridable:!0,width:3,height:3,color:"#444"},Label:{textAlign:"center",textBaseline:"top"},Edge:{type:"none"},duration:700,fps:45};this.controller=this.config=a.merge(e("Canvas","Node","Edge","Fx","Controller","Tips","NodeStyles","Events","Navigation","Label"),c,b),this.layout.orientation=this.config.orientation;var d=this.config;d.useCanvas?(this.canvas=d.useCanvas,this.config.labelContainer=this.canvas.id+"-label"):(d.background&&(d.background=a.merge({type:"Circles"},d.background)),this.canvas=new j(this,d),this.config.labelContainer=(typeof d.injectInto=="string"?d.injectInto:d.injectInto.id)+"-label"),this.graphOptions={klass:m,Node:{selected:!1,exist:!0,drawn:!0}},this.graph=new o(this.graphOptions,this.config.Node,this.config.Edge),this.labels=new v.Label[d.Label.type](this),this.fx=new v.Plot(this),this.op=new v.Op(this),this.group=new v.Group(this),this.geom=new v.Geom(this),this.clickedNode=null,this.busy=!1,this.initializeExtras()},refresh:function(){if(this.busy)return;this.busy=!0;var b=this;if(this.config.animate)this.compute("end"),this.config.levelsToShow>0&&this.geom.setRightLevelToShow(this.graph.getNode(this.clickedNode&&this.clickedNode.id||this.root)),this.fx.animate(a.merge(this.config,{modes:["linear","node-property:width:height"],onComplete:function(){b.busy=!1}}));else{var c=this.config.Label.type;if(c!="Native"){var b=this;this.graph.eachNode(function(a){b.labels.hideLabel(a,!1)})}this.busy=!1,this.compute(),this.config.levelsToShow>0&&this.geom.setRightLevelToShow(this.graph.getNode(this.clickedNode&&this.clickedNode.id||this.root)),this.plot()}},plot:function(){this.fx.plot()},leaf:function(a){return a.getSubnodes([1,1],"ignore").length==0},enter:function(a){if(this.busy)return;this.busy=!0;var b=this,c=this.config,d=this.graph,e=a,f=this.clickedNode,g={onComplete:function(){c.levelsToShow>0&&b.geom.setRightLevelToShow(a),(c.levelsToShow>0||c.request)&&b.compute(),c.animate?(d.nodeList.setData("alpha",0,"end"),a.eachSubgraph(function(a){a.setData("alpha",1,"end")},"ignore"),b.fx.animate({duration:500,modes:["node-property:alpha"],onComplete:function(){b.clickedNode=e,b.compute("end"),b.clickedNode=f,b.fx.animate({modes:["linear","node-property:width:height"],duration:1e3,onComplete:function(){b.busy=!1,b.clickedNode=e}})}})):(b.busy=!1,b.clickedNode=a,b.refresh())}};c.request?this.requestNodes(e,g):g.onComplete()},out:function(){if(this.busy)return;this.busy=!0,this.events.hoveredNode=!1;var a=this,b=this.config,c=this.graph,d=c.getNode(this.clickedNode&&this.clickedNode.id||this.root).getParents(),e=d[0],f=e,g=this.clickedNode;if(!e){this.busy=!1;return}callback={onComplete:function(){a.clickedNode=e,b.request?a.requestNodes(e,{onComplete:function(){a.compute(),a.plot(),a.busy=!1}}):(a.compute(),a.plot(),a.busy=!1)}},b.levelsToShow>0&&this.geom.setRightLevelToShow(e),b.animate?(this.clickedNode=f,this.compute("end"),this.clickedNode=g,this.fx.animate({modes:["linear","node-property:width:height"],duration:1e3,onComplete:function(){a.clickedNode=f,c.eachNode(function(a){a.setDataset(["current","end"],{alpha:[0,1]})},"ignore"),g.eachSubgraph(function(a){a.setData("alpha",1)},"ignore"),a.fx.animate({duration:500,modes:["node-property:alpha"],onComplete:function(){callback.onComplete()}})}})):callback.onComplete()},requestNodes:function(b,c){var d=a.merge(this.controller,c),e=this.config.levelsToShow;if(d.request){var f=[],g=b._depth;b.eachLevel(0,e,function(a){var b=e-(a._depth-g);a.drawn&&!a.anySubnode()&&b>0&&(f.push(a),a._level=b)}),this.group.requestNodes(f,d)}else d.onComplete()},reposition:function(){this.compute("end")}},v.Op=new b({Implements:o.Op,initialize:function(a){this.viz=a}}),v.Geom=new b({Implements:o.Geom,getRightLevelToShow:function(){return this.viz.config.levelsToShow},setRightLevelToShow:function(a){var b=this.getRightLevelToShow(),c=this.viz.labels;a.eachLevel(0,b+1,function(d){var e=d._depth-a._depth;e>b?(d.drawn=!1,d.exist=!1,d.ignore=!0,c.hideLabel(d,!1)):(d.drawn=!0,d.exist=!0,delete d.ignore)}),a.drawn=!0,delete a.ignore}}),v.Group=new b({initialize:function(a){this.viz=a,this.canvas=a.canvas,this.config=a.config},requestNodes:function(a,b){var c=0,d=a.length,e={},f=function(){b.onComplete()},g=this.viz;d==0&&f();for(var h=0;h<d;h++)e[a[h].id]=a[h],b.request(a[h].id,a[h]._level,{onComplete:function(a,b){b&&b.children&&(b.id=a,g.op.sum(b,{type:"nothing"})),++c==d&&(g.graph.computeLevels(g.root,0),f())}})}}),v.Plot=new b({Implements:o.Plot,initialize:function(a){this.viz=a,this.config=a.config,this.node=this.config.Node,this.edge=this.config.Edge,this.animation=new d,this.nodeTypes=new v.Plot.NodeTypes,this.edgeTypes=new v.Plot.EdgeTypes,this.labels=a.labels},plot:function(b,c){var d=this.viz,e=d.graph;d.canvas.clear(),this.plotTree(e.getNode(d.clickedNode&&d.clickedNode.id||d.root),a.merge(d.config,b||{},{withLabels:!0,hideLabels:!1,plotSubtree:function(a,b){return a.anySubnode("exist")}}),c)}}),v.Label={},v.Label.Native=new b({Implements:o.Label.Native,initialize:function(a){this.config=a.config,this.leaf=a.leaf},renderLabel:function(a,b,c){if(!this.leaf(b)&&!this.config.titleHeight)return;var d=b.pos.getc(!0),e=a.getCtx(),f=b.getData("width"),g=b.getData("height"),h=d.x+f/2,i=d.y;e.fillText(b.name,h,i,f)}}),v.Label.SVG=new b({Implements:o.Label.SVG,initialize:function(a){this.viz=a,this.leaf=a.leaf,this.config=a.config},placeLabel:function(a,b,c){var d=b.pos.getc(!0),e=this.viz.canvas,f=e.translateOffsetX,g=e.translateOffsetY,h=e.scaleOffsetX,i=e.scaleOffsetY,j=e.getSize(),k={x:Math.round(d.x*h+f+j.width/2),y:Math.round(d.y*i+g+j.height/2)};a.setAttribute("x",k.x),a.setAttribute("y",k.y),!this.leaf(b)&&!this.config.titleHeight&&(a.style.display="none"),c.onPlaceLabel(a,b)}}),v.Label.HTML=new b({Implements:o.Label.HTML,initialize:function(a){this.viz=a,this.leaf=a.leaf,this.config=a.config},placeLabel:function(a,b,c){var d=b.pos.getc(!0),e=this.viz.canvas,f=e.translateOffsetX,g=e.translateOffsetY,h=e.scaleOffsetX,i=e.scaleOffsetY,j=e.getSize(),k={x:Math.round(d.x*h+f+j.width/2),y:Math.round(d.y*i+g+j.height/2)},l=a.style;l.left=k.x+"px",l.top=k.y+"px",l.width=b.getData("width")*h+"px",l.height=b.getData("height")*i+"px",l.zIndex=b._depth*100,l.display="",!this.leaf(b)&&!this.config.titleHeight&&(a.style.display="none"),c.onPlaceLabel(a,b)}}),v.Plot.NodeTypes=new b({none:{render:a.empty},rectangle:{render:function(b,c,d){var e=this.viz.leaf(b),f=this.config,g=f.offset,h=f.titleHeight,i=b.pos.getc(!0),j=b.getData("width"),k=b.getData("height"),l=b.getData("border"),m=c.getCtx(),n=i.x+g/2,o=i.y+g/2;if(j<=g||k<=g)return;if(e){if(f.cushion){var p=m.createRadialGradient(n+(j-g)/2,o+(k-g)/2,1,n+(j-g)/2,o+(k-g)/2,j<k?k:j),q=b.getData("color"),r=a.rgbToHex(a.map(a.hexToRgb(q),function(a){return a*.2>>0}));p.addColorStop(0,q),p.addColorStop(1,r),m.fillStyle=p}m.fillRect(n,o,j-g,k-g),l&&(m.save(),m.strokeStyle=l,m.strokeRect(n,o,j-g,k-g),m.restore())}else h>0&&(m.fillRect(i.x+g/2,i.y+g/2,j-g,h-g),l&&(m.save(),m.strokeStyle=l,m.strokeRect(i.x+g/2,i.y+g/2,j-g,k-g),m.restore()))},contains:function(a,b){if(this.viz.clickedNode&&!a.isDescendantOf(this.viz.clickedNode.id)||a.ignore)return!1;var c=a.pos.getc(!0),d=a.getData("width"),e=this.viz.leaf(a),f=e?a.getData("height"):this.config.titleHeight;return this.nodeHelper.rectangle.contains({x:c.x+d/2,y:c.y+f/2},b,d,f)}}}),v.Plot.EdgeTypes=new b({none:a.empty}),v.SliceAndDice=new b({Implements:[s,i,v.Base,t.TM.SliceAndDice]}),v.Squarified=new b({Implements:[s,i,v.Base,t.TM.Squarified]}),v.Strip=new b({Implements:[s,i,v.Base,t.TM.Strip]}),$jit.RGraph=new b({Implements:[s,i,t.Radial],initialize:function(b){var c=$jit.RGraph,d={interpolation:"linear",levelDistance:100};this.controller=this.config=a.merge(e("Canvas","Node","Edge","Fx","Controller","Tips","NodeStyles","Events","Navigation","Label"),d,b);var f=this.config;f.useCanvas?(this.canvas=f.useCanvas,this.config.labelContainer=this.canvas.id+"-label"):(f.background&&(f.background=a.merge({type:"Circles"},f.background)),this.canvas=new j(this,f),this.config.labelContainer=(typeof f.injectInto=="string"?f.injectInto:f.injectInto.id)+"-label"),this.graphOptions={klass:k,Node:{selected:!1,exist:!0,drawn:!0}},this.graph=new o(this.graphOptions,this.config.Node,this.config.Edge),this.labels=new c.Label[f.Label.type](this),this.fx=new c.Plot(this,c),this.op=new c.Op(this),this.json=null,this.root=null,this.busy=!1,this.parent=!1,this.initializeExtras()},createLevelDistanceFunc:function(){var a=this.config.levelDistance;return function(b){return(b._depth+1)*a}},refresh:function(){this.compute(),this.plot()},reposition:function(){this.compute("end")},plot:function(){this.fx.plot()},getNodeAndParentAngle:function(a){var b=!1,c=this.graph.getNode(a),d=c.getParents(),e=d.length>0?d[0]:!1;if(e){var f=e.pos.getc(),g=c.pos.getc(),h=f.add(g.scale(-1));b=Math.atan2(h.y,h.x),b<0&&(b+=2*Math.PI)}return{parent:e,theta:b}},tagChildren:function(a,b){if(a.angleSpan){var c=[];a.eachAdjacency(function(a){c.push(a.nodeTo)},"ignore");var d=c.length;for(var e=0;e<d&&b!=c[e].id;e++);for(var f=(e+1)%d,g=0;b!=c[f].id;f=(f+1)%d)c[f].dist=g++}},onClick:function(b,c){if(this.root!=b&&!this.busy){this.busy=!0,this.root=b;var d=this;this.controller.onBeforeCompute(this.graph.getNode(b));var e=this.getNodeAndParentAngle(b);this.tagChildren(e.parent,b),this.parent=e.parent,this.compute("end");var f=e.theta-e.parent.endPos.theta;this.graph.eachNode(function(a){a.endPos.set(a.endPos.getp().add(l(f,0)))});var g=this.config.interpolation;c=a.merge({onComplete:a.empty},c||{}),this.fx.animate(a.merge({hideLabels:!0,modes:[g]},c,{onComplete:function(){d.busy=!1,c.onComplete()}}))}}}),$jit.RGraph.$extend=!0,function(c){c.Op=new b({Implements:o.Op}),c.Plot=new b({Implements:o.Plot}),c.Label={},c.Label.Native=new b({Implements:o.Label.Native}),c.Label.SVG=new b({Implements:o.Label.SVG,initialize:function(a){this.viz=a},placeLabel:function(a,b,c){var d=b.pos.getc(!0),e=this.viz.canvas,f=e.translateOffsetX,g=e.translateOffsetY,h=e.scaleOffsetX,i=e.scaleOffsetY,j=e.getSize(),k={x:Math.round(d.x*h+f+j.width/2),y:Math.round(d.y*i+g+j.height/2)};a.setAttribute("x",k.x),a.setAttribute("y",k.y),c.onPlaceLabel(a,b)}}),c.Label.HTML=new b({Implements:o.Label.HTML,initialize:function(a){this.viz=a},placeLabel:function(a,b,c){var d=b.pos.getc(!0),e=this.viz.canvas,f=e.translateOffsetX,g=e.translateOffsetY,h=e.scaleOffsetX,i=e.scaleOffsetY,j=e.getSize(),k={x:Math.round(d.x*h+f+j.width/2),y:Math.round(d.y*i+g+j.height/2)},l=a.style;l.left=k.x+"px",l.top=k.y+"px",l.display=this.fitsInCanvas(k,e)?"":"none",c.onPlaceLabel(a,b)}}),c.Plot.NodeTypes=new b({none:{render:a.empty,contains:a.lambda(!1)},circle:{render:function(a,b){var c=a.pos.getc(!0),d=a.getData("dim");this.nodeHelper.circle.render("fill",c,d,b)},contains:function(a,b){var c=a.pos.getc(!0),d=a.getData("dim");return this.nodeHelper.circle.contains(c,b,d)}},ellipse:{render:function(a,b){var c=a.pos.getc(!0),d=a.getData("width"),e=a.getData("height");this.nodeHelper.ellipse.render("fill",c,d,e,b)},contains:function(a,b){var c=a.pos.getc(!0),d=a.getData("width"),e=a.getData("height");return this.nodeHelper.ellipse.contains(c,b,d,e)}},square:{render:function(a,b){var c=a.pos.getc(!0),d=a.getData("dim");this.nodeHelper.square.render("fill",c,d,b)},contains:function(a,b){var c=a.pos.getc(!0),d=a.getData("dim");return this.nodeHelper.square.contains(c,b,d)}},rectangle:{render:function(a,b){var c=a.pos.getc(!0),d=a.getData("width"),e=a.getData("height");this.nodeHelper.rectangle.render("fill",c,d,e,b)},contains:function(a,b){var c=a.pos.getc(!0),d=a.getData("width"),e=a.getData("height");return this.nodeHelper.rectangle.contains(c,b,d,e)}},triangle:{render:function(a,b){var c=a.pos.getc(!0),d=a.getData("dim");this.nodeHelper.triangle.render("fill",c,d,b)},contains:function(a,b){var c=a.pos.getc(!0),d=a.getData("dim");return this.nodeHelper.triangle.contains(c,b,d)}},star:{render:function(a,b){var c=a.pos.getc(!0),d=a.getData("dim");this.nodeHelper.star.render("fill",c,d,b)},contains:function(a,b){var c=a.pos.getc(!0),d=a.getData("dim");return this.nodeHelper.star.contains(c,b,d)}}}),c.Plot.EdgeTypes=new b({none:a.empty,line:{render:function(a,b){var c=a.nodeFrom.pos.getc(!0),d=a.nodeTo.pos.getc(!0);this.edgeHelper.line.render(c,d,b)},contains:function(a,b){var c=a.nodeFrom.pos.getc(!0),d=a.nodeTo.pos.getc(!0);return this.edgeHelper.line.contains(c,d,b,this.edge.epsilon)}},arrow:{render:function(a,b){var c=a.nodeFrom.pos.getc(!0),d=a.nodeTo.pos.getc(!0),e=a.getData("dim"),f=a.data.$direction,g=f&&f.length>1&&f[0]!=a.nodeFrom.id;this.edgeHelper.arrow.render(c,d,e,g,b)},contains:function(a,b){var c=a.nodeFrom.pos.getc(!0),d=a.nodeTo.pos.getc(!0);return this.edgeHelper.arrow.contains(c,d,b,this.edge.epsilon)}}})}($jit.RGraph),m.prototype.moebiusTransformation=function(a){var b=this.add(a),c=a.$conjugate().$prod(this);return c.x++,b.$div(c)},o.Util.moebiusTransformation=function(a,b,c,d,e){this.eachNode(a,function(a){for(var e=0;e<c.length;e++){var f=b[e].scale(-1),g=d?d:c[e];a.getPos(c[e]).set(a.getPos(g).getc().moebiusTransformation(f))}},e)},$jit.Hypertree=new b({Implements:[s,i,t.Radial],initialize:function(b){var c=$jit.Hypertree,d={radius:"auto",offset:0,Edge:{type:"hyperline"},duration:1500,fps:35};this.controller=this.config=a.merge(e("Canvas","Node","Edge","Fx","Tips","NodeStyles","Events","Navigation","Controller","Label"),d,b);var f=this.config;f.useCanvas?(this.canvas=f.useCanvas,this.config.labelContainer=this.canvas.id+"-label"):(f.background&&(f.background=a.merge({type:"Circles"},f.background)),this.canvas=new j(this,f),this.config.labelContainer=(typeof f.injectInto=="string"?f.injectInto:f.injectInto.id)+"-label"),this.graphOptions={klass:k,Node:{selected:!1,exist:!0,drawn:!0}},this.graph=new o(this.graphOptions,this.config.Node,this.config.Edge),this.labels=new c.Label[f.Label.type](this),this.fx=new c.Plot(this,c),this.op=new c.Op(this),this.json=null,this.root=null,this.busy=!1,this.initializeExtras()},createLevelDistanceFunc:function(){var a=this.getRadius(),b=0,c=Math.max,d=this.config;this.graph.eachNode(function(a){b=c(a._depth,b)},"ignore"),b++;var e=function(b){return function(c){c.scale=a;var e=c._depth+1,f=0,g=Math.pow;while(e)f+=g(b,e--);return f-d.offset}};for(var f=.51;f<=1;f+=.01){var g=(1-Math.pow(f,b))/(1-f);if(g>=2)return e(f-.01)}return e(.75)},getRadius:function(){var a=this.config.radius;if(a!=="auto")return a;var b=this.canvas.getSize();return Math.min(b.width,b.height)/2},refresh:function(a){a?(this.reposition(),this.graph.eachNode(function(a){a.startPos.rho=a.pos.rho=a.endPos.rho,a.startPos.theta=a.pos.theta=a.endPos.theta})):this.compute(),this.plot()},reposition:function(){this.compute("end");var a=this.graph.getNode(this.root).pos.getc().scale(-1);o.Util.moebiusTransformation(this.graph,[a],["end"],"end","ignore"),this.graph.eachNode(function(a){a.ignore&&(a.endPos.rho=a.pos.rho,a.endPos.theta=a.pos.theta)})},plot:function(){this.fx.plot()},onClick:function(a,b){var c=this.graph.getNode(a).pos.getc(!0);this.move(c,b)},move:function(b,c){var d=n(b.x,b.y);if(this.busy===!1&&d.norm()<1){this.busy=!0;var e=this.graph.getClosestNodeToPos(d),f=this;this.graph.computeLevels(e.id,0),this.controller.onBeforeCompute(e),c=a.merge({onComplete:a.empty},c||{}),this.fx.animate(a.merge({modes:["moebius"],hideLabels:!0},c,{onComplete:function(){f.busy=!1,c.onComplete()}}),d)}}}),$jit.Hypertree.$extend=!0,function(c){c.Op=new b({Implements:o.Op}),c.Plot=new b({Implements:o.Plot}),c.Label={},c.Label.Native=new b({Implements:o.Label.Native,initialize:function(a){this.viz=a},renderLabel:function(a,b,c){var d=a.getCtx(),e=b.pos.getc(!0),f=this.viz.getRadius();d.fillText(b.name,e.x*f,e.y*f)}}),c.Label.SVG=new b({Implements:o.Label.SVG,initialize:function(a){this.viz=a},placeLabel:function(a,b,c){var d=b.pos.getc(!0),e=this.viz.canvas,f=e.translateOffsetX,g=e.translateOffsetY,h=e.scaleOffsetX,i=e.scaleOffsetY,j=e.getSize(),k=this.viz.getRadius(),l={x:Math.round(d.x*h*k+f+j.width/2),y:Math.round(d.y*i*k+g+j.height/2)};a.setAttribute("x",l.x),a.setAttribute("y",l.y),c.onPlaceLabel(a,b)}}),c.Label.HTML=new b({Implements:o.Label.HTML,initialize:function(a){this.viz=a},placeLabel:function(a,b,c){var d=b.pos.getc(!0),e=this.viz.canvas,f=e.translateOffsetX,g=e.translateOffsetY,h=e.scaleOffsetX,i=e.scaleOffsetY,j=e.getSize(),k=this.viz.getRadius(),l={x:Math.round(d.x*h*k+f+j.width/2),y:Math.round(d.y*i*k+g+j.height/2)},m=a.style;m.left=l.x+"px",m.top=l.y+"px",m.display=this.fitsInCanvas(l,e)?"":"none",c.onPlaceLabel(a,b)}}),c.Plot.NodeTypes=new b({none:{render:a.empty,contains:a.lambda(!1)},circle:{render:function(a,b){var c=this.node,d=a.getData("dim"),e=a.pos.getc();d=c.transform?d*(1-e.squaredNorm()):d,e.$scale(a.scale),d>.2&&this.nodeHelper.circle.render("fill",e,d,b)},contains:function(a,b){var c=a.getData("dim"),d=a.pos.getc().$scale(a.scale);return this.nodeHelper.circle.contains(d,b,c)}},ellipse:{render:function(a,b){var c=a.pos.getc().$scale(a.scale),d=a.getData("width"),e=a.getData("height");this.nodeHelper.ellipse.render("fill",c,d,e,b)},contains:function(a,b){var c=a.getData("width"),d=a.getData("height"),e=a.pos.getc().$scale(a.scale);return this.nodeHelper.circle.contains(e,b,c,d)}},square:{render:function(a,b){var c=this.node,d=a.getData("dim"),e=a.pos.getc();d=c.transform?d*(1-e.squaredNorm()):d,e.$scale(a.scale),d>.2&&this.nodeHelper.square.render("fill",e,d,b)},contains:function(a,b){var c=a.getData("dim"),d=a.pos.getc().$scale(a.scale);return this.nodeHelper.square.contains(d,b,c)}},rectangle:{render:function(a,b){var c=this.node,d=a.getData("width"),e=a.getData("height"),f=a.pos.getc();d=c.transform?d*(1-f.squaredNorm()):d,e=c.transform?e*(1-f.squaredNorm()):e,f.$scale(a.scale),d>.2&&e>.2&&this.nodeHelper.rectangle.render("fill",f,d,e,b)},contains:function(a,b){var c=a.getData("width"),d=a.getData("height"),e=a.pos.getc().$scale(a.scale);return this.nodeHelper.rectangle.contains(e,b,c,d)}},triangle:{render:function(a,b){var c=this.node,d=a.getData("dim"),e=a.pos.getc();d=c.transform?d*(1-e.squaredNorm()):d,e.$scale(a.scale),d>.2&&this.nodeHelper.triangle.render("fill",e,d,b)},contains:function(a,b){var c=a.getData("dim"),d=a.pos.getc().$scale(a.scale);return this.nodeHelper.triangle.contains(d,b,c)}},star:{render:function(a,b){var c=this.node,d=a.getData("dim"),e=a.pos.getc();d=c.transform?d*(1-e.squaredNorm()):d,e.$scale(a.scale),d>.2&&this.nodeHelper.star.render("fill",e,d,b)},contains:function(a,b){var c=a.getData("dim"),d=a.pos.getc().$scale(a.scale);return this.nodeHelper.star.contains(d,b,c)}}}),c.Plot.EdgeTypes=new b({none:a.empty,line:{render:function(a,b){var c=a.nodeFrom.pos.getc(!0),d=a.nodeTo.pos.getc(!0),e=a.nodeFrom.scale;this.edgeHelper.line.render({x:c.x*e,y:c.y*e},{x:d.x*e,y:d.y*e},b)},contains:function(a,b){var c=a.nodeFrom.pos.getc(!0),d=a.nodeTo.pos.getc(!0),e=a.nodeFrom.scale;this.edgeHelper.line.contains({x:c.x*e,y:c.y*e},{x:d.x*e,y:d.y*e},b,this.edge.epsilon)}},arrow:{render:function(a,b){var c=a.nodeFrom.pos.getc(!0),d=a.nodeTo.pos.getc(!0),e=a.nodeFrom.scale,f=a.getData("dim"),g=a.data.$direction,h=g&&g.length>1&&g[0]!=a.nodeFrom.id;this.edgeHelper.arrow.render({x:c.x*e,y:c.y*e},{x:d.x*e,y:d.y*e},f,h,b)},contains:function(a,b){var c=a.nodeFrom.pos.getc(!0),d=a.nodeTo.pos.getc(!0),e=a.nodeFrom.scale;this.edgeHelper.arrow.contains({x:c.x*e,y:c.y*e},{x:d.x*e,y:d.y*e},b,this.edge.epsilon)}},hyperline:{render:function(a,b){var c=a.nodeFrom.pos.getc(),d=a.nodeTo.pos.getc(),e=this.viz.getRadius();this.edgeHelper.hyperline.render(c,d,e,b)},contains:a.lambda(!1)}})}($jit.Hypertree)}(),document.createElement("canvas").getContext||function(){function j(){return this.context_||(this.context_=new N(this))}function l(a,b,c){var d=k.call(arguments,2);return function(){return a.apply(b,d.concat(k.call(arguments)))}}function m(a){return String(a).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function n(a,b,c){a.namespaces[b]||a.namespaces.add(b,c,"#default#VML")}function o(a){n(a,"g_vml_","urn:schemas-microsoft-com:vml"),n(a,"g_o_","urn:schemas-microsoft-com:office:office");if(!a.styleSheets.ex_canvas_){var b=a.createStyleSheet();b.owningElement.id="ex_canvas_",b.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}"}}function q(a){var b=a.srcElement;switch(a.propertyName){case"width":b.getContext().clearRect(),b.style.width=b.attributes.width.nodeValue+"px",b.firstChild.style.width=b.clientWidth+"px";break;case"height":b.getContext().clearRect(),b.style.height=b.attributes.height.nodeValue+"px",b.firstChild.style.height=b.clientHeight+"px"}}function r(a){var b=a.srcElement;b.firstChild&&(b.firstChild.style.width=b.clientWidth+"px",b.firstChild.style.height=b.clientHeight+"px")}function v(){return[[1,0,0],[0,1,0],[0,0,1]]}function w(a,b){var c=v();for(var d=0;d<3;d++)for(var e=0;e<3;e++){var f=0;for(var g=0;g<3;g++)f+=a[d][g]*b[g][e];c[d][e]=f}return c}function x(a,b){b.fillStyle=a.fillStyle,b.lineCap=a.lineCap,b.lineJoin=a.lineJoin,b.lineWidth=a.lineWidth,b.miterLimit=a.miterLimit,b.shadowBlur=a.shadowBlur,b.shadowColor=a.shadowColor,b.shadowOffsetX=a.shadowOffsetX,b.shadowOffsetY=a.shadowOffsetY,b.strokeStyle=a.strokeStyle,b.globalAlpha=a.globalAlpha,b.font=a.font,b.textAlign=a.textAlign,b.textBaseline=a.textBaseline,b.arcScaleX_=a.arcScaleX_,b.arcScaleY_=a.arcScaleY_,b.lineScale_=a.lineScale_}function z(a){var b=a.indexOf("(",3),c=a.indexOf(")",b+1),d=a.substring(b+1,c).split(",");if(d.length!=4||a.charAt(3)!="a")d[3]=1;return d}function A(a){return parseFloat(a)/100}function B(a,b,c){return Math.min(c,Math.max(b,a))}function C(a){var b,c,d,e,f,g;e=parseFloat(a[0])/360%360,e<0&&e++,f=B(A(a[1]),0,1),g=B(A(a[2]),0,1);if(f==0)b=c=d=g;else{var h=g<.5?g*(1+f):g+f-g*f,i=2*g-h;b=D(i,h,e+1/3),c=D(i,h,e),d=D(i,h,e-1/3)}return"#"+s[Math.floor(b*255)]+s[Math.floor(c*255)]+s[Math.floor(d*255)]}function D(a,b,c){return c<0&&c++,c>1&&c--,6*c<1?a+(b-a)*6*c:2*c<1?b:3*c<2?a+(b-a)*(2/3-c)*6:a}function F(a){if(a in E)return E[a];var b,c=1;a=String(a);if(a.charAt(0)=="#")b=a;else if(/^rgb/.test(a)){var d=z(a),b="#",e;for(var f=0;f<3;f++)d[f].indexOf("%")!=-1?e=Math.floor(A(d[f])*255):e=+d[f],b+=s[B(e,0,255)];c=+d[3]}else if(/^hsl/.test(a)){var d=z(a);b=C(d),c=d[3]}else b=y[a]||a;return E[a]={color:b,alpha:c}}function I(a){if(H[a])return H[a];var b=document.createElement("div"),c=b.style;try{c.font=a}catch(d){}return H[a]={style:c.fontStyle||G.style,variant:c.fontVariant||G.variant,weight:c.fontWeight||G.weight,size:c.fontSize||G.size,family:c.fontFamily||G.family}}function J(a,b){var c={};for(var d in a)c[d]=a[d];var e=parseFloat(b.currentStyle.fontSize),f=parseFloat(a.size);return typeof a.size=="number"?c.size=a.size:a.size.indexOf("px")!=-1?c.size=f:a.size.indexOf("em")!=-1?c.size=e*f:a.size.indexOf("%")!=-1?c.size=e/100*f:a.size.indexOf("pt")!=-1?c.size=f/.75:c.size=e,c.size*=.981,c}function K(a){return a.style+" "+a.variant+" "+a.weight+" "+a.size+"px "+a.family}function M(a){return L[a]||"square"}function N(a){this.m_=v(),this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.strokeStyle="#000",this.fillStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=g*1,this.globalAlpha=1,this.font="10px sans-serif",this.textAlign="left",this.textBaseline="alphabetic",this.canvas=a;var b="width:"+a.clientWidth+"px;height:"+a.clientHeight+"px;overflow:hidden;position:absolute",c=a.ownerDocument.createElement("div");c.style.cssText=b,a.appendChild(c);var d=c.cloneNode(!1);d.style.backgroundColor="red",d.style.filter="alpha(opacity=0)",a.appendChild(d),this.element_=c,this.arcScaleX_=1,this.arcScaleY_=1,this.lineScale_=1}function P(a,b,c,d){a.currentPath_.push({type:"bezierCurveTo",cp1x:b.x,cp1y:b.y,cp2x:c.x,cp2y:c.y,x:d.x,y:d.y}),a.currentX_=d.x,a.currentY_=d.y}function Q(a,b){var c=F(a.strokeStyle),d=c.color,e=c.alpha*a.globalAlpha,f=a.lineScale_*a.lineWidth;f<1&&(e*=f),b.push("<g_vml_:stroke",' opacity="',e,'"',' joinstyle="',a.lineJoin,'"',' miterlimit="',a.miterLimit,'"',' endcap="',M(a.lineCap),'"',' weight="',f,'px"',' color="',d,'" />')}function R(b,c,d,e){var f=b.fillStyle,h=b.arcScaleX_,i=b.arcScaleY_,j=e.x-d.x,k=e.y-d.y;if(f instanceof V){var l=0,m={x:0,y:0},n=0,o=1;if(f.type_=="gradient"){var p=f.x0_/h,q=f.y0_/i,r=f.x1_/h,s=f.y1_/i,t=S(b,p,q),u=S(b,r,s),v=u.x-t.x,w=u.y-t.y;l=Math.atan2(v,w)*180/Math.PI,l<0&&(l+=360),l<1e-6&&(l=0)}else{var t=S(b,f.x0_,f.y0_);m={x:(t.x-d.x)/j,y:(t.y-d.y)/k},j/=h*g,k/=i*g;var x=a.max(j,k);n=2*f.r0_/x,o=2*f.r1_/x-n}var y=f.colors_;y.sort(function(a,b){return a.offset-b.offset});var z=y.length,A=y[0].color,B=y[z-1].color,C=y[0].alpha*b.globalAlpha,D=y[z-1].alpha*b.globalAlpha,E=[];for(var G=0;G<z;G++){var H=y[G];E.push(H.offset*o+n+" "+H.color)}c.push('<g_vml_:fill type="',f.type_,'"',' method="none" focus="100%"',' color="',A,'"',' color2="',B,'"',' colors="',E.join(","),'"',' opacity="',D,'"',' g_o_:opacity2="',C,'"',' angle="',l,'"',' focusposition="',m.x,",",m.y,'" />')}else if(f instanceof W){if(j&&k){var I=-d.x,J=-d.y;c.push("<g_vml_:fill",' position="',I/j*h*h,",",J/k*i*i,'"',' type="tile"',' src="',f.src_,'" />')}}else{var K=F(b.fillStyle),L=K.color,M=K.alpha*b.globalAlpha;c.push('<g_vml_:fill color="',L,'" opacity="',M,'" />')}}function S(a,b,c){var d=a.m_;return{x:g*(b*d[0][0]+c*d[1][0]+d[2][0])-h,y:g*(b*d[0][1]+c*d[1][1]+d[2][1])-h}}function T(a){return isFinite(a[0][0])&&isFinite(a[0][1])&&isFinite(a[1][0])&&isFinite(a[1][1])&&isFinite(a[2][0])&&isFinite(a[2][1])}function U(a,b,c){if(!T(b))return;a.m_=b;if(c){var d=b[0][0]*b[1][1]-b[0][1]*b[1][0];a.lineScale_=f(e(d))}}function V(a){this.type_=a,this.x0_=0,this.y0_=0,this.r0_=0,this.x1_=0,this.y1_=0,this.r1_=0,this.colors_=[]}function W(a,b){Y(a);switch(b){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=b;break;default:X("SYNTAX_ERR")}this.src_=a.src,this.width_=a.width,this.height_=a.height}function X(a){throw new Z(a)}function Y(a){(!a||a.nodeType!=1||a.tagName!="IMG")&&X("TYPE_MISMATCH_ERR"),a.readyState!="complete"&&X("INVALID_STATE_ERR")}function Z(a){this.code=this[a],this.message=a+": DOM Exception "+this.code}var a=Math,b=a.round,c=a.sin,d=a.cos,e=a.abs,f=a.sqrt,g=10,h=g/2,i=+navigator.userAgent.match(/MSIE ([\d.]+)?/)[1],k=Array.prototype.slice;o(document);var p={init:function(a){var b=a||document;b.createElement("canvas"),b.attachEvent("onreadystatechange",l(this.init_,this,b))},init_:function(a){var b=a.getElementsByTagName("canvas");for(var c=0;c<b.length;c++)this.initElement(b[c])},initElement:function(a){if(!a.getContext){a.getContext=j,o(a.ownerDocument),a.innerHTML="",a.attachEvent("onpropertychange",q),a.attachEvent("onresize",r);var b=a.attributes;b.width&&b.width.specified?a.style.width=b.width.nodeValue+"px":a.width=a.clientWidth,b.height&&b.height.specified?a.style.height=b.height.nodeValue+"px":a.height=a.clientHeight}return a}};p.init();var s=[];for(var t=0;t<16;t++)for(var u=0;u<16;u++)s[t*16+u]=t.toString(16)+u.toString(16);var y={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},E={},G={style:"normal",variant:"normal",weight:"normal",size:10,family:"sans-serif"},H={},L={butt:"flat",round:"round"},O=N.prototype;O.clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null),this.element_.innerHTML=""},O.beginPath=function(){this.currentPath_=[]},O.moveTo=function(a,b){var c=S(this,a,b);this.currentPath_.push({type:"moveTo",x:c.x,y:c.y}),this.currentX_=c.x,this.currentY_=c.y},O.lineTo=function(a,b){var c=S(this,a,b);this.currentPath_.push({type:"lineTo",x:c.x,y:c.y}),this.currentX_=c.x,this.currentY_=c.y},O.bezierCurveTo=function(a,b,c,d,e,f){var g=S(this,e,f),h=S(this,a,b),i=S(this,c,d);P(this,h,i,g)},O.quadraticCurveTo=function(a,b,c,d){var e=S(this,a,b),f=S(this,c,d),g={x:this.currentX_+2/3*(e.x-this.currentX_),y:this.currentY_+2/3*(e.y-this.currentY_)},h={x:g.x+(f.x-this.currentX_)/3,y:g.y+(f.y-this.currentY_)/3};P(this,g,h,f)},O.arc=function(a,b,e,f,i,j){e*=g;var k=j?"at":"wa",l=a+d(f)*e-h,m=b+c(f)*e-h,n=a+d(i)*e-h,o=b+c(i)*e-h;l==n&&!j&&(l+=.125);var p=S(this,a,b),q=S(this,l,m),r=S(this,n,o);this.currentPath_.push({type:k,x:p.x,y:p.y,radius:e,xStart:q.x,yStart:q.y,xEnd:r.x,yEnd:r.y})},O.rect=function(a,b,c,d){this.moveTo(a,b),this.lineTo(a+c,b),this.lineTo(a+c,b+d),this.lineTo(a,b+d),this.closePath()},O.strokeRect=function(a,b,c,d){var e=this.currentPath_;this.beginPath(),this.moveTo(a,b),this.lineTo(a+c,b),this.lineTo(a+c,b+d),this.lineTo(a,b+d),this.closePath(),this.stroke(),this.currentPath_=e},O.fillRect=function(a,b,c,d){var e=this.currentPath_;this.beginPath(),this.moveTo(a,b),this.lineTo(a+c,b),this.lineTo(a+c,b+d),this.lineTo(a,b+d),this.closePath(),this.fill(),this.currentPath_=e},O.createLinearGradient=function(a,b,c,d){var e=new V("gradient");return e.x0_=a,e.y0_=b,e.x1_=c,e.y1_=d,e},O.createRadialGradient=function(a,b,c,d,e,f){var g=new V("gradientradial");return g.x0_=a,g.y0_=b,g.r0_=c,g.x1_=d,g.y1_=e,g.r1_=f,g},O.drawImage=function(c,d){var e,f,h,i,j,k,l,m,n=c.runtimeStyle.width,o=c.runtimeStyle.height;c.runtimeStyle.width="auto",c.runtimeStyle.height="auto";var p=c.width,q=c.height;c.runtimeStyle.width=n,c.runtimeStyle.height=o;if(arguments.length==3)e=arguments[1],f=arguments[2],j=k=0,l=h=p,m=i=q;else if(arguments.length==5)e=arguments[1],f=arguments[2],h=arguments[3],i=arguments[4],j=k=0,l=p,m=q;else{if(arguments.length!=9)throw Error("Invalid number of arguments");j=arguments[1],k=arguments[2],l=arguments[3],m=arguments[4],e=arguments[5],f=arguments[6],h=arguments[7],i=arguments[8]}var r=S(this,e,f),s=l/2,t=m/2,u=[],v=10,w=10;u.push(" <g_vml_:group",' coordsize="',g*v,",",g*w,'"',' coordorigin="0,0"',' style="width:',v,"px;height:",w,"px;position:absolute;");if(this.m_[0][0]!=1||this.m_[0][1]||this.m_[1][1]!=1||this.m_[1][0]){var x=[];x.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",b(r.x/g),",","Dy=",b(r.y/g),"");var y=r,z=S(this,e+h,f),A=S(this,e,f+i),B=S(this,e+h,f+i);y.x=a.max(y.x,z.x,A.x,B.x),y.y=a.max(y.y,z.y,A.y,B.y),u.push("padding:0 ",b(y.x/g),"px ",b(y.y/g),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",x.join(""),", sizingmethod='clip');")}else u.push("top:",b(r.y/g),"px;left:",b(r.x/g),"px;");u.push(' ">','<g_vml_:image src="',c.src,'"',' style="width:',g*h,"px;"," height:",g*i,'px"',' cropleft="',j/p,'"',' croptop="',k/q,'"',' cropright="',(p-j-l)/p,'"',' cropbottom="',(q-k-m)/q,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",u.join(""))},O.stroke=function(a){var c=[],d=!1,e=10,f=10;c.push("<g_vml_:shape",' filled="',!!a,'"',' style="position:absolute;width:',e,"px;height:",f,'px;"',' coordorigin="0,0"',' coordsize="',g*e,",",g*f,'"',' stroked="',!a,'"',' path="');var h=!1,i={x:null,y:null},j={x:null,y:null};for(var k=0;k<this.currentPath_.length;k++){var l=this.currentPath_[k],m;switch(l.type){case"moveTo":m=l,c.push(" m ",b(l.x),",",b(l.y));break;case"lineTo":c.push(" l ",b(l.x),",",b(l.y));break;case"close":c.push(" x "),l=null;break;case"bezierCurveTo":c.push(" c ",b(l.cp1x),",",b(l.cp1y),",",b(l.cp2x),",",b(l.cp2y),",",b(l.x),",",b(l.y));break;case"at":case"wa":c.push(" ",l.type," ",b(l.x-this.arcScaleX_*l.radius),",",b(l.y-this.arcScaleY_*l.radius)," ",b(l.x+this.arcScaleX_*l.radius),",",b(l.y+this.arcScaleY_*l.radius)," ",b(l.xStart),",",b(l.yStart)," ",b(l.xEnd),",",b(l.yEnd))}if(l){if(i.x==null||l.x<i.x)i.x=l.x;if(j.x==null||l.x>j.x)j.x=l.x;if(i.y==null||l.y<i.y)i.y=l.y;if(j.y==null||l.y>j.y)j.y=l.y}}c.push(' ">'),a?R(this,c,i,j):Q(this,c),c.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",c.join(""))},O.fill=function(){this.stroke(!0)},O.closePath=function(){this.currentPath_.push({type:"close"})},O.save=function(){var a={};x(this,a),this.aStack_.push(a),this.mStack_.push(this.m_),this.m_=w(v(),this.m_)},O.restore=function(){this.aStack_.length&&(x(this.aStack_.pop(),this),this.m_=this.mStack_.pop())},O.translate=function(a,b){var c=[[1,0,0],[0,1,0],[a,b,1]];U(this,w(c,this.m_),!1)},O.rotate=function(a){var b=d(a),e=c(a),f=[[b,e,0],[-e,b,0],[0,0,1]];U(this,w(f,this.m_),!1)},O.scale=function(a,b){this.arcScaleX_*=a,this.arcScaleY_*=b;var c=[[a,0,0],[0,b,0],[0,0,1]];U(this,w(c,this.m_),!0)},O.transform=function(a,b,c,d,e,f){var g=[[a,b,0],[c,d,0],[e,f,1]];U(this,w(g,this.m_),!0)},O.setTransform=function(a,b,c,d,e,f){var g=[[a,b,0],[c,d,0],[e,f,1]];U(this,g,!0)},O.drawText_=function(a,c,d,e,f){var h=this.m_,i=1e3,j=0,k=i,l={x:0,y:0},n=[],o=J(I(this.font),this.element_),p=K(o),q=this.element_.currentStyle,r=this.textAlign.toLowerCase();switch(r){case"left":case"center":case"right":break;case"end":r=q.direction=="ltr"?"right":"left";break;case"start":r=q.direction=="rtl"?"right":"left";break;default:r="left"}switch(this.textBaseline){case"hanging":case"top":l.y=o.size/1.75;break;case"middle":break;default:case null:case"alphabetic":case"ideographic":case"bottom":l.y=-o.size/2.25}switch(r){case"right":j=i,k=.05;break;case"center":j=k=i/2}var s=S(this,c+l.x,d+l.y);n.push('<g_vml_:line from="',-j,' 0" to="',k,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!f,'" stroked="',!!f,'" style="position:absolute;width:1px;height:1px;">'),f?Q(this,n):R(this,n,{x:-j,y:0},{x:k,y:o.size});var t=h[0][0].toFixed(3)+","+h[1][0].toFixed(3)+","+h[0][1].toFixed(3)+","+h[1][1].toFixed(3)+",0,0",u=b(s.x/g)+","+b(s.y/g);n.push('<g_vml_:skew on="t" matrix="',t,'" ',' offset="',u,'" origin="',j,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',m(a),'" style="v-text-align:',r,";font:",m(p),'" /></g_vml_:line>'),this.element_.insertAdjacentHTML("beforeEnd",n.join(""))},O.fillText=function(a,b,c,d){this.drawText_(a,b,c,d,!1)},O.strokeText=function(a,b,c,d){this.drawText_(a,b,c,d,!0)},O.measureText=function(a){if(!this.textMeasureEl_){var b='<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>';this.element_.insertAdjacentHTML("beforeEnd",b),this.textMeasureEl_=this.element_.lastChild}var c=this.element_.ownerDocument;return this.textMeasureEl_.innerHTML="",this.textMeasureEl_.style.font=this.font,this.textMeasureEl_.appendChild(c.createTextNode(a)),{width:this.textMeasureEl_.offsetWidth}},O.clip=function(){},O.arcTo=function(){},O.createPattern=function(a,b){return new W(a,b)},V.prototype.addColorStop=function(a,b){b=F(b),this.colors_.push({offset:a,color:b.color,alpha:b.alpha})};var $=Z.prototype=new Error;$.INDEX_SIZE_ERR=1,$.DOMSTRING_SIZE_ERR=2,$.HIERARCHY_REQUEST_ERR=3,$.WRONG_DOCUMENT_ERR=4,$.INVALID_CHARACTER_ERR=5,$.NO_DATA_ALLOWED_ERR=6,$.NO_MODIFICATION_ALLOWED_ERR=7,$.NOT_FOUND_ERR=8,$.NOT_SUPPORTED_ERR=9,$.INUSE_ATTRIBUTE_ERR=10,$.INVALID_STATE_ERR=11,$.SYNTAX_ERR=12,$.INVALID_MODIFICATION_ERR=13,$.NAMESPACE_ERR=14,$.INVALID_ACCESS_ERR=15,$.VALIDATION_ERR=16,$.TYPE_MISMATCH_ERR=17,G_vmlCanvasManager=p,CanvasRenderingContext2D=N,CanvasGradient=V,CanvasPattern=W,DOMException=Z}(),jQuery.startHourChange=function(){$("#move select[name=tuesdayStartHour]").val($("#move select[name=mondayStartHour]").val()),$("#move select[name=wednesdayStartHour]").val($("#move select[name=mondayStartHour]").val()),$("#move select[name=thursdayStartHour]").val($("#move select[name=mondayStartHour]").val()),$("#move select[name=fridayStartHour]").val($("#move select[name=mondayStartHour]").val())},jQuery.startMinuteChange=function(){$("#move select[name=tuesdayStartMinute]").val($("#move select[name=mondayStartMinute]").val()),$("#move select[name=wednesdayStartMinute]").val($("#move select[name=mondayStartMinute]").val()),$("#move select[name=thursdayStartMinute]").val($("#move select[name=mondayStartMinute]").val()),$("#move select[name=fridayStartMinute]").val($("#move select[name=mondayStartMinute]").val())},jQuery.endHourChange=function(){$("#move select[name=tuesdayEndHour]").val($("#move select[name=mondayEndHour]").val()),$("#move select[name=wednesdayEndHour]").val($("#move select[name=mondayEndHour]").val()),$("#move select[name=thursdayEndHour]").val($("#move select[name=mondayEndHour]").val()),$("#move select[name=fridayEndHour]").val($("#move select[name=mondayEndHour]").val()),$("#move select[name=mondayEndHour]").val()=="24"?($("#move select[name=tuesdayEndMinute]").attr("disabled",!0),$("#move select[name=wednesdayEndMinute]").attr("disabled",!0),$("#move select[name=thursdayEndMinute]").attr("disabled",!0),$("#move select[name=fridayEndMinute]").attr("disabled",!0)):($("#move select[name=tuesdayEndMinute]").attr("disabled",!1),$("#move select[name=wednesdayEndMinute]").attr("disabled",!1),$("#move select[name=thursdayEndMinute]").attr("disabled",!1),$("#move select[name=fridayEndMinute]").attr("disabled",!1))},jQuery.endMinuteChange=function(){$("#move select[name=tuesdayEndHour]").val()!="24"&&$("#move select[name=tuesdayEndMinute]").val($("#move select[name=mondayEndMinute]").val()),$("#move select[name=wednesdayEndHour]").val()!="24"&&$("#move select[name=wednesdayEndMinute]").val($("#move select[name=mondayEndMinute]").val()),$("#move select[name=thursdayEndHour]").val()!="24"&&$("#move select[name=thursdayEndMinute]").val($("#move select[name=mondayEndMinute]").val()),$("#move select[name=fridayEndHour]").val()!="24"&&$("#move select[name=fridayEndMinute]").val($("#move select[name=mondayEndMinute]").val())},jQuery.endHourCheck=function(a){$("#move select[name="+a+"EndHour]").val()=="24"?($("#move select[name="+a+"EndMinute]").attr("disabled",!0),$("#move select[name="+a+"EndMinute]").val(0),a=="monday"&&$.endMinuteChange()):$("#move select[name="+a+"EndMinute]").attr("disabled",!1)},jQuery.sendAttMail=function(){var a="page=emailQuote",b=$.getAjaxResponse("GET","/login/popUp.jsp",a),c=($(window).height()-400)/2+$(window).scrollTop()+"px",d=($(window).width()-540)/2+$(window).scrollLeft()+"px";$.showPopUpDiv(b,c,d,"5000","472")},jQuery.showbtns=function(){$(function(){$("#updatebtn").button().click(function(){}).next().button({text:!1,icons:{primary:"ui-icon-triangle-1-s"}}),$("#rerun").button().click(function(){}),$("#download").button().click(function(){}),$("#select").button().click(function(){}).parent().buttonset()})},jQuery.generatePopUp=function(){var a=Msgbean(reportmsg.nodata_msg);if($("#form1 input[name=notavailable]").val()!=null&&$("#form1 input[name=notavailable]").val()==1)return alert(a),!0;var b=$("#generate").position(),c="pagename=generatereport&width=315&arrowpos=287",d=$.getAjaxResponse("GET","/jsp/includes/divPopUp.jsp",c),e=b.left-300,f=b.top+12;$.showPopUpDiv(d,f,e,"5000","330")},jQuery.getAjaxResponseWithCSRF=function(a,b,c){if(c==null||c=="undefined")c="";return typeof CSRFParamName!="undefined"&&!(c.indexOf(CSRFParamName)>=0)&&(c=c+"&"+CSRFParamName+"="+CSRFParamValue),$.getAjaxResponse("POST",b,c)},jQuery.getAsyncPostAjaxResponse=function(a,b,c){var d=$.ajax({url:b,type:"POST",data:c,cache:!1,async:!0,success:function(b){a.call(this,b)}}).responseText;return d},jQuery.getAjaxResponse=function(a,b,c){var d=$.ajax({url:b,type:a,data:c,cache:!1,async:!1,success:function(a){}}).responseText;return d},jQuery.getPostAjaxResponseWithoutCSRF=function(a,b){var c=$("#"+b).serialize();return $.getAjaxResponse("POST",a,c)},jQuery.getPostAjaxResponse=function(a,b){var c=$("#"+b).serialize();return $.getAjaxResponseWithCSRF("POST",a,c)},jQuery.removeCSRFParam=function(){$('input[type="hidden"][name="'+CSRFParamName+'"]').remove()},jQuery.getAjaxResponseFromDiv=function(a,b,c){$("#"+c).load(""+a+" #"+b)},jQuery.showDiv=function(a,b,c){b!=undefined&&b>0?c!=undefined&&c=="true"?$("#"+a).slideDown(b):$("#"+a).show(b):$("#"+a).show()},jQuery.toggleDiv=function(a){$("#"+a).toggle()},jQuery.hideDiv=function(a,b,c){b!=undefined&&b>0?c!=undefined&&c=="true"?$("#"+a).slideUp(b):$("#"+a).hide(b):$("#"+a).hide()},jQuery.fadeOutDiv=function(a,b){$("#"+a).fadeOut(b)},jQuery.hideAllExcept=function(a,b){if(a!=undefined){var c=a.split(",");for(i=0;i<c.length;i++){var d=c[i];d!=undefined&&d!=b&&$.hideDiv(d),d!=undefined&&d==b&&$.showDiv(b)}}},jQuery.addClass=function(a,b){if(a!=undefined){var c=a.split(",");for(i=0;i<c.length;i++){var d=c[i];d!=undefined&&$("#"+d).addClass(b)}}},jQuery.removeClass=function(a,b){if(a!=undefined){var c=a.split(",");for(i=0;i<c.length;i++){var d=c[i];d!=undefined&&$("#"+d).removeClass(b)}}},jQuery.showAllDivs=function(a){var b=a.split(",");for(i=0;i<b.length;i++){var c=b[i];c!=undefined&&$.showDiv(c)}},jQuery.hideAllDivs=function(a){var b=a.split(",");for(i=0;i<b.length;i++){var c=b[i];c!=undefined&&$.hideDiv(c)}},jQuery.clearAllExcept=function(a,b){var c=a.split(",");for(i=0;i<c.length;i++){var d=c[i];d!=undefined&&d!=b&&$.clearDiv(d)}},jQuery.getActiveDiv=function(a){var b=a.split(",");for(i=0;i<b.length;i++){var c=b[i];if(c!=undefined){var d=$("#"+c).attr("style");if(d.match("block")||d=="")return c}}return""},jQuery.clearDiv=function(a){$("#"+a).html("")},jQuery.isExists=function(a,b){return jQuery("#"+a).is(b)},jQuery.enableDrag=function(a){$("#"+a).draggable({addClasses:"false",scroll:"false",enabled:"true",snap:"false"})},jQuery.isVisible=function(a){return $("#"+a).is(":visible")?!0:!1},jQuery.disableDrag=function(a){$("#"+a).draggable("destroy")},jQuery.mouseDownEvents=function(a,b,c,d){var e=$("#"+d).offset(),f=$("#"+d).width(),g=$("#"+d).height(),h=e.left,i=e.top;$.isVisible(d)&&(b<h||b>=h+f||c<i||c>=i+g)&&$.hideDropDownDiv()},jQuery.getBrowser=function(){var a="";return $.browser.mozilla?a="Mozilla":$.browser.opera?a="Opera":$.browser.msie?a="IE":$.browser.safari&&(a="Safari"),a+" "+$.browser.version},jQuery.updateBrowserSettings=function(){var a=GetSwfVer(),b=$.getBrowser(),c="method=updateBrowserDetails&flash="+a+"&browser="+b,d=$.getAjaxResponseWithCSRF("POST","/general/simpleTest.do",c)},jQuery.showToolTip=function(a,b,c){var d=$(window).height(),e=$(window).width(),f=$("#"+b).html(),g=$("#"+b).outerWidth(),h=$("#"+a).width(),i=$("#"+a).offset(),j=i.left,k=i.top,l=j-15,m=k+35,n="";if(c){var o=18,p=e/2;g>e?(l=10,o=j+h/2):j<p&&g<p?l+=5:j<p&&g>p?l+=5:j>p&&g+j>e&&(l=j-g+h+20,o=g-(20+h/2)),n=n+'<div style="margin-left:'+o+'px;padding-bottom:10px;" class="tooltip-pointer"><div class="tooltip-pointer-up"><div class="tooltip-pointer-up-inner"></div></div></div>'}else g>e&&(l=10,m=k+30);n=n+'<div class="tooltip"><b class="tooltipdiv1"></b><b class="tooltipdiv2"></b><b class="tooltipdiv3"></b><b class="tooltipdiv4"></b><div class="tooltipboxcontent"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td valign="middle" height="32" class="labeltd">'+f+'</td></tr></tbody></table></div><b class="tooltipdiv4tooltipdiv"></b><b class="tooltipdiv3tooltipdiv"></b><b class="tooltipdiv2tooltipdiv"></b><b class="tooltipdiv1tooltipdiv"></b></div>';var q='<table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td>'+n+"</td></tr></tbody></table>";$.showToolTipDiv(q,m,l,"100")},jQuery.hideToolTip=function(){$.hideDiv("ToolTipFloatingDiv")},jQuery.showToolTipDiv=function(a,b,c,d){$.isExists("ToolTipFloatingDiv","div")||$("body").first().append("<div id='ToolTipFloatingDiv'></div>"),a!=undefined&&a.length>0&&$("#ToolTipFloatingDiv").html(a),$("#ToolTipFloatingDiv").css({position:"absolute",zIndex:""+d,top:""+b,left:""+c,"float":"right"}),$.showDiv("ToolTipFloatingDiv")},jQuery.hidePopUpDiv=function(){$.hideDiv("popUpFloatingDiv")},jQuery.showModalDiv=function(a,b,c){a!=null&&($("body").first().append("<div id='popUpFloatingDiv' style='overflow: hidden;background-color:#000000'></div>"),$("#popUpFloatingDiv").html(a),c!=null&&b!=null?$("#popUpFloatingDiv").modal({closeHTML:"<a class='modalCloseImg' title='"+beanmsg.close+"'></a>",containerCss:{height:b,width:c},overlayClose:!1}):$("#popUpFloatingDiv").modal({closeHTML:"<a class='modalCloseImg' title='"+beanmsg.close+"'></a>",overlayClose:!1}))},jQuery.showPopUpResponse=function(a,b,c,d,e){$.isExists("popUpFloatingDiv","div")||$("body").first().append("<div id='popUpFloatingDiv'></div>");try{a!==undefined&&a.length>0&&$("#popUpFloatingDiv").html(a)}catch(f){}$("#popUpFloatingDiv").css({position:"absolute",zIndex:""+d,top:""+b,left:""+c,"float":"right",width:""+e}),$.showDiv("popUpFloatingDiv")},jQuery.showPopUpDiv=function(a,b,c,d,e){$.isExists("popUpFloatingDiv","div")||$("body").first().append("<div id='popUpFloatingDiv'></div>"),a!=undefined&&a.length>0&&$("#popUpFloatingDiv").html(a),$("#popUpFloatingDiv").css({position:"absolute",zIndex:""+d,top:""+b,left:""+c,"float":"right",width:""+e}),$.showDiv("popUpFloatingDiv")},jQuery.hideDropDownDiv=function(){$.hideDiv("DialogFloatingDiv")},jQuery.showDropDownDiv=function(a,b,c,d,e,f){$.isExists("DialogFloatingDiv","div")||$("body").first().append("<div id='DialogFloatingDiv'></div>"),a!=undefined&&a.length>0&&$("#DialogFloatingDiv").html(a),$("#DialogFloatingDiv").css({position:"absolute",zIndex:""+d,top:""+b,left:""+c,overflow:"auto",width:""+e,height:""+f}),$.showDiv("DialogFloatingDiv")},jQuery.hideOnEsc=function(){$.hideDiv("popUpFloatingDiv"),$.hideDiv("ToolTipFloatingDiv"),$.hideDiv("DialogFloatingDiv"),$.hideDiv("customPeriod"),$.hideDiv("outputDiv"),$("#emailTest").popover("hide"),$("#smsTest").popover("hide"),$("#imButton").popover("hide"),$("#twitterbtn").popover("hide"),document.getElementById("uname")!=null&&(document.getElementById("uname").className="nor-link-logo-a")},jQuery.updateResoultionInfo=function(){var a=$(window).height(),b=$(window).width(),c=$.getAjaxResponseWithCSRF("POST","/login/status.do","execute=updateSettings&w="+b+"&h="+a)},jQuery.setTitle=function(a,b){$("#"+a).attr("title",$("#"+b).html())},jQuery.updateToMaintenance=function(a,b,c,d,e){if(confirm(beanmsg.update_downtime_maintenance)){var f=$.getAjaxResponse("GET","/home/CreateTest.do","execute=updateToMaintenance&urlid="+b+"&downtime="+a),g=getValue(f,"ax_updateToMaintenance");if(g=="success"&&d=="detailspage")$.showDetails(b,c,!0,e);else if(g=="success"&&d=="availPopUpReport"){var h="../login/status.do?execute=showDowntimeDetails&urlid="+b+"&period="+c;if(c==50){var i=$("#actualStartTrigger").val(),j=$("#actualEndTrigger").val();h=h+"&startDate="+i+"&endDate="+j}location.href=h}}},jQuery.deleteDowntime=function(a,b,c,d,e){if(confirm(beanmsg.del_downtime)){var f=$.getAjaxResponse("GET","/home/CreateTest.do","execute=deleteDowntime&urlid="+b+"&downtime="+a),g=getValue(f,"ax_deleteDowntime");if(g=="success"&&d=="detailspage")$.showDetails(b,c,!0,e);else if(g=="success"&&d=="availPopUpReport"){var h="../login/status.do?execute=showDowntimeDetails&urlid="+b+"&period="+c;if(c==50){var i=$("#actualStartTrigger").val(),j=$("#actualEndTrigger").val();h=h+"&startDate="+i+"&endDate="+j}location.href=h}}},jQuery.deleteMaintenanceDowntime=function(a,b,c,d,e){if(confirm(beanmsg.del_maintenance_downtime)){var f=$.getAjaxResponse("GET","/home/CreateTest.do","execute=deleteDowntime&urlid="+b+"&downtime="+a),g=getValue(f,"ax_deleteDowntime");if(g=="success"&&d=="detailspage")$.showDetails(b,c,!0,e);else if(g=="success"&&d=="availPopUpReport"){var h="../login/status.do?execute=showDowntimeDetails&urlid="+b+"&period="+c;if(c==50){var i=$("#actualStartTrigger").val(),j=$("#actualEndTrigger").val();h=h+"&startDate="+i+"&endDate="+j}location.href=h}}},jQuery.deleteLocationDowntime=function(a,b,c){if(confirm(beanmsg.del_downtime)){var d=$.getAjaxResponse("GET","/home/CreateTest.do","execute=deleteDowntime&urlid="+b+"&downtime="+a+"&locid="+c),e=getValue(d,"ax_deleteDowntime");e=="success"&&$.hideDiv(a)}},jQuery.commonTabHide=function(a){$.menuTabHiding($("#commonTabLists").html(),a)},jQuery.commonParentTabHide=function(a,b,c){$.parentMenuTabHiding(b,a,c)},jQuery.parentMenuTabHiding=function(a,b,c){var d=a.split(",");for(i=0;i<d.length;i++){var e=d[i];e!=undefined&&(e==b?(c.$("#li"+e+" a").first().css({color:"#000000","font-weight":"bold"}),c.$("#li"+e).addClass("tab2selected")):(c.$("#li"+e+" a").first().css({color:"#0c7dbe","font-weight":"normal"}),c.$("#li"+e).removeClass("tab2selected")))}},jQuery.showParentTabDetails=function(a,b,c,d){var e="execute=showPerf&urlid="+a+"&period="+b+"&selectedTab="+c;if(b==50){var f=d.$("#actualStartTrigger").val(),g=d.$("#actualEndTrigger").val();e=e+"&startdate="+f+"&enddate="+g}var h=$.getAjaxResponse("GET","/home/CreateTest.do",e),i=$(h).find("div[id='confmonitordetailsdiv']");i[0]!=undefined&&d.$("#customdateheaderDiv").html(i[0].innerHTML);var j=$(h).filter("div#tabContentDiv").html();j!=undefined&&d.$("#tabdetailsDiv").html(j);var k=$(h).filter("div#commonTabLists").html();k!=undefined&&d.$("#commonTabLists").html(k);var l=getValue(h,"ax_availability"),m=getValue(h,"ax_displayname"),n=getValue(h,"ax_monitortype");d.$("#detailsPageMononitorFrm input[name=monitorDisplayName]").val(m),d.$("#detailsPageMononitorFrm input[name=perfmonitortype]").val(n);var o='<span class="AvailableText">'+statusmsg.available_msg+"</span></c:if>";l=="7"?o='<span class="MaintenanceText">'+statusmsg.maintenace_msg+"</span></c:if>":l=="0"?o='<span class="UnAvailableText">'+statusmsg.unavailable_msg+"</span></c:if>":l=="2"&&(o='<span class="TroubleText">'+statusmsg.trouble_msg+"</span></c:if>");var p='<span class="URLText">'+m+" - </span>"+o;d.$("#perfStatusDiv").html(p),d.$("#customdatedetailsDiv").html(h),d.$("#popUpFloatingDiv").hide(),d.$("#perfperiod").val(b),d.$("#perfmonitorid").val(a),d.$("#selectedTab").val(c),d.$("#customdatedetailsDiv").show(),d.$("#customPeriod").hide(),c!="null"&&c!=null&&c!=undefined&&$.commonParentTabHide(c,k,d),showcustomizedtooltipsforparent(d)},jQuery.showTabDetails=function(a,b,c,d){document.getElementById("pollnowstatusDiv").style.display=="block"?(document.getElementById("pollnowstatusDiv").style.display="none",$("label[for='detailsPeriod_Month']").removeClass("ui-state-active"),$("label[for='detailsPeriod_Week']").removeClass("ui-state-active"),$("label[for='detailsPeriod_Today']").addClass("ui-state-active")):$("#detailsloadingDiv").html($("#cogwheelLoadingDiv").html()),$.showDiv("detailsloadingDiv");var e=document.location.search;if(b=="tab"){var f=b;b=document.getElementById("periodValue").value}var g="";e.search("showPerf2")!==-1?g="execute=showPerf2&urlid="+a+"&period="+b+"&selectedTab="+c:e.search("showPerf3")!==-1?g="execute=showPerf3&urlid="+a+"&period="+b+"&selectedTab="+c:d!=null?g="execute=showPerf&urlid="+a+"&period="+b+"&selectedTab="+c+"&childid="+d:g="execute=showPerf&urlid="+a+"&period="+b+"&selectedTab="+c;if(b==50){var h=$("#actualStartTrigger").val(),i=$("#actualEndTrigger").val();g=g+"&startdate="+h+"&enddate="+i}var j=$.getAjaxResponse("GET","/home/CreateTest.do",g),k=$(j).find("div[id='confmonitordetailsdiv']");k[0]!=undefined&&$("#customdateheaderDiv").html(k[0].innerHTML);var l=getValue(j,"ax_availability"),m=getValue(j,"ax_displayname"),n=getValue(j,"ax_monitortype"),o=getValue(j,"ax_probedownmsg");$("#detailsPageMononitorFrm input[name=monitorDisplayName]").val(m),$("#detailsPageMononitorFrm input[name=perfmonitortype]").val(n);var p='<span class="AvailableText">'+statusmsg.available_msg+"</span></c:if>";if(l=="7")p='<span class="MaintenanceText">'+statusmsg.maintenace_msg+"</span></c:if>";else if(l=="0")p='<span class="UnAvailableText">'+statusmsg.unavailable_msg+"</span></c:if>";else if(l=="2")p='<span class="TroubleText">'+statusmsg.trouble_msg+"</span></c:if>";else if(l=="9"){var q=$("#configerrtxt").html();p='<span class="TroubleText">'+q+"</span></c:if>"}else if(l=="10"){var q=$("#configerrtxt").html();p='<span class="UnAvailableText">'+q+"</span></c:if>"}var r='<span class="URLText">'+m+" - </span>"+p;o!==undefined&&o!==""&&(r=r+'<br><span class="UnAvailableText">'+o+"</span>"),$("#perfStatusDiv").html(r),$("#customdatedetailsDiv").html(j),$.hideDiv("popUpFloatingDiv"),$("#perfperiod").val(b),$("#perfmonitorid").val(a),$("#selectedTab").val(c),$.showDiv("customdatedetailsDiv"),$.hideDiv("detailsloadingDiv"),$.hideDiv("customPeriod"),c!="null"&&c!=null&&c!=undefined&&$.commonTabHide(c),showcustomizedtooltips(),f=="tab"&&b!=3&&b!=11?$.checkDiv($("label[for='detailsPeriod_Month']").text(),b):(b==3||b==11)&&$("label[for='detailsPeriod_Month']").removeClass("ui-state-active"),b!=50&&f!="tab"&&$.checkDiv("Select",b),document.getElementById("periodValue").value=b,document.getElementById("periodLabel").value=$("label[for='detailsPeriod_Month']").text();try{$.updateBrowserSettings()}catch(s){}if(n!=undefined&&n=="REALBROWSER"||document.getElementById("mygaltop")!=null&&document.getElementById("mygaltop")!=undefined)try{$("div#mygaltop").slideView({toolTip:!0,ttOpacity:.5}),$.hideDiv("mygaltop-loading"),$("#mygaltop").slideDown(1e3),setTimeout(function(){var a=document.getElementsByClassName("ldrgif");for(var b=0;b<a.length;b++)a[b].style.display="none"},100)}catch(s){}},jQuery.showDetails=function(a,b,c,d){$("#detailsloadingDiv").html($("#cogwheelLoadingDiv").html()),$.showDiv("detailsloadingDiv"),$(".nodatabox").remove();var e="execute=showPerf&urlid="+a+"&period="+b;if(b==50){var f=$("#actualStartTrigger").val(),g=$("#actualEndTrigger").val();e=e+"&startdate="+f+"&enddate="+g}d!=undefined&&d=="true"&&(e+="&p1=SR");var h=$.getAjaxResponse("GET","/home/CreateTest.do",e),i=getValue(h,"ax_availability"),j=getValue(h,"ax_displayname"),k=getValue(h,"ax_monitortype");$("#detailsPageMononitorFrm input[name=monitorDisplayName]").val(j),$("#detailsPageMononitorFrm input[name=perfmonitortype]").val(k);var l='<span class="AvailableText">'+statusmsg.available_msg+"</span></c:if>";i=="7"?l='<span class="MaintenanceText">'+statusmsg.maintenace_msg+"</span></c:if>":i=="0"?l='<span class="UnAvailableText">'+statusmsg.unavailable_msg+"</span></c:if>":i=="2"&&(l='<span class="TroubleText">'+statusmsg.trouble_msg+"</span></c:if>");var m='<span class="URLText">'+j+" - </span>"+l;$("#perfStatusDiv").html(m),$("#customdatedetailsDiv").html(h),$.hideDiv("popUpFloatingDiv"),$("#perfperiod").val(b),$("#perfmonitorid").val(a),$.showDiv("customdatedetailsDiv"),$.hideDiv("detailsloadingDiv"),$.hideDiv("customPeriod"),(b==3||b==11)&&$("label[for='detailsPeriod_Month']").removeClass("ui-state-active"),b!=50&&$.checkDiv("Select",b);if(k!=undefined&&k=="REALBROWSER"||document.getElementById("mygaltop")!=null&&document.getElementById("mygaltop")!=undefined)try{$("div#mygaltop").slideView({toolTip:!0,ttOpacity:.5}),$.hideDiv("mygaltop-loading"),$("#mygaltop").slideDown(1e3),setTimeout(function(){var a=document.getElementsByClassName("ldrgif");for(var b=0;b<a.length;b++)a[b].style.display="none"},100)}catch(n){}},jQuery.sendReportByEMail=function(a,b,c){$.sendReportByEMail(a,b,c,!1,null,null,null)},jQuery.sendFusionByEMail=function(a,b,c){var d="",e="",f="";c==50&&(e=$("#reportform input[name=startdate]").val(),f=$("#reportform input[name=enddate]").val());var g=document.getElementById("reportform").locationId.value;d="/home/reportsinfo.do?execute=showApdexReport&urlid="+a+"&period="+c+"&startdate="+e+"&enddate="+f+"&reporttype=email&locid="+g+"&emailid=";if(d.length>5){var h=$("#reportform input[name=username]").val(),i="pagename=emailreport&width=315&arrowpos=250&url="+d+"&email="+encodeURIComponent(h);i=i+"&isApdex="+!0;var j=$.getAjaxResponse("GET","/jsp/includes/divPopUp.jsp",i),k=$("#EmailThisReportDivId").position(),l=0,m=0;l=k.left-240+"px",m=k.top+15+"px",$.showPopUpDiv(j,m,l,"5000","330")}$.hideDiv("loading")},jQuery.sendReportByEMail=function(a,b,c,d,e,f,g,h){$.showDiv("loading");if(d=="true"||d==1){ExportCharts("JPG");return}var h=2,i="";if(c!=undefined&&c=="perfDetailspage"){var j=null,k=null;h=$("#perfperiod").val(),h==50&&(j=$("#startTrigger").val(),k=$("#endTrigger").val()),i="/home/CreateTest.do?execute=sendReport&urlid="+a+"&period="+h+"&startDate="+j+"&endDate="+k+"&emailid=";if(d=="true"||d==1){var l=$("#aaa select[name=selectedUrlLocation]").val();l!==undefined&&l!==""&&(i="/home/CreateTest.do?execute=sendReport&urlid="+a+"&period="+h+"&startDate="+j+"&endDate="+k+"&locid="+l+"&emailid=")}}if(i.length>5){var m="pagename=emailreport&width=315&arrowpos=250&url="+i+"&email="+encodeURIComponent(b),n=$.getAjaxResponse("GET","/jsp/includes/divPopUp.jsp",m),o=$("#EmailThisReportDivId").position(),p=o.left-240,q=o.top-33;$.showPopUpDiv(n,q,p,"5000","330")}$.hideDiv("loading")},jQuery.reloadshowReport=function(){var a=$("#currentreportType").html();$.showReport(a)},jQuery.fnSendReportByMail=function(){var a=$("#permission").val(),b=$("#currentreportType").html();$.sendReportEmail(b,null,null,null,null,a)},jQuery.urlHashReplace=function(a){window.location.hash=a},jQuery.showReportChanges=function(a,b){a!=null&&($("#newperiodlbl").val($("#"+a).html()),$("#newperiodval").val(a),$("#newdtlbl").val(b)),$("#timelbl").html($("#newperiodlbl").val());var c="",d="";$("#newperiodval").val()==50?(hideDiv("holderdiv"),showDiv("customdtdiv"),c=$("#reportform input[name=startdate]").val(),d=$("#reportform input[name=enddate]").val()):(hideDiv("customdtdiv"),showDiv("holderdiv")),$("#testdiv").html($("#newdtlbl").val()),closeDialog()},jQuery.showbusyReport=function(a,b){var c=$("#newperiodval").val();c!=null&&c.indexOf("BH")==-1&&(c="BH"+c),$("#"+c).length<=0&&(c=a,$("#newperiodlbl").val($("#"+c).html()),$("#newperiodval").val(c),$("#newdtlbl").val(b)),$.showReport("BusyHourReport")},jQuery.showReport=function(a){var b=$("#newperiodval").val();b&&b.indexOf("BH")!==-1&&(b=b.slice(2,b.length));if($("#reportform").length==0){$.urlHashReplace(a),$.menuTabHiding($("#reportTabLists").html(),a);return}if(a!="logreport"&&$("#reportform input[id=monlist]").val()<1){$.hideAllDivs("reportform,reportsContent"),$.showAllDivs("nodataDiv"),$.urlHashReplace(a),$.menuTabHiding($("#reportTabLists").html(),a);return}$.showAllDivs("reportsContent"),$("#reportsContent").html("<img src='/images/zoho-busy.gif' style='padding-top:20px;padding-bottom:20px;'/>"),$("#timelbl").html($("#newperiodlbl").val());var c="",d="";$("#newperiodval").val()==50?(hideDiv("holderdiv"),showDiv("customdtdiv"),c=$("#reportform input[name=startdate]").val(),d=$("#reportform input[name=enddate]").val()):(hideDiv("customdtdiv"),showDiv("holderdiv")),$("#testdiv").html($("#newdtlbl").val());var e=$("#reportform input[name=statuskeys]").val(),f=b,g=0,h=$("#reportform select[name=monitor]").val();$.showDiv("loadingg");var i="../home/reportsinfo.do",j="",k="",l=" disp_label,disp_name,allmonitors,monitorgroups,allmonitorsincludingssl,both_monitor_n_groups,label_mon_group,label_mon,label_group,time_from,time_to,report_period,segment_by,cal_from,cal_to,show_report,business_period,buisness_segments,trend_period,trendreportperiods,dropMenuactions1,both_monitor_n_groups_summary,allmonitorsexcludingmsexchange";$.urlHashReplace(a),$.showDiv("makePublicDiv");if(a=="summaryReport")document.getElementById("both_monitor_n_groups_summary")!=null&&(g=$("#reportform select[name=report_Mon_GroupId_Summary]").val()),g.match("MO_")?(m=g.split("_"),j="execute=showSummaryReport&urlid="+m[1]+"&summaryReport=true"):g.match("INFRA_")?(m=g.split("_"),j="execute=showSummaryReportForMSExchange&groupid="+m[1]+"&summaryReport=true"):j="execute=showSummaryReport&monitorgroupid="+g+"&summaryReport=true",$.hideAllDivs(l),$.showAllDivs("disp_label,disp_name,label_mon_group,both_monitor_n_groups_summary,time_from,cal_from,time_to,cal_to,show_report,dropMenuactions");else if(a=="LocationDownReport")j="execute=outageReport&urlid="+h,$.hideAllDivs(l),$.showAllDivs("disp_label,disp_name,label_mon,allmonitors,time_from,cal_from,time_to,cal_to,show_report,dropMenuactions");else if(a=="outageReport")document.getElementById("both_monitor_n_groups")!=null&&(g=$("#reportform select[name=report_Mon_GroupId]").val()),g.match("MO_")?(m=g.split("_"),j="execute=OutageReportForAllMonitors&urlid="+m[1]):j="execute=OutageReportForAllMonitors&monitorgroupid="+g,$.hideAllDivs(l),$.showAllDivs("disp_label,disp_name,label_mon_group,both_monitor_n_groups,time_from,cal_from,time_to,cal_to,show_report,dropMenuactions");else if(a=="ResponseReport"){var m="",n="",o="";document.getElementById("both_monitor_n_groups")!=null&&(g=$("#reportform select[name=report_Mon_GroupId]").val());if(g.match("MO_")){m=g.split("_"),o="showResponseReport";if(m[2]=="SERVER"||m[2]=="MSEXCHANGE")o="showResponseReportForServerMonitor";j="execute="+o+"&urlid="+m[1]+"&isUrl=false&period="+f+"&startdate="+c+"&enddate="+d}else j="execute=ResponsetimeReport&monitorgroupid="+g+"&period="+f+"&startdate="+c+"&enddate="+d+"&param="+e+"&reportstab=true";j+="&showResponseHeading=false",$.hideAllDivs(l),$.showAllDivs("disp_label,disp_name,label_mon_group,both_monitor_n_groups,time_from,cal_from,time_to,cal_to,show_report,dropMenuactions")}else if(a=="trendReport"){var p="disp_name,monitorgroups,time_from,cal_from,time_to,cal_to,trend_period,trendreportperiods,show_report,dropMenuactions";document.getElementById("monitorgroups")!=null&&(p="disp_label,label_group,"+p,g=$("#reportform select[name=reportGroupId]").val());var q=$("#reportform select[name=trendReportperiod]").val();j="execute=trendReport&trendperiod="+q+"&monitorgroupid="+g,$.hideAllDivs(l),$.showAllDivs(p)}else if(a=="BusyHourReport"){var r=$("#reportform select[name=businessReportSegments]").val(),s=$("#reportform select[name=busy_monitor]").val();c="",d="",j="execute=businessReport&businessperiod="+r+"&urlid="+s,l+=",dropMenuactions",$.hideAllDivs(l),$.showAllDivs("disp_label,disp_name,label_mon,allmonitorsexcludingmsexchange,report_period,business_period,segment_by,buisness_segments,show_report,dropMenuactions1")}else a=="logreport"&&(h=$("#reportform select[name=monitor1]").val(),j="execute=LogReport&urlid="+h,$.showAllDivs("reportform"),l+=",nodataDiv,makePublicDiv",$.hideAllDivs(l),$.showAllDivs("disp_label,disp_name,label_mon,allmonitorsincludingssl,time_from,cal_from,time_to,cal_to,show_report,dropMenuactions"));$("#currentreportType").html(a),a!="ResponseReport"&&(j=j+"&period="+f+"&startdate="+c+"&enddate="+d+"&param="+e+"&reportstab=true"),k=$.getAjaxResponse("GET",i,j),$("#reportsContent").html(k),$.hideDiv("loadingg"),$.menuTabHiding($("#reportTabLists").html(),a)},jQuery.sendReportEmail=function(a,b,c,d,e,f){var g=!1,h=document.getElementById("timeReport").value;h!=null&&h!=""&&(b=h);var i="";b!=null&&b!=""&&(i="&rsptime="+b);var j=Msgbean(reportmsg.nodata_msg),k=$("#form1 input[name=notavailable]").val()!=null&&$("#form1 input[name=notavailable]").val()==1;if(k)return alert(j),!0;var l="",m=$("#newperiodval").val();m.indexOf("BH")!=-1&&(m=m.slice(2,m.length));var n=0,o=$("#reportform input[name=username]").val(),p=null,q="",r="";m==50&&(q=$("#reportform input[name=startdate]").val(),r=$("#reportform input[name=enddate]").val());var s=$("#EmailThisDiVId").position(),t=$("#reportform input[name=urlid]").val()!=null;if(a=="summaryReport"){g=!0,document.getElementById("both_monitor_n_groups_summary")!=null&&(p=$("#reportform select[name=report_Mon_GroupId_Summary]").val());if(p==null||p==undefined)return alert(j),!0;if(p!=null)if(p.match("INFRA_")){var u=p.split("_");l="/home/reportsinfo.do?execute=showSummaryReportForMSExchange&urlid="+u[1]+"&groupid="+u[1]+i+"&startdate="+q+"&enddate="+r+"&period="+m+"&reporttype=email&emailid="}else if(p.match("MO_")){var u=p.split("_");l="/home/reportsinfo.do?execute=showSummaryReport&urlid="+u[1]+i+"&startdate="+q+"&enddate="+r+"&period="+m+"&emailid="}else l="/home/reportsinfo.do?execute=showSummaryReport&monitorgroupid="+p+i+"&startdate="+q+"&enddate="+r+"&period="+m+"&emailid=";else l="/home/reportsinfo.do?execute=showSummaryReport&startdate="+q+"&enddate="+r+"&period="+m+i+"&emailid="}else if(a=="LocationDownReport"){g=!0;if(t)p=e;else{document.getElementById("allmonitors")!=null&&(p=$("#reportform select[name=monitor]").val());if(p==null||p==undefined)return alert(j),!0;var v=document.getElementById("reportform"),p=v.monitor.value}var w=$("#downtimeData").val();l="/home/reportsinfo.do?execute=outageReport&reportdata="+w+"&urlid="+p+i+"&startdate="+q+"&enddate="+r+"&period="+m+"&emailid="}else if(a=="outageReport"){g=!0;var n="0";t?(p=e,l="/home/reportsinfo.do?execute=OutageReportForAllMonitors&period="+m+i+"&startdate="+q+"&enddate="+r+"&urlid="+p+"&emailid="):(document.getElementById("both_monitor_n_groups")!=null&&(n=$("#reportform select[name=report_Mon_GroupId]").val()),n.match("MO_")?(u=n.split("_"),l="/home/reportsinfo.do?execute=OutageReportForAllMonitors&period="+m+i+"&startdate="+q+"&enddate="+r+"&urlid="+u[1]+"&emailid="):l="/home/reportsinfo.do?execute=OutageReportForAllMonitors&period="+m+i+"&startdate="+q+"&enddate="+r+"&monitorgroupid="+n+"&emailid=")}else if(a=="trendReport"){g=!0;var x=parseInt($("#trendreport input[name=currentpage]").val()),y=parseInt($("#trendreport input[name=maximumpage]").val());if(x>y){msg=Msgbean(reportmsg.report_pages,y,y),alert(msg);return}var z=$("#reportform select[name=trendReportperiod]").val();document.getElementById("monitorgroups")!=null&&(n=$("#reportform select[name=reportGroupId]").val()),l="/home/reportsinfo.do?execute=trendReport&trendperiod="+z+"&period="+m+i+"&startdate="+q+"&enddate="+r+"&monitorgroupid="+n+"&page="+x+"&emailid="}else if(a=="ResponseReport"){if(d==null||d==""||d==undefined)d="";i=i+"&reportName="+d,g=!0;var u="",A="";document.getElementById("both_monitor_n_groups")!=null&&(n=$("#reportform select[name=report_Mon_GroupId]").val());if(n.match("MO_")){u=n.split("_"),A="showResponseReport";if(u[2]=="SERVER"||u[2]=="MSEXCHANGE")A="showResponseReportForServerMonitor";l="/home/reportsinfo.do?execute="+A+"&urlid="+u[1]+"&period="+m+i+"&startdate="+q+"&enddate="+r+"&isUrl=false&reporttype=email&emailid="}else l="/home/reportsinfo.do?execute=ResponsetimeReport&period="+m+i+"&startdate="+q+"&monitorgroupid="+n+"&enddate="+r+"&reporttype=email&emailid="}else if(a=="BusyHourReport"){g=!0,document.getElementById("allmonitors")!=null&&(p=$("#reportform select[name=busy_monitor]").val());if(p==null||p==undefined)return alert(j),!0;var B=$("#reportform select[name=businessReportSegments]").val();q="",r="",l="/home/reportsinfo.do?execute=businessReport&reportdata="+w+"&period="+m+i+"&businessperiod="+B+"&startdate="+q+"&enddate="+r+"&urlid="+p+"&emailid="}else if(a=="logreport"){var x=parseInt($("#logreport input[name=gotopage]").val()),y=parseInt($("#logreport input[name=maximumpage]").val()),C=parseInt($("#logreport input[name=pagelimitvalue]").val());document.getElementById("allmonitorsincludingssl")!=null&&(p=$("#reportform select[name=monitor1]").val());var t=$("#reportform input[name=urlid]").val()!=null;t&&(p=e);if((p==null||p==undefined||isNaN(x)||isNaN(y))&&!t)return alert(j),!0;if(x>y){msg=Msgbean(reportmsg.report_pages,y,y),alert(msg);return}l="/home/reportsinfo.do?execute=LogReport&period="+m+i+"&startdate="+q+"&enddate="+r+"&pagecount="+x+"&pagelimit="+C+"&urlid="+p+"&emailid="}else if(a=="detailsResponseTimeReport"){if(d==null||d==""||d==undefined)d="";i=i+"&reportName="+d,o=$("#responseForm input[name=username]").val();var D=$("#responseForm input[name=urlid]").val();m==50&&(q=$("#responseForm input[name=startdate]").val(),r=$("#responseForm input[name=enddate]").val());var E=$("#responseForm input[name=locid]").val(),F=$("#responseForm input[name=mtype]").val();if(F=="URL-SEQ"){var G=$("#responseForm input[name=stepid]").val();G>0&&(i=i+"&stepid="+G)}F=="SERVER"||F=="MSEXCHANGE"?l="/home/reportsinfo.do?execute=showResponseReportForServerMonitor&urlid="+D+"&period="+m+i+"&startdate="+q+"&enddate="+r+"&isUrl=false&mtype="+F+"&reporttype=email&locid="+E:l="/home/reportsinfo.do?execute=showResponseReport&urlid="+D+"&period="+m+i+"&startdate="+q+"&enddate="+r+"&isUrl=false&mtype="+F+"&reporttype=email&locid="+E;var H="";if(F=="SERVER"){var I=$("input[name='cpuMetric']"),J=$("input[name='memoryMetric']"),K=$("input[name='diskMetric']");$.each(I,function(a,b){b.checked&&(H=H+"&reportAtt="+b.value)}),$.each(J,function(a,b){b.checked&&(H=H+"&reportAtt="+b.value)}),$.each(K,function(a,b){b.checked&&(H=H+"&reportAtt="+b.value)})}var L=$("#responseForm select[name=reportAttribute]").val();F=="SERVER"?H!=undefined&&H!=""?l+=H:L!=undefined?l=l+"&reportAtt="+L:c!=undefined&&(l=l+"&reportAtt="+c):L!=undefined?l=l+"&reportAtt="+L:c!=undefined&&(l=l+"&reportAtt="+c),l+="&emailid="}else a=="availabilityreport"&&(p=$("#reportform input[name=urlid]").val(),l="../login/status.do?execute=showDowntimeDetails&urlid="+p+"&isUrl=false&period="+m+"&emailid=");if(l.length>5)if(g){g=!1;var M="url="+l+"&email="+encodeURIComponent(o),N=$.getAjaxResponseWithCSRF("POST","/home/reportsinfo.do?execute=emailReport&"+M),O=s.left-500+"px",P=s.top+25+"px";$.showPopUpDiv(N,P,O,"5000","350")}else{var M="pagename=emailreport&width=315&arrowpos=287&url="+l+"&email="+encodeURIComponent(o),N=$.getAjaxResponse("GET","/jsp/includes/divPopUp.jsp",M),O=s.left-300+"px",P=s.top+12+"px";$.showPopUpDiv(N,P,O,"5000","330")}},jQuery.showMobileFormat=function(){var a="pagename=mobilenoFormat&width=400",b=$.getAjaxResponseWithCSRF("POST","/jsp/includes/divPopUp.jsp",a),c=($(window).height()-400)/2+$(window).scrollTop()+"px",d=($(window).width()-540)/2+$(window).scrollLeft()+"px";$.showPopUpDiv(b,c,d,"1","415")},jQuery.tryDemoAccounts=function(a){var b="pagename=trydemoaccounts&width=400&edition="+a,c=$.getAjaxResponseWithCSRF("POST","/jsp/includes/divPopUp.jsp",b),d=$("#Upgrade_Options").position(),e=d.top-150,f=d.left-445;$.showPopUpDiv(c,e,f,"5000","415")},jQuery.showMonitorConfig=function(a){var b="pagename=showmonitorConfig&width=430&arrowpos=340";a!=null&&(b=b+"&urlid="+a);var c=$.getAjaxResponse("GET","/home/CreateTest.do","execute=showMonitorConfiguration&urlid="+a),d=$("#ShowConfigDetLink").position(),e=d.top+20,f=d.left-320;$.hideDiv("actionsDiv"),$.showPopUpDiv(c,e,f,"5000","445")},jQuery.showTestEmail=function(){var a=$("#addContactForm input[name=toemail]").val();if(!validateEmail(a))return!1;var b="page=testemail&email="+encodeURIComponent(a),c=$.getAjaxResponseWithCSRF("POST","/jsp/includes/dialogDiv1.jsp",b),d=($(window).height()-400)/2+$(window).scrollTop()+"px",e=($(window).width()-540)/2+$(window).scrollLeft()+"px";$.showPopUpDiv(c,d,e,"5000","472")},jQuery.sendTestEmail=function(){var a=document.getElementsByName("message")[0].value;if(a==null||a==""||trimString(a).length<1)return alert(beanmsg.empty_email_message),!1;var b=$.getPostAjaxResponseWithoutCSRF("/home/Notifications.do","testEmail"),c=getValue(b,"ax_errormsg"),d=getValue(b,"ax_status");$.hidePopUpDiv();var e=$("#addContactForm input[name=toemail]").position(),f=c.length*11;c.length<15&&(f+=70);var g=e.top-56,h=($(window).width()-540)/2+$(window).scrollLeft()+"px";$.showPopUpDiv($.getStatusMsg(d,c),g,h,"1",f),$.fadeOutDiv("popUpFloatingDiv",4e3)},jQuery.toolsEmailSend=function(a,b,c){var d="checkurl="+encodeURIComponent(a)+"&link="+encodeURIComponent(b)+"&mon_type="+c,e=$.getAjaxResponse("POST","/login/tools-emailsend.jsp",d),f=($(window).height()-400)/2+$(window).scrollTop()+"px",g=($(window).width()-540)/2+$(window).scrollLeft()+"px";$.blurBg(),$.showPopUpDiv(e,f,g,"5000","600")},jQuery.blurBg=function(){$(document).ready(function(){$("#blur-bg-tools-email").css({opacity:"0.7"}).fadeIn("slow"),$(document).keypress(function(a){a.keyCode==27&&$("#blur-bg-tools-email").fadeOut("slow")}),$("#blur-bg-tools-email").click(function(){$("#blur-bg-tools-email").fadeOut("slow"),$.hidePopUpDiv()})})},jQuery.hidePopUpDivToolsEmailSend=function(){$.hidePopUpDiv(),$("#blur-bg-tools-email").fadeOut("slow")},jQuery.showProviders=function(){var a=$("#providerdiv").position(),b=$("#providerdiv").width(),c=$("#addContactForm input[name=callerid]").val(),d=$("#addContactForm input[name=smsprovider]").val();c.length==0&&(c="0"),d.length==0&&(d="1");var e="pagename=providers&width=230&arrowpos=162&call="+c+"&sms="+d,f=$.getAjaxResponseWithCSRF("POST","/jsp/includes/divPopUp.jsp?",e),g=a.left-120,h=a.top+15;$.showPopUpDiv(f,h,g,"5000","245")},jQuery.chosenProvider=function(){var a=$("#sendtestSMS select[name=callProviderId]").val(),b=$("#sendtestSMS select[name=smsProviderId]").val();$("#addContactForm input[name=callerid]").val(a),$("#addContactForm input[name=smsprovider]").val(b),$("#smsTest").popover("hide")},jQuery.sendTestSMS=function(a){if(a!=null){$("#loading").show(),$("#sendtestSMS input[name=function]").val(a);var b=$("#sendtestSMS input[name=credits]").val(),c=$("#sendtestSMS input[name=cc]").val();if(c!=1&&b==1&&a=="call"){$("#loading").hide(),$("#errordiv").css("display","block"),$("#errordiv").addClass("emailerror"),$("#errordiv").html(beanmsg.credits_call),$.fadeOutDiv("errordiv",4e3);return}var d=$.getPostAjaxResponseWithoutCSRF("/home/Notifications.do?","sendtestSMS"),e=getValue(d,"ax_errormsg"),f=getValue(d,"ax_status"),b=getValue(d,"ax_credits");$("#addContactForm input[name=credits]").val(b),$("#sendtestSMS input[name=credits]").val(b),$("#loading").hide(),$("#errordiv").css("display","block"),f==="success"?($("#errordiv").removeClass("emailerror"),$("#errordiv").addClass("emailsuccess")):($("#errordiv").removeClass("emailsuccess"),$("#errordiv").addClass("emailerror")),$("#errordiv").html(e),$.fadeOutDiv("errordiv",4e3)}else{$.showDiv("loading"),a!=null&&$("#sendtestSMS input[name=function]").val(a);var d=$.getPostAjaxResponseWithoutCSRF("/home/Notifications.do?","sendtestSMS"),e=getValue(d,"ax_errormsg"),f=getValue(d,"ax_status");$.hideDiv("loading");var g=$("#addContactForm input[name=number]").position(),h=e.length*11;e.length<15&&(h+=70);var i=g.top-6,j=($(window).width()-540)/2+$(window).scrollLeft()+"px";$.showPopUpDiv($.getStatusMsg(f,e),i,j,"1",h),$.fadeOutDiv("popUpFloatingDiv",4e3)}},jQuery.changeBuddyId=function(a){$("#imAccountValue").html($("#provider"+a).val()),$("#providername").html($("#providertype"+a).val()),$("#chatProviderId").val(a)},jQuery.keyUpFunction=function(){var a=$("#configured").val();if(a.search("@")!=-1){var b=a.split("@");b[1].search("yahoo")!=-1||b[1].search("rocket")!=-1||b[1].search("ymail")!=-1?($("#chatProviderId").val("1"),$("#imAccountValue").html($("#provider1").val()),$("#providername").html($("#providertype1").val())):b[1].search("gmail")!=-1||b[1].search("googlemail")!=-1?($("#chatProviderId").val("0"),$("#imAccountValue").html($("#provider0").val()),$("#providername").html($("#providertype0").val())):b[1].search("hotmail")!=-1||b[1].search("live")!=-1||b[1].search("outlook")!=-1?($("#chatProviderId").val("2"),$("#imAccountValue").html($("#provider2").val()),$("#providername").html($("#providertype2").val())):($("#chatProviderId").val("-1"),$("#isReseller").val()=="true"?$("#imAccountValue").html(imMsg.reseller_default):$("#imAccountValue").html(imMsg.default_id));if(b[1].search("\\.")!=-1){var c=b[1].split("."),d=["yahoo","rocketmail","ymail","gmail","googlemail","hotmail","live","outlook"];$.inArray(c[0],d)==-1&&($("#newProvider").css("display","block"),$("#imAccountValue").html($("#provider0").val()),$("#chatProviderId").val("0"))}}else a.length==0?($("#chatProviderId").val("-1"),$("#imAccountNew").css("display","block"),$("#imAccountAdded").css("display","none"),$("#newProvider").css("display","none"),$("#time_zone_menu").css("display","none")):($("#chatProviderId").val("-1"),$("#isReseller").val()=="true"?$("#imAccountValue").html(imMsg.reseller_default):$("#imAccountValue").html(imMsg.default_id),$("#newProvider").css("display","none"),$("#time_zone_menu").css("display","none"))},jQuery.sendPin=function(a,b){var c=0;$("#addContactForm input[name=contactid]").val()!=null&&(c=$("#addContactForm input[name=contactid]").val());var d="",e="",f="";if(b=="contact")d=$("#addContactForm input[name=chatSelection]").val(),e=$("#addContactForm input[name=imUsername]").val();else{$.keyUpFunction(),d=$("#chatProviderId").val(),e=$("#configured").val();var f=trimString($("#verifytext").val());if(e.length==0){$("#msgdiv").html(imMsg.add_user),$("#msgdiv").css("display","block"),$("#msgdiv").css("color","#FF0000"),$.fadeOutDiv("msgdiv",4e3),$("#configured").select();return}if(e.search("@")==-1){$("#configured").select(),$("#msgdiv").html(imMsg.add_provider),$("#msgdiv").css("color","#FF0000"),$("#msgdiv").css("display","block"),$.fadeOutDiv("msgdiv",4e3);return}var g=e.split("@")[1].split(".")}if(d.length>0&&d!=-1){var h="";if(a!="change"){var i="execute=handleChatSubscriptions&contactid="+c+"&imProvider="+d+"&imUsername="+e+"&operation="+a+"&verifytext="+f;h=$.getAjaxResponse("POST","/home/Notifications.do",i)}if(a=="sendpin"){$("#verifytext").val(""),$("#sendpin").css("display","none"),$("#verifytext").css("display","block"),$("#verifypin").css("display","block"),$("#resendpin").css("display","block"),$("#changeaccount").css("display","block"),$("#addContactForm input[name=imNotVerified]").val(!0),$("#verifytext").val(""),$("#verifytext").focus(),$("#configured").attr("disabled","disabled"),$("#verifyPinString").css("display","none"),$("#changeaccount").css("display","block"),$("#addContactForm input[name=imUsername]").val(e),$("#addContactForm input[name=chatSelection]").val(d),$("#addContactForm input[name=imSubscribed]").val(!1),$("#newProvider").css("display","none"),$("#time_zone_menu").css("display","none");var j=getValue(h,"ax_successmsg"),k=getValue(h,"ax_success");k=="true"?$("#msgdiv").css("color","#28a001"):$("#msgdiv").css("color","#FF0000"),$("#msgdiv").html(j),$("#msgdiv").css("display","block"),$.fadeOutDiv("msgdiv",4e3)}else if(a=="change"||a=="delete"){if(a=="delete"&&!confirm(imMsg.confirm_delete))return;a=="delete"&&($("#imButton").popover("hide"),$("#modifylink").popover("hide")),$("#sendpin").css("display","block"),$("#verifytext").css("display","none"),$("#resendpin").css("display","none"),$("#verifypin").css("display","none"),$("#changeaccount").css("display","none"),$("#configured").val(""),$("#configured").removeAttr("disabled"),$("#verifyPinString").css("display","block"),$("#addContactForm input[name=imUsername]").val(""),$("#addContactForm input[name=chatSelection]").val(""),$("#addContactForm input[name=imSubscribed]").val(!1),$("#addContactForm input[name=imNotVerified]").val(!1),$("#addContactForm input[name=imButton]").val(imMsg.add_account),$("#alertType_4").prop("checked",!1),$.removeAlertTypes("4"),b=="contact"&&($("#deletecase").css("display","block"),$("#addedcase").css("display","none"))}else if(a=="verify"){var l=getValue(h,"ax_verified");if(l=="true"){$("#imButton").popover("hide"),$("#modifylink").popover("hide"),$("#addContactForm input[name=imUsername]").val(e),$("#addContactForm input[name=chatSelection]").val(d),$("#addContactForm input[name=imSubscribed]").val(!0),$("#imVal").html(e),$("#deletecase").css("display","none"),$("#addedcase").css("display","block"),$("#addContactForm input[name=imNotVerified]").val(!1),$("#alertType_4").prop("checked",!0),$.selectAlertTypes("4"),d==0?$("#chatSel").attr("src","/images/gmail.png"):d==1?$("#chatSel").attr("src","/images/yahoo.png"):d==2&&$("#chatSel").attr("src","/images/msn.png");if($("#popup").val()!="true"){var m=imMsg.pin_verfied,n=$("#imVal").position(),o=n.left,p=n.top-20,q=m.length*11;$("#msgdiv").html(m),$("#msgdiv").css("color","#28a001"),$("#msgdiv").css("display","block"),$.fadeOutDiv("msgdiv",6e3)}}else $.removeAlertTypes("4"),$("#addContactForm input[name=imNotVerified]").val(!0),$("#verifytext").val(""),$("#msgdiv").html(imMsg.correct_pin),$("#msgdiv").css("color","#FF0000"),$("#msgdiv").css("display","block"),$.fadeOutDiv("msgdiv",4e3)}else if(a=="resendpin"){$("#verifytext").val("");var j=getValue(h,"ax_successmsg"),k=getValue(h,"ax_success");k=="true"?$("#msgdiv").css("color","#28a001"):$("#msgdiv").css("color","#FF0000"),$("#msgdiv").html(j),$("#msgdiv").css("display","block"),$.fadeOutDiv("msgdiv",4e3)}}else $("#msgdiv").html(imMsg.check_providers),$("#msgdiv").css("color","#FF0000"),$("#msgdiv").css("display","block"),$.fadeOutDiv("msgdiv",4e3)},jQuery.subscription=function(a){var b=0;$("#addContactForm input[name=contactid]").val()!=null&&(b=$("#addContactForm input[name=contactid]").val());var c=!1;a=="imButton"&&(c=!0);var d="";$("#addContactForm input[name=imUsername]").val()!=null&&(d=$("#addContactForm input[name=imUsername]").val());var e=!1;$("#addContactForm input[name=popupindication]").val()!=null&&$("#addContactForm input[name=popupindication]").val()=="true"&&(e=!0);var f="execute=initiateChatSubscriptions&contactid="+b+"&tempDelete="+c+"&formValue="+d+"&popup="+e,g=$.getAjaxResponse("POST","/home/Notifications.do",f),h='<img src="/images/close-icon.gif" align="right" valign="middle" title="close" style="cursor:pointer" onclick="$.closePopUp(\''+a+"')\">";$("#"+a).attr("data-original-title",'<table width="100%"><tr><td width="50%">'+imMsg.header_msg+'</td><td width="45%">&nbsp;</td><td width="5%">'+h+"</td></tr></table>"),$("#"+a).attr("data-content",g),$("#"+a).popover("show"),$("#addContactForm input[name=imNotVerified]").val()=="true"?($("#verifytext").val(""),$("#sendpin").css("display","none"),$("#verifytext").css("display","block"),$("#verifypin").css("display","block"),$("#resendpin").css("display","block"),$("#changeaccount").css("display","block"),$("#addContactForm input[name=imNotVerified]").val(!0),$("#verifytext").val(""),$("#verifytext").focus(),$("#verifyPinString").css("display","none"),$("#configured").attr("disabled","disabled"),$("#changeaccount").css("display","block"),$("#addContactForm input[name=imUsername]").val(configuredName),$("#addContactForm input[name=chatSelection]").val(chatId),$("#addContactForm input[name=imSubscribed]").val(!1)):$("#configured").is(":disabled")||($("#configured").focus(),$("#configured").select())},jQuery.OnDelete=function(a,b,c){a=="true"?$("#"+c).val("true"):$("#"+c).val("false")},jQuery.onWholeClick=function(a,b){b!=undefined&&b=="onDeleteGroup"+a?$("#onDeleteGroup"+a).val()!=undefined&&$("#onDeleteGroup"+a).val()=="true"?$.deleteContactGroup(a):$.showEditContactGroup(a):b!=undefined&&b=="onDelete"+a?$("#onDelete"+a).val()!=undefined&&$("#onDelete"+a).val()=="true"?$.deleteContact(a):$.showEditContactForm(a):b!=undefined&&b=="onDeleteTemplate"+a?$("#onDeleteTemplate"+a).val()!=undefined&&$("#onDeleteTemplate"+a).val()=="true"?$.deleteTemplate(a):$.showEditTemplateForm(a):b!=undefined&&b=="onDeleteAction"+a?$("#onDeleteAction"+a).val()!=undefined&&$("#onDeleteAction"+a).val()=="true"?$.deleteActions(a):$.showEditActionsForm(a):b!=undefined&&b=="onDeleteSla"+a?$("#onDeleteSla"+a).val()!=undefined&&$("#onDeleteSla"+a).val()=="true"?deleteSla(a):editSla(a):b!=undefined&&b=="onDeleteBusiness"+a?$("#onDeleteBusiness"+a).val()!=undefined&&$("#onDeleteBusiness"+a).val()=="true"?deleteBusinessHours(a):editBusinessHours(a):b!=undefined&&b=="onDeleteMaintenance"+a?$("#onDeleteMaintenance"+a).val()!=undefined&&$("#onDeleteMaintenance"+a).val()=="true"?deleteMaintenance(a,$("#currentStat"+a).val()):editMaintenance(a,$("#currentStat"+a).val()):b!=undefined&&b=="onDeleteUptime"+a?$("#onDeleteUptime"+a).val()!=undefined&&$("#onDeleteUptime"+a).val()=="true"?$.deleteUptimeBtn(a,$("#displayname"+a).val()):($("#copyUptime"+a).val()==undefined||$("#copyUptime"+a).val()!="true")&&$.addUptimeBtn(a,!1):b!=undefined&&b=="onDeleteSchedule"+a?$("#onDeleteSchedule"+a).val()!=undefined&&$("#onDeleteSchedule"+a).val()=="true"?$.deleteScheduledReports(a):$("#reportStat"+a).val()!=undefined&&$("#reportStat"+a).val()=="true"?$("#visibleBlock"+a).val()!=undefined&&$("#visibleBlock"+a).val()=="suspend"?$.suspendScheduledReports(a):$.activateScheduledReports(a):$.editScheduledReports(a,!1):b!=undefined&&b=="onDeletePortSLA"+a?$("#onDeletePortSLA"+a).val()!=undefined&&$("#onDeletePortSLA"+a).val()=="true"?$.deletestatusview(a,"sla",$("#slaname"+a).val()):$.editSLAView(a,!1):b!=undefined&&b=="onDeletePortPublic"+a?$("#onDeletePortPublic"+a).val()!=undefined&&$("#onDeletePortPublic"+a).val()=="true"?$.deletestatusview(a,"report",$("#pubname"+a).val()):($("#copyPublic"+a).val()==undefined||$("#copyPublic"+a).val()!="true")&&$.editReportView(a):b!=undefined&&b=="onDeleteStatus"+a?$("#onDeleteStatus"+a).val()!=undefined&&$("#onDeleteStatus"+a).val()=="true"?$.deletestatusview(a,"status",$("#statusname"+a).val()):($("#copyStatus"+a).val()==undefined||$("#copyStatus"+a).val()!="true")&&$.editStatusView(a,!1,"status",$("#statusname"+a).val(),"status"):b!=undefined&&b=="onDeleteSubUser"+a&&($("#onDeleteSubUser"+a).val()!=undefined&&$("#onDeleteSubUser"+a).val()=="true"?deleteUser(a):$("#onActivateSubUser"+a).val()!=undefined&&$("#onActivateSubUser"+a).val()=="true"?activateUser(a):editUser(a))},jQuery.closePopUp=function(a){$("#"+a).popover("toggle")},jQuery.updatePaymentMode=function(){var a="method=showUpdatePaymentMode",b=$.getAjaxResponse("POST","/home/pkgbilling.do",a),c=($(window).height()-400)/2+$(window).scrollTop()+"px",d=($(window).width()-540)/2+$(window).scrollLeft()+"px";$.showPopUpDiv(b,c,d,"1","472")},jQuery.showAvailableLocations=function(a,b){var c="price="+a;b!=undefined&&(c="price="+a+"&lang="+b);var d=$.getAjaxResponseWithCSRF("POST","/login/locations.jsp",c),e=$("#upgradeAvailableLocations").position(),f=e.left-220,g=e.top+12;$.showPopUpDiv(d,g,f,"5000","300")},jQuery.importBulkUrls=function(a){var b="pagename=importurls&width=835&monitorType="+a,c=$.getAjaxResponse("POST","/jsp/includes/divPopUp.jsp",b),d=$("#importBulkUrlsId").position(),e=d.left-750,f=d.top-10;$.showPopUpDiv(c,f,e,"50","850")},jQuery.showSlaColourPicker=function(a,b){var c="pagename=slacolourpicker&width=225&key="+a+"&divid="+b,d=$.getAjaxResponse("POST","/jsp/includes/divPopUp.jsp",c),e=0;b!=null&&b!=""||b!=undefined?e=$("#"+b).position():e=$("#SlaTargetColorPosition"+a).position();var f=e.left,g=e.top+12;$.showPopUpDiv(d,g,f,"5000","240")},jQuery.showDownDescription=function(a,b,c,d,e){var f="execute=showDowntimeDescription&downtime="+c+"&urlid="+b+"&ref="+e;d=="desc"&&(f="execute=showDowntimeDescription&downtime="+c+"&urlid="+b+"&ref="+e+"&action=");var g=($(window).height()-400)/2+$(window).scrollTop()+"px",h=($(window).width()-540)/2+$(window).scrollLeft()+"px",i=$.getAjaxResponse("GET","/login/status.do",f);$.showPopUpDiv(i,g,h,"5000","472")},jQuery.updateDowntimeReason=function(){var a=$.getPostAjaxResponse("/home/reportsinfo.do","editDowntimeReason"),b=getValue(a,"ax_downtimereason"),c=getValue(a,"ax_description"),d=getValue(a,"ax_downtime"),e="showdownReason_"+d;b==""&&(b="&nbsp;"),c==""&&(c="&nbsp;"),$("#3_"+e).html(b),$("#11_"+e).html(b),$("#13_"+e).html(b),$("#"+e).html(b),$("#rcareason").html(c),$.hideDiv("popUpFloatingDiv")},jQuery.getStatusMsg=function(a,b){var c='<table border="0" cellspacing="2" cellpadding="2"><tr><td><img src="/images/spacer.gif" class="sladownImg"/></td><td align="left"><span class="failureMsg">'+b+"</span></td></tr></table>";a=="success"&&(c='<table border="0" cellspacing="2" cellpadding="2"><tr><td><img src="/images/spacer.gif" class="slaupImg"/></td><td align="left"><span class="successMsg">'+b+"</span></td></tr></table>");var d="<div>";return d+='<div><b class="wtop"><b class="r1"></b><b class="r2"></b><b class="r3"></b><b class="r4"></b></b></div>',d+='<div class="wcenter">',d+='<div><b class="mtop"><b class="r2"></b><b class="r3"></b><b class="r4"></b></b></div>',d=d+'<div class="white">'+c+"</div>",d+='<div><b class="mbottom"><b class="r4"></b><b class="r3"></b><b class="r2"></b></b></div>',d+="</div>",d+='<div><b class="wbottom"><b class="r4"></b><b class="r3"></b><b class="r2"></b><b class="r1"></b></b></div>',d+="</div>",d},jQuery.changePassword=function(){var a=$("#changepasswd input[name=opassword]").val(),b=$("#changepasswd input[name=npassword]").val(),c=$("#changepasswd input[name=cpassword]").val();if(trimString(a).length<5)return alert(accountmsg.old_pwd_empty),$("#changepasswd input[name=opassword]").select(),!1;if(trimString(b).length<6)return alert(accountmsg.pwd_min_length),$("#changepasswd input[name=npassword]").select(),!1;if(b!=c)return alert(beanmsg.pwdnotmatch),$("#changepasswd input[name=cpassword]").select(),!1;var d=$.getPostAjaxResponse("/home/accountinfo.do","changepasswd"),e=getValue(d,"ax_errormsg"),f=getValue(d,"ax_status"),g=e.length*11;e.length<15&&(g+=70);var h=$("#changepasswd input[name=submitChangePassword]").position(),i=h.left+$("#changepasswd input[name=submitChangePassword]").width()+25,j=h.top-6;$.showPopUpDiv($.getStatusMsg(f,e),j,i,"1",g),$("#changepasswd input[name=opassword]").val(""),$("#changepasswd input[name=npassword]").val(""),$("#changepasswd input[name=cpassword]").val(""),$.fadeOutDiv("popUpFloatingDiv",3e3)},jQuery.updateReportMailSettings=function(){var a=$("#reportemails textarea[name=emailid]").val().trim(),b=a.length,c=a.lastIndexOf(",")+1;b>0&&b==c&&(a=a.substring(0,b-1));var d="";if(a!=""){var e=a.split(",");for(i=0;i<e.length;i++){if(!validateEmail(e[i])){$("#reportemails textarea[name=emailid]").select();return}d=d+e[i]+" "}}$.showDiv("editemail"),$.hideDiv("cancelemail");var f=$.getPostAjaxResponse("/home/accountinfo.do","reportemails"),g=getValue(f,"ax_errormsg"),h=getValue(f,"ax_status");d=trimString(d),d==""&&(d=reportmsg.no_contacts_selected),$("#reportemails input[name=email]").val(d),$("#normal").html(d),$.showDiv("normal"),$.hideDiv("fld"),$.showDiv("normal");var j=g.length*11;g.length<15&&(j+=70);var k=$("#reportemails input[name=submitReportEmails]").position(),l=k.left+$("#reportemails input[name=submitReportEmails]").width()+25,m=k.top-6;$.showPopUpDiv($.getStatusMsg(h,g),m,l,"1",j),$.fadeOutDiv("popUpFloatingDiv",2500)},jQuery.updateAccountSetings=function(){var a=$("#acctsettings input[name=loginName]").val();a=trimString(a),$("#acctsettings input[name=loginName]").val(a);if(a.length<=3)$("#acctsettings input[name=loginName]").val();else if(validateEmail(a)&&!confirm("Are you sure to change the login Name?"))return;var b=$.getPostAjaxResponse("/home/accountinfo.do","acctsettings"),c=getValue(b,"ax_errormsg"),d=getValue(b,"ax_status"),e=getValue(b,"ax_locationhrefurl"),f=c.length*11;c.length<15&&(f+=70);var g=$("#acctsettings input[name=submitAccountSettings]").position(),h=g.left+$("#acctsettings input[name=submitAccountSettings]").width()+25,i=g.top-6;$.showPopUpDiv($.getStatusMsg(d,c),i,h,"1",f),$.fadeOutDiv("popUpFloatingDiv",4e3),$("#acctsettings input[name=loginName]").val(""),e!=undefined&&(e.indexOf("logout.do")==-1&&(e+="&tab=AccountGeneral"),location.href=e)},jQuery.updateSMSConditions=function(){var a=$("#updatesmsConditions input[name=upSmsSupported]").val(),b=$("#updatesmsConditions input[name=troubleSmsSupported]").val(),c=$.getPostAjaxResponse("/home/Notifications.do","updatesmsConditions"),d=getValue(c,"ax_errormsg"),e=getValue(c,"ax_status"),f=$("#updatesmsConditions input[name=upSmsSupported]").position(),g=d.length*11;d.length<15&&(g+=70);var h=f.top-6,i=($(window).width()-540)/2+$(window).scrollLeft()+"px";$.showPopUpDiv($.getStatusMsg(e,d),h,i,"1",g),$.fadeOutDiv("popUpFloatingDiv",1500)},jQuery.menuTabHiding=function(a,b){var c=a.split(",");for(i=0;i<c.length;i++){var d=c[i];d!=undefined&&(d==b?($("#li"+d+" a").first().css({color:"#000000","font-weight":"bold"}),$("#li"+d).addClass("tab2selected")):($("#li"+d+" a").first().css({color:"#0c7dbe","font-weight":"normal"}),$("#li"+d).removeClass("tab2selected")))}},jQuery.alertsTabHide=function(a){$.menuTabHiding($("#alertsTabLists").html(),a),a!=undefined&&a=="alertssent"&&(a="contacts"),$.hideAllExcept($("#RS_alertids").html(),"RS_"+a)},jQuery.showAddContactGroup=function(a){$("#imButton").popover("hide"),$("#modifylink").popover("hide");if(a!=undefined&&a=="popup"){var b=$.getAjaxResponse("POST","/home/Notifications.do","execute=showContactGroupForm&popup=popup"),c=$("#add_contactGrouplink").position(),d=c.top-220,e=c.left+10;$.showPopUpDiv(b,d,e,"1","815")}else{var b=$.getAjaxResponse("POST","/home/Notifications.do","execute=showContactGroupForm");$("#AlertsTabContent").html(b),$.alertsTabHide("groups")}},jQuery.showEditContactGroup=function(a,b){$("#imButton").popover("hide"),$("#modifylink").popover("hide");if(b!=undefined&&b=="popup"){var c=$.getAjaxResponse("POST","/home/Notifications.do","execute=showContactGroupForm&groupid="+a+"&popup=popup");$.showPopUpDiv(c,750,250,"1","815")}else{var c=$.getAjaxResponse("POST","/home/Notifications.do","execute=showContactGroupForm&groupid="+a);$("#AlertsTabContent").html(c)}},jQuery.deleteContactGroup=function(a){if(confirm(contactmsg.del_contactgroup)){var b=$.getAjaxResponseWithCSRF("POST","/home/Notifications.do","execute=deleteContactGroup&groupid="+a);if(b.indexOf("Unauthorized")!=-1)$("#AlertsTabContent").html(b);else{var c=getValue(b,"ax_deleteStatus"),d="<span class='errormessage'>";c=="success"?(d+=contactmsg["contact.group.delete.success"],$.hideDiv("tr"+a)):c=="inUse"&&(d+=contactmsg.last_onecontactgroup),d+="</span>";var e=document.getElementById("showMsgs");e.innerHTML=d,e.style.display=="none"&&$.showDiv("showMsgs"),$.fadeOutDiv("showMsgs",1e4)}}},jQuery.addContactGroup=function(a){$("#imButton").popover("hide"),$("#modifylink").popover("hide");var b=$("#addContactGroupForm input[name=displayname]").val();if(document.getElementById("editGroupdisp")!=null){var c=document.getElementById("editGroupdisp");b=c.options[c.selectedIndex].text}if(trimString(b).length<1){alert(beanmsg.dispnameempty),$("#addContactForm input[name=displayname]").select();return}var d=$("#addContactGroupForm input[name=contacts]").is(":checked");if(!d){alert(contactmsg.atleast_onecontact);return}var e="/home/Notifications.do";a!=undefined&&a=="popup"&&(e="/home/Notifications.do?popup=popup"),document.getElementById("editGroupdisp")!=null&&(e="/home/Notifications.do?displayname="+b);var f=$.getPostAjaxResponse(e,"addContactGroupForm"),g=getValue(f,"ax_popup");if(g!=undefined&&g=="popup"){var h=getValue(f,"ax_groupid"),i=getValue(f,"ax_displayname"),j='<input type="checkbox" id="actions" value="'+h+'" name="actions" checked="checked">'+i,k=$("#monitorcontactstbl tr:last td:first").html(),l=$("#monitorcontactstbl tr:last td:nth-child(2)").html(),m=$("#monitorcontactstbl tr:last td:nth-child(3)").html(),n=$("#monitorcontactstbl tr:last td:last").html();k.length>10&&l.length<10?$("#monitorcontactstbl tr:last td:nth-child(2)").html(j):l.length>10&&m.length<10?$("#monitorcontactstbl tr:last td:nth-child(3)").html(j):m.length>10&&n.length<10?$("#monitorcontactstbl tr:last td:last").html(j):n.length>10&&$("#monitorcontactstbl tr:last").after('<tr><td width="25%" class="bodytext2">'+j+'</td><td class="bodytext2" width="25%">&nbsp;</td><td class="bodytext2" width="25%">&nbsp;</td><td class="bodytext2" width="25%">&nbsp;</td></tr>')}else document.getElementById("AlertsTabContent").innerHTML=f;var o=getValue(f,"ax_alertstatus"),p=getValue(f,"ax_errormsg"),q=$(window).height()/2+$(window).scrollTop()+"px",r=($(window).width()-400)/2+$(window).scrollLeft()+"px",s=p.length*11;$.showPopUpDiv($.getStatusMsg(o,p),q,r,"1",s),$.fadeOutDiv("popUpFloatingDiv",3500)},jQuery.showEditContactGroups=function(){$("#imButton").popover("hide"),$("#modifylink").popover("hide");var a=$.getAjaxResponse("POST","/home/Notifications.do","execute=showContactGroups&popup=popup");$.showPopUpDiv(a,750,250,"1","815")},jQuery.showContactGroups=function(){$("#imButton").popover("hide"),$("#modifylink").popover("hide");var a=$.getAjaxResponse("POST","/home/Notifications.do","execute=showContactGroups");$("#AlertsTabContent").html(a),$.alertsTabHide("groups")},jQuery.showAddContactForm=function(a){$("#imButton").popover("hide"),$("#modifylink").popover("hide");if(a!=undefined&&a=="popup"){var b=$.getAjaxResponse("POST","/home/Notifications.do","execute=showContactForm&popup=popup");$.showPopUpDiv(b,450,250,"1","815")}else{var b=$.getAjaxResponse("POST","/home/Notifications.do","execute=showContactForm");$("#AlertsTabContent").html(b),$.alertsTabHide("contacts")}},jQuery.showEditContactForm=function(a){$("#imButton").popover("hide"),$("#modifylink").popover("hide");var b=$.getAjaxResponse("POST","/home/Notifications.do","execute=showContactForm&contactid="+a);$("#AlertsTabContent").html(b)},jQuery.deleteContact=function(a){if(confirm(contactmsg.del_contact)){var b=$.getAjaxResponseWithCSRF("POST","/home/Notifications.do","execute=deleteContact&contactid="+a);if(b.indexOf("Unauthorized")!=-1)$("#AlertsTabContent").html(b);else{var c=getValue(b,"ax_deleteStatus"),d="<span class='errormessage'>";c=="success"?(d+=contactmsg["contact.delete.success"],$.hideDiv("tr"+a)):c=="inUse"&&(d+=contactmsg.last_onecontact),d+="</span>";var e=document.getElementById("showMsgs");e.innerHTML=d,e.style.display=="none"&&$.showDiv("showMsgs"),$.fadeOutDiv("showMsgs",1e4)}}},jQuery.showAccessPermissions=function(){var a=$("#addContactForm input[name=toemail]").val(),b=$.getAjaxResponse("GET","/home/iamActions.do?email="+encodeURIComponent(a),"execute=allowSubuserAddition");b=="true"?($("#noaccess").hide(),$("#access_content_div").hide()):$("#noaccess").show()},jQuery.addContact=function(a){try{var b=$("#slider").rangeSlider("values");b.min!==undefined&&$("#sliderMin").val(b.min),b.max!==undefined&&$("#sliderMax").val(b.max)}catch(c){}var d=$("#addContactForm input[name=displayname]").val(),e=$("#addContactForm input[name=toemail]").val(),f=$("#addContactForm input[name=imUsername]").val();if(trimString(d).length<1){alert(beanmsg.dispnameempty),$("#addContactForm input[name=displayname]").select();return}var g=$("#addContactForm input[name=imSubscribed]").val();if(g=="true"){if(f==""||f.length==0){alert(beanmsg.usernameempty),$("#addContactForm input[name=imUsername]").select();return}if(!validateEmail(f)){$("#addContactForm input[name=imUsername]").select();return}}if(!validateEmail(e)){$("#addContactForm input[name=toemail]").select();return}var h=$("#addContactForm input[name=number]").val();if(h!=""&&isNaN(h)){alert(beanmsg.invalidsmsno),$("#addContactForm input[name=number]").select();return}var i=$("#selContactGroups :selected").length;if(i===0){alert(alerttypemsg.select_contact_group);return}if($("#level_1").is(":checked")){var j=$("#monitorGroups :selected").length;if(j===0){alert(alerttypemsg.select_monitor_group);return}}$("#emailTest").popover("hide"),$("#smsTest").popover("hide"),$("#imButton").popover("hide"),$("#modifylink").popover("hide"),$("#twitterbtn").popover("hide");var k=$("#contact_execute").val();if(k==="addContact"){var l=$.isContactExists();if(l)return}if(k==="addContact"&&$("#subUserCreationSupported").val()==="true"){var l=$.isUserExists();if(l)return}var m="/home/Notifications.do";a!=undefined&&a=="popup"&&(m="/home/Notifications.do?popup=popup");var n=$.getPostAjaxResponse(m,"addContactForm"),o=getValue(n,"ax_popup"),p=getValue(n,"ax_group");if(p==="updateGrpProblem"){var q=getValue(n,"ax_errormsg");if(q!==null){alert(q);return}}if(o===undefined||o!=="true")document.getElementById("AlertsTabContent").innerHTML=n;var r=getValue(n,"ax_alertstatus"),s=getValue(n,"ax_errormsg"),t=$(window).height()/2+$(window).scrollTop()+"px",u=($(window).width()-400)/2+$(window).scrollLeft()+"px";if(r!==undefined||s!==undefined){var v=s.length*11;s.length>50&&(v=s.length*4),$.showPopUpDiv($.getStatusMsg(r,s),t,u,"1",v),$.fadeOutDiv("popUpFloatingDiv",7e3)}},jQuery.goBack=function(){history.back()},jQuery.showContacts=function(){$("#imButton").popover("hide"),$("#modifylink").popover("hide");var a=$.getAjaxResponse("POST","/home/Notifications.do","execute=showContacts");$("#AlertsTabContent").html(a),$.alertsTabHide("contacts")},jQuery.showActions=function(){$("#imButton").popover("hide"),$("#modifylink").popover("hide");var a=$.getAjaxResponse("POST","/home/Notifications.do","execute=showActions");$("#AlertsTabContent").html(a),$.alertsTabHide("actions")},jQuery.addActions=function(a,b){if(trimString(a.actionName.value).length<1){alert(beanmsg.actionnameempty),a.actionName.select();return}if(trimString(a.url.value).length<8){alert(beanmsg.urlempty),a.url.select();return}var c=document.getElementById("actionPostDiv").style.display;if(c!="none"&&trimString(a.requestParam.value).length<=0){alert(beanmsg["custom.params.empty"]),a.requestParam.select();return}if(!checkUrl(a.url.value)){a.url.select();return}if(a.timeout.value==""){alert(beanmsg.timeoutempty),a.timeout.select();return}if(isNaN(a.timeout.value)){alert(beanmsg.invalid_timeout),a.timeout.select();return}if(b!=undefined&&b=="popup")Showloading("addActionMsgs"),a.appendChild(getnewFormElement("hidden","popup","popup")),importxmlForForm(a,"fnPostActionAdd");else{var d=$.getPostAjaxResponse("/home/Notifications.do?popup="+b,"addActionForm");$("#AlertsTabContent").html(d),$.alertsTabHide("actions");var e=getValue(d,"ax_alertstatus");if(e=="success"){var f=getValue(d,"ax_errormsg"),g=$(window).height()/2+$(window).scrollTop()+"px",h=($(window).width()-400)/2+$(window).scrollLeft()+"px",i=f.length*11;$.showPopUpDiv($.getStatusMsg(e,f),g,h,"1",i),$.fadeOutDiv("popUpFloatingDiv",3500)}}},jQuery.showaddActionsForm=function(a){$("#imButton").popover("hide"),$("#modifylink").popover("hide");if(a!=undefined&&a=="popup"){var b=$.getAjaxResponse("GET","/home/Notifications.do","execute=showAddActionForm&popup=popup"),c=$(window).height()/2+$(window).scrollTop()+"px",d=($(window).width()-500)/2+$(window).scrollLeft()+"px";$.showPopUpDiv(b,c,d,"1","600")}else{var b=$.getAjaxResponse("GET","/home/Notifications.do","execute=showAddActionForm&popup=");$("#AlertsTabContent").html(b),$.alertsTabHide("actions")}},jQuery.deleteActions=function(a){if(confirm(beanmsg.confirm_del_action)){var b=$.getAjaxResponseWithCSRF("POST","/home/Notifications.do","execute=deleteAction&actionid="+a);if(b.indexOf("Unauthorized")!=-1)$("#AlertsTabContent").html(b);else{var c=getValue(b,"ax_deleteStatus"),d=getValue(b,"ax_listStatus"),e="<span class='errormessage'>";c=="success"?($.hideDiv("tr"+a),e+=beanmsg.delactionsuccess):c=="inUse"?e+=beanmsg.delactionassc:c=="failed"&&(e+=beanmsg.delactionfailed),d=="nolist"&&$.showaddActionsForm(),e+="</span>";var f=document.getElementById("showMsgs");f.innerHTML=e,f.style.display=="none"&&$.showDiv("showMsgs"),$.fadeOutDiv("showMsgs",1e4)}}},jQuery.showEditActionsForm=function(a){$("#imButton").popover("hide"),$("#modifylink").popover("hide");var b=$.getAjaxResponse("POST","/home/Notifications.do","execute=showAddActionForm&actionid="+a);$("#AlertsTabContent").html(b)},jQuery.showAddTemplateForm=function(a){$("#imButton").popover("hide"),$("#modifylink").popover("hide");if(a!=undefined&&a=="popup"){var b=$.getAjaxResponse("POST","/home/Notifications.do","execute=showTemplateForm&popup=popup"),c=$("#add_templatelink").position(),d=c.top-50,e=c.left+10;$.showPopUpDiv(b,d,e,"1","615")}else{var b=$.getAjaxResponse("POST","/home/Notifications.do","execute=showTemplateForm");$("#AlertsTabContent").html(b),$.alertsTabHide("alerttemplate")}},jQuery.showEditTemplateForm=function(a){$("#imButton").popover("hide"),$("#modifylink").popover("hide");var b=$.getAjaxResponse("POST","/home/Notifications.do","execute=showTemplateForm&templateid="+a);$("#AlertsTabContent").html(b)},jQuery.deleteTemplate=function(a){if(confirm(contactmsg.del_template)){var b=$.getAjaxResponseWithCSRF("POST","/home/Notifications.do","execute=deleteTemplate&templateid="+a);if(b.indexOf("Unauthorized")!=-1)$("#AlertsTabContent").html(b);else{var c=getValue(b,"ax_deleteStatus");c=="success"?$.hideDiv("tr"+a):c=="successWithEmptyList"&&$.showAddTemplateForm()}}},jQuery.addTemplate=function(a){var b=$("#addTemplateForm input[name=displayname]").val();if(trimString(b).length<1){alert(beanmsg.dispnameempty),$("#addTemplateForm input[name=displayname]").select();return}var c=$("#addTemplateForm input[name=templateSubject]").val();if(trimString(c).length<1){alert(templatemsg.temp_sub_empty),$("#addTemplateForm input[name=templateSubject]").select();return}var d="/home/Notifications.do";a!=undefined&&a=="popup"&&(d="/home/Notifications.do?popup=popup");var e=$.getPostAjaxResponse(d,"addTemplateForm"),f=getValue(e,"ax_popup");if(f!=undefined&&f=="popup"){var g=getValue(e,"ax_templateid"),h=getValue(e,"ax_templateName");$("#templateid").append('<option value="'+g+'" selected="selected">'+h+"</option>")}else $("#AlertsTabContent").html(e);var i=getValue(e,"ax_alertstatus"),j=getValue(e,"ax_errormsg"),k=$(window).height()/2+$(window).scrollTop()+"px",l=($(window).width()-400)/2+$(window).scrollLeft()+"px",m=j.length*11;$.showPopUpDiv($.getStatusMsg(i,j),k,l,"1",m),$.fadeOutDiv("popUpFloatingDiv",3500)},jQuery.showTemplates=function(){$("#imButton").popover("hide"),$("#modifylink").popover("hide");var a=$.getAjaxResponse("POST","/home/Notifications.do","execute=showTemplates");$("#AlertsTabContent").html(a),$.alertsTabHide("alerttemplate")},jQuery.showAlertsSend=function(a){if(a===undefined||a==="")a="1";location.href="/home/Notifications.do?execute=showAlertsList&period="+a},jQuery.showExecutedActionsList=function(a){a==undefined&&(a="2"),location.href="/home/Notifications.do?execute=showExecutedActionsList&period="+a},jQuery.showPagerDutyConfig=function(){$("#imButton").popover("hide"),$("#modifylink").popover("hide"),period="2";var a=$.getAjaxResponse("POST","/home/Notifications.do","execute=showPagerDutyConfig");$("#AlertsTabContent").html(a),$.alertsTabHide("pagerduty")},jQuery.disConnectPagerDuty=function(){var a=$.getAjaxResponseWithCSRF("POST","/home/Notifications.do","execute=disConnectPagerDuty"),b=getValue(a,"ax_Status");b=="success"&&($.hideDiv("connect"),$.showDiv("disConnect"),$.hideDiv("connectHeading"),$.showDiv("disConnectHeading"),$.hideDiv("messageSettingsDiv"))},jQuery.savePagerDutyEmail=function(){email=document.getElementById("pagerDutyEmail").value;if(!validateEmail(email))return;var a=$.getAjaxResponseWithCSRF("POST","/home/Notifications.do","execute=savePagerDutyEmail&email="+email);status=getValue(a,"ax_Status"),message="",status=="success"?(message=beanmsg.PagerDutyEmailSaved,document.getElementById("mailConfiguredDiv").style.display="block",document.getElementById("pagerDutyEmail1").value=email,document.getElementById("mailUnConfiguredDiv").style.display="none"):message=beanmsg.PagerDutyEmailSavingFailed,$.hidePopUpDiv();var b=$("#pagerDutyForm input[id=pagerDutyEmail1]").position(),c=message.length*11;message.length<15&&(c+=70);var d=b.top-56,e=($(window).width()-540)/2+$(window).scrollLeft()+"px";$.showPopUpDiv($.getStatusMsg(status,message),d,e,"1",c),$.fadeOutDiv("popUpFloatingDiv",4e3)},jQuery.removePagerDutyEmail=function(){var a=$.getAjaxResponseWithCSRF("POST","/home/Notifications.do","execute=savePagerDutyEmail&email=");status=getValue(a,"ax_Status"),message="",status=="success"?(message=beanmsg.PagerDutyEmailRemoved,document.getElementById("mailConfiguredDiv").style.display="none",document.getElementById("pagerDutyEmail").value="",document.getElementById("mailUnConfiguredDiv").style.display="block"):message=beanmsg.PagerDutyEmailRemovingFailed,$.hidePopUpDiv();var b=$("#pagerDutyForm input[id=pagerDutyEmail]").position(),c=message.length*11;message.length<15&&(c+=70);var d=b.top-56,e=($(window).width()-540)/2+$(window).scrollLeft()+"px";$.showPopUpDiv($.getStatusMsg(status,message),d,e,"1",c),$.fadeOutDiv("popUpFloatingDiv",4e3)},jQuery.savePagerDutyTemplate=function(){template=document.getElementById("pagerDutyTemplate").value;if(template==null||template==""||trimString(template).length<1){alert(beanmsg.PagerDutyMessageEmpty);return}var a=$.getAjaxResponseWithCSRF("POST","/home/Notifications.do","execute=savePagerDutyTemplate&template="+template);status=getValue(a,"ax_Status"),message="",status=="success"?message=beanmsg.PagerDutyMessageSaved:message=beanmsg.PagerDutyMessageSavingFailed,$.hidePopUpDiv();var b=$("#pagerDutyForm input[name=pagerDutyTemplate]").position(),c=message.length*11;message.length<15&&(c+=70);var d=b.top-56,e=($(window).width()-540)/2+$(window).scrollLeft()+"px";$.showPopUpDiv($.getStatusMsg(status,message),d,e,"1",c),$.fadeOutDiv("popUpFloatingDiv",4e3)},jQuery.sendPagerDutyTestAlert=function(){$.hidePopUpDiv();var a="<div>";a+='<div><b class="wtop"><b class="r1"></b><b class="r2"></b><b class="r3"></b><b class="r4"></b></b></div>',a+='<div class="wcenter">',a+='<div><b class="mtop"><b class="r2"></b><b class="r3"></b><b class="r4"></b></b></div>',a+='<div class="white"><table border="0" cellspacing="2" cellpadding="2"><tr><td>&nbsp;</td><td align="left"><span class="successMsg"><img src="/images/loadingAnimation.gif"></span></td></tr></table></div>',a+='<div><b class="mbottom"><b class="r4"></b><b class="r3"></b><b class="r2"></b></b></div>',a+="</div>",a+='<div><b class="wbottom"><b class="r4"></b><b class="r3"></b><b class="r2"></b><b class="r1"></b></b></div>',a+="</div>";var b=$("#pagerDutyForm input[id=triggerTestAlert]").position(),c=260,d=b.top-56,e=($(window).width()-540)/2+$(window).scrollLeft()+"px";$.showPopUpDiv(a,d,e,"1",c);var f=$.getAjaxResponseWithCSRF("POST","/home/Notifications.do","execute=sendPagerDutyTestAlert");status=getValue(f,"ax_Status"),message="",status=="success"?message=beanmsg.PagerDutyTestSuccess:message=beanmsg.PagerDutyTestFailed,$.hidePopUpDiv(),b=$("#pagerDutyForm input[id=triggerTestAlert]").position(),c=message.length*11,message.length<15&&(c+=70),d=b.top-56,e=($(window).width()-540)/2+$(window).scrollLeft()+"px",$.showPopUpDiv($.getStatusMsg(status,message),d,e,"1",c),$.fadeOutDiv("popUpFloatingDiv",4e3)},jQuery.savePagerDutyTroubleAlert=function(){var a=$.getAjaxResponseWithCSRF("POST","/home/Notifications.do","execute=savePagerDutyTroubleAlert&alert="+document.getElementById("pagerDutyTroubleAlert").checked);status=getValue(a,"ax_Status"),message="",status=="success"?message=beanmsg.PagerDutyTroubleAlertSuccess:message=beanmsg.PagerDutyTroubleAlertFailed;var b=$("#pagerDutyForm input[name= pagerDutyTroubleAlert]").position(),c=message.length*11;message.length<15&&(c+=70);var d=b.top-56,e=($(window).width()-540)/2+$(window).scrollLeft()+"px";$.showPopUpDiv($.getStatusMsg(status,message),d,e,"1",c),$.fadeOutDiv("popUpFloatingDiv",4e3)},jQuery.showAddScheduledReports=function(){showDiv("RS_Reports"),hideDiv("RS_MReport"),hideDiv("RS_CReport"),hideDiv("RS_RSetting");var a=$.getAjaxResponseWithCSRF("POST","/home/scheduleReport.do","execute=showscheduledReports");$("#userarea").html(a)},jQuery.editScheduledReports=function(a){var b=$.getAjaxResponseWithCSRF("POST","/home/scheduleReport.do","execute=showscheduledReports&reportid="+a);$("#userarea").html(b)},jQuery.addScheduledReports=function(a,b){var c=a.displayname.value;if(trimString(c).length<1){alert(beanmsg.displayname_check),a.displayname.select();return}var d=a.reportType.value,e="1";for(i=0;i<a.reportFormat.length;i++)a.reportFormat[i].checked&&(e=a.reportFormat[i].value);var f="grp",g="";if(d=="3"||d=="5")f="sel",d=="5"?g=$("#busyMonList").val():g=$("#downMonList").val();else{for(i=0;i<a.monRadio.length;i++)a.monRadio[i].checked&&(f=a.monRadio[i].value);if(f=="grp")for(j=0;j<a.activeGroup.options.length;j++)j==0?g=a.activeGroup.options[j].value:g=g+","+a.activeGroup.options[j].value;else if(f=="all")g="0";else for(j=0;j<a.suspendurls.options.length;j++)j==0?g=a.suspendurls.options[j].value:g=g+","+a.suspendurls.options[j].value}if(g=="")return alert(beanmsg.nothingSelected),!1;var h="2";for(i=0;i<a.scheduleReportFrequency.length;i++)a.scheduleReportFrequency[i].checked&&(h=a.scheduleReportFrequency[i].value);var k="0",l="";h=="1"?l=a.dailyReportTime.value:h=="2"?(k=a.weeklyReportDay.value,l=a.weeklyReportTime.value):(k=a.monthlyReportDay.value,l=a.monthlyReportTime.value);var m="",n=0;if(a.contactGroups.checked)n=1,m=a.contactGroups.value;else for(i=0;i<a.contactGroups.length;i++)a.contactGroups[i].checked&&(n==0?(m=a.contactGroups[i].value,n++):m=m+","+a.contactGroups[i].value);if(n==0){alert(beanmsg1.contact_group);return}g=f+"-"+g;var o=$.getAjaxResponseWithCSRF("POST","/home/scheduleReport.do","execute=addScheduledReports&displayname="+c+"&reportType="+d+"&selectedId="+g+"&reportFormat="+e+"&scheduleReportFrequency="+h+"&reportTime="+l+"&reportDay="+k+"&contactGroups="+m+"&reportid="+a.reportid.value);b=="popup"?($.hidePopUpDiv(),document.getElementById("msgs").innerHTML='<div class="SuccessMsgDiv">'+beanmsg1.add_schedule_msg+"</div>",startHideFade("msgs",.005)):(showDiv("RS_Reports"),hideDiv("RS_MReport"),hideDiv("RS_CReport"),hideDiv("RS_RSetting"),$("#userarea").html(o))},jQuery.deleteScheduledReports=function(a){if(confirm(schreportmsg.del_report)){var b=$.getAjaxResponseWithCSRF("POST","/home/scheduleReport.do","execute=deleteScheduledReports&reportid="+a),c=getValue(b,"ax_deleteStatus");c=="success"?$.hideDiv("tr"+a):c=="successWithEmptyList"?$.showAddScheduledReports():b.indexOf("Unauthorized")!=-1&&($("#scheduled_Reports_List").html(b),$.hideDiv("scheduled_Reports"),$.showDiv("scheduled_Reports_List"))}},jQuery.suspendScheduledReports=function(a){var b=$.getAjaxResponseWithCSRF("POST","/home/scheduleReport.do","execute=suspendScheduledReports&reportid="+a);$("#scheduled_Reports_List").html(b),$.hideDiv("scheduled_Reports"),$.showDiv("scheduled_Reports_List")},jQuery.activateScheduledReports=function(a){var b=$.getAjaxResponseWithCSRF("POST","/home/scheduleReport.do","execute=activateScheduledReports&reportid="+a);$("#scheduled_Reports_List").html(b),$.hideDiv("scheduled_Reports"),$.showDiv("scheduled_Reports_List")},jQuery.getTwitterUrl=function(){$("#addContactForm input[name=execute]").val("getTwitterUrl");var a=$.getPostAjaxResponseWithoutCSRF("/home/Notifications.do","addContactForm"),b=getValue(a,"ax_twitterurl");b!=undefined&&(location.href=b)},jQuery.getResellerTwitterUrl=function(){var a=$.getPostAjaxResponseWithoutCSRF("/home/Reseller.do?execute=getTwitterUrl","reseller_settings");alert(a);var b=getValue(a,"ax_twitterurl");b!=undefined&&(location.href=b)},jQuery.updateBillingContacts=function(){var a=$.getPostAjaxResponse("/home/accountinfo.do","updateBillingContactFrm"),b=getValue(a,"ax_Status"),c=getValue(a,"ax_errormsg"),d=$("#updateBillingContactFrm select[name=contactid]").position(),e=c.length*11;c.length<15&&(e+=70);var f=d.top-20,g=d.left+200;$.showPopUpDiv($.getStatusMsg(b,c),f,g,"1",e),$.fadeOutDiv("popUpFloatingDiv",1500)},jQuery.isUserExists=function(a){var b=$("#addContactForm input[name=toemail]").val(),c=$("#contactid").val();if(!validateEmail(b)){$("#addContactForm input[name=toemail]").select();return}var d="&type=checksubuser";c!==undefined&&c.length>0&&(d="&type=editContact&cid="+c);var e=$.getAjaxResponse("GET","../login/UserAction.do?execute=checkUser&name="+encodeURIComponent(b)+d),f=getValue(e,"ax_errormsg");if(f!=="success"){var g=getValue(e,"ax_errorreason");return f==="User Exists"?($.showDiv("emailErrorDiv"),$("#addContactForm input[name=toemail]").focus(),!0):($("#subUserErrorDiv").html(g),$.showDiv("subUserErrorDiv"),!0)}$.hideDiv("subUserErrorDiv"),a!==undefined&&$.enableUser(a)},jQuery.isContactExists=function(a){var b=$("#addContactForm input[name=toemail]").val(),c=$("#contactid").val();if(!validateEmail(b)){$("#addContactForm input[name=toemail]").select();return}var d=$.getAjaxResponse("GET","../login/UserAction.do?execute=checkContactPresent&name="+encodeURIComponent(b)),e=getValue(d,"ax_errormsg");if(e!=="success"){var f=getValue(d,"ax_errorreason");return e==="Contact Exists"?($.showDiv("emailErrorDiv"),$("#addContactForm input[name=toemail]").focus(),!0):($("#subUserErrorDiv").html(f),$.showDiv("subUserErrorDiv"),!0)}$.hideDiv("subUserErrorDiv"),a!==undefined&&$.enableUser(a)},jQuery.enableUser=function(a){a?$("#subUserCreationSupported").val("true"):$("#subUserCreationSupported").val("false")},$(window).resize(function(){var a=window.location.href;a.indexOf(newclient_path)==-1&&$.updateResoultionInfo()}),$(window).unload(function(){}),jQuery.showConfHelpPopup1=function(a,b){width="250",content="<div style='margin-left:20px;padding-bottom:10px;' class='tooltip-pointer'><div class='tooltip-pointer-up'><div class='tooltip-pointer-up-inner'></div></div></div><div class='tooltip'><b class='tooltipdiv1'></b><b class='tooltipdiv2'></b><b class='tooltipdiv3'></b><b class='tooltipdiv4'></b><div class='tooltipboxcontent' style='padding-right:0px;'><table width='99%' cellspacing='0' cellpadding='0' border='0'><tbody><tr><td width='100%' align='right' style='padding-right:0px'><a href='javascript:void(0);' onClick='$.hidePopUpDiv();' title='close'><img src='/images/close-sandal.png' border='0' alt='close' align='right'/></a></td></tr><tr><td valign='middle' height='32' class='labeltd'>"+b+"</td></tr></tbody></table></div><b class='tooltipdiv4tooltipdiv'></b><b class='tooltipdiv3tooltipdiv'></b><b class='tooltipdiv2tooltipdiv'></b><b class='tooltipdiv1tooltipdiv'></b></div>";var c=$("#"+a).position(),d=c.top+30,e=c.left-10;$.showPopUpDiv(content,d,e,"1",width)},jQuery.showConfHelpPopup=function(a,b){width="200",b.length>30&&b.length<70?width="300":b.length>70&&(width="500"),content="<div style='margin-left:20px;padding-bottom:10px;' class='tooltip-pointer'><div class='tooltip-pointer-up'><div class='tooltip-pointer-up-inner'></div></div></div><div class='tooltip'><b class='tooltipdiv1'></b><b class='tooltipdiv2'></b><b class='tooltipdiv3'></b><b class='tooltipdiv4'></b><div class='tooltipboxcontent' style='padding-right:0px;'><table width='99%' cellspacing='0' cellpadding='0' border='0'><tbody><tr><td width='100%' align='right' style='padding-right:0px'><a href='javascript:void(0);' onClick='$.hidePopUpDiv();' title='close'><img src='/images/close-sandal.png' border='0' alt='close' align='right'/></a></td></tr><tr><td valign='middle' height='32' class='labeltd'>"+b+"</td></tr></tbody></table></div><b class='tooltipdiv4tooltipdiv'></b><b class='tooltipdiv3tooltipdiv'></b><b class='tooltipdiv2tooltipdiv'></b><b class='tooltipdiv1tooltipdiv'></b></div>";var c=$("#"+a).position(),d=c.top+30,e=c.left-10;$.showPopUpDiv(content,d,e,"1",width)},jQuery.showDownloadHelp=function(a,b){uploadChecked=document.getElementById(a).checked,downloadChecked=document.getElementById(b).checked,!uploadChecked&&downloadChecked&&$.showConfHelpPopup(b,beanmsg.ftpDownloadfileHelp)},jQuery.registerWebAppForm=function(a){var b="pagename=webAppemailsend&width=580";a!=null&&a=="realBrowserRequest"&&(b="pagename=realBrowserSupportRequest&width=580");var c=$.getAjaxResponse("GET","/jsp/includes/divPopUp.jsp",b),d=($(window).height()-400)/2+$(window).scrollTop()+"px",e=($(window).width()-540)/2+$(window).scrollLeft()+"px";$.showPopUpDiv(c,d,e,"5000","595")},jQuery.showStatusView=function(a){var b="execute=getStatusView&reportView="+a,c=$.getAjaxResponse("POST","/home/CreateTest.do",b);$("#IntegrationTab").html(c),$.alertsTabHide("groups")},jQuery.editStatusView=function(a){var b="execute=editStatusView&viewid="+a,c=$.getAjaxResponse("POST","/home/CreateTest.do",b);$("#IntegrationTab").html(c),$.alertsTabHide("groups")},jQuery.showSLAView=function(a){var b="execute=getSlaView&reportView="+a,c=$.getAjaxResponse("POST","/home/CreateTest.do",b);$("#IntegrationTab").html(c),$.alertsTabHide("actions")},jQuery.editSLAView=function(a){var b="execute=editSlaView&viewid="+a,c=$.getAjaxResponse("POST","/home/CreateTest.do",b);$("#IntegrationTab").html(c),$.alertsTabHide("actions")},jQuery.showUpTimeButton=function(){var a=$.getAjaxResponse("POST","/home/UptimeButton.do","execute=showUptimeButtons");$("#IntegrationTab").html(a),$.alertsTabHide("alerttemplate")},jQuery.deletestatusview=function(a,b,c){b=="null"&&b==""&&(b="status");var d=window.confirm(beanmsg["portal.delete.confirm"].replace("element",c));if(d){var e=$.getAjaxResponseWithCSRF("POST","/home/CreateTest.do","execute=deleteStatusView&viewid="+a+"&viewType="+b),f=getValue(e,"ax_success");f=="success"&&$("#"+a).remove();if(b=="sla")$.alertsTabHide("actions");else if(b=="report")$.showReportView("1"),$.alertsTabHide("pblicReport");else if(b=="status"){var g=$("#statustbl > tbody > tr").length;g==0&&$.showStatusView("1"),$.alertsTabHide("groups")}else $.alertsTabHide("groups")}},jQuery.deleteUptimeBtn=function(a,b){if(confirm(beanmsg["uptime.delete.confirm"].replace("element",b))){var c=$.getAjaxResponseWithCSRF("POST","/home/UptimeButton.do","execute=deleteUptimeButton&urlid="+a);$("#IntegrationTab").html(c),$.alertsTabHide("alerttemplate")}},jQuery.addUptimeBtn=function(a,b){var c="execute=addUptimeButton";b?c="execute=addUptimeButton":c="execute=editUptimeButton",a!=""&&(c=c+"&urlid="+a),document.getElementById("perf")&&(c+="&perf=true");var d="";a!=""?d=$.getAjaxResponse("POST","/home/UptimeButton.do",c):d=$.getAjaxResponseWithCSRF("POST","/home/UptimeButton.do",c),$("#IntegrationTab").html(d),$.alertsTabHide("alerttemplate")},jQuery.editDefaultStatus=function(a){if(a){var b=a.viewkey.value,c=a.rsptime,d=!1;c.checked&&(d="true");var e=$.getAjaxResponseWithCSRF("POST","/home/CreateTest.do","execute=editDefalutStatus&viewid="+b+"&rsptime="+d);$("#IntegrationTab").html(e)}else{var e=$.getAjaxResponseWithCSRF("POST","/home/CreateTest.do","execute=editDefalutStatus");$("#IntegrationTab").html(e)}$.alertsTabHide("groups")},jQuery.exportOptions=function(){var a=Msgbean(reportmsg.nodata_msg);if($("#form1 input[name=notavailable]").val()!=null&&$("#form1 input[name=notavailable]").val()==1)return alert(a),!0;var b=$("#exportholderdiv").position();document.getElementById("cont").style.height="50px";var c=b.left-document.body.scrollLeft,d=b.top+23-document.body.scrollTop;showDialog(document.getElementById("cont").innerHTML,"position=absolute,closeButton=no,closeOnBodyClick=yes,left="+c+",top="+d)},jQuery.showDetailspageactions=function(a){a===undefined&&(a=0);var b="detailsactionsdiv",c=$("#"+b).offset();document.getElementById("actionsDiv").style.height="50px";var d=c.left-(a==undefined?0:a),e=c.top+23-document.body.scrollTop;showDialog(document.getElementById("actionsDiv").innerHTML,"position=absolute,closeButton=no,closeOnBodyClick=yes,left="+d+",top="+e)},jQuery.detailsPeriod=function(a,b,c){var d=a,e=$("#dtbuttonDiv").width(),f=$("#historyDiv").width(),g=$("#"+d).offset(),h=$("#historyDiv").css("margin-left");document.getElementById(b).style.height="50px";var i=f,j=g.top+22-document.body.scrollTop,k=$.getBrowser();c?d=="customdtdiv"?k.indexOf("IE")!=-1?(e=$("#"+a).width()+1,i=$("#detailsPeriod_Today").width()+$("#detailsPeriod_Week").width()+67,h=0):(e=$("#"+a).width()+1,i=$("#customdtdiv").offset().left-$("#detailsPeriod_Today").width()-$("#detailsPeriod_Week").width()):k.indexOf("IE")!=-1&&(i=0,h=0):d=="customdtdiv"&&(k.indexOf("IE")!=-1?(e=$("#"+a).width()+1,i=$("#customdtdiv").offset().left-$("#detailsPeriod_Today").width()-7):(e=$("#"+a).width()+1,i=$("#customdtdiv").offset().left-$("#detailsPeriod_Today").width()-$("#detailsPeriod_Week").width())),document.getElementById("dropMenuactions").style.width=e,$("#"+b).css("padding-left",i),$("#"+b).css("margin-left",h),$.showDiv(b)},jQuery.checkDiv=function(a,b){if(b==50)$.hideDiv("periodDropDownOptions"),$.showDiv("customdtdiv"),$.showDiv("customdatebutton");else{var c=$("#detailsPeriod_Month");$("label[for='detailsPeriod_Month']").html(c).append("<span class='ui-button-text' ><span style='padding-right:5px;'>"+a+'</span><img border="0" vspace="1" src="/images/customperiodarrow.gif"/></span>'),$("label[for='detailsPeriod_Month']").addClass("ui-button"),$("label[for='detailsPeriod_Month']").addClass("ui-widget"),$("label[for='detailsPeriod_Month']").addClass("ui-state-default"),$("label[for='detailsPeriod_Month']").addClass("ui-button-text-only"),b==3||b==11?$("label[for='detailsPeriod_Month']").removeClass("ui-state-active"):($("label[for='detailsPeriod_Today']").removeClass("ui-state-active"),$("label[for='detailsPeriod_Week']").removeClass("ui-state-active"),$("label[for='detailsPeriod_Month']").addClass("ui-state-active")),$("#detailsPeriod_Month").addClass("ui-helper-hidden-accessible"),$.hideDiv("customdtdiv"),$.hideDiv("customdatebutton"),$.showDiv("periodDropDownOptions")}},jQuery.hidedropdownDiv=function(){document.getElementById("setHideValue").value=="true"&&$.hideDiv("customPeriod")},jQuery.sendRCAReportByEMail=function(a,b,c,d,e,f){$.showDiv("loading");var g="";c!=undefined&&c=="RCA"&&(g="/home/CreateTest.do?execute=sendReport&urlid="+a+"&dt="+d+"&cs="+e+"&nameserver="+f+"&fp=RCA&emailid=");if(g.length>5){var h="pagename=emailreport&width=315&arrowpos=250&url="+g+"&email="+encodeURIComponent(b),i=$.getAjaxResponse("GET","/jsp/includes/divPopUp.jsp",h),j=$("#EmailThisReportDivId").position(),k=j.left-240,l=j.top-33;$.showPopUpDiv(i,l,k,"5000","330")}$.hideDiv("loading")},jQuery.sendRCAReportAsPDF=function(a,b,c,d){var e="execute=ExportRCAAsPDF&mid="+a+"&dt="+b+"&cs="+c+"&nameserver="+d;location.href="/home/CreateTest.do?"+e},jQuery.showWhitelistDiv=function(){var a=$.getAjaxResponse("POST","/login/location_whitelistips.jsp"),b=$("#whitelist_IPs").position(),c=b.left-300,d=b.top+15;$.showPopUpDiv(a,d,c,"5000","450")},jQuery.showReportView=function(a){var b="execute=getPublicView&reportView="+a,c=$.getAjaxResponse("POST","/home/CreateTest.do",b);$("#IntegrationTab").html(c),$.alertsTabHide("pblicReport")},jQuery.editReportView=function(a){var b="execute=editPublicView&viewid="+a,c=$.getAjaxResponse("POST","/home/CreateTest.do",b);$("#IntegrationTab").html(c),$.alertsTabHide("pblicReport")},jQuery.addPublicReport=function(){var a=$("#currentreportType").html(),b="0",c=null;"trendReport"==a?(c=$("#reportform select[name=reportGroupId]").val(),a="6",b=$("#reportform select[name=trendReportperiod]").val(),(c==null||c==undefined)&&b!=null&&b!=undefined&&b!="0"&&(c="0")):"BusyHourReport"==a?(c=$("#reportform select[name=busy_monitor]").val(),a="5",b=$("#reportform select[name=businessReportSegments]").val()):"outageReport"==a?(c=$("#reportform select[name=report_Mon_GroupId]").val(),a="4"):"LocationDownReport"==a?(c=$("#reportform select[name=monitor]").val(),a="3"):"ResponseReport"==a?(c=$("#reportform select[name=report_Mon_GroupId]").val(),a="2"):(c=$("#reportform select[name=report_Mon_GroupId_Summary]").val(),a="1",c.match("INFRA_")&&(a="7"));if(c==null||c==undefined)return alert(Msgbean(reportmsg.nodata_msg)),!0;var d=$("#newperiodval").val();d.indexOf("BH")!=-1&&(d=d.slice(2,d.length));if(d==null||d==""||d==undefined||d=="50")d="2";var e="execute=getPopupPublicView&viewReportID="+c+"&report="+a+"&period="+d+"&segment="+b,f=$.getAjaxResponse("POST","/home/CreateTest.do",e),g=$("#makePublicDiv").position(),h=g.top+25,i=g.left-720;$.showPopUpDiv(f,h,i,"5000","820")},jQuery.showPageDiv=function(a,b,c,d){var e=d+"content",f=d+"PrevImg",g=d+"PrevImgDis",h=d+"NextImg",i=d+"NextImgDis",j="#"+d+"PagingText",k,l,m,n;for(n=1;n<=a;n++){var o=e+"_"+n,p=document.getElementById(o).style.display;p=="block"&&(k=n,b=="prev"?(k=n-1,m=e+"_"+k):b=="next"?(k=n+1,m=e+"_"+k):m=e+"_"+k),$.hideDiv(o)}var q=k*10,r=q-9;k==1&&($.showDiv(g),$.hideDiv(f)),k<a&&($.showDiv(h),$.hideDiv(i)),k!=1&&($.showDiv(f),$.hideDiv(g));if(k==a){$.showDiv(i),$.hideDiv(h);var l=q-c;q-=l}var s=r+" - "+q+" of "+c;$(j).text(s),$.showDiv(m)},jQuery.addParams=function(a,b){return a!=""?a=a+","+encodeURIComponent(b):a=encodeURIComponent(b),a},jQuery.selectGroup=function(a){a.id=="allid"?($("#monRadioall").attr("checked",!0),$("#montr").css("display","none"),$("#grptr").css("display","none")):a.id=="grpid"?($("#monRadioGroup").attr("checked",!0),$("#montr").css("display","none"),$("#grptr").toggle()):($("#monRadiourls").attr("checked",!0),$("#grptr").css("display","none"),$("#montr").toggle())},jQuery.revertCustomizeReport=function(a){param="",a=="true"&&(param="fromStatus=true");var b=$.getAjaxResponseWithCSRF("POST","/home/reportsinfo.do?execute=deleteCustomizedReport",param);a=="true"?$("#reportSettingDiv").html(b):location.href="../home/reportsinfo.do?execute=showCustomizeReport"},jQuery.showMonitorChanges=function(a,b){showDiv("urlidholderdiv");var c="#getGeneralForm input[name=monlabel]";$(c).val(b),$("#urliddiv").attr("title",b);if(b.length>25)var b=b.substr(0,25)+"...";$("#urliddiv").html(b),$("#getGeneralForm input[name=monid]").val(a),closeDialog()},jQuery.showEventTypeChanges=function(a,b){showDiv("eventlogholderdiv"),$("#eventtypediv").html(b),$("#getGeneralForm input[name=eventtype]").val(a),closeDialog()},jQuery.showToolsReportChanges=function(a,b){a!=null&&($("#toolsnewperiodlbl").val($("#"+a).html()),$("#toolsnewperiodval").val(a),$("#toolsnewdtlbl").val(b)),$("#toolstimelbl").html($("#toolsnewperiodlbl").val());var c="",d="";$("#toolsnewperiodval").val()==50?(hideDiv("holderdiv"),showDiv("toolscustomdtdiv"),c=$("#getGeneralForm input[name=startdate]").val(),d=$("#getGeneralForm input[name=enddate]").val()):(hideDiv("toolscustomdtdiv"),showDiv("holderdiv")),$("#toolstestdiv").html($("#toolsnewdtlbl").val()),closeDialog()},jQuery.showAllMessages=function(){var a=$.getAjaxResponse("GET","/home/Notifications.do","execute=showAllMessages"),b=$("#messagesLink").position(),c=b.top+22;$.showPopUpDiv(a,c,250,"1","815")},jQuery.markAsReadMessages=function(){var a=$("#showAllMessagessForm").serialize(),b=$.getAjaxResponseWithCSRF("POST","/home/Notifications.do","execute=markAsReadMessages&"+a);showHomeTab()},jQuery.deleteMessages=function(){var a=$("#showAllMessagessForm").serialize(),b=$.getAjaxResponseWithCSRF("POST","/home/Notifications.do","execute=deleteMessages&"+a);showHomeTab()};var reqwmiCnt=0;jQuery.getAgentRequestWMI=function(a,b){if(reqwmiCnt<25){var c=$.getAjaxResponseWithCSRF("POST",a,b);c.indexOf("<div class='output'></div>")!=-1?($("#result").html(c),$.showDiv("result")):setTimeout(function(){$.getAgentRequestWMI(a,b)},2e3),reqwmiCnt++}else $.hideDiv("result")},jQuery.deleteOutageRptDowntime=function(a,b,c,d){if(confirm(beanmsg.del_downtime)){var e=$.getAjaxResponse("GET","/home/CreateTest.do","execute=deleteDowntime&urlid="+b+"&downtime="+a),f=getValue(e,"ax_deleteDowntime");f=="success"&&(document.getElementById(b).rows.length==1?$.hideDiv(c):$.hideDiv(d))}},jQuery.showStatus=function(){$.showDiv("chart_tr"),$.hideDiv("apdex_tr"),$.showDiv("throughput_td"),$("#gstatus").removeClass("BlueBoldText"),$("#gstatus").addClass("GrayBoldText"),$("#astatus").removeClass("GrayBoldText"),$("#astatus").addClass("BlueBoldText")},jQuery.showSlaTabView=function(a,b){a!=null&&$("#slareportform input[name=slaType]").val(a),b!=null&&$("#slareportform input[name=pageno]").val(b);var c=$("#slareportform input[name=slaType]").val();qs="execute=showSLAReport",$("#slaReportFilter").css("display")=="block"&&(qs+="&reportdiv=show"),$.showDiv("cogwheelLoadingDiv"),$("input[name=s247pname]").remove();var d=$.getPostAjaxResponseWithoutCSRF("/home/SlaReport.do?"+qs,"slareportform");$.hideDiv("cogwheelLoadingDiv"),$("#SLAdiv").html(d),$("#slaReportFilter").css("display")=="block"&&$.showDiv("slaReportFilter"),$.SLATabHide(c)},jQuery.changeSLAPeriod=function(){var a=$("#slareportform select[name=predefinedperiod]").val();a=="50"?$.showDiv("slashowCalendar"):$.showSlaTabView()},jQuery.changePageforSLA=function(a,b,c){if(a=="prev"){if(b==1)return!1;$("#slareportform input[name=pageno]").val(b-1)}a=="next"&&$("#slareportform input[name=pageno]").val(b+1),$.showSlaTabView()},jQuery.SLATabHide=function(a){$.menuTabHiding($("#alertsTabLists").html(),a),$.hideAllExcept($("#RS_Slaids").html(),"RS_"+a)},jQuery.getCookie=function(a){var b,c,d,e=document.cookie.split(";");for(b=0;b<e.length;b++){c=e[b].substr(0,e[b].indexOf("=")),d=e[b].substr(e[b].indexOf("=")+1),c=c.replace(/^\s+|\s+$/g,"");if(c==a)return unescape(d)}},jQuery.serverMonitortype=function(a){var b={};if(a==1)return $("#slinux").hasClass("linuximgclicked")&&($("#linuxmonitor").hide(0),$("#slinux").addClass("linuximg").removeClass("linuximgclicked"),$("#swindows").hasClass("windowsimg")?$("#swindows").addClass("windowsimgclicked").removeClass("windowsimg"):$("#swindows").addClass("windowsimg").removeClass("windowsimgclicked")),$("#windowsmonitor").slideDown(1e3),$("#linuxmonitor").hide(),!1;if(a==2)return $("#swindows").hasClass("windowsimgclicked")&&($("#windowsdiv").hide(0),$("#swindows").addClass("windowsimg").removeClass("windowsimgclicked"),$("#slinux").hasClass("linuximg")?$("#slinux").addClass("linuximgclicked").removeClass("linuximg"):$("#slinux").addClass("linuximg").removeClass("linuximgclicked")),$("#userarea").remove(),$("#windowsmonitor").hide(),$("#linuxmonitor").slideDown(1e3),!1},jQuery.pushToGoogle=function(a,b){try{a=="LinuxMonitoring"&&b=="Linux"?dataLayer.push({event:"GAEvent",eventCategory:"LinuxMonitoring",eventAction:"click",eventLabel:"Linux"}):a=="WindowsMonitoring"&&b=="Windows"?dataLayer.push({event:"GAEvent",eventCategory:"WindowsMonitoring",eventAction:"click",eventLabel:"Windows"}):a=="Linux32Installation"?dataLayer.push({event:"GAEvent",eventCategory:"Linux32Installation",eventAction:"copy",eventLabel:"Linux32"}):a=="Linux64Installation"?dataLayer.push({event:"GAEvent",eventCategory:"Linux64Installation",eventAction:"copy",eventLabel:"Linux64"}):a=="LinuxProxyInstallation"?dataLayer.push({event:"GAEvent",eventCategory:"LinuxProxyInstallation",eventAction:"copy",eventLabel:"LinuxProxy"}):a=="Linux32Download"?dataLayer.push({event:"GAEvent",eventCategory:"Linux32Download",eventAction:"copy",eventLabel:"Linux32Download"}):a=="Linux64Download"?dataLayer.push({event:"GAEvent",eventCategory:"Linux64Download",eventAction:"copy",eventLabel:"Linux64Download"}):a=="WindowsDownload"&&dataLayer.push({event:"GAEvent",eventCategory:"Linux64Download",eventAction:"click",eventLabel:"WindowsDownload"})}catch(c){}},jQuery.downloadProbe=function(a){if(a=="")return;a=="windows"?($("#step2windows").show(),$("#step2linux").hide()):a=="linux"&&($("#step2linux").show(),$("#step2windows").hide())},jQuery.probeType=function(a){a==1?($("#linux").hide(),$("#windows").show()):a==2&&($("#windows").hide(),$("#linux").show())},jQuery.updateProbeData=function(){closeDialog();var a=$("#probename").val(),b=$.getAjaxResponseWithCSRF("POST","/home/CreateTest.do","execute=addProbe&probename="+a);$("#linuxmonitor").html(b),$.showDiv("linuxmonitor")};var editMonitorVar;jQuery.changeMonitorMode=function(a){if(a!=""){var b=$("select[name=confConfig(monitoringMode)]").closest("tr").attr("id");opener!=null&&(b=$("select[name=confConfig(monitoringMode)]",opener.document).closest("tr").attr("id"));var c;b!=null&&b.match("^row")&&(b=b.substring(3,b.length),c=parseInt(b));var d="#row"+(c+3),e="#row"+(c+4),f="#row"+(c+5);if(a=="0")opener!=null?($("#addmonitorform input[name=confConfig(port)]",opener.document).val("23"),$(d,opener.document).hide(),$(f,opener.document).hide(),$(e,opener.document).show()):(editMonitorVar||$("#addmonitorform input[name=confConfig(port)]").val("23"),$(d).hide(),$(f).hide(),$(e).show());else if(a=="1"||a=="2")opener!=null?($("#addmonitorform input[name=confConfig(port)]",opener.document).val("22"),$(d,opener.document).show(),$(f,opener.document).hide(),$(e,opener.document).show()):(editMonitorVar||$("#addmonitorform input[name=confConfig(port)]").val("22"),$(d).show(),$("#publickey").is(":checked")?($(f).show(),$(e).hide()):($(f).hide(),$(e).show()))}else{var b=$("select[name=confConfig(monitoringMode)]").closest("tr").attr("id"),c;b!=null&&b.match("^row")&&(b=b.substring(3,b.length),c=parseInt(b));var d="#row"+(c+3),e="#row"+(c+4),f="#row"+(c+5);a=="0"?($(d).hide(),$(f).hide(),$(e).show()):a=="1"&&($(d).show(),$("#publickey").is(":checked")?($(f).show(),$(e).hide()):($(f).hide(),$(e).show()))}},jQuery.changePublicKeyMode=function(){var a=$("#publickey").closest("tr").attr("id");if(a!=null&&a.match("^row")){a=a.substring(3,a.length);var b=parseInt(a),c="#row"+(b+1),d="#row"+(b+2);$("#publickey").is(":checked")?($(c).hide(),$(d).show(),$("#sshKey").val(""),$("confConfig(sshKey)").val("")):($(d).hide(),$(c).show(),$("#password").val(""),$("confConfig(password)").val(""))}},jQuery.listAllKeys=function(a,b){var c=document.getElementById(a),d=findPosX(c)+575;navigator.appName=="Microsoft Internet Explorer"&&(d+=10);var e=findPosY(c)-25,f=e+c.offsetHeight-document.body.scrollTop+2;showDialog(document.getElementById(b).innerHTML,"width=300,position=absolute,closeButton=no,closeOnBodyClick=no,left="+d+",top="+f)},jQuery.selectPvtKey=function(a){$("#sshKey").val(a),closeDialog()},jQuery.addNewPvtKey=function(a,b){var c="pagename=probeinstallation&width=510&arrowpos=&linuxkey=addkey",d=$.getAjaxResponseWithCSRF("GET","/jsp/includes/divPopUp.jsp",c),e=$(window).width()/3,f=$(window).height()/3;$.showPopUpDiv(d,f,e,"5000","525")},jQuery.addKeysToList=function(){var a=$("input[name=neyKeyName]").val(),b=$("textarea#neyKeyValue").val(),c=$.getAjaxResponseWithCSRF("POST","/home/CreateTest.do","execute=addKey&key="+a+"&value="+b);$("#sshKey").val(b),closeDialog()};var probeinstallationcount=0;jQuery.getWMIRequest=function(a,b){var c=$.getAjaxResponseWithCSRF("POST",a,b);c.indexOf('<table id="linuxsteps" width="100%">')!=-1?($("#linuxmonitor").html(c),alert("Probe added successfully!!"),$("#linuxmonitor",opener.document).html(c),window.close()):probeinstallationcount<2&&(opener!=null?(window.opener.setTimeout(function(){window.opener.$.getWMIRequest(a,b)},100),window.opener.probeinstallationcount++):(setTimeout(function(){$.getWMIRequest(a,b)},1e3),probeinstallationcount++))},jQuery.addlinuxmonitor=function(){var a="/home/CreateTest.do",b="execute=addLinuxMonitor",c=$("select[name=confConfig(monitoringMode)]").val(),d=$("select[name=groupid]").val(),e=$("select[name=probeid]").val(),f=$("#publickey").is(":checked"),g=$("input[name=confConfig(hostname)]").val(),h="LINUX";b=b+"&monitoringMode="+c+"&probeid="+e+"&publickey="+f+"&ipaddress="+g+"&subtype="+h,d!=undefined&&(b=b+"&groupid="+d);var i=document.getElementsByTagName("validation-params");for(var j=0;j<i.length;j++)idName=i[j].getAttribute("paramId"),elementId=document.getElementById(idName),elementValue=elementId.value,b=b+"&"+idName+"="+elementValue;var k=$.getAjaxResponseWithCSRF("POST",a,b);$("#showdata").html(k)},jQuery.validateLinuxMon=function(){var a=validateConfForm();if(!a)return!1;$("#ip").val($("#hostname").val()),$.addlinuxmonitor()},jQuery.openProbeDownload=function(){$("#monitorconfiglabeltr").hide(),$("#monitorconfigdatatr").hide(),$("#probedownloadlabeltr").show(),$("#probedownloaddatatr").show()},jQuery.openMonitorConfig=function(){confirm("Are you sure to quit probe download?")&&($("#monitorconfiglabeltr").show(),$("#monitorconfigdatatr").show(),$("#probedownloadlabeltr").hide(),$("#probedownloaddatatr").hide())};var reqCnt=0;jQuery.ismonitoradded=function(a,b){if(reqCnt<20){var c=$.getAjaxResponseWithCSRF("POST",a,b);c.indexOf('<DIV id="tempUserArea" style="display:none"></DIV>')!=-1?window.location.href="/home/client/Welcome.do":setTimeout(function(){$.ismonitoradded(a,b)},2e3),reqCnt++}else $.hideDiv("processing"),$.hideDiv("result"),$.showDiv("failedMsg")},jQuery.probeupgrade=function(a,b){var c=!0;b=="false"&&(c=!1);if(c){var d="/home/CreateTest.do",e="execute=probeupgrade&urlId="+a,f=$.getAjaxResponseWithCSRF("POST",d,e);alert("Upgrade Request has been initiated.The Probe will be upgraded in a few minutes.")}else alert("Already Upgrade request sent")},jQuery.enableprobedownstatus=function(a){var b;a==null?b="#probes":typeof a.target=="undefined"?b="#"+a.srcElement.id:b="#"+a.target.id;var c=$(b).attr("checked")?!0:!1,d=document.getElementsByName("probes");for(var e=0;e<d.length;e++)if(d[e].value>1e3){var f="#probes"+d[e].value,g=$(f).attr("checked")?!0:!1,h=document.getElementById("primaryLocationId").value;if(g||h>1e3){c=!0;break}}c?($("#probeStatusIncluded").attr("checked",!0),$("#probeProxyCheckBox").show()):($("#probeStatusIncluded").attr("checked",!1),$("#probeProxyCheckBox").hide()),changetoOnlyprobe(document.getElementById("probeStatusIncluded"))},jQuery.showAddProbeForm=function(a){if(a!=undefined&&a=="popup"){var b=$.getAjaxResponseWithCSRF("POST","/home/Notifications.do","execute=showProbeForm&popup=popup");$.showPopUpDiv(b,475,250,"1","815")}else{var b=$.getAjaxResponseWithCSRF("POST","/home/Notifications.do","execute=showProbeForm&popup=popup");$.showPopUpDiv(b,100,250,"1","815")}},jQuery.showAddMobileProbeForm=function(a){if(a!=undefined&&a=="popup"){var b=$.getAjaxResponseWithCSRF("POST","/home/Notifications.do","execute=showMobileProbeForm&popup=popup");$.showPopUpDiv(b,475,250,"1","815")}else{var b=$.getAjaxResponseWithCSRF("POST","/home/Notifications.do","execute=showMobileProbeForm&popup=popup");$.showPopUpDiv(b,100,250,"1","815")}},jQuery.loadRealBrowserTransactions=function(a){response=$.getAjaxResponse("POST","/home/CreateTest.do","execute=showRealBrowserTransactions&mId="+a),document.getElementById("RealBrowserTransactions").innerHTML=response},jQuery.showHideRealBrowserStepDetails=function(a,b){currentState=document.getElementById("assert_"+b).style.display;if(currentState!="none"){document.getElementById("assert_img_"+b).src="/images/expand_alt.png",$("#assert_"+b).slideUp(500);return}response=$.getAjaxResponse("POST","/home/CreateTest.do","execute=showRealBrowserStepDetails&mId="+a+"&sId="+b);var c=getValue(response,"ax_textToBePresent"),d=getValue(response,"ax_textNotToBePresent"),e=getValue(response,"ax_textToBePresentStatus"),f=getValue(response,"ax_textNotToBePresentStatus");document.getElementById("step_details_step_name_"+b).value=document.getElementById("displayValue-"+b).innerHTML,document.getElementById("step_details_step_url_"+b).value=document.getElementById("step_url_"+b).value,document.getElementById("availabilityString_"+b).value=c,document.getElementById("unAvailabilityString_"+b).value=d,document.getElementById("availabilityAlertOption_"+b).value=e,document.getElementById("unAvailabilityAlertOption_"+b).value=f,document.getElementById("assert_img_"+b).src="/images/collapse_alt.png",$("#assert_"+b).slideDown(500)},jQuery.saveRealBrowserStepDetails=function(a,b,c){var d=document.getElementById(c+"_typeIdentifiers").value,e=[],f,g,h;if(d!=="undefined"&&d!=="null"&&d!==""){var i=JSON.parse(document.getElementById(c+"_typeIdentifiers").value);for(j in i){f=i[j],g=document.getElementById(f+"_"+c).value;if(f.match(/^open/)&&!g.match(/(http|https):\/\//))return alert("Append the protocol as http or https"),document.getElementById(f+"_"+c).focus(),!1;if(g==="undefined"||g==="null"||g==="")return alert("Input field can not be empty"),document.getElementById(f+"_"+c).focus(),!1;h=document.getElementById(f+"_"+c).type,e.push({type:h,identifier:f,value:g})}}stepName=document.getElementById("step_details_step_name_"+c).value;if(stepName==null||stepName==""||trimString(stepName).length<1)return alert("Enter valid display name"),document.getElementById("step_details_step_name_"+c).focus(),!1;stepURL=document.getElementById("step_details_step_url_"+c).value;if(stepURL==null||stepURL==""||trimString(stepURL).length<1)return alert("Enter valid URL"),document.getElementById("step_details_step_url_"+c).focus(),!1;var k=document.createElement("form");k.setAttribute("id","saveRealBrowserStepDetailsForm"),k.setAttribute("method","post"),k.setAttribute("action","/home/CreateTest.do"),k.appendChild(getnewFormElement("hidden","execute","saveRealBrowserStepDetails")),k.appendChild(getnewFormElement("hidden","monitorid",a)),k.appendChild(getnewFormElement("hidden","scriptId",b)),k.appendChild(getnewFormElement("hidden","stepId",c)),k.appendChild(getnewFormElement("hidden","availabilityString",document.getElementById("availabilityString_"+c).value)),k.appendChild(getnewFormElement("hidden","unAvailabilityString",document.getElementById("unAvailabilityString_"+c).value)),k.appendChild(getnewFormElement("hidden","availabilityAlertOption",document.getElementById("availabilityAlertOption_"+c).value)),k.appendChild(getnewFormElement("hidden","unAvailabilityAlertOption",document.getElementById("unAvailabilityAlertOption_"+c).value)),k.appendChild(getnewFormElement("hidden","stepName",stepName)),k.appendChild(getnewFormElement("hidden","stepURL",document.getElementById("step_details_step_url_"+c).value)),k.appendChild(getnewFormElement("hidden","json_data",JSON.stringify(e))),document.body.appendChild(k),document.getElementById("RealBrowserTransactions").innerHTML="<table align='center' cellspacing='0' cellpadding='0'><tr><td width='100%'><img src='/images/loadingAnimation.gif'></td></tr></table>",response=$.getPostAjaxResponse("/home/CreateTest.do","saveRealBrowserStepDetailsForm"),document.getElementsByTagName("BODY")[0].removeChild(document.getElementById("saveRealBrowserStepDetailsForm")),document.getElementById("RealBrowserTransactions").innerHTML=response,$.showHideRealBrowserStepDetails(a,c)},jQuery.selectimg=function(a){var b=$(a).attr("id");b=="layout0"?$(a).hasClass("imgselect")||($("#layout1").removeClass("imgselect"),$(a).addClass("imgselect"),$("#old_radio").attr("checked","checked"),$("#usersOption").attr("checked",!1),$("#socialOption").attr("checked",!1),$.hideDiv("userRow"),$.hideDiv("socialRow")):$(a).hasClass("imgselect")||($("#layout0").removeClass("imgselect"),$(a).addClass("imgselect"),$("#new_radio").attr("checked","checked"),$("#usersOption").attr("checked",!0),$("#socialOption").attr("checked",!0),$.showDiv("userRow"),$.showDiv("socialRow"))},jQuery.showstatusconfig=function(a,b){$("#layout1").removeClass("imgselect"),$("#layout2").removeClass("imgselect"),$("#layout3").removeClass("imgselect"),$(b).addClass("imgselect"),a==2?($.showDiv("statusconfdiv"),$.hideDiv("oldstatusconfdiv"),$("#moreOption").attr("checked",!1),$.hideDiv("periodrow"),$.hideDiv("spacerow"),$("#typeRadio3").attr("checked","checked")):($.hideDiv("statusconfdiv"),$.showDiv("oldstatusconfdiv"),$("#chk_NOC").attr("checked",!1),$("#chk_maintenance").attr("checked",!1),$("#chk_history").attr("checked",!1),$("#chk_performance").attr("checked",!1),$.showDiv("periodrow"),$.showDiv("spacerow"),a==0?$("#typeRadio1").attr("checked","checked"):$("#typeRadio2").attr("checked","checked"))},jQuery.showStatusPerf=function(a,b,c){var d=beanmsg.loadingdata;$("#sign_up").html("<div id='status_loading' style='margin: 100px auto;font: normal 18px Proxima Nova, Roboto, Sans-Serif, opensans, Helvetica;color:  #000'>"+d+"</div>"),url="/login/status.do";var e=$(window).width(),f="execute=statusPerfMetrics&urlid="+a+"&docache=false&rsptime="+b+"&ws="+e;$("#sign_up").lightbox_me({centered:!1,onLoad:function(){var a=$.getAjaxResponse("POST",url,f);$("#sign_up").html(a)}}),$("table tr:nth-child(even)").addClass("stripe")},jQuery.showAllNOCMessages=function(a,b,c){var d=$.getAjaxResponse("GET","/login/status.do","execute=showNocComments&urlid="+a+"&sp=true&downtime="+b);$("#"+c).attr("data-content",d),$("#"+c).popover("show")},jQuery.showdownToolTip=function(a,b,c,d,e,f){var g=$("#"+a).attr("data-original-title"),h=g.length;h<=0&&(g=$.getAjaxResponse("POST","/login/status.do","execute=showDownList&urlid="+d+"&starttime="+e+"&endtime="+f),$("#"+a).attr("data-original-title",g))},jQuery.hidedownToolTip=function(a){$("#"+a).tooltip("hide")},jQuery.hideNOCCommentdialog=function(){var a=$("#prevcomments").val();$(".popover").remove(),a!=undefined&&$("#"+a).attr("data-content")!=undefined&&$("#"+a).popover("destroy")},jQuery.showNOCCommentdialog=function(a,b,c,d,e,f,g){$(".popover").remove();var h=$("#prevcomments").val(),i=$("#fromDashboard").val();$("#"+h).attr("data-content")!=undefined&&$("#"+h).popover("destroy"),$("#prevcomments").val(a);var j="";c!=undefined&&c!=null&&c!=""&&(j=j+"&downtime="+c),d!=undefined&&d!=null&&d!=""&&(j=j+"&lcmt="+d),e!=null&&e!=""&&(j=j+"&bulkcmt="+e),f!=null&&f!=""&&(j=j+"&RO="+!0),g!=null&&g!=""&&(j=j+"&public="+!0);var k=$.getAjaxResponse("POST","/login/status.do","execute=showNocComments&urlid="+b+j);$("#"+a).attr("data-content",k);var l=$(window).height(),m=$("#"+a).offset().top,n=$("#"+a).height(),o=!1;l>m+400&&(o=!0,$("#"+a).attr("data-placement","bottom")),i!=null&&i!=undefined&&i=="true"&&o&&$("#"+a).popover({template:'<div class="popover"><div class="arrow" style="left:6%"></div><div class="popover-inner"><h3 class="popover-title" ></h3><div class="popover-content"><p></p></div></div></div>'}),$("#"+a).popover("show");var p=$("#"+a).attr("data-placement");if(p!="top"&&p!="bottom"){var q=$(".popover").offset().top,r=m+n/2-q;$(".arrow").css({top:+r+"px"})}},jQuery.addNocComments=function(a,b,c){var d=$("#urlid").val(),e=$("#comments").val();e=trimString(e);var f="";a=="public"&&(f="&chk=1"),b=="true"&&(f=f+"&lcmt="+b),c!=null&&c!=-1&&(f=f+"&dt="+c),msg=beanmsg.addComments,msg=trimString(msg);var g=d,h="";if(e!=""&&e!=msg){var i=0;$('input[name="chkdown"]:checked').each(function(){g=g+","+this.value,i++}),f=f+"&customurls="+g;var j="execute=addNocComments&urlid="+d+"&comments="+encodeURIComponent(e)+"&isfromadd=true"+f;h=$.getAjaxResponseWithCSRF("POST","/home/reportsinfo.do",j),$("#comments").val(""),$.hideDiv("toggleMondiv");var k=$("#prevcomments").val(),l=$("#"+k).attr("data-placement");if(l!="top"&&l!="bottom"){var m=$("#"+k).offset().top,n=$("#"+k).height(),o=$(".popover").offset().top,p=m+n/2-o;$(".arrow").css({top:+p+"px"})}$("#ComOptMenu").hide(),$("#Commentdiv").html(h);if(e.length>0){var q=e;e.length>30&&(q=e.substr(0,30)+"..."),$("#cmt_"+k).html(encodeHtml(q))}}return e},jQuery.showCommentTypeInDialog=function(){$("#commentTypediv").toggle()},jQuery.cleartxt=function(a,b){$("#"+a).val()==b&&$("#"+a).val("")},jQuery.closeComments=function(){$.hidePopUpDiv()},jQuery.showDashboardView=function(){var a=$.getAjaxResponse("POST","/home/reportsinfo.do","execute=getDashboardView");$("#IntegrationTab").html(a),$.alertsTabHide("contacts")},jQuery.showAddDashboardView=function(){var a=$.getAjaxResponse("POST","/home/reportsinfo.do","execute=showDashboardForm");$("#IntegrationTab").html(a),$.alertsTabHide("contacts")},jQuery.editDashboardView=function(a,b,c){var d=$.getAjaxResponse("POST","/home/reportsinfo.do","execute=showDashboardForm&viewid="+a+"&layout="+c+"&displayName="+b);$("#IntegrationTab").html(d),$.alertsTabHide("contacts")},jQuery.generateDashboard=function(a){var b="",c=$("#viewid").val();for(i=0;i<a.mongroups.length;i++)a.mongroups[i].checked&&(b=a.mongroups[i].value);if(b==="1"){monList=document.getElementById("groupMonList").value;if(monList==""||monList==null||monList==undefined)return alert(beanmsg.nothingSelected),!1}else if($('input[name="chklist"]:checked').length==0)return alert(beanmsg.selecturl),!1;var d=$.getPostAjaxResponse("/home/reportsinfo.do","dashboardform");viewid=getValue(d,"ax_viewid"),permalink=getValue(d,"ax_url"),iframeUrl=getValue(d,"ax_iframeUrl"),$.showDiv("permalinktr"),$.showDiv("iframetr"),$("#viewid").val(viewid),$("#permalink").val(permalink),$("#publicurl").val(iframeUrl);if(c>0){var e=getValue(d,"ax_statusmsg"),f=getValue(d,"ax_status"),g=e.length*11;e.length<15&&(g+=70);var h=$("#cancel").position(),j=h.left+$("#cancel").width()+25,k=h.top-6;$.showPopUpDiv($.getStatusMsg(f,e),k,j,"1",g),$.fadeOutDiv("popUpFloatingDiv",5e3)}},jQuery.deleteDashboardView=function(a,b){var c=window.confirm(beanmsg["portal.delete.confirm"].replace("element",b));if(c){var d=$.getAjaxResponseWithCSRF("POST","/home/reportsinfo.do","execute=deleteDashboardView&id="+a);$("#IntegrationTab").html(d),$.alertsTabHide("contacts")}},jQuery.showRptSettings=function(a){a.id=="rpt2"?($.showDiv("reportSettingDiv"),$.showDiv("uploadSuccesOption")):$.hideDiv("reportSettingDiv")},jQuery.showLocationStats=function(a,b){var c=$("#"+a).html(),d=$("#prevtooltip").val();d!=undefined&&d!=null&&$("#"+d).popover("hide"),$("#prevtooltip").val(b),$("#"+b).attr("data-content",c),$("#"+b).popover("show")},jQuery.hideLocationStats=function(a){$("#"+a).popover("hide")},jQuery.showRptSettingDiv=function(a){var b=$(a).attr("id"),c=$("#rptimg").attr("src");b=="Rptshowicon"?$("#rptimg").attr("src","../images/icon_hide.gif"):$("#rptimg").attr("src","../images/icon_show.gif"),$.toggleDiv("settingstr")},jQuery.showAdvSettingDiv=function(a){var b=$("#advimg").attr("src");b.indexOf("show")>=0?$("#advimg").attr("src","../images/icon_hide.gif"):$("#advimg").attr("src","../images/icon_show.gif"),$.toggleDiv("settingstr")},jQuery.changeUrl=function(a){var b=$(a).attr("id"),c=$("#domainName").val(),d=$("#urlpath").val(),e=c,f="ns",g="https://";if(d!=null&&d!=undefined&&d!=""){var h=c.length;c.substring(h-1,h)=="/"?e=c+f:e=c+"/"+f,d.substring(0,1)=="/"?e+=d:e=e+"/"+d}var i="";c!=null&&c!=undefined&&c!=""&&(i=g+e),$("#cnamepath").val(i)},jQuery.changebg=function(a){$("#noc_tr_"+a).css("background-color","#f2f6f8"),$.showDiv("span_"+a)},jQuery.clearbg=function(a){$("#noc_tr_"+a).css("background-color","#FFFFFF"),$.hideDiv("span_"+a)},jQuery.openedit=function(a,b){var c=$("#txt_"+a).html();if(document.getElementById("txt_area")!=null){$("#txt_area").remove();var d=$("#prev_id").val();$.showDiv("noc_tr_"+d)}$("#prev_id").val(a),$("#edittxt_"+a).append("<textarea id='txt_area' rows='3' cols='45' style='width:354px; margin:3px 0 0 6px;' onkeypress='$.commentsubmit(event,"+a+","+b+")'>"+c+"</textarea>"),$.hideDiv("noc_tr_"+a),$.showDiv("txtareatr_"+a)},jQuery.commentsubmit=function(a,b,c){if(a.keyCode==13){var d=$("#urlid").val(),e=$("#txt_area").val();e=trimString(e);if(e!=""){var f="execute=updateNocComments&urlid="+d+"&comments="+encodeURIComponent(e)+"&ut="+c,g=$.getAjaxResponseWithCSRF("POST","/home/reportsinfo.do",f),h=getValue(g,"ax_status"),i=getValue(g,"ax_comment");h=="success"&&$("#txt_"+b).html(encodeHtml(i)),$.showDiv("noc_tr_"+b),$.hideDiv("txtareatr_"+b);if(b==1&&i.length>0){var j=i;i.length>30&&(j=i.substr(0,30)+"...");var k=$("#prevcomments").val();$("#cmt_"+k).html(decodeURIComponent(j))}}}},jQuery.deleteComment=function(a,b){var c=$("#urlid").val(),d="execute=deleteNocComments&urlid="+c+"&ut="+b,e=$.getAjaxResponseWithCSRF("POST","/home/reportsinfo.do",d),f=getValue(e,"ax_status");f=="success"&&$("#noc_tr_"+a).remove()},jQuery.togglechkbox=function(a){$("#"+a).is(":checked")?$("#"+a).attr("checked",!1):$("#"+a).attr("checked",!0)},jQuery.showToolTipwithClose=function(a,b,c){var d=$(window).height(),e=$(window).width(),f=$("#"+b).html(),g=$("#"+b).outerWidth(),h=$("#"+a).width(),i=$("#"+a).offset(),j=i.left,k=i.top,l=j-15,m=k+35,n="";if(c){var o=18,p=e/2;g>e?(l=10,o=j+h/2):j<p&&g<p?l+=5:j<p&&g>p?l+=5:j>p&&g+j>e&&(l=j-g+h+20,o=g-(20+h/2)),n=n+'<div style="margin-left:'+o+'px;padding-bottom:10px;" class="tooltip-pointer"><div class="tooltip-pointer-up"><div class="tooltip-pointer-up-inner"></div></div></div>'}else g>e&&(l=10,m=k+30);n=n+'<div class="tooltip"><b class="tooltipdiv1"></b><b class="tooltipdiv2"></b><b class="tooltipdiv3"></b><b class="tooltipdiv4"></b><div class="tooltipboxcontent"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td  align="right" style="padding-right:0px"><a title="close" onclick="$.hideToolTip();" href="javascript:void(0);"><img border="0" align="right" alt="close" src="/images/close-sandal.png"></a></td></tr><tr><td valign="middle" height="32" class="labeltd">'+f+'</td></tr></tbody></table></div><b class="tooltipdiv4tooltipdiv"></b><b class="tooltipdiv3tooltipdiv"></b><b class="tooltipdiv2tooltipdiv"></b><b class="tooltipdiv1tooltipdiv"></b></div>';var q='<table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td>'+n+"</td></tr></tbody></table>";$.showToolTipDiv(q,m,l,"100")},jQuery.checkMon=function(a){$("#chk"+a).is(":checked")?$("#sp"+a).attr("class","chkbox_act"):$("#sp"+a).attr("class","chkbox_none")},jQuery.showHistory=function(a){var b=$("#isloggedIn").val(),c=parseInt($("#page").val()),d=$("#idKey").val();a=="true"?c+=1:c-=1,showDiv("loading"),hideDiv("actualData");if(b=="true")var e="execute=getHistoryDataforStatusView&page="+c+"&id="+d,f=$.getAjaxResponse("POST","/home/CreateTest.do",e);if(b=="false")var e="execute=showHistoryDataforStatusView&page="+c+"&id="+d,f=$.getAjaxResponse("POST","/login/status.do",e);$("#history_div").html(f)},jQuery.showstatuslinks=function(a,b,c){var d="execute=getPublicLinks&id="+a+"&frompage="+b;c!=undefined&&(d="execute=getPublicLinks&id="+a+"&frompage="+b+"&type="+c);var e=$.getAjaxResponse("POST","/home/reportsinfo.do",d);$("#statusdiv").html(e)},$.fn.doesExist=function(){return jQuery(this).length>0},jQuery.openfile=function(){$("#rptFile").trigger("click")},jQuery.showVisitors=function(a){var b=$("#url-"+a.id).html();b==null&&(b="No Users Visited");var c=$("#prevvisitor").val();c!=undefined&&c!=null&&c!=a.id&&$("#"+c).popover("hide"),$("#prevvisitor").val(a.id),$("#"+a.id).attr("data-content",b),$("#"+a.id).popover("toggle")},jQuery.hideVisitors=function(a){$("#"+a.id).popover("hide")},jQuery.showbulkComments=function(){var a=$("#prevcomments").val(),b=$("#"+a).attr("data-placement"),c=$("#toggleMondiv").css("display");if(b!="top"&&b!="bottom"){var d=$("#"+a).offset().top,e=$("#"+a).height(),f=$(".popover").offset().top,g=d+e/2-f;$(".arrow").css({top:+g+"px"})}$("#toggleMondiv").slideToggle("slow")},jQuery.fnSelectService=function(){var a=$("#serviceid").val(),b="";a!=null&&a!=undefined&&(b="&sid="+a),response=$.getAjaxResponseWithCSRF("POST","/home/reportsinfo.do","execute=allLocationStatus&isrefresh=true"+b)},jQuery.toggleSocial=function(){var a=$("#socialth").index()+1;$("th:nth-child("+a+")").toggle(),$("td:nth-child("+a+")").toggle(),$("#socialth").is(":hidden")||!$("#socialth").is(":visible")?($("#social").val("false"),$("#sociallink").html(dashboardmsg.show_social)):($("#social").val("true"),$("#sociallink").html(dashboardmsg.hide_social))},jQuery.movelist=function(a,b){$("#"+b).append($("#"+a).children()),$("#"+b+" option").attr("selected","selected")},jQuery.moveSelected=function(a,b){$("#"+a+" option:selected").appendTo("#"+b),$("#"+b+" option").attr("selected","selected")},jQuery.selectAllExcept=function(a){$("input[id*='_"+a+"']").each(function(a,b){var c=$(b).parent().attr("class");c==="chkbox"&&$(b).prop("checked",!0)})},jQuery.showdropMenu=function(a,b,c){$.stopEvents(c);var d=$("#commenttbl").offset().top,e=$(".popover").offset().top,f=$(".popover").offset().left,g=$("#commenttbl").offset().left,h=$("#commenttbl").height();tp=d-e+h-7,tp=Math.floor(tp);var i=0;$("#"+a).css("width",""),$("#"+a).css("top",tp+"px"),$("#"+a).css("left",g-f+"px"),$("#"+a).width($("#TComps").width()-3+"px"),$("#"+a).show()},jQuery.stopEvents=function(a){try{a||(a=window.event),a.stopPropagation?(a.preventDefault(),a.stopPropagation()):(a.cancelBubble=!0,a.returnValue=!1)}catch(b){}},jQuery.updateAccSettingsFrmHome=function(){var a=$("input[name=firstName]").val();if(a===""){alert(profilemsg.invalid_firstname),$("#firstName").select();return}if($("input[name=lastName]").val()===""){alert(profilemsg.invalid_lastname),$("#lastName").select();return}var b=$("input[name=number]").val();if(b!==""){var c=/^[0-9]+$/;if(!c.test(b)){alert(ccmsg.phoneno_invalid),$("#number").select();return}}var d=$("select[name=userRole]").val();if(d==="0"){alert(profilemsg.select_role);return}d=$("select[name=vertical]").val();if(d==="0"){alert(profilemsg.select_industry);return}var e=welcomepagemsgs.loading_msg,f=$("#updateAccSettingsFrmHome [id=updateAccSettingsFrmHomeBtn]").position(),g=f.left+$("#updateAccSettingsFrmHome [id=updateAccSettingsFrmHomeBtn]").width()+55,h=f.top-6;$.showPopUpDiv('<img src="/images/zoho-busy.gif">&nbsp;<span class="formtext">'+e+"</span>",h,g,"1",200);var i=$.getPostAjaxResponse("/home/accountinfo.do","updateAccSettingsFrmHome"),j=getValue(i,"ax_status"),k=getValue(i,"ax_locationhrefurl"),l=$("invokefrom").val();if(k!==undefined){var m=getValue(i,"ax_errormsg"),n=m.length*11;m.length<15&&(n+=70),$.showPopUpDiv($.getStatusMsg(j,m),h,g,"1",n),$.fadeOutDiv("popUpFloatingDiv",4e3),k+="&tab=AccountProfile",location.href=k}else $.hidePopUpDiv(),$("#userarea").html(i)},jQuery.openDashboard=function(){var a=$("body").css("width"),b="670";window.open("/home/reportsinfo.do?execute=allLocationStatus","new","scrollbars=yes,resizable=yes,width="+a+",height="+b+"'").focus()},jQuery.showAddMonitorForm=function(a,b){$(".popover").remove();var c="#content"+b,d="#addlink"+b;$(d).attr("data-content")!=undefined&&$(d).popover("destroy");var e='<img src="/images/status_down_icon.png" align="right" valign="middle" title="close" style="cursor:pointer" onclick="$.hideNOCCommentdialog();">',f='<table width="100%"><tr><td width="50%">'+a+'</td><td width="45%">&nbsp;</td><td width="5%"><img src="/images/status_down_icon.png" align="right" valign="middle" title="close" style="cursor:pointer" onclick="$.hideNOCCommentdialog();"></td></tr></table>',g=$(c).html();$(d).attr("data-placement","left"),$(d).attr("data-content",g),$(d).popover("show")},jQuery.showAddMonitortoProbe=function(a,b){$(".popover").remove(),hideAll(),hideDiv("rightPortelIntegration"),showDiv("rightBasicLayout"),showDiv("loadingg");var c="../home/CreateTest.do?execute=showUrlForm&addform=true&userarea=true&monitortype="+a+"&addmonprobeid="+b;getHtml(c,"postShowAddForm",a)},jQuery.showImg=function(a){var b="imgFile="+a,c=$.getAjaxResponse("GET","/jsp/showRealBrowserScreenShots.jsp",b);$("#basicModalContent").html(c),$("#basicModalContent").modal()},jQuery.getBlockDomains=function(a){$.hidePopUpDiv(),response=$.getAjaxResponse("GET","../home/CreateTest.do?execute=getBlockDomains");var b=$("#block_domains").position();if(a)var c=b.top-10,d=b.left+30;else var c=b.top+30,d=b.left-320;$.showPopUpDiv(response,c,d,"1","420")},jQuery.setBlockDomains=function(){var a="",b=document.getElementsByName("blockDomains");for(i=0;i<b.length;i++)b[i].value!=null&&b[i].value!="undefined"&&trimString(b[i].value).length>0&&(i==0?a=b[i].value:a=a+","+b[i].value);response=$.getAjaxResponseWithCSRF("GET","../home/CreateTest.do?execute=setBlockDomains","domains="+a),status=getValue(response,"ax_status");var c="";status=="success"?c="Updated successfully":c="Updation failed",position1=$("#block_domains").position(),width=c.length*11,c.length<15&&(width+=70),top_pad=position1.top+30,left_pad=position1.left-200,$.showPopUpDiv($.getStatusMsg(status,c),top_pad,left_pad,"1",width),$.fadeOutDiv("popUpFloatingDiv",1e3)},jQuery.addNewBlocKdomainRow=function(){var a=document.getElementById("blockDomainsTable"),b=a.insertRow(a.rows.length);b.setAttribute("id","blockDomainRow_"+a.rows.length);var c=b.insertCell(0);c.innerHTML="<td width='80%'><input style='margin-top:10px; width:290px;' name='blockDomains' type='text' value=''></td>";var d=b.insertCell(1);d.innerHTML="<a href='javascript:void(0)'  onclick='$.removeBlocKdomainRow(\""+a.rows.length+"\");'><img onclick='javascript:void(0);' src='/images/wrong.gif'></a>"},jQuery.removeBlocKdomainRow=function(a){var b=document.getElementById("blockDomainsTable"),c=b.rows.length;for(var d=0;d<c;d++){var e=b.rows[d];if(e.getAttribute("id")!=null&&e.getAttribute("id")!="undefined"&&e.getAttribute("id")=="blockDomainRow_"+a){b.deleteRow(d);return}}},jQuery.calculatePack=function(){var a=$.getPostAjaxResponseWithoutCSRF("../home/pkgbilling.do?method=calculatePack","packCalculator");$("#userarea").html(a)},jQuery.showPurchaseScreen=function(a){if(a=="alerts"&&$("#rptType").size()>0&&$("#rptType").val()==0)return alert(validationmsg.smspack_invalid),!1;$("body, html, #loading").scrollTop(0),$.showDiv("loading"),$.hideDiv("messagediv");var b=$.getPostAjaxResponseWithoutCSRF("../home/pkgbilling.do?method=showPurchaseScreen","packCalculator"),c=getValue(b,"ax_priceCalcTrasnsactionId"),d=getValue(b,"ax_paymentOption"),e=getValue(b,"ax_chargeAmount"),f=verifyNewClient();if(e!==undefined&&c!==undefined&&d!==undefined&&e<=0){var g=document.createElement("form");g.setAttribute("method","post"),g.setAttribute("id","paymentform"),g.setAttribute("action","/home/pkgbilling.do"),f!=null&&g.appendChild(getnewFormElement("hidden","nc","billing")),g.appendChild(getnewFormElement("hidden","method","paymentconfirmed")),g.appendChild(getnewFormElement("hidden","transactionId",c)),g.appendChild(getnewFormElement("hidden","paymentoption",d)),g.appendChild(getnewFormElement("hidden","fromAjax","true")),g.appendChild(getnewFormElement("hidden",CSRFParamName,CSRFParamValue)),document.body.appendChild(g);var b=$.getPostAjaxResponse(g.action,"paymentform"),h=getValue(b,"ax_errormsg"),i=getValue(b,"ax_redirectUrl");i!=undefined&&(window.location.href=i),h!=undefined&&h!=""&&($("#errordiv").html(h),$.hideDiv("loading"),$.showDiv("messagediv"))}else $.hideDiv("loading"),$("#userarea").html(b)},jQuery.cancelPackPurcahse=function(){var a="method=cancelCard&transactionId="+$("#paymentform input[name=transactionId]").val(),b=$.getAjaxResponseWithCSRF("POST","/home/pkgbilling.do",a);$("#userarea").html(b)},jQuery.showBuySMSForm=function(){var a=$.getPostAjaxResponseWithoutCSRF("../home/pkgbilling.do?method=showBuySMSForm");$("#userarea").html(a)},jQuery.showBuyAddOnForm=function(){var a=$.getPostAjaxResponseWithoutCSRF("../home/pkgbilling.do?method=showBuyAddOnForm");$("#userarea").html(a)},jQuery.showBuySubscriptionForm=function(){var a=$.getPostAjaxResponseWithoutCSRF("../home/pkgbilling.do?method=showBuySubscriptionForm");$("#userarea").html(a)},jQuery.highliteMapElements=function(){$("#mapDivId").css({position:"absolute"}).hide(),$(".map").attr("onMouseOut","$('#mapDivId').hide();"),$("area").each(function(a){var b=this.href,c=this.title;$("area").eq(a).bind("mouseover",function(a){$("#mapDivId").css({top:a.pageY-5,left:a.pageX-5}).show(),$("#mapDivId").attr("onclick",b),$("#mapDivId").attr("title",c),this.href="#",this.title=""}),$("area").eq(a).bind("mouseout",function(){this.href=b,this.title=c})})},jQuery.showNewTestEmail=function(){var a=$("#addContactForm input[name=toemail]").val();if(!validateEmail(a))return!1;var b="page=testemail&email="+encodeURIComponent(a),c=$.getAjaxResponseWithCSRF("POST","/jsp/includes/newTestEmail.jsp",b),d='<img src="/images/close-icon.gif" align="right" valign="middle" title="close" style="cursor:pointer" onclick="$.closePopUp(\'emailTest\')">';$("#emailTest").attr("data-original-title",'<table width="100%"><tr><td width="50%">Test Email</td><td width="45%">&nbsp;</td><td width="5%">'+d+"</td></tr></table>"),$("#emailTest").attr("data-content",c),$("#emailTest").popover("show")},jQuery.showNewTestSMS=function(){var a=$("#addContactForm input[name=number]").val(),b=$("#addContactForm select[name=countryCode]").val(),c=null,d=!1;$("#addContactForm select[name=notifier]").val()!==null&&(d=!0);if(a===""){alert(beanmsg.emptysmsno),$("#addContactForm input[name=number]").select();return}if(isNaN(a)){alert(beanmsg.invalidsmsno),$("#addContactForm input[name=number]").select();return}var e=b+a;if(e.length>19){alert(beanmsg.moreccdigits);return}var f=$("#addContactForm input[name=callerid]").val(),g=$("#addContactForm input[name=smsprovider]").val(),h=$("#addContactForm input[name=alerts]").val(),i=$("#addContactForm input[name=credits]").val();g===undefined&&f===undefined&&(h=!0,i=1);if(f===undefined||f!==null&&f.length===0)f="0";var j="";g!==undefined&&g!==null&&g.length>0&&(j="&smsid="+g);var k="page=testSMS&mobilenumber="+e+"&call="+d+"&callid="+f+j+"&credits="+i+"&alerts="+h+"&countrycode="+b,l=$.getAjaxResponse("POST","/jsp/includes/testSMS.jsp",k),m='<img src="/images/close-icon.gif" align="right" valign="middle" title="close" style="cursor:pointer" onclick="$.closePopUp(\'smsTest\')">';$("#smsTest").attr("data-original-title",'<table width="100%"><tr><td width="50%">Test Alert</td><td width="45%">&nbsp;</td><td width="5%">'+m+"</td></tr></table>"),$("#smsTest").attr("data-content",l),$("#smsTest").popover("show")},jQuery.showTwitterSettings=function(a,b){var c="execute=showTwitterForm";a!==null&&a!==undefined&&(c+="&uname="+a),b!==null&&b!==undefined&&(c+="&type="+b);var d=$.getAjaxResponse("POST","/home/Notifications.do",c),e='<img src="/images/close-icon.gif" align="right" valign="middle" title="close" style="cursor:pointer" onclick="$.closePopUp(\'twitterbtn\')">';$("#twitterbtn").attr("data-original-title",'<table width="100%"><tr><td width="50%"><b>Twitter Settings</b></td><td width="45%">&nbsp;</td><td width="5%">'+e+"</td></tr></table>"),$("#twitterbtn").attr("data-content",d),$("#twitterbtn").popover("show")},jQuery.showTwitterDiv=function(a,b,c){$.showDiv(a),$.hideDiv(b),c==="true"?($.hideDiv("submitbtntr"),$(".popover").css("top",parseInt($(".popover").css("top"))+42+"px")):($.showDiv("submitbtntr"),$(".popover").css("top",parseInt($(".popover").css("top"))-42+"px"))},jQuery.updateTwitterSettings=function(){var a=$("#twittername").val(),b=$("input[name='twitter_Type']:checked").val();a===""||a.length===0?($("#errordiv").css("display",""),$.fadeOutDiv("errordiv",4e3)):($("#twitterbtn").popover("hide"),$("#modtwitterbtn").popover("hide"),$("#alertType_5").prop("checked",!0),$("#twitterUserName").val(a),$("#twitterType").val(b),$("#twitterlbl").html("@"+a),$.hideDiv("configurediv"),$.showDiv("twitterlbl"),$.showDiv("modifytwitter"),$.selectAlertTypes("5"))},jQuery.modifyTwitterSettings=function(a){var b=$("#twitterUserName").val(),a=$("#twitterType").val(),c="execute=showTwitterForm&uname="+b+"&type="+a,d=$.getAjaxResponse("POST","/home/Notifications.do",c),e='<img src="/images/close-icon.gif" align="right" valign="middle" title="close" style="cursor:pointer" onclick="$.closePopUp(\'modtwitterbtn\')">';$("#modtwitterbtn").attr("data-original-title",'<table width="100%"><tr><td width="50%"><b>Twitter Settings</b></td><td width="45%">&nbsp;</td><td width="5%">'+e+"</td></tr></table>"),$("#modtwitterbtn").attr("data-content",d),$("#modtwitterbtn").popover("show")},jQuery.deleteTwitterSettings=function(){$("#twitterUserName").val(""),$("#twitterlbl").html(""),$.hideDiv("twitterlbl"),$.hideDiv("modifytwitter"),$.showDiv("configurediv"),$.removeAlertTypes("5")},jQuery.updateImage=function(){var a=$("#target").attr("src"),b=$("#previewImg").attr("style"),c=$("#fpath").val();$("#logo").attr("src",a),$("#logo").attr("style",b);var d=$.getPostAjaxResponse("/home/Notifications.do?execute=uploadImage","uploadForm"),e=getValue(d,"ax_blockid"),f=getValue(d,"ax_dfspath");$("#uploadedfilepath").val(f),$("#uploadedfilename").val(e),$.colorbox.close()},jQuery.showImageUpload=function(){function n(a){if(parseInt(a.w)>0){var b=l/a.w,c=m/a.h,d=a.x,e=a.y,f=a.x2,i=a.y2;try{d=Math.round(d),f=Math.round(f),e=Math.round(e),i=Math.round(i)}catch(j){}if(g===undefined||g===null)g=$("#target").css("width"),g.indexOf("px")!==-1&&(g=g.replace("px",""));if(h===undefined||h===null)h=$("#target").css("height"),h.indexOf("px")!==-1&&(h=h.replace("px",""));k.css({width:Math.round(b*g)+"px",height:Math.round(c*h)+"px",marginLeft:"-"+Math.round(b*a.x)+"px",marginTop:"-"+Math.round(c*a.y)+"px"}),$("#x1").val(d),$("#y1").val(e),$("#x2").val(f),$("#y2").val(i),$("#imgwidth").val(g),$("#imgheight").val(h)}}var a=$("#originalfilepath").val(),b=$("#logo").attr("src");a!==null&&a!==undefined&&a!==""&&(b=a);var c="fname="+b;x1=$("#x1").val(),y1=$("#y1").val(),x2=$("#x2").val(),y2=$("#y2").val();var d=!1;if(x1===null||x1===""||x1===undefined)x1="0",y1="0",x2="400",y2="400";var e=$.getAjaxResponse("POST","/home/Notifications.do?execute=showImageUpload",c);$.colorbox({closeButton:!1,html:e,scrolling:!1});var f,g,h,i=$("#preview-pane"),j=$("#preview-pane .preview-container"),k=$("#preview-pane .preview-container img"),l=j.width(),m=j.height();$("#target").Jcrop({setSelect:[x1,y1,x2,y2],onChange:n,onSelect:n,aspectRatio:l/m},function(){var a=this.getBounds();g=a[0],h=a[1],f=this,i.appendTo(f.ui.holder)})},jQuery.toggleContent=function(a,b,c,d){$("#"+b).toggle();var e=$("#"+b).css("display");e==="none"?($("#"+a).attr("src","../images/alerts-arrow-down.png"),$("#txtdiv").html(alerttypemsg.showtxt)):($("#"+a).attr("src","../images/alerts-arrow-up.png"),$("#txtdiv").html(alerttypemsg.hidetxt)),$("#"+b).css("display")!=="none"&&($("#slider").rangeSlider({bounds:{min:0,max:1440},defaultValues:{min:c,max:d},step:15,formatter:function(a){var b=Math.floor(a/60),c=a-b*60;return c=Math.floor(c),c=c<10?"0"+c:c,(b<10?"0"+b:b)+":"+(c===0?"00":c)}}),$("#slider").bind("valuesChanging",function(a,b){$("#sliderMin").val(b.values.min),$("#sliderMax").val(b.values.max)}))},jQuery.togglegrp=function(a){a==="1"?($.showDiv("tr_monitorgrp"),$.hideDiv("tr_monitors")):a==="2"?($.showDiv("tr_monitors"),$.hideDiv("tr_monitorgrp")):($.hideDiv("tr_monitorgrp"),$.hideDiv("tr_monitors"))},jQuery.showNewEditContactForm=function(a){$("#imButton").popover("hide"),$("#modifylink").popover("hide");var b=$.getAjaxResponseWithCSRF("POST","/home/Notifications.do","execute=showNewContactForm&contactid="+a);$("#AlertsTabContent").html(b)},jQuery.checksmsconfig=function(){var a=$("#addContactForm input[name=number]").val(),b=$("#alertType_2").prop("checked"),c=$("#alertType_3").prop("checked");if(isNaN(a)){alert(beanmsg.invalidsmsno),$("#addContactForm input[name=number]").select();return}a!==""?($("#alertType_2").prop("checked",!0),$("#alertType_3").prop("checked",!0),$.selectAlertTypes("2"),$.selectAlertTypes("3")):a===""&&(b===!0&&($("#alertType_2").prop("checked",!1),$.removeAlertTypes("2")),c===!0&&($("#alertType_3").prop("checked",!1),$.removeAlertTypes("3")))},jQuery.checkAlertConfig=function(a){var b=$("#alertType_"+a).prop("checked");if(a==="1")if(!b){var c=$("#addContactForm input[name=toemail]").val();if(!validateEmail(c)){$("#alertType_"+a).prop("checked",!0),$("#addContactForm input[name=toemail]").select();return}$.selectAlertTypes(a)}else $.removeAlertTypes(a);if(a==="2"||a==="3")if(!b){var d=$("#addContactForm input[name=number]").val();if(d===""){$("#alertType_"+a).prop("checked",!0),alert(beanmsg.emptysmsno),$("#addContactForm input[name=number]").select();return}if(isNaN(d)){$("#alertType_"+a).prop("checked",!0),alert(beanmsg.invalidsmsno),$("#addContactForm input[name=number]").select();return}$.selectAlertTypes(a)}else $.removeAlertTypes(a);if(a==="4"){var e=$("#addContactForm input[name=imSubscribed]").val();if(!b){if(e!=="true"){$("#alertType_"+a).prop("checked",!0),alert(imMsg.configure_im);return}var f=$("#addContactForm input[name=imUsername]").val();if(f===""||f.length===0){$("#alertType_"+a).prop("checked",!0),alert(beanmsg.usernameempty);return}if(!validateEmail(f)){$("#alertType_"+a).prop("checked",!0);return}$.selectAlertTypes(a)}else $.removeAlertTypes(a)}if(a==="5")if(!b){var g=$("#twitterlbl").html();if(g===null||g===undefined||g===""||g==="@"){$("#alertType_"+a).prop("checked",!0),alert(alerttypemsg.twitternoempty);return}$.selectAlertTypes(a)}else $.removeAlertTypes(a)},jQuery.selectAlertTypes=function(a){var b=[alerttypemsg.email_notify,alerttypemsg.sms_notify,alerttypemsg.call_notify,alerttypemsg.im_notify,alerttypemsg.twitter_notify];$("#downNotifyArr option[value='"+a+"']").prop("selected",!0);var c=$("#alertVal").val();c=c+","+a,$("#alertVal").val(c);var d=[];$.each(b,function(a,e){var f=a+1;c.indexOf(f)===-1&&d.push(b[a])}),$.setAlertValue(d)},jQuery.removeAlertTypes=function(a){var b=[alerttypemsg.email_notify,alerttypemsg.sms_notify,alerttypemsg.call_notify,alerttypemsg.im_notify,alerttypemsg.twitter_notify],c=$("#alertVal").val(),d=[],e=[],f=c.split(",").sort();$.each(f,function(b,c){c!==a&&d.push(c)}),c=d.join(),$.each(b,function(a,d){var f=a+1;c.indexOf(f)===-1&&e.push(b[a])}),$("#alertVal").val(d.join());var g=$("#downNotifyArr").val(),h=$("#upNotifyArr").val(),i=$("#troubleNotifyArr").val();g.indexOf(a)>=0&&$("#downNotifyArr option[value='"+a+"']").prop("selected",!1),h.indexOf(a)>=0&&$("#upNotifyArr option[value='"+a+"']").prop("selected",!1),i.indexOf(a)>=0&&$("#troubleNotifyArr option[value='"+a+"']").prop("selected",!1),$.setAlertValue(e)},jQuery.setAlertValue=function(a){var b=[alerttypemsg.email_notify,alerttypemsg.sms_notify,alerttypemsg.call_notify,alerttypemsg.im_notify,alerttypemsg.twitter_notify];$("#downalerts").tabSelect({tabElements:b,formElement:"#downNotifyArr",disabledElements:a}),$("#troublealerts").tabSelect({tabElements:b,formElement:"#troubleNotifyArr",disabledElements:a}),$("#upalerts").tabSelect({tabElements:b,formElement:"#upNotifyArr",disabledElements:a})},jQuery.gsAddMon=function(a){jsonObjectArray=[];var b=$("input[name=monitors]:checked").size();if(b<1){alert(gsmsg.sel_one);return}if(a!==""&&a!==undefined){var c=a.split(",");monitors={},monitors.dispName=c[0],monitors.host=c[1],monitors.type=c[2],jsonObjectArray.push(monitors)}else{if(b>$("input[name=maxcount]").val()){alert(gsmsg.max_count_exceeded);return}$("input[name=monitors]:checked").each(function(){var a=$(this).val();c=a.split(","),monitors={},monitors.dispName=c[0],monitors.host=c[1],monitors.type=c[2],jsonObjectArray.push(monitors)})}var d=$("input[name=url]").val(),e=$("input[name=domain]").val(),f=$("input[name=s247pname]").val();jsonObject={},jsonObject.monitors=jsonObjectArray;var g=JSON.stringify(jsonObject),h=document.createElement("form");h.setAttribute("id","gs3form"),h.setAttribute("method","post"),h.setAttribute("action","/gs.do"),h.appendChild(getnewFormElement("hidden","execute","addMonitors")),h.appendChild(getnewFormElement("hidden","monitors",g)),h.appendChild(getnewFormElement("hidden","domain",e)),h.appendChild(getnewFormElement("hidden","s247pname",f)),document.body.appendChild(h),h.submit()},jQuery.gsSkip=function(){var a=$("input[id=check-mon-0]").val();$.gsAddMon(a)},jQuery.resendConfirmMail=function(){var a=welcomepagemsgs.loading_msg,b=$('[id="resendlink"]'),c=b.position(),d=c.left+b.width()+55,e=c.top-6;$.showPopUpDiv('<img src="/images/preload1.gif">&nbsp;<span class="formtext" >'+a+"</span>",e,d,"1",200);var f=$.getAjaxResponse("GET","/login/UserAction.do?execute=sendConfirmationMail&ct="+Number(new Date)),g=getValue(f,"ax_mailsent"),h=getValue(f,"ax_ec");if(g!==""&&g!==undefined){$.fadeOutDiv("popUpFloatingDiv",10);var i=g.length*5;g.length<15&&(i+=70);var j='<span style="margin:15px 0 0;"><img src="/images/tick.gif">&nbsp;<span class="txt11\t bold">'+g+"</span></span>";$('[id="resendDiv"]').html(j),$.fadeOutDiv("resendDiv",4e3)}},jQuery.chkAccountConfirmation=function(){var a="from=GS",b=$.getAjaxResponse("GET","/login/UserAction.do?execute=checkConfirmedAccount",a),c=getValue(b,"ax_confirmed");if(c==="true")$.hideDiv("acConfirmDiv"),$.showDiv("addMonDiv");else{var d=welcomepagemsgs.loading_msg,e=$("#gs2 [id=gsConfirmBtn]").position(),f=e.left+$("#gs2 [id=gsConfirmBtn]").width()+55,g=e.top-6;$.showPopUpDiv('<div style="margin:15px 0 0;"><span class="err14">'+gsmsg.confirm_proceed+"</span></div>",g,f,"1",500),$.fadeOutDiv("popUpFloatingDiv",4e3)}},jQuery.gsAddMomonitor=function(){var a=welcomepagemsgs.loading_msg,b=$("#gs2 [id=addMonitorBtn]").position(),c=b.left+$("#gs2 [id=addMonitorBtn]").width()+55,d=b.top-6,e=$("input[name=weburl]").val();if(e===""){$.showPopUpDiv('<div style="margin:15px 0 0;"><span class="err14">'+beanmsg.invalid_url+"</span></div>",d,c,"1",200),$("#input[name=weburl]").select(),$.fadeOutDiv("popUpFloatingDiv",4e3);return}$.showPopUpDiv(" ",d,c,"1",200);var f=$.getPostAjaxResponseWithoutCSRF("/gs.do","gs2"),g=getValue(f,"ax_reason");g!==undefined?(g.length>50?($('[id="errordiv"]').html('<span class="err14">'+g+"</span>"),$.showDiv("errordiv"),$.fadeOutDiv("errordiv",4e3)):$.showPopUpDiv('<div style="margin:15px 0 0;"><span class="err14">'+g+"</span></div>",d,c,"1",200),$("input[name=weburl]").focus(),$.fadeOutDiv("popUpFloatingDiv",4e3)):($.hidePopUpDiv(),$("#userarea").html(f))},jQuery.closeColorbox=function(){$.colorbox.close()},jQuery.closePopOver=function(a){$("#"+a).popover("hide")},jQuery.sendNewTestEmail=function(){var a=document.getElementsByName("message")[0].value;if(a===null||a===""||trimString(a).length<1)return alert(beanmsg.empty_email_message),!1;$.showDiv("loading");var b=$.getPostAjaxResponseWithoutCSRF("/home/Notifications.do","testEmail"),c=getValue(b,"ax_errormsg"),d=getValue(b,"ax_status");$.hideDiv("loading"),$("#responsediv").removeClass("dispnone"),d==="success"?($("#responsediv").removeClass("emailerror"),$("#responsediv").addClass("emailsuccess")):($("#responsediv").removeClass("emailsuccess"),$("#responsediv").addClass("emailerror")),$("#responsediv").html(c),$("#responsediv").fadeOut(4e3,function(){$.closePopUp("emailTest")})},jQuery.enableVoiceMail=function(){var a=$("#addContactForm input[name=number]").val();if(a===""){alert(beanmsg.emptysmsno),$("#voicemail").prop("checked",!0),$("#addContactForm input[name=number]").select();return}if(isNaN(a)){alert(beanmsg.invalidsmsno),$("#voicemail").prop("checked",!0),$("#addContactForm input[name=number]").select();return}var b=$("#alertType_3").prop("checked");if(!b){alert(alertmsg.voicemail),$("#voicemail").prop("checked",!0),$("#alertType_3").focus();return}$("#voicemail").prop("checked",!1)},jQuery.showConfigureThreshold=function(){if($("#monitortypelist").length>0){var a=$("#monitortypelist :selected").val(),b=$.getAjaxResponseWithCSRF("POST","/home/Notifications.do","execute=configureThresholdTemplate&monitortype="+a);$("#AlertsTabContent").html(b)}else{$("#imButton").popover("hide"),$("#modifylink").popover("hide"),period="2";var b=$.getAjaxResponseWithCSRF("POST","/home/Notifications.do","execute=configureThresholdTemplate");$("#AlertsTabContent").html(b),$.alertsTabHide("configurethreshold")}},jQuery.handsonThreshold=function(a,b,c,d,e,f,g){$("#example").handsontable({data:a,dataType:"json",width:function(){var a=800;return d.length>8&&(a=1e3),maxed&&f===void 0&&calculateSize(),maxed?f:a},height:function(){var a=100;return e.length>5&&e.length<10&&(a=300),e.length>10&&(a=400),maxed&&g===void 0&&calculateSize(),maxed?g:a},overflow:scroll,minRows:e.length,minCols:d.length,colHeaders:function(a){return'<span  style="font-family: Proxima Nova, Roboto, Sans-Serif, opensans, Helvetica;font-size:8pt"> '+d[a]+"</span>"},columns:b,rowHeaders:function(a){return'<span  title="'+e[a]+'" style="width:300;font-family: Proxima Nova, Roboto, Sans-Serif, opensans, Helvetica;font-size:8pt "> '+e[a]+"</span>"},manualColumnResize:!0,contextMenu:{callback:function(a,b){if(a==="removeconfig"||a==="removeconfigforattribute"){var f=$("#example").handsontable("getSelected"),g=f[0],h=f[1],j="",k=e[g],l=d[h],m=k.toString(),n=l.toString(),o=n.replace(/ /g,"");o=o.replace(/[!"#$%&'()*+,.\/:;<=>?@\[\\\]^`{|}~]/g,"");var p=$("#"+o).val();$.ajax({url:"/home/Notifications.do",dataType:"json",type:"POST",data:{data:""+j+"",execute:"deleteThresholdTemplate",monitortype:c,monitorname:m,attributename:n,actiontype:a,attrid:p,s247pname:CSRFParamValue},complete:function(b){if(a==="removeconfigforattribute")for(i=0;i<e.length;i++)$("#example").handsontable("setDataAtCell",i,f[1],"");else $("#example").handsontable("setDataAtCell",f[0],f[1],"");$("#autosavemsg").html($.getStatusMsg("success","Threshold removed successfully")),$.showDiv("autosavemsg"),setTimeout(function(){$("#autosavemsg").fadeOut(function(){$(this).html($.getStatusMsg("success","Threshold removed successfully"))})},1e3)}})}},items:{removeconfig:{name:"Remove Configuration"},removeconfigforattribute:{name:"Remove Configuration for all monitors"}}},afterValidate:function(a,b,c,d,e){if(a)return!0;var f=$("#example").handsontable("getDataAtCell",c,d);return $("#example").handsontable("setDataAtCell",c,d,f),alert("Invalid input. Reset to previous configuration"),!1},afterChange:function(a,b){if(a===null)return;if(b==="autofill"){var f=[],g=[],h="";for(var i=0;i<a.length;i++){var j=a[i].toString().split(",");rowHeaderIdx=j[0],locmonitorname=e[rowHeaderIdx],colHeaderIdx=j[1],locattributename=d[colHeaderIdx],locattributevalue=j[3],f.indexOf(locmonitorname)===-1&&f.push(locmonitorname),g.indexOf(locattributename)===-1&&g.push(locattributename),h=locattributevalue}var k=f.toString(),l=g.toString(),m=l.replace(/ /g,"");m=m.replace(/[!"#$%&'()*+,.\/:;<=>?@\[\\\]^`{|}~]/g,"");var n=$("#"+m).val();$.ajax({url:"/home/Notifications.do",dataType:"json",type:"POST",data:{data:""+a+"",execute:"saveThresholdTemplate",monitortype:c,monitorname:k,attributevalue:h,attributename:l,actiontype:b,attrid:n,s247pname:CSRFParamValue},complete:function(a){}})}if(b==="edit"){var j=a[0].toString().split(",");rowHeaderIdx=j[0],f=e[rowHeaderIdx],colHeaderIdx=j[1];var o=$("#example").handsontable("getColHeader");g=d[colHeaderIdx],h=j[3];var m=g.replace(/ /g,"");m=m.replace(/[!"#$%&'()*+,.\/:;<=>?@\[\\\]^`{|}~]/g,"");var n=$("#"+m).val();$.ajax({url:"/home/Notifications.do",dataType:"json",type:"POST",data:{data:""+a+"",execute:"saveThresholdTemplate",monitortype:c,monitorname:f,attributevalue:h,attrid:n,attributename:g,actiontype:b,attrid:n,s247pname:CSRFParamValue},complete:function(a){$("#autosavemsg").html($.getStatusMsg("success","Changes are Autosaved")),$.showDiv("autosavemsg"),setTimeout(function(){$("#autosavemsg").fadeOut(function(){$(this).html($.getStatusMsg("success","Changes are Autosaved"))})},1e3)}})}}})},jQuery.getRCAReportByEMail=function(a,b,c,d,e,f){$.showDiv("loading");var g="";c!==undefined&&c==="RCA"&&(g="/home/CreateTest.do?execute=sendReport&urlid="+a+"&dt="+d+"&cs="+e+"&nameserver="+f+"&fp=GENERATERCA&emailid=");if(g.length>5){if(!validateEmail(b)){emailreport.email.select();return}closeDialog(),b=encodeURIComponent(b),getHtml(g+b,"postRCASendReport",decodeURIComponent(b))}$.hideDiv("loading")},jQuery.displayblocks=function(a){var b="#div-"+a;$(b).toggle();var c=$("#"+a).attr("src");c.indexOf("show")!==-1?$("#"+a).attr("src","../images/icon_hide.gif"):$("#"+a).attr("src","../images/icon_show.gif")},jQuery.switchPackage=function(){var a=$.getAjaxResponse("GET","/home/pkgbilling.do","method=showPackOptions"),b=$("#SwitchPackageDiv").position(),c=b.left+10+"px",d=b.top+"px";$.showPopUpDiv(a,d,c,"5000","300")},jQuery.fnSwitchPack=function(){var a=$.getPostAjaxResponse("/home/pkgbilling.do","switchPackForm");location.href="/home/accountinfo.do?method=showaccountdetails"},jQuery.peercheck=function(a){var b=$("#addmonitorform input[name=peercheck]").is(":checked"),c=!1;b?confirm(beanmsg["server.peer.enable"])&&(c=!0):confirm(beanmsg["server.peer.disable"])&&(c=!0);if(c){var d="execute=updateServerPeerCheck&userid="+a+"&allowed="+b,e=$.getAjaxResponse("POST","/home/CreateTest.do",d),f=getValue(e,"ax_serverpeercheck");f=="success"?alert(beanmsg["global.updated.msg"]):alert(beanmsg["global.update.failed"])}},jQuery.showAddSlaCriteria=function(a,b){var c="execute="+a;b!=null&&(c=c+"&slatype="+b);if(a=="showSLAReport"||a=="showSLACriteria")c+="&ajax=true";var d=$.getAjaxResponse("POST","/home/SlaReport.do",c);$("#userarea").html(d)},jQuery.showNewBusinessHours=function(){var a=$.getAjaxResponse("POST","/home/SlaReport.do","execute=showNewBusinessHours&ajax=true");$("#userarea").html(a)},jQuery.showPopupAddScheduledReports=function(){var a=$.getAjaxResponse("POST","/home/scheduleReport.do","execute=popupScheduledReports");$("#tab3").html(a)},jQuery.showBusinessHours=function(){location.href="/home/SlaReport.do?execute=showBusinessHours"},jQuery.gotoChildMonitorDetailsPage=function(a,b,c,d){if(c=="PLUGIN"){if(confirm("supported only in new client. continue?")){var a="/app/client#/home/monitors/"+d+"/serverplugins";window.location.href=a}}else location.href=a};function changeOperation(a){a=="subscribe"?($("#addContactForm span[id=unsubscriptionMessage]").css("display","block"),$("#addContactForm span[id=subscriptionMessage]").css("display","none"),$("#addContactForm span[id=imStatus]").html(beanmsg.pendingapproval),$("#addContactForm input[id=imUsername]").attr("disabled",!0),$("#addContactForm select[id=chatSelection]").attr("disabled",!0)):a=="unsubscribe"&&($("#addContactForm span[id=unsubscriptionMessage]").css("display","none"),$("#addContactForm span[id=subscriptionMessage]").css("display","block"),$("#addContactForm input[id=imUsername]").attr("disabled",!1),$("#addContactForm select[id=chatSelection]").attr("disabled",!1))}function fnOnloadReports(a,b,c,d,e,f,g){$("#timelbl").html(b),$("#testdiv").html(a),$("#newperiodlbl").val(a),$("#newperiodval").val(d),$("#newdtlbl").val(e),d=="50"&&($("#reportform input[name=startdate]").val(e),$("#reportform input[name=enddate]").val(f));var h="";if(g=="outageReport")h=$.getAjaxResponse("POST","/home/reportsinfo.do?execute=OutageReportForAllMonitors&urlid="+c+"&startdate="+e+"&enddate="+f+"&period="+d);else if(g=="LocationDownReport")h=$.getAjaxResponse("POST","/home/reportsinfo.do?execute=outageReport&urlid="+c+"&startdate="+e+"&enddate="+f+"&period="+d);else if(g=="logreport")h=$.getAjaxResponse("POST","/home/reportsinfo.do?execute=LogReport&urlid="+c+"&startdate="+e+"&enddate="+f+"&period="+d);else if(g=="apdexreport"){var i=document.getElementById("reportform").locationId.value,j=$(window).width();h=$.getAjaxResponse("POST","/home/reportsinfo.do","execute=showApdexReport&urlid="+c+"&startdate="+e+"&enddate="+f+"&period="+d+"&locid="+i+"&width="+j)}$.hideDiv("loading"),$("#reportsContent").html(h),$.showDiv("reportsContent")}function fnShowReport(a,b){$.hideDiv("reportsContent"),$.showDiv("loading");var c=$("#newperiodval").val(),d="",e="";c==50&&(d=$("#reportform input[name=startdate]").val(),e=$("#reportform input[name=enddate]").val());var f="";if(b=="outageReport")f=$.getAjaxResponse("POST","/home/reportsinfo.do?execute=OutageReportForAllMonitors&urlid="+a+"&startdate="+d+"&enddate="+e+"&period="+c);else if(b=="LocationDownReport")f=$.getAjaxResponse("POST","/home/reportsinfo.do?execute=outageReport&urlid="+a+"&startdate="+d+"&enddate="+e+"&period="+c);else if(b=="logreport")f=$.getAjaxResponse("POST","/home/reportsinfo.do?execute=LogReport&urlid="+a+"&startdate="+d+"&enddate="+e+"&period="+c);else if(b=="apdexreport"){var g=document.getElementById("reportform").locationId.value,h=$(window).width();f=$.getAjaxResponse("POST","/home/reportsinfo.do","execute=showApdexReport&urlid="+a+"&startdate="+d+"&enddate="+e+"&period="+c+"&locid="+g+"&width="+h)}$.hideDiv("loading"),$("#reportsContent").html(f),$.showDiv("reportsContent")}function fnOnloadSelection(a,b){$("#timelbl").html(b),$("#testdiv").html(a)}function fnOnloadSelectiontemp(a,b,c,d,e,f,g,h,i,j,k,l,m,n){$("#timelbl").html(h),a==="1"&&$("#timelbl").html("Last 24 Hours"),$("#testdiv").html(g);var o="",p="";a==50&&k!=undefined&&l!=undefined&&(o=k,p=l);var q="";if(n!=undefined){var r=n.replace("[","");r=r.replace("]",""),r=r.split(","),jQuery.each(r,function(){q=q+"&reportAtt="+this.trim()})}fnShowResponseReport(a,b,c,d,o,p,e,f,i,j,q,m)}function showApdex(a,b,c,d,e){$.hideDiv("chart_tr"),$.hideDiv("throughput_td"),$("#astatus").removeClass("BlueBoldText"),$("#astatus").addClass("GrayBoldText"),$("#gstatus").removeClass("GrayBoldText"),$("#gstatus").addClass("BlueBoldText"),val=$("#apdex_td").html().length,val==0&&(response=$.getAjaxResponse("POST","/home/reportsinfo.do","execute=showApdexReport&urlid="+a+"&apdexstartdate="+b+"&apdexenddate="+c+"&period="+d+"&locid=-1&apdexview=true"),$("#apdex_td").html(response)),$.showDiv("apdex_tr")}function encodeHtml(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}function arraysEqual(a,b){if(a===b)return!0;if(a===null||b===null)return!1;if(a.length!==b.length)return!1;for(var c=0;c<a.length;++c)if(a[c]!==b[c])return!1;return!0}function numericvalidatorfn(a,b){var c=/^(\\s*|0|[1-9][0-9]*)$/.test(a);c||!a?b(!0):b(!1)}(function(a,b){function c(a){return K.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:!1}function d(a){if(!cp[a]){var b=H.body,c=K("<"+a+">").appendTo(b),d=c.css("display");c.remove();if(d==="none"||d===""){cq||(cq=H.createElement("iframe"),cq.frameBorder=cq.width=cq.height=0),b.appendChild(cq);if(!cr||!cq.createElement)cr=(cq.contentWindow||cq.contentDocument).document,cr.write((H.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><body>"),cr.close();c=cr.createElement(a),cr.body.appendChild(c),d=K.css(c,"display"),b.removeChild(cq)}cp[a]=d}return cp[a]}function e(a,b){var c={};return K.each(cv.concat.apply([],cv.slice(0,b)),function(){c[this]=a}),c}function f(){cw=b}function g(){return setTimeout(f,0),cw=K.now()}function h(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function i(){try{return new a.XMLHttpRequest}catch(b){}}function j(a,c){a.dataFilter&&(c=a.dataFilter(c,a.dataType));var d=a.dataTypes,e={},f,g,h=d.length,i,j=d[0],k,l,m,n,o;for(f=1;f<h;f++){if(f===1)for(g in a.converters)typeof g=="string"&&(e[g.toLowerCase()]=a.converters[g]);k=j,j=d[f];if(j==="*")j=k;else if(k!=="*"&&k!==j){l=k+" "+j,m=e[l]||e["* "+j];if(!m){o=b;for(n in e){i=n.split(" ");if(i[0]===k||i[0]==="*"){o=e[i[1]+" "+j];if(o){n=e[n],n===!0?m=o:o===!0&&(m=n);break}}}}!m&&!o&&K.error("No conversion from "+l.replace(" "," to ")),m!==!0&&(c=m?m(c):o(n(c)))}}return c}function k(a,c,d){var e=a.contents,f=a.dataTypes,g=a.responseFields,h,i,j,k;for(i in g)i in d&&(c[g[i]]=d[i]);while(f[0]==="*")f.shift(),h===b&&(h=a.mimeType||c.getResponseHeader("content-type"));if(h)for(i in e)if(e[i]&&e[i].test(h)){f.unshift(i);break}if(f[0]in d)j=f[0];else{for(i in d){if(!f[0]||a.converters[i+" "+f[0]]){j=i;break}k||(k=i)}j=j||k}if(j)return j!==f[0]&&f.unshift(j),d[j]}function l(a,b,c,d){if(K.isArray(b))K.each(b,function(b,e){c||bR.test(a)?d(a,e):l(a+"["+(typeof e=="object"||K.isArray(e)?b:"")+"]",e,c,d)});else if(!c&&b!=null&&typeof b=="object")for(var e in b)l(a+"["+e+"]",b[e],c,d);else d(a,b)}function m(a,c){var d,e,f=K.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((f[d]?a:e||(e={}))[d]=c[d]);e&&K.extend(!0,a,e)}function n(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;var h=a[f],i=0,j=h?h.length:0,k=a===ce,l;for(;i<j&&(k||!l);i++)l=h[i](c,d,e),typeof l=="string"&&(!k||g[l]?l=b:(c.dataTypes.unshift(l),l=n(a,c,d,e,l,g)));return(k||!l)&&!g["*"]&&(l=n(a,c,d,e,"*",g)),l}function o(a){return function(b,c){typeof b!="string"&&(c=b,b="*");if(K.isFunction(c)){var d=b.toLowerCase().split(ca),e=0,f=d.length,g,h,i;for(;e<f;e++)g=d[e],i=/^\+/.test(g),i&&(g=g.substr(1)||"*"),h=a[g]=a[g]||[],h[i?"unshift":"push"](c)}}}function p(a,b,c){var d=b==="width"?a.offsetWidth:a.offsetHeight,e=b==="width"?bL:bM,f=0,g=e.length;if(d>0){if(c!=="border")for(;f<g;f++)c||(d-=parseFloat(K.css(a,"padding"+e[f]))||0),c==="margin"?d+=parseFloat(K.css(a,c+e[f]))||0:d-=parseFloat(K.css(a,"border"+e[f]+"Width"))||0;return d+"px"}d=bN(a,b,b);if(d<0||d==null)d=a.style[b]||0;d=parseFloat(d)||0;if(c)for(;f<g;f++)d+=parseFloat(K.css(a,"padding"+e[f]))||0,c!=="padding"&&(d+=parseFloat(K.css(a,"border"+e[f]+"Width"))||0),c==="margin"&&(d+=parseFloat(K.css(a,c+e[f]))||0);return d+"px"}function q(a,b){b.src?K.ajax({url:b.src,async:!1,dataType:"script"}):K.globalEval((b.text||b.textContent||b.innerHTML||"").replace(bB,"/*$0*/")),b.parentNode&&b.parentNode.removeChild(b)}function r(a){var b=H.createElement("div");return bD.appendChild(b),b.innerHTML=a.outerHTML,b.firstChild}function s(a){var b=(a.nodeName||"").toLowerCase();b==="input"?t(a):b!=="script"&&typeof a.getElementsByTagName!="undefined"&&K.grep(a.getElementsByTagName("input"),t)}function t(a){if(a.type==="checkbox"||a.type==="radio")a.defaultChecked=a.checked}function u(a){return typeof a.getElementsByTagName!="undefined"?a.getElementsByTagName("*"):typeof a.querySelectorAll!="undefined"?a.querySelectorAll("*"):[]}function v(a,b){var c;if(b.nodeType===1){b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase();if(c==="object")b.outerHTML=a.outerHTML;else if(c!=="input"||a.type!=="checkbox"&&a.type!=="radio"){if(c==="option")b.selected=a.defaultSelected;else if(c==="input"||c==="textarea")b.defaultValue=a.defaultValue}else a.checked&&(b.defaultChecked=b.checked=a.checked),b.value!==a.value&&(b.value=a.value);b.removeAttribute(K.expando)}}function w(a,b){if(b.nodeType===1&&!!K.hasData(a)){var c,d,e,f=K._data(a),g=K._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;d<e;d++)K.event.add(b,c+(h[c][d].namespace?".":"")+h[c][d].namespace,h[c][d],h[c][d].data)}g.data&&(g.data=K.extend({},g.data))}}function x(a,b){return K.nodeName(a,"table")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function y(a){var b=bp.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}function z(a,b,c){b=b||0;if(K.isFunction(b))return K.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return K.grep(a,function(a,d){return a===b===c});if(typeof b=="string"){var d=K.grep(a,function(a){return a.nodeType===1});if(bl.test(b))return K.filter(b,d,!c);b=K.filter(b,d)}return K.grep(a,function(a,d){return K.inArray(a,b)>=0===c})}function A(a){return!a||!a.parentNode||a.parentNode.nodeType===11}function B(){return!0}function C(){return!1}function D(a,b,c){var d=b+"defer",e=b+"queue",f=b+"mark",g=K._data(a,d);g&&(c==="queue"||!K._data(a,e))&&(c==="mark"||!K._data(a,f))&&setTimeout(function(){!K._data(a,e)&&!K._data(a,f)&&(K.removeData(a,d,!0),g.fire())},0)}function E(a){for(var b in a){if(b==="data"&&K.isEmptyObject(a[b]))continue;if(b!=="toJSON")return!1}return!0}function F(a,c,d){if(d===b&&a.nodeType===1){var e="data-"+c.replace(O,"-$1").toLowerCase();d=a.getAttribute(e);if(typeof d=="string"){try{d=d==="true"?!0:d==="false"?!1:d==="null"?null:K.isNumeric(d)?parseFloat(d):N.test(d)?K.parseJSON(d):d}catch(f){}K.data(a,c,d)}else d=b}return d}function G(a){var b=L[a]={},c,d;a=a.split(/\s+/);for(c=0,d=a.length;c<d;c++)b[a[c]]=!0;return b}var H=a.document,I=a.navigator,J=a.location,K=function(){function c(){if(!d.isReady){try{H.documentElement.doScroll("left")}catch(a){setTimeout(c,1);return}d.ready()}}var d=function(a,b){return new d.fn.init(a,b,g)},e=a.jQuery,f=a.$,g,h=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,i=/\S/,j=/^\s+/,k=/\s+$/,l=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,m=/^[\],:{}\s]*$/,n=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,o=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,p=/(?:^|:|,)(?:\s*\[)+/g,q=/(webkit)[ \/]([\w.]+)/,r=/(opera)(?:.*version)?[ \/]([\w.]+)/,s=/(msie) ([\w.]+)/,t=/(mozilla)(?:.*? rv:([\w.]+))?/,u=/-([a-z]|[0-9])/ig,v=/^-ms-/,w=function(a,b){return(b+"").toUpperCase()},x=I.userAgent,y,z,A,B=Object.prototype.toString,C=Object.prototype.hasOwnProperty,D=Array.prototype.push,E=Array.prototype.slice,F=String.prototype.trim,G=Array.prototype.indexOf,J={};return d.fn=d.prototype={constructor:d,init:function(a,c,e){var f,g,i,j;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if(a==="body"&&!c&&H.body)return this.context=H,this[0]=H.body,this.selector=a,this.length=1,this;if(typeof a=="string"){a.charAt(0)!=="<"||a.charAt(a.length-1)!==">"||a.length<3?f=h.exec(a):f=[null,a,null];if(f&&(f[1]||!c)){if(f[1])return c=c instanceof d?c[0]:c,j=c?c.ownerDocument||c:H,i=l.exec(a),i?d.isPlainObject(c)?(a=[H.createElement(i[1])],d.fn.attr.call(a,c,!0)):a=[j.createElement(i[1])]:(i=d.buildFragment([f[1]],[j]),a=(i.cacheable?d.clone(i.fragment):i.fragment).childNodes),d.merge(this,a);g=H.getElementById(f[2]);if(g&&g.parentNode){if(g.id!==f[2])return e.find(a);this.length=1,this[0]=g}return this.context=H,this.selector=a,this}return!c||c.jquery?(c||e).find(a):this.constructor(c).find(a)}return d.isFunction(a)?e.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),d.makeArray(a,this))},selector:"",jquery:"1.7.1",length:0,size:function(){return this.length},toArray:function(){return E.call(this,0)},get:function(a){return a==null?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,b,c){var e=this.constructor();return d.isArray(a)?D.apply(e,a):d.merge(e,a),e.prevObject=this,e.context=this.context,b==="find"?e.selector=this.selector+(this.selector?" ":"")+c:b&&(e.selector=this.selector+"."+b+"("+c+")"),e},each:function(a,b){return d.each(this,a,b)},ready:function(a){return d.bindReady(),z.add(a),this},eq:function(a){return a=+a,a===-1?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(E.apply(this,arguments),"slice",E.call(arguments).join(","))},map:function(a){return this.pushStack(d.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:D,sort:[].sort,splice:[].splice},d.fn.init.prototype=d.fn,d.extend=d.fn.extend=function(){var a,c,e,f,g,h,i=arguments[0]||{},j=1,k=arguments.length,l=!1;typeof i=="boolean"&&(l=i,i=arguments[1]||{},j=2),typeof i!="object"&&!d.isFunction(i)&&(i={}),k===j&&(i=this,--j);for(;j<k;j++)if((a=arguments[j])!=null)for(c in a){e=i[c],f=a[c];if(i===f)continue;l&&f&&(d.isPlainObject(f)||(g=d.isArray(f)))?(g?(g=!1,h=e&&d.isArray(e)?e:[]):h=e&&d.isPlainObject(e)?e:{},i[c]=d.extend(l,h,f)):f!==b&&(i[c]=f)}return i},d.extend({noConflict:function(b){return a.$===d&&(a.$=f),b&&a.jQuery===d&&(a.jQuery=e),d},isReady:!1,readyWait:1,holdReady:function(a){a?d.readyWait++:d.ready(!0)},ready:function(a){if(a===!0&&!--d.readyWait||a!==!0&&!d.isReady){if(!H.body)return setTimeout(d.ready,1);d.isReady=!0;if(a!==!0&&--d.readyWait>0)return;z.fireWith(H,[d]),d.fn.trigger&&d(H).trigger("ready").off("ready")}},bindReady:function(){if(!z){z=d.Callbacks("once memory");if(H.readyState==="complete")return setTimeout(d.ready,1);if(H.addEventListener)H.addEventListener("DOMContentLoaded",A,!1),a.addEventListener("load",d.ready,!1);else if(H.attachEvent){H.attachEvent("onreadystatechange",A),a.attachEvent("onload",d.ready);var b=!1;try{b=a.frameElement==null}catch(e){}H.documentElement.doScroll&&b&&c()}}},isFunction:function(a){return d.type(a)==="function"},isArray:Array.isArray||function(a){return d.type(a)==="array"},isWindow:function(a){return a&&typeof a=="object"&&"setInterval"in a},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return a==null?String(a):J[B.call(a)]||"object"},isPlainObject:function(a){if(!a||d.type(a)!=="object"||a.nodeType||d.isWindow(a))return!1;try{if(a.constructor&&!C.call(a,"constructor")&&!C.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}var e;for(e in a);return e===b||C.call(a,e)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw new Error(a)},parseJSON:function(b){if(typeof b!="string"||!b)return null;b=d.trim(b);if(a.JSON&&a.JSON.parse)return a.JSON.parse(b);if(m.test(b.replace(n,"@").replace(o,"]").replace(p,"")))return(new Function("return "+b))();d.error("Invalid JSON: "+b)},parseXML:function(c){var e,f;try{a.DOMParser?(f=new DOMParser,e=f.parseFromString(c,"text/xml")):(e=new ActiveXObject("Microsoft.XMLDOM"),e.async="false",e.loadXML(c))}catch(g){e=b}return(!e||!e.documentElement||e.getElementsByTagName("parsererror").length)&&d.error("Invalid XML: "+c),e},noop:function(){},globalEval:function(b){b&&i.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(v,"ms-").replace(u,w)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,c,e){var f,g=0,h=a.length,i=h===b||d.isFunction(a);if(e){if(i){for(f in a)if(c.apply(a[f],e)===!1)break}else for(;g<h;)if(c.apply(a[g++],e)===!1)break}else if(i){for(f in a)if(c.call(a[f],f,a[f])===!1)break}else for(;g<h;)if(c.call(a[g],g,a[g++])===!1)break;return a},trim:F?function(a){return a==null?"":F.call(a)}:function(a){return a==null?"":(a+"").replace(j,"").replace(k,"")},makeArray:function(a,b){var c=b||[];if(a!=null){var e=d.type(a);a.length==null||e==="string"||e==="function"||e==="regexp"||d.isWindow(a)?D.call(c,a):d.merge(c,a)}return c},inArray:function(a,b,c){var d;if(b){if(G)return G.call(b,a,c);d=b.length,c=c?c<0?Math.max(0,d+c):c:0;for(;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=a.length,e=0;if(typeof c.length=="number")for(var f=c.length;e<f;e++)a[d++]=c[e];else while(c[e]!==b)a[d++]=c[e++];return a.length=d,a},grep:function(a,b,c){var d=[],e;c=!!c;for(var f=0,g=a.length;f<g;f++)e=!!b(a[f],f),c!==e&&d.push(a[f]);return d},map:function(a,c,e){var f,g,h=[],i=0,j=a.length,k=a instanceof d||j!==b&&typeof j=="number"&&(j>0&&a[0]&&a[j-1]||j===0||d.isArray(a));if(k)for(;i<j;i++)f=c(a[i],i,e),f!=null&&(h[h.length]=f);else for(g in a)f=c(a[g],g,e),f!=null&&(h[h.length]=f);return h.concat.apply([],h)},guid:1,proxy:function(a,c){if(typeof c=="string"){var e=a[c];c=a,a=e}if(!d.isFunction(a))return b;var f=E.call(arguments,2),g=function(){return a.apply(c,f.concat(E.call(arguments)))};return g.guid=a.guid=a.guid||g.guid||d.guid++,g},access:function(a,c,e,f,g,h){var i=a.length;if(typeof c=="object"){for(var j in c)d.access(a,j,c[j],f,g,e);return a}if(e!==b){f=!h&&f&&d.isFunction(e);for(var k=0;k<i;k++)g(a[k],c,f?e.call(a[k],k,g(a[k],c)):e,h);return a}return i?g(a[0],c):b},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();var b=q.exec(a)||r.exec(a)||s.exec(a)||a.indexOf("compatible")<0&&t.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},sub:function(){function a(b,c){return new a.fn.init(b,c)}d.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function(c,e){return e&&e instanceof d&&!(e instanceof a)&&(e=a(e)),d.fn.init.call(this,c,e,b)},a.fn.init.prototype=a.fn;var b=a(H);return a},browser:{}}),d.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){J["[object "+b+"]"]=b.toLowerCase()}),y=d.uaMatch(x),y.browser&&(d.browser[y.browser]=!0,d.browser.version=y.version),d.browser.webkit&&(d.browser.safari=!0),i.test("")&&(j=/^[\s\xA0]+/,k=/[\s\xA0]+$/),g=d(H),H.addEventListener?A=function(){H.removeEventListener("DOMContentLoaded",A,!1),d.ready()}:H.attachEvent&&(A=function(){H.readyState==="complete"&&(H.detachEvent("onreadystatechange",A),d.ready())}),d}(),L={};K.Callbacks=function(a){a=a?L[a]||G(a):{};var c=[],d=[],e,f,g,h,i,j=function(b){var d,e,f,g,h;for(d=0,e=b.length;d<e;d++)f=b[d],g=K.type(f),g==="array"?j(f):g==="function"&&(!a.unique||!l.has(f))&&c.push(f)},k=function(b,j){j=j||[],e=!a.memory||[b,j],f=!0,i=g||0,g=0,h=c.length;for(;c&&i<h;i++)if(c[i].apply(b,j)===!1&&a.stopOnFalse){e=!0;break}f=!1,c&&(a.once?e===!0?l.disable():c=[]:d&&d.length&&(e=d.shift(),l.fireWith(e[0],e[1])))},l={add:function(){if(c){var a=c.length;j(arguments),f?h=c.length:e&&e!==!0&&(g=a,k(e[0],e[1]))}return this},remove:function(){if(c){var b=arguments,d=0,e=b.length;for(;d<e;d++)for(var g=0;g<c.length;g++)if(b[d]===c[g]){f&&g<=h&&(h--,g<=i&&i--),c.splice(g--,1);if(a.unique)break}}return this},has:function(a){if(c){var b=0,d=c.length;for(;b<d;b++)if(a===c[b])return!0}return!1},empty:function(){return c=[],this},disable:function(){return c=d=e=b,this},disabled:function(){return!c},lock:function(){return d=b,(!e||e===!0)&&l.disable(),this},locked:function(){return!d},fireWith:function(b,c){return d&&(f?a.once||d.push([b,c]):(!a.once||!e)&&k(b,c)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!e}};return l};var M=[].slice;K.extend({Deferred:function(a){var b=K.Callbacks("once memory"),c=K.Callbacks("once memory"),d=K.Callbacks("memory"),e="pending",f={resolve:b,reject:c,notify:d},g={done:b.add,fail:c.add,progress:d.add,state:function(){return e},isResolved:b.fired,isRejected:c.fired,then:function(a,b,c){return h.done(a).fail(b).progress(c),this},always:function(){return h.done.apply(h,arguments).fail.apply(h,arguments),this},pipe:function(a,b,c){return K.Deferred(function(d){K.each({done:[a,"resolve"],fail:[b,"reject"],progress:[c,"notify"]},function(a,b){var c=b[0],e=b[1],f;K.isFunction(c)?h[a](function(){f=c.apply(this,arguments),f&&K.isFunction(f.promise)?f.promise().then(d.resolve,d.reject,d.notify):d[e+"With"](this===h?d:this,[f])}):h[a](d[e])})}).promise()},promise:function(a){if(a==null)a=g;else for(var b in g)a[b]=g[b];return a}},h=g.promise({}),i;for(i in f)h[i]=f[i].fire,h[i+"With"]=f[i].fireWith;return h.done(function(){e="resolved"},c.disable,d.lock).fail(function(){e="rejected"},b.disable,d.lock),a&&a.call(h,h),h},when:function(a){function b(a){return function(b){g[a]=arguments.length>1?M.call(arguments,0):b,j.notifyWith(k,g)}}function c(a){return function(b){d[a]=arguments.length>1?M.call(arguments,0):b,--h||j.resolveWith(j,d)}}var d=M.call(arguments,0),e=0,f=d.length,g=Array(f),h=f,i=f,j=f<=1&&a&&K.isFunction(a.promise)?a:K.Deferred(),k=j.promise();if(f>1){for(;e<f;e++)d[e]&&d[e].promise&&K.isFunction(d[e].promise)?d[e].promise().then(c(e),j.reject,b(e)):--h;h||j.resolveWith(j,d)}else j!==a&&j.resolveWith(j,f?[a]:[]);return k}}),K.support=function(){var b,c,d,e,f,g,h,i,j,k,l,m,n,o=H.createElement("div"),p=H.documentElement;o.setAttribute("className","t"),o.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",c=o.getElementsByTagName("*"),d=o.getElementsByTagName("a")[0];if(!c||!c.length||!d)return{};e=H.createElement("select"),f=e.appendChild(H.createElement("option")),g=o.getElementsByTagName("input")[0],b={leadingWhitespace:o.firstChild.nodeType===3,tbody:!o.getElementsByTagName("tbody").length,htmlSerialize:!!o.getElementsByTagName("link").length,style:/top/.test(d.getAttribute("style")),hrefNormalized:d.getAttribute("href")==="/a",opacity:/^0.55/.test(d.style.opacity),cssFloat:!!d.style.cssFloat,checkOn:g.value==="on",optSelected:f.selected,getSetAttribute:o.className!=="t",enctype:!!H.createElement("form").enctype,html5Clone:H.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0},g.checked=!0,b.noCloneChecked=g.cloneNode(!0).checked,e.disabled=!0,b.optDisabled=!f.disabled;try{delete o.test}catch(q){b.deleteExpando=!1}!o.addEventListener&&o.attachEvent&&o.fireEvent&&(o.attachEvent("onclick",function(){b.noCloneEvent=!1}),o.cloneNode(!0).fireEvent("onclick")),g=H.createElement("input"),g.value="t",g.setAttribute("type","radio"),b.radioValue=g.value==="t",g.setAttribute("checked","checked"),o.appendChild(g),i=H.createDocumentFragment(),i.appendChild(o.lastChild),b.checkClone=i.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=g.checked,i.removeChild(g),i.appendChild(o),o.innerHTML="",a.getComputedStyle&&(h=H.createElement("div"),h.style.width="0",h.style.marginRight="0",o.style.width="2px",o.appendChild(h),b.reliableMarginRight=(parseInt((a.getComputedStyle(h,null)||{marginRight:0}).marginRight,10)||0)===0);if(o.attachEvent)for(m in{submit:1,change:1,focusin:1})l="on"+m,n=l in o,n||(o.setAttribute(l,"return;"),n=typeof o[l]=="function"),b[m+"Bubbles"]=n;return i.removeChild(o),i=e=f=h=o=g=null,K(function(){var a,c,d,e,f,g,h,i,k,l,m,p=H.getElementsByTagName("body")[0];!p||(h=1,i="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;",k="visibility:hidden;border:0;",l="style='"+i+"border:5px solid #000;padding:0;'",m="<div "+l+"><div></div></div>"+"<table "+l+" cellpadding='0' cellspacing='0'>"+"<tr><td></td></tr></table>",a=H.createElement("div"),a.style.cssText=k+"width:0;height:0;position:static;top:0;margin-top:"+h+"px",p.insertBefore(a,p.firstChild),o=H.createElement("div"),a.appendChild(o),o.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>",j=o.getElementsByTagName("td"),n=j[0].offsetHeight===0,j[0].style.display="",j[1].style.display="none",b.reliableHiddenOffsets=n&&j[0].offsetHeight===0,o.innerHTML="",o.style.width=o.style.paddingLeft="1px",K.boxModel=b.boxModel=o.offsetWidth===2,typeof o.style.zoom!="undefined"&&(o.style.display="inline",o.style.zoom=1,b.inlineBlockNeedsLayout=o.offsetWidth===2,o.style.display="",o.innerHTML="<div style='width:4px;'></div>",b.shrinkWrapBlocks=o.offsetWidth!==2),o.style.cssText=i+k,o.innerHTML=m,c=o.firstChild,d=c.firstChild,f=c.nextSibling.firstChild.firstChild,g={doesNotAddBorder:d.offsetTop!==5,doesAddBorderForTableAndCells:f.offsetTop===5},d.style.position="fixed",d.style.top="20px",g.fixedPosition=d.offsetTop===20||d.offsetTop===15,d.style.position=d.style.top="",c.style.overflow="hidden",c.style.position="relative",g.subtractsBorderForOverflowNotVisible=d.offsetTop===-5,g.doesNotIncludeMarginInBodyOffset=p.offsetTop!==h,p.removeChild(a),o=a=null,K.extend(b,g))}),b}();var N=/^(?:\{.*\}|\[.*\])$/,O=/([A-Z])/g;K.extend({cache:{},uuid:0,expando:"jQuery"+(K.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){return a=a.nodeType?K.cache[a[K.expando]]:a[K.expando],!!a&&!E(a)},data:function(a,c,d,e){if(!!K.acceptData(a)){var f,g,h,i=K.expando,j=typeof c=="string",k=a.nodeType,l=k?K.cache:a,m=k?a[i]:a[i]&&i,n=c==="events";if((!m||!l[m]||!n&&!e&&!l[m].data)&&j&&d===b)return;m||(k?a[i]=m=++K.uuid:m=i),l[m]||(l[m]={},k||(l[m].toJSON=K.noop));if(typeof c=="object"||typeof c=="function")e?l[m]=K.extend(l[m],c):l[m].data=K.extend(l[m].data,c);return f=g=l[m],e||(g.data||(g.data={}),g=g.data),d!==b&&(g[K.camelCase(c)]=d),n&&!g[c]?f.events:(j?(h=g[c],h==null&&(h=g[K.camelCase(c)])):h=g,h)}},removeData:function(a,b,c){if(!!K.acceptData(a)){var d,e,f,g=K.expando,h=a.nodeType,i=h?K.cache:a,j=h?a[g]:g;if(!i[j])return;if(b){d=c?i[j]:i[j].data;if(d){K.isArray(b)||(b in d?b=[b]:(b=K.camelCase(b),b in d?b=[b]:b=b.split(" ")));for(e=0,f=b.length;e<f;e++)delete d[b[e]];if(!(c?E:K.isEmptyObject)(d))return}}if(!c){delete i[j].data;if(!E(i[j]))return}K.support.deleteExpando||!i.setInterval?delete i[j]:i[j]=null,h&&(K.support.deleteExpando?delete a[g]:a.removeAttribute?a.removeAttribute(g):a[g]=null)}},_data:function(a,b,c){return K.data(a,b,c,!0)},acceptData:function(a){if(a.nodeName){var b=K.noData[a.nodeName.toLowerCase()];if(b)return b!==!0&&a.getAttribute("classid")===b}return!0}}),K.fn.extend({data:function(a,c){var d,e,f,g=null;if(typeof a=="undefined"){if(this.length){g=K.data(this[0]);if(this[0].nodeType===1&&!K._data(this[0],"parsedAttrs")){e=this[0].attributes;for(var h=0,i=e.length;h<i;h++)f=e[h].name,f.indexOf("data-")===0&&(f=K.camelCase(f.substring(5)),F(this[0],f,g[f]));K._data(this[0],"parsedAttrs",!0)}}return g}return typeof a=="object"?this.each(function(){K.data(this,a)}):(d=a.split("."),d[1]=d[1]?"."+d[1]:"",c===b?(g=this.triggerHandler("getData"+d[1]+"!",[d[0]]),g===b&&this.length&&(g=K.data(this[0],a),g=F(this[0],a,g)),g===b&&d[1]?this.data(d[0]):g):this.each(function(){var b=K(this),e=[d[0],c];b.triggerHandler("setData"+d[1]+"!",e),K.data(this,a,c),b.triggerHandler("changeData"+d[1]+"!",e)}))},removeData:function(a){return this.each(function(){K.removeData(this,a)})}}),K.extend({_mark:function(a,b){a&&(b=(b||"fx")+"mark",K._data(a,b,(K._data(a,b)||0)+1))},_unmark:function(a,b,c){a!==!0&&(c=b,b=a,a=!1);if(b){c=c||"fx";var d=c+"mark",e=a?0:(K._data(b,d)||1)-1;e?K._data(b,d,e):(K.removeData(b,d,!0),D(b,c,"mark"))}},queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=K._data(a,b),c&&(!d||K.isArray(c)?d=K._data(a,b,K.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=K.queue(a,b),d=c.shift(),e={};d==="inprogress"&&(d=c.shift()),d&&(b==="fx"&&c.unshift("inprogress"),K._data(a,b+".run",e),d.call(a,function(){K.dequeue(a,b)},e)),c.length||(K.removeData(a,b+"queue "+b+".run",!0),D(a,b,"queue"))}}),K.fn.extend({queue:function(a,c){return typeof a!="string"&&(c=a,a="fx"),c===b?K.queue(this[0],a):this.each(function(){var b=K.queue(this,a,c);a==="fx"&&b[0]!=="inprogress"&&K.dequeue(this,a)})},dequeue:function(a){return this.each(function(){K.dequeue(this,a)})},delay:function(a,b){return a=K.fx?K.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){function d(){--h||e.resolveWith(f,[f])}typeof a!="string"&&(c=a,a=b),a=a||"fx";var e=K.Deferred(),f=this,g=f.length,h=1,i=a+"defer",j=a+"queue",k=a+"mark",l;while(g--)if(l=K.data(f[g],i,b,!0)||(K.data(f[g],j,b,!0)||K.data(f[g],k,b,!0))&&K.data(f[g],i,K.Callbacks("once memory"),!0))h++,l.add(d);return d(),e.promise()}});var P=/[\n\t\r]/g,Q=/\s+/,R=/\r/g,S=/^(?:button|input)$/i,T=/^(?:button|input|object|select|textarea)$/i,U=/^a(?:rea)?$/i,V=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,W=K.support.getSetAttribute,X,Y,Z;K.fn.extend({attr:function(a,b){return K.access(this,a,b,!0,K.attr)},removeAttr:function(a){return this.each(function(){K.removeAttr(this,a)})},prop:function(a,b){return K.access(this,a,b,!0,K.prop)},removeProp:function(a){return a=K.propFix[a]||a,this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,f,g,h;if(K.isFunction(a))return this.each(function(b){K(this).addClass(a.call(this,b,this.className))});if(a&&typeof a=="string"){b=a.split(Q);for(c=0,d=this.length;c<d;c++){e=this[c];if(e.nodeType===1)if(!e.className&&b.length===1)e.className=a;else{f=" "+e.className+" ";for(g=0,h=b.length;g<h;g++)~f.indexOf(" "+b[g]+" ")||(f+=b[g]+" ");e.className=K.trim(f)}}}return this},removeClass:function(a){var c,d,e,f,g,h,i;if(K.isFunction(a))return this.each(function(b){K(this).removeClass(a.call(this,b,this.className))});if(a&&typeof a=="string"||a===b){c=(a||"").split(Q);for(d=0,e=this.length;d<e;d++){f=this[d];if(f.nodeType===1&&f.className)if(a){g=(" "+f.className+" ").replace(P," ");for(h=0,i=c.length;h<i;h++)g=g.replace(" "+c[h]+" "," ");f.className=K.trim(g)}else f.className=""}}return this},toggleClass:function(a,b){var c=typeof a,d=typeof b=="boolean";return K.isFunction(a)?this.each(function(c){K(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if(c==="string"){var e,f=0,g=K(this),h=b,i=a.split(Q);while(e=i[f++])h=d?h:!g.hasClass(e),g[h?"addClass":"removeClass"](e)}else if(c==="undefined"||c==="boolean")this.className&&K._data(this,"__className__",this.className),this.className=this.className||a===!1?"":K._data(this,"__className__")||""})},hasClass:function(a){var b=" "+a+" ",c=0,d=this.length;for(;c<d;c++)if(this[c].nodeType===1&&(" "+this[c].className+" ").replace(P," ").indexOf(b)>-1)return!0;return!1},val:function(a){var c,d,e,f=this[0];if(!!arguments.length)return e=K.isFunction(a),this.each(function(d){var f=K(this),g;if(this.nodeType===1){e?g=a.call(this,d,f.val()):g=a,g==null?g="":typeof g=="number"?g+="":K.isArray(g)&&(g=K.map(g,function(a){return a==null?"":a+""})),c=K.valHooks[this.nodeName.toLowerCase()]||K.valHooks[this.type];if(!c||!("set"in c)||c.set(this,g,"value")===b)this.value=g}});if(f)return c=K.valHooks[f.nodeName.toLowerCase()]||K.valHooks[f.type],c&&"get"in c&&(d=c.get(f,"value"))!==b?d:(d=f.value,typeof d=="string"?d.replace(R,""):d==null?"":d)}}),K.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d,e,f=a.selectedIndex,g=[],h=a.options,i=a.type==="select-one";if(f<0)return null;c=i?f:0,d=i?f+1:h.length;for(;c<d;c++){e=h[c];if(e.selected&&(K.support.optDisabled?!e.disabled:e.getAttribute("disabled")===null)&&(!e.parentNode.disabled||!K.nodeName(e.parentNode,"optgroup"))){b=K(e).val();if(i)return b;g.push(b)}}return i&&!g.length&&h.length?K(h[f]).val():g},set:function(a,b){var c=K.makeArray(b);return K(a).find("option").each(function(){this.selected=K.inArray(K(this).val(),c)>=0}),c.length||(a.selectedIndex=-1),c}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(a,c,d,e){var f,g,h,i=a.nodeType;if(!!a&&i!==3&&i!==8&&i!==2){if(e&&c in K.attrFn)return K(a)[c](d);if(typeof a.getAttribute=="undefined")return K.prop(a,c,d);h=i!==1||!K.isXMLDoc(a),h&&(c=c.toLowerCase(),g=K.attrHooks[c]||(V.test(c)?Y:X));if(d!==b){if(d===null){K.removeAttr(a,c);return}return g&&"set"in g&&h&&(f=g.set(a,d,c))!==b?f:(a.setAttribute(c,""+d),d)}return g&&"get"in g&&h&&(f=g.get(a,c))!==null?f:(f=a.getAttribute(c),f===null?b:f)}},removeAttr:function(a,b){var c,d,e,f,g=0;if(b&&a.nodeType===1){d=b.toLowerCase().split(Q),f=d.length;for(;g<f;g++)e=d[g],e&&(c=K.propFix[e]||e,K.attr(a,e,""),a.removeAttribute(W?e:c),V.test(e)&&c in a&&(a[c]=!1))}},attrHooks:{type:{set:function(a,b){if(S.test(a.nodeName)&&a.parentNode)K.error("type property can't be changed");else if(!K.support.radioValue&&b==="radio"&&K.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}},value:{get:function(a,b){return X&&K.nodeName(a,"button")?X.get(a,b):b in a?a.value:null},set:function(a,b,c){if(X&&K.nodeName(a,"button"))return X.set(a,b,c);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,f,g,h=a.nodeType;if(!!a&&h!==3&&h!==8&&h!==2)return g=h!==1||!K.isXMLDoc(a),g&&(c=K.propFix[c]||c,f=K.propHooks[c]),d!==b?f&&"set"in f&&(e=f.set(a,d,c))!==b?e:a[c]=d:f&&"get"in f&&(e=f.get(a,c))!==null?e:a[c]},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):T.test(a.nodeName)||U.test(a.nodeName)&&a.href?0:b}}}}),K.attrHooks.tabindex=K.propHooks.tabIndex,Y={get:function(a,c){var d,e=K.prop(a,c);return e===!0||typeof e!="boolean"&&(d=a.getAttributeNode(c))&&d.nodeValue!==!1?c.toLowerCase():b},set:function(a,b,c){var d;return b===!1?K.removeAttr(a,c):(d=K.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase())),c}},W||(Z={name:!0,id:!0},X=K.valHooks.button={get:function(a,c){var d;return d=a.getAttributeNode(c),d&&(Z[c]?d.nodeValue!=="":d.specified)?d.nodeValue:b},set:function(a,b,c){var d=a.getAttributeNode(c);return d||(d=H.createAttribute(c),a.setAttributeNode(d)),d.nodeValue=b+""}},K.attrHooks.tabindex.set=X.set,K.each(["width","height"],function(a,b){K.attrHooks[b]=K.extend(K.attrHooks[b],{set:function(a,c){if(c==="")return a.setAttribute(b,"auto"),c}})}),K.attrHooks.contenteditable={get:X.get,set:function(a,b,c){b===""&&(b="false"),X.set(a,b,c)}}),K.support.hrefNormalized||K.each(["href","src","width","height"],function(a,c){K.attrHooks[c]=K.extend(K.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return d===null?b:d}})}),K.support.style||(K.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=""+b}}),K.support.optSelected||(K.propHooks.selected=K.extend(K.propHooks.selected,{get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}})),K.support.enctype||(K.propFix.enctype="encoding"),K.support.checkOn||K.each(["radio","checkbox"],function(){K.valHooks[this]={get:function(a){return a.getAttribute("value")===null?"on":a.value}}}),K.each(["radio","checkbox"],function(){K.valHooks[this]=K.extend(K.valHooks[this],{set:function(a,b){if(K.isArray(b))return a.checked=K.inArray(K(a).val(),b)>=0}})});var $=/^(?:textarea|input|select)$/i,_=/^([^\.]*)?(?:\.(.+))?$/,ba=/\bhover(\.\S+)?\b/,bb=/^key/,bc=/^(?:mouse|contextmenu)|click/,bd=/^(?:focusinfocus|focusoutblur)$/,be=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,bf=function(a){var b=be.exec(a);return b&&(b[1]=(b[1]||"").toLowerCase(),b[3]=b[3]&&new RegExp("(?:^|\\s)"+b[3]+"(?:\\s|$)")),b},bg=function(a,b){var c=a.attributes||{};return(!b[1]||a.nodeName.toLowerCase()===b[1])&&(!b[2]||(c.id||{}).value===b[2])&&(!b[3]||b[3].test((c["class"]||{}).value))},bh=function(a){return K.event.special.hover?a:a.replace(ba,"mouseenter$1 mouseleave$1")};K.event={add:function(a,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r;if(!(a.nodeType===3||a.nodeType===8||!c||!d||!(g=K._data(a)))){d.handler&&(o=d,d=o.handler),d.guid||(d.guid=K.guid++),i=g.events,i||(g.events=i={}),h=g.handle,h||(g.handle=h=function(a){return typeof K=="undefined"||!!a&&K.event.triggered===a.type?b:K.event.dispatch.apply(h.elem,arguments)},h.elem=a),c=K.trim(bh(c)).split(" ");for(j=0;j<c.length;j++){k=_.exec(c[j])||[],l=k[1],m=(k[2]||"").split(".").sort(),r=K.event.special[l]||{},l=(f?r.delegateType:r.bindType)||l,r=K.event.special[l]||{},n=K.extend({type:l,origType:k[1],data:e,handler:d,guid:d.guid,selector:f,quick:bf(f),namespace:m.join(".")},o),q=i[l];if(!q){q=i[l]=[],q.delegateCount=0;if(!r.setup||r.setup.call(a,e,m,h)===!1)a.addEventListener?a.addEventListener(l,h,!1):a.attachEvent&&a.attachEvent("on"+l,h)}r.add&&(r.add.call(a,n),n.handler.guid||(n.handler.guid=d.guid)),f?q.splice(q.delegateCount++,0,n):q.push(n),K.event.global[l]=!0}a=null}},global:{},remove:function(a,b,c,d,e){var f=K.hasData(a)&&K._data(a),g,h,i,j,k,l,m,n,o,p,q,r;if(!!f&&!!(n=f.events)){b=K.trim(bh(b||"")).split(" ");for(g=0;g<b.length;g++){h=_.exec(b[g])||[],i=j=h[1],k=h[2];if(!i){for(i in n)K.event.remove(a,i+b[g],c,d,!0);continue}o=K.event.special[i]||{},i=(d?o.delegateType:o.bindType)||i,q=n[i]||[],l=q.length,k=k?new RegExp("(^|\\.)"+k.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(m=0;m<q.length;m++)r=q[m],(e||j===r.origType)&&(!c||c.guid===r.guid)&&(!k||k.test(r.namespace))&&(!d||d===r.selector||d==="**"&&r.selector)&&(q.splice(m--,1),r.selector&&q.delegateCount--,o.remove&&o.remove.call(a,r));q.length===0&&l!==q.length&&((!o.teardown||o.teardown.call(a,k)===!1)&&K.removeEvent(a,i,f.handle),delete n[i])}K.isEmptyObject(n)&&(p=f.handle,p&&(p.elem=null),K.removeData(a,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,e,f){if(!e||e.nodeType!==3&&e.nodeType!==8){var g=c.type||c,h=[],i,j,k,l,m,n,o,p,q,r;if(bd.test(g+K.event.triggered))return;g.indexOf("!")>=0&&(g=g.slice(0,-1),j=!0),g.indexOf(".")>=0&&(h=g.split("."),g=h.shift(),h.sort());if((!e||K.event.customEvent[g])&&!K.event.global[g])return;c=typeof c=="object"?c[K.expando]?c:new K.Event(g,c):new K.Event(g),c.type=g,c.isTrigger=!0,c.exclusive=j,c.namespace=h.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,n=g.indexOf(":")<0?"on"+g:"";if(!e){i=K.cache;for(k in i)i[k].events&&i[k].events[g]&&K.event.trigger(c,d,i[k].handle.elem,!0);return}c.result=b,c.target||(c.target=e),d=d!=null?K.makeArray(d):[],d.unshift(c),o=K.event.special[g]||{};if(o.trigger&&o.trigger.apply(e,d)===!1)return;q=[[e,o.bindType||g]];if(!f&&!o.noBubble&&!K.isWindow(e)){r=o.delegateType||g,l=bd.test(r+g)?e:e.parentNode,m=null;for(;l;l=l.parentNode)q.push([l,r]),m=l;m&&m===e.ownerDocument&&q.push([m.defaultView||m.parentWindow||a,r])}for(k=0;k<q.length&&!c.isPropagationStopped();k++)l=q[k][0],c.type=q[k][1],p=(K._data(l,"events")||{})[c.type]&&K._data(l,"handle"),p&&p.apply(l,d),p=n&&l[n],p&&K.acceptData(l)&&p.apply(l,d)===!1&&c.preventDefault();return c.type=g,!f&&!c.isDefaultPrevented()&&(!o._default||o._default.apply(e.ownerDocument,d)===!1)&&(g!=="click"||!K.nodeName(e,"a"))&&K.acceptData(e)&&n&&e[g]&&(g!=="focus"&&g!=="blur"||c.target.offsetWidth!==0)&&!K.isWindow(e)&&(m=e[n],m&&(e[n]=null),K.event.triggered=g,e[g](),K.event.triggered=b,m&&(e[n]=m)),c.result}},dispatch:function(c){c=K.event.fix(c||a.event);var d=(K._data(this,"events")||{})[c.type]||[],e=d.delegateCount,f=[].slice.call(arguments,0),g=!c.exclusive&&!c.namespace,h=[],i,j,k,l,m,n,o,p,q,r,s;f[0]=c,c.delegateTarget=this;if(e&&!c.target.disabled&&(!c.button||c.type!=="click")){l=K(this),l.context=this.ownerDocument||this;for(k=c.target;k!=this;k=k.parentNode||this){n={},p=[],l[0]=k;for(i=0;i<e;i++)q=d[i],r=q.selector,n[r]===b&&(n[r]=q.quick?bg(k,q.quick):l.is(r)),n[r]&&p.push(q);p.length&&h.push({elem:k,matches:p})}}d.length>e&&h.push({elem:this,matches:d.slice(e)});for(i=0;i<h.length&&!c.isPropagationStopped();i++){o=h[i],c.currentTarget=o.elem;for(j=0;j<o.matches.length&&!c.isImmediatePropagationStopped();j++){q=o.matches[j];if(g||!c.namespace&&!q.namespace||c.namespace_re&&c.namespace_re.test(q.namespace))c.data=q.data,c.handleObj=q,m=((K.event.special[q.origType]||{}).handle||q.handler).apply(o.elem,f),m!==b&&(c.result=m,m===!1&&(c.preventDefault(),c.stopPropagation()))}}return c.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return a.which==null&&(a.which=b.charCode!=null?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,c){var d,e,f,g=c.button,h=c.fromElement;return a.pageX==null&&c.clientX!=null&&(d=a.target.ownerDocument||H,e=d.documentElement,f=d.body,a.pageX=c.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),a.pageY=c.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)),!a.relatedTarget&&h&&(a.relatedTarget=h===a.target?c.toElement:h),!a.which&&g!==b&&(a.which=g&1?1:g&2?3:g&4?2:0),a}},fix:function(a){if(a[K.expando])return a;var c,d,e=a,f=K.event.fixHooks[a.type]||{},g=f.props?this.props.concat(f.props):this.props;a=K.Event(e);for(c=g.length;c;)d=g[--c],a[d]=e[d];return a.target||(a.target=e.srcElement||H),a.target.nodeType===3&&(a.target=a.target.parentNode),a.metaKey===b&&(a.metaKey=a.ctrlKey),f.filter?f.filter(a,e):a},special:{ready:{setup:K.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){K.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){var e=K.extend(new K.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?K.event.trigger(e,null,b):K.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},K.event.handle=K.event.dispatch,K.removeEvent=H.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent("on"+b,c)},K.Event=function(a,b){if(!(this instanceof K.Event))return new K.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?B:C):this.type=a,b&&K.extend(this,b),this.timeStamp=a&&a.timeStamp||K.now(),this[K.expando]=!0},K.Event.prototype={preventDefault:function(){this.isDefaultPrevented=B;var a=this.originalEvent;!a||(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=B;var a=this.originalEvent;!a||(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=B,this.stopPropagation()},isDefaultPrevented:C,isPropagationStopped:C,isImmediatePropagationStopped:C},K.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){K.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c=this,d=a.relatedTarget,e=a.handleObj,f=e.selector,g;if(!d||d!==c&&!K.contains(c,d))a.type=e.origType,g=e.handler.apply(this,arguments),a.type=b;return g}}}),K.support.submitBubbles||(K.event.special.submit={setup:function(){if(K.nodeName(this,"form"))return!1;K.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=K.nodeName(c,"input")||K.nodeName(c,"button")?c.form:b;d&&!d._submit_attached&&(K.event.add(d,"submit._submit",function(a){this.parentNode&&!a.isTrigger&&K.event.simulate("submit",this.parentNode,a,!0)}),d._submit_attached=!0)})},teardown:function(){if(K.nodeName(this,"form"))return!1;K.event.remove(this,"._submit")}}),K.support.changeBubbles||(K.event.special.change={setup:function(){if($.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")K.event.add(this,"propertychange._change",function(a){a.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),K.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1,K.event.simulate("change",this,a,!0))});return!1}K.event.add(this,"beforeactivate._change",function(a){var b=a.target;$.test(b.nodeName)&&!b._change_attached&&(K.event.add(b,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&K.event.simulate("change",this.parentNode,a,!0)}),b._change_attached=!0)})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||b.type!=="radio"&&b.type!=="checkbox")return a.handleObj.handler.apply(this,arguments)},teardown:function(){return K.event.remove(this,"._change"),$.test(this.nodeName)}}),K.support.focusinBubbles||K.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){K.event.simulate(b,a.target,K.event.fix(a),!0)};K.event.special[b]={setup:function(){c++===0&&H.addEventListener(a,d,!0)},teardown:function(){--c===0&&H.removeEventListener(a,d,!0)}}}),K.fn.extend({on:function(a,c,d,e,f){var g,h;if(typeof a=="object"){typeof c!="string"&&(d=c,c=b);for(h in a)this.on(h,c,d,a[h],f);return this}d==null&&e==null?(e=c,d=c=b):e==null&&(typeof c=="string"?(e=d,d=b):(e=d,d=c,c=b));if(e===!1)e=C;else if(!e)return this;return f===1&&(g=e,e=function(a){return K().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=K.guid++)),this.each(function(){K.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on.call(this,a,b,c,d,1)},off:function(a,c,d){if(a&&a.preventDefault&&a.handleObj){var e=a.handleObj;return K(a.delegateTarget).off(e.namespace?e.type+"."+e.namespace:e.type,e.selector,e.handler),this}if(typeof a=="object"){for(var f in a)this.off(f,c,a[f]);return this}if(c===!1||typeof c=="function")d=c,c=b;return d===!1&&(d=C),this.each(function(){K.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){return K(this.context).on(a,this.selector,b,c),this},die:function(a,b){return K(this.context).off(a,this.selector||"**",b),this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return arguments.length==1?this.off(a,"**"):this.off(b,a,c)},trigger:function(a,b){return this.each(function(){K.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return K.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=a.guid||K.guid++,d=0,e=function(c){var e=(K._data(this,"lastToggle"+a.guid)||0)%d;return K._data(this,"lastToggle"+a.guid,e+1),c.preventDefault(),b[e].apply(this,arguments)||!1};e.guid=c;while(d<b.length)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),K.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){K.fn[b]=function(a,c){return c==null&&(c=a,a=null),arguments.length>0?this.on(b,null,a,c):this.trigger(b)},K.attrFn&&(K.attrFn[b]=!0),bb.test(b)&&(K.event.fixHooks[b]=K.event.keyHooks),bc.test(b)&&(K.event.fixHooks[b]=K.event.mouseHooks)}),function(){function a(a,b,c,d,f,g){for(var h=0,i=d.length;h<i;h++){var j=d[h];if(j){var k=!1;j=j[a];while(j){if(j[e]===c){k=d[j.sizset];break}if(j.nodeType===1){g||(j[e]=c,j.sizset=h);if(typeof b!="string"){if(j===b){k=!0;break}}else if(m.filter(b,[j]).length>0){k=j;break}}j=j[a]}d[h]=k}}}function c(a,b,c,d,f,g){for(var h=0,i=d.length;h<i;h++){var j=d[h];if(j){var k=!1;j=j[a];while(j){if(j[e]===c){k=d[j.sizset];break}j.nodeType===1&&!g&&(j[e]=c,j.sizset=h);if(j.nodeName.toLowerCase()===b){k=j;break}j=j[a]}d[h]=k}}}var d=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,e="sizcache"+(Math.random()+"").replace(".",""),f=0,g=Object.prototype.toString,h=!1,i=!0,j=/\\/g,k=/\r\n/g,l=/\W/;[0,0].sort(function(){return i=!1,0});var m=function(a,b,c,e){c=c||[],b=b||H;var f=b;if(b.nodeType!==1&&b.nodeType!==9)return[];if(!a||typeof a!="string")return c;var h,i,j,k,l,n,q,r,t=!0,u=m.isXML(b),v=[],x=a;do{d.exec(""),h=d.exec(x);if(h){x=h[3],v.push(h[1]);if(h[2]){k=h[3];break}}}while(h);if(v.length>1&&p.exec(a))if(v.length===2&&o.relative[v[0]])i=w(v[0]+v[1],b,e);else{i=o.relative[v[0]]?[b]:m(v.shift(),b);while(v.length)a=v.shift(),o.relative[a]&&(a+=v.shift()),i=w(a,i,e)}else{!e&&v.length>1&&b.nodeType===9&&!u&&o.match.ID.test(v[0])&&!o.match.ID.test(v[v.length-1])&&(l=m.find(v.shift(),b,u),b=l.expr?m.filter(l.expr,l.set)[0]:l.set[0]);if(b){l=e?{expr:v.pop(),set:s(e)}:m.find(v.pop(),v.length!==1||v[0]!=="~"&&v[0]!=="+"||!b.parentNode?b:b.parentNode,u),i=l.expr?m.filter(l.expr,l.set):l.set,v.length>0?j=s(i):t=!1;while(v.length)n=v.pop(),q=n,o.relative[n]?q=v.pop():n="",q==null&&(q=b),o.relative[n](j,q,u)}else j=v=[]}j||(j=i),j||m.error(n||a);if(g.call(j)==="[object Array]")if(!t)c.push.apply(c,j);else if(b&&b.nodeType===1)for(r=0;j[r]!=null;r++)j[r]&&(j[r]===!0||j[r].nodeType===1&&m.contains(b,j[r]))&&c.push(i[r]);else for(r=0;j[r]!=null;r++)j[r]&&j[r].nodeType===1&&c.push(i[r]);else s(j,c);return k&&(m(k,f,c,e),m.uniqueSort(c)),c};m.uniqueSort=function(a){if(u){h=i,a.sort(u);if(h)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a},m.matches=function(a,b){return m(a,null,null,b)},m.matchesSelector=function(a,b){return m(b,null,null,[a]).length>0},m.find=function(a,b,c){var d,e,f,g,h,i;if(!a)return[];for(e=0,f=o.order.length;e<f;e++){h=o.order[e];if(g=o.leftMatch[h].exec(a)){i=g[1],g.splice(1,1);if(i.substr(i.length-1)!=="\\"){g[1]=(g[1]||"").replace(j,""),d=o.find[h](g,b,c);if(d!=null){a=a.replace(o.match[h],"");break}}}}return d||(d=typeof b.getElementsByTagName!="undefined"?b.getElementsByTagName("*"):[]),{set:d,expr:a}},m.filter=function(a,c,d,e){var f,g,h,i,j,k,l,n,p,q=a,r=[],s=c,t=c&&c[0]&&m.isXML(c[0]);while(a&&c.length){for(h in o.filter)if((f=o.leftMatch[h].exec(a))!=null&&f[2]){k=o.filter[h],l=f[1],g=!1,f.splice(1,1);if(l.substr(l.length-1)==="\\")continue;s===r&&(r=[]);if(o.preFilter[h]){f=o.preFilter[h](f,s,d,r,e,t);if(!f)g=i=!0;else if(f===!0)continue}if(f)for(n=0;(j=s[n])!=null;n++)j&&(i=k(j,f,n,s),p=e^i,d&&i!=null?p?g=!0:s[n]=!1:p&&(r.push(j),g=!0));if(i!==b){d||(s=r),a=a.replace(o.match[h],"");if(!g)return[];break}}if(a===q){if(g!=null)break;m.error(a)}q=a}return s},m.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)};var n=m.getText=function(a){var b,c,d=a.nodeType,e="";if(d){if(d===1||d===9){if(typeof a.textContent=="string")return a.textContent;if(typeof a.innerText=="string")return a.innerText.replace(k,"");for(a=a.firstChild;a;a=a.nextSibling)e+=n(a)}else if(d===3||d===4)return a.nodeValue}else for(b=0;c=a[b];b++)c.nodeType!==8&&(e+=n(c));return e},o=m.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var c=typeof b=="string",d=c&&!l.test(b),e=c&&!d;d&&(b=b.toLowerCase());for(var f=0,g=a.length,h;f<g;f++)if(h=a[f]){while((h=h.previousSibling)&&h.nodeType!==1);a[f]=e||h&&h.nodeName.toLowerCase()===b?h||!1:h===b}e&&m.filter(b,a,!0)},">":function(a,b){var c,d=typeof b=="string",e=0,f=a.length;if(d&&!l.test(b)){b=b.toLowerCase();for(;e<f;e++){c=a[e];if(c){var g=c.parentNode;a[e]=g.nodeName.toLowerCase()===b?g:!1}}}else{for(;e<f;e++)c=a[e],c&&(a[e]=d?c.parentNode:c.parentNode===b);d&&m.filter(b,a,!0)}},"":function(b,d,e){var g,h=f++,i=a;typeof d=="string"&&!l.test(d)&&(d=d.toLowerCase(),g=d,i=c),i("parentNode",d,h,b,g,e)},"~":function(b,d,e){var g,h=f++,i=a;typeof d=="string"&&!l.test(d)&&(d=d.toLowerCase(),g=d,i=c),i("previousSibling",d,h,b,g,e)}},find:{ID:function(a,b,c){if(typeof b.getElementById!="undefined"&&!c){var d=b.getElementById(a[1]);return d&&d.parentNode?[d]:[]}},NAME:function(a,b){if(typeof b.getElementsByName!="undefined"){var c=[],d=b.getElementsByName(a[1]);for(var e=0,f=d.length;e<f;e++)d[e].getAttribute("name")===a[1]&&c.push(d[e]);return c.length===0?null:c}},TAG:function(a,b){if(typeof b.getElementsByTagName!="undefined")return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,c,d,e,f){a=" "+a[1].replace(j,"")+" ";if(f)return a;for(var g=0,h;(h=b[g])!=null;g++)h&&(e^(h.className&&(" "+h.className+" ").replace(/[\t\n\r]/g," ").indexOf(a)>=0)?c||d.push(h):c&&(b[g]=!1));return!1},ID:function(a){return a[1].replace(j,"")},TAG:function(a,b){return a[1].replace(j,"").toLowerCase()},CHILD:function(a){if(a[1]==="nth"){a[2]||m.error(a[0]),a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0,a[3]=b[3]-0}else a[2]&&m.error(a[0]);return a[0]=f++,a},ATTR:function(a,b,c,d,e,f){var g=a[1]=a[1].replace(j,"");return!f&&o.attrMap[g]&&(a[1]=o.attrMap[g]),a[4]=(a[4]||a[5]||"").replace(j,""),a[2]==="~="&&(a[4]=" "+a[4]+" "),a},PSEUDO:function(a,b,c,e,f){if(a[1]==="not"){if(!((d.exec(a[3])||"").length>1||/^\w/.test(a[3]))){var g=m.filter(a[3],b,c,!0^f);return c||e.push.apply(e,g),!1}a[3]=m(a[3],null,null,b)}else if(o.match.POS.test(a[0])||o.match.CHILD.test(a[0]))return!0;return a},POS:function(a){return a.unshift(!0),a}},filters:{enabled:function(a){return a.disabled===!1&&a.type!=="hidden"},disabled:function(a){return a.disabled===!0},checked:function(a){return a.checked===!0},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!m(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),c=a.type;return a.nodeName.toLowerCase()==="input"&&"text"===c&&(b===c||b===null)},radio:function(a){return a.nodeName.toLowerCase()==="input"&&"radio"===a.type},checkbox:function(a){return a.nodeName.toLowerCase()==="input"&&"checkbox"===a.type},file:function(a){return a.nodeName.toLowerCase()==="input"&&"file"===a.type},password:function(a){return a.nodeName.toLowerCase()==="input"&&"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"submit"===a.type},image:function(a){return a.nodeName.toLowerCase()==="input"&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&"button"===a.type||b==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return b===0},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=o.filters[e];if(f)return f(a,c,b,d);if(e==="contains")return(a.textContent||a.innerText||n([a])||"").indexOf(b[3])>=0;if(e==="not"){var g=b[3];for(var h=0,i=g.length;h<i;h++)if(g[h]===a)return!1;return!0}m.error(e)},CHILD:function(a,b){var c,d,f,g,h,i,j,k=b[1],l=a;switch(k){case"only":case"first":while(l=l.previousSibling)if(l.nodeType===1)return!1;if(k==="first")return!0;l=a;case"last":while(l=l.nextSibling)if(l.nodeType===1)return!1;return!0;case"nth":c=b[2],d=b[3];if(c===1&&d===0)return!0;f=b[0],g=a.parentNode;if(g&&(g[e]!==f||!a.nodeIndex)){i=0;for(l=g.firstChild;l;l=l.nextSibling)l.nodeType===1&&(l.nodeIndex=++i);g[e]=f}return j=a.nodeIndex-d,c===0?j===0:j%c===0&&j/c>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||!!a.nodeName&&a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1],d=m.attr?m.attr(a,c):o.attrHandle[c]?o.attrHandle[c](a):a[c]!=null?a[c]:a.getAttribute(c),e=d+"",f=b[2],g=b[4];return d==null?f==="!=":!f&&m.attr?d!=null:f==="="?e===g:f==="*="?e.indexOf(g)>=0:f==="~="?(" "+e+" ").indexOf(g)>=0:g?f==="!="?e!==g:f==="^="?e.indexOf(g)===0:f==="$="?e.substr(e.length-g.length)===g:f==="|="?e===g||e.substr(0,g.length+1)===g+"-":!1:e&&d!==!1},POS:function(a,b,c,d){var e=b[2],f=o.setFilters[e];if(f)return f(a,c,b,d)}}},p=o.match.POS,q=function(a,b){return"\\"+(b-0+1)};for(var r in o.match)o.match[r]=new RegExp(o.match[r].source+/(?![^\[]*\])(?![^\(]*\))/.source),o.leftMatch[r]=new RegExp(/(^(?:.|\r|\n)*?)/.source+o.match[r].source.replace(/\\(\d+)/g,q));var s=function(a,b){return a=Array.prototype.slice.call(a,0),b?(b.push.apply(b,a),b):a};try{Array.prototype.slice.call(H.documentElement.childNodes,0)[0].nodeType}catch(t){s=function(a,b){var c=0,d=b||[];if(g.call(a)==="[object Array]")Array.prototype.push.apply(d,a);else if(typeof a.length=="number")for(var e=a.length;c<e;c++)d.push(a[c]);else for(;a[c];c++)d.push(a[c]);return d}}var u,v;H.documentElement.compareDocumentPosition?u=function(a,b){return a===b?(h=!0,0):!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1}:(u=function(a,b){if(a===b)return h=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[],g=a.parentNode,i=b.parentNode,j=g;if(g===i)return v(a,b);if(!g)return-1;if(!i)return 1;while(j)e.unshift(j),j=j.parentNode;j=i;while(j)f.unshift(j),j=j.parentNode;c=e.length,d=f.length;for(var k=0;k<c&&k<d;k++)if(e[k]!==f[k])return v(e[k],f[k]);return k===c?v(a,f[k],-1):v(e[k],b,1)},v=function(a,b,c){if(a===b)return c;var d=a.nextSibling;while(d){if(d===b)return-1;d=d.nextSibling}return 1}),function(){var a=H.createElement("div"),c="script"+(new Date).getTime(),d=H.documentElement;a.innerHTML="<a name='"+c+"'/>",d.insertBefore(a,d.firstChild),H.getElementById(c)&&(o.find.ID=function(a,c,d){if(typeof c.getElementById!="undefined"&&!d){var e=c.getElementById(a[1]);return e?e.id===a[1]||typeof e.getAttributeNode!="undefined"&&e.getAttributeNode("id").nodeValue===a[1]?[e]:b:[]}},o.filter.ID=function(a,b){var c=typeof a.getAttributeNode!="undefined"&&a.getAttributeNode("id");return a.nodeType===1&&c&&c.nodeValue===b}),d.removeChild(a),d=a=null}(),function(){var a=H.createElement("div");a.appendChild(H.createComment("")),a.getElementsByTagName("*").length>0&&(o.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if(a[1]==="*"){var d=[];for(var e=0;c[e];e++)c[e].nodeType===1&&d.push(c[e]);c=d}return c}),a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!="undefined"&&a.firstChild.getAttribute("href")!=="#"&&(o.attrHandle.href=function(a){return a.getAttribute("href",2)}),a=null}(),H.querySelectorAll&&function(){var a=m,b=H.createElement("div"),c="__sizzle__";b.innerHTML="<p class='TEST'></p>";if(!b.querySelectorAll||b.querySelectorAll(".TEST").length!==0){m=function(b,d,e,f){d=d||H;if(!f&&!m.isXML(d)){var g=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(g&&(d.nodeType===1||d.nodeType===9)){if(g[1])return s(d.getElementsByTagName(b),e);if(g[2]&&o.find.CLASS&&d.getElementsByClassName)return s(d.getElementsByClassName(g[2]),e)}if(d.nodeType===9){if(b==="body"&&d.body)return s([d.body],e);if(g&&g[3]){var h=d.getElementById(g[3]);if(!h||!h.parentNode)return s([],e);if(h.id===g[3])return s([h],e)}try{return s(d.querySelectorAll(b),e)}catch(i){}}else if(d.nodeType===1&&d.nodeName.toLowerCase()!=="object"){var j=d,k=d.getAttribute("id"),l=k||c,n=d.parentNode,p=/^\s*[+~]/.test(b);k?l=l.replace(/'/g,"\\$&"):d.setAttribute("id",l),p&&n&&(d=d.parentNode);try{if(!p||n)return s(d.querySelectorAll("[id='"+l+"'] "+b),e)}catch(q){}finally{k||j.removeAttribute("id")}}}return a(b,d,e,f)};for(var d in a)m[d]=a[d];b=null}}(),function(){var a=H.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var c=!b.call(H.createElement("div"),"div"),d=!1;try{b.call(H.documentElement,"[test!='']:sizzle")}catch(e){d=!0}m.matchesSelector=function(a,e){e=e.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!m.isXML(a))try{if(d||!o.match.PSEUDO.test(e)&&!/!=/.test(e)){var f=b.call(a,e);if(f||!c||a.document&&a.document.nodeType!==11)return f}}catch(g){}return m(e,null,null,[a]).length>0}}}(),function(){var a=H.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";if(!!a.getElementsByClassName&&a.getElementsByClassName("e").length!==0){a.lastChild.className="e";if(a.getElementsByClassName("e").length===1)return;o.order.splice(1,0,"CLASS"),o.find.CLASS=function(a,b,c){if(typeof b.getElementsByClassName!="undefined"&&!c)return b.getElementsByClassName(a[1])},a=null}}(),H.documentElement.contains?m.contains=function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:H.documentElement.compareDocumentPosition?m.contains=function(a,b){return!!(a.compareDocumentPosition(b)&16)}:m.contains=function(){return!1},m.isXML=function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?b.nodeName!=="HTML":!1};var w=function(a,b,c){var d,e=[],f="",g=b.nodeType?[b]:b;while(d=o.match.PSEUDO.exec(a))f+=d[0],a=a.replace(o.match.PSEUDO,"");a=o.relative[a]?a+"*":a;for(var h=0,i=g.length;h<i;h++)m(a,g[h],e,c);return m.filter(f,e)};m.attr=K.attr,m.selectors.attrMap={},K.find=m,K.expr=m.selectors,K.expr[":"]=K.expr.filters,K.unique=m.uniqueSort,K.text=m.getText,K.isXMLDoc=m.isXML,K.contains=m.contains}();var bi=/Until$/,bj=/^(?:parents|prevUntil|prevAll)/,bk=/,/,bl=/^.[^:#\[\.,]*$/,bm=Array.prototype.slice,bn=K.expr.match.POS,bo={children:!0,contents:!0,next:!0,prev:!0};K.fn.extend({find:function(a){var b=this,c,d;if(typeof a!="string")return K(a).filter(function(){for(c=0,d=b.length;c<d;c++)if(K.contains(b[c],this))return!0});var e=this.pushStack("","find",a),f,g,h;for(c=0,d=this.length;c<d;c++){f=e.length,K.find(a,this[c],e);if(c>0)for(g=f;g<e.length;g++)for(h=0;h<f;h++)if(e[h]===e[g]){e.splice(g--,1);break}}return e},has:function(a){var b=K(a);return this.filter(function(){for(var a=0,c=b.length;a<c;a++)if(K.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(z(this,a,!1),"not",a)},filter:function(a){return this.pushStack(z(this,a,!0),"filter",a)},is:function(a){return!!a&&(typeof a=="string"?bn.test(a)?K(a,this.context).index(this[0])>=0:K.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var c=[],d,e,f=this[0];if(K.isArray(a)){var g=1;while(f&&f.ownerDocument&&f!==b){for(d=0;d<a.length;d++)K(f).is(a[d])&&c.push({selector:a[d],elem:f,level:g});f=f.parentNode,g++}return c}var h=bn.test(a)||typeof a!="string"?K(a,b||this.context):0;for(d=0,e=this.length;d<e;d++){f=this[d];while(f){if(h?h.index(f)>-1:K.find.matchesSelector(f,a)){c.push(f);break}f=f.parentNode;if(!f||!f.ownerDocument||f===b||f.nodeType===11)break}}return c=c.length>1?K.unique(c):c,this.pushStack(c,"closest",a)},index:function(a){return a?typeof a=="string"?K.inArray(this[0],K(a)):K.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(a,b){var c=typeof a=="string"?K(a,b):K.makeArray(a&&a.nodeType?[a]:a),d=K.merge(this.get(),c);return this.pushStack(A(c[0])||A(d[0])?d:K.unique(d))},andSelf:function(){return this.add(this.prevObject)}}),K.each({parent:function(a){var b=a.parentNode;return b&&b.nodeType!==11?b:null},parents:function(a){return K.dir(a,"parentNode")},parentsUntil:function(a,b,c){return K.dir(a,"parentNode",c)},next:function(a){return K.nth(a,2,"nextSibling")},prev:function(a){return K.nth(a,2,"previousSibling")},nextAll:function(a){return K.dir(a,"nextSibling")},prevAll:function(a){return K.dir(a,"previousSibling")},nextUntil:function(a,b,c){return K.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return K.dir(a,"previousSibling",c)},siblings:function(a){return K.sibling(a.parentNode.firstChild,a)},children:function(a){return K.sibling(a.firstChild)},contents:function(a){return K.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:K.makeArray(a.childNodes)}},function(a,b){K.fn[a]=function(c,d){var e=K.map(this,b,c);return bi.test(a)||(d=c),d&&typeof d=="string"&&(e=K.filter(d,e)),e=this.length>1&&!bo[a]?K.unique(e):e,(this.length>1||bk.test(d))&&bj.test(a)&&(e=e.reverse()),this.pushStack(e,a,bm.call(arguments).join(","))}}),K.extend({filter:function(a,b,c){return c&&(a=":not("+a+")"),b.length===1?K.find.matchesSelector(b[0],a)?[b[0]]:[]:K.find.matches(a,b)},dir:function(a,c,d){var e=[],f=a[c];while(f&&f.nodeType!==9&&(d===b||f.nodeType!==1||!K(f).is(d)))f.nodeType===1&&e.push(f),f=f[c];return e},nth:function(a,b,c,d){b=b||1;var e=0;for(;a;a=a[c])if(a.nodeType===1&&++e===b)break;return a},sibling:function(a,b){var c=[];for(;a;a=a.nextSibling)a.nodeType===1&&a!==b&&c.push(a);return c}});var bp="abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",bq=/ jQuery\d+="(?:\d+|null)"/g,br=/^\s+/,bs=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,bt=/<([\w:]+)/,bu=/<tbody/i,bv=/<|&#?\w+;/,bw=/<(?:script|style)/i,bx=/<(?:script|object|embed|option|style)/i,by=new RegExp("<(?:"+bp+")","i"),bz=/checked\s*(?:[^=]|=\s*.checked.)/i,bA=/\/(java|ecma)script/i,bB=/^\s*<!(?:\[CDATA\[|\-\-)/,bC={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},bD=y(H);bC.optgroup=bC.option,bC.tbody=bC.tfoot=bC.colgroup=bC.caption=bC.thead,bC.th=bC.td,K.support.htmlSerialize||(bC._default=[1,"div<div>","</div>"]),K.fn.extend({text:function(a){return K.isFunction(a)?this.each(function(b){var c=K(this);c.text(a.call(this,b,c.text()))}):typeof a!="object"&&a!==b?this.empty().append((this[0]&&this[0].ownerDocument||H).createTextNode(a)):K.text(this)},wrapAll:function(a){if(K.isFunction(a))return this.each(function(b){K(this).wrapAll(a.call(this,b))});if(this[0]){var b=K(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&a.firstChild.nodeType===1)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return K.isFunction(a)?this.each(function(b){K(this).wrapInner(a.call(this,b))}):this.each(function(){var b=K(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=K.isFunction(a);return this.each(function(c){K(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){K.nodeName(this,"body")||K(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=K.clean(arguments);return a.push.apply(a,this.toArray()),this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);return a.push.apply(a,K.clean(arguments)),a}},remove:function(a,b){for(var c=0,d;(d=this[c])!=null;c++)if(!a||K.filter(a,[d]).length)!b&&d.nodeType===1&&(K.cleanData(d.getElementsByTagName("*")),K.cleanData([d])),d.parentNode&&d.parentNode.removeChild(d);return this},empty:function(){for(var a=0,b;(b=this[a])!=null;a++){b.nodeType===1&&K.cleanData(b.getElementsByTagName("*"));while(b.firstChild)b.removeChild(b.firstChild)}return this},clone:function(a,b){return a=a==null?!1:a,b=b==null?a:b,this.map(function(){return K.clone(this,a,b)})},html:function(a){if(a===b)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(bq,""):null;if(typeof a=="string"&&!bw.test(a)&&(K.support.leadingWhitespace||!br.test(a))&&!bC[(bt.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(bs,"<$1></$2>");try{for(var c=0,d=this.length;c<d;c++)this[c].nodeType===1&&(K.cleanData(this[c].getElementsByTagName("*")),this[c].innerHTML=a)}catch(e){this.empty().append(a)}}else K.isFunction(a)?this.each(function(b){var c=K(this);c.html(a.call(this,b,c.html()))}):this.empty().append(a);return this},replaceWith:function(a){return this[0]&&this[0].parentNode?K.isFunction(a)?this.each(function(b){var c=K(this),d=c.html();c.replaceWith(a.call(this,b,d))}):(typeof a!="string"&&(a=K(a).detach()),this.each(function(){var b=this.nextSibling,c=this.parentNode;K(this).remove(),b?K(b).before(a):K(c).append(a)})):this.length?this.pushStack(K(K.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){var e,f,g,h,i=a[0],j=[];if(!K.support.checkClone&&arguments.length===3&&typeof i=="string"&&bz.test(i))return this.each(function(){K(this).domManip(a,c,d,!0)});if(K.isFunction(i))return this.each(function(e){var f=K(this);a[0]=i.call(this,e,c?f.html():b),f.domManip(a,c,d)});if(this[0]){h=i&&i.parentNode,K.support.parentNode&&h&&h.nodeType===11&&h.childNodes.length===this.length?e={fragment:h}:e=K.buildFragment(a,this,j),g=e.fragment,g.childNodes.length===1?f=g=g.firstChild:f=g.firstChild;if(f){c=c&&K.nodeName(f,"tr");for(var k=0,l=this.length,m=l-1;k<l;k++)d.call(c?x(this[k],f):this[k],e.cacheable||l>1&&k<m?K.clone(g,!0,!0):g)}j.length&&K.each(j,q)}return this}}),K.buildFragment=function(a,b,c){var d,e,f,g,h=a[0];return b&&b[0]&&(g=b[0].ownerDocument||b[0]),g.createDocumentFragment||(g=H),a.length===1&&typeof h=="string"&&h.length<512&&g===H&&h.charAt(0)==="<"&&!bx.test(h)&&(K.support.checkClone||!bz.test(h))&&(K.support.html5Clone||!by.test(h))&&(e=!0,f=K.fragments[h],f&&f!==1&&(d=f)),d||(d=g.createDocumentFragment(),K.clean(a,g,d,c)),e&&(K.fragments[h]=f?d:1),{fragment:d,cacheable:e}},K.fragments={},K.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){K.fn[a]=function(c){var d=[],e=K(c),f=this.length===1&&this[0].parentNode;if(f&&f.nodeType===11&&f.childNodes.length===1&&e.length===1)return e[b](this[0]),this;for(var g=0,h=e.length;g<h;g++){var i=(g>0?this.clone(!0):this).get();K(e[g])[b](i),d=d.concat(i)}return this.pushStack(d,a,e.selector)}}),K.extend({clone:function(a,b,c){var d,e,f,g=K.support.html5Clone||!by.test("<"+a.nodeName)?a.cloneNode(!0):r(a);if((!K.support.noCloneEvent||!K.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!K.isXMLDoc(a)){v(a,g),d=u(a),e=u(g);for(f=0;d[f];++f)e[f]&&v(d[f],e[f])}if(b){w(a,g);if(c){d=u(a),e=u(g);for(f=0;d[f];++f)w(d[f],e[f])}}return d=e=null,g},clean:function(a,b,c,d){var e;b=b||H,typeof b.createElement=="undefined"&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||H);var f=[],g;for(var h=0,i;(i=a[h])!=null;h++){typeof i=="number"&&(i+="");if(!i)continue;if(typeof i=="string")if(!bv.test(i))i=b.createTextNode(i);else{i=i.replace(bs,"<$1></$2>");var j=(bt.exec(i)||["",""])[1].toLowerCase(),k=bC[j]||bC._default,l=k[0],m=b.createElement("div");b===H?bD.appendChild(m):y(b).appendChild(m),m.innerHTML=k[1]+i+k[2];while(l--)m=m.lastChild;if(!K.support.tbody){var n=bu.test(i),o=j==="table"&&!n?m.firstChild&&m.firstChild.childNodes:k[1]==="<table>"&&!n?m.childNodes:[];for(g=o.length-1;g>=0;--g)K.nodeName(o[g],"tbody")&&!o[g].childNodes.length&&o[g].parentNode.removeChild(o[g])}!K.support.leadingWhitespace&&br.test(i)&&m.insertBefore(b.createTextNode(br.exec(i)[0]),m.firstChild),i=m.childNodes}var p;if(!K.support.appendChecked)if(i[0]&&typeof (p=i.length)=="number")for(g=0;g<p;g++)s(i[g]);else s(i);i.nodeType?f.push(i):f=K.merge(f,i)}if(c){e=function(a){return!a.type||bA.test(a.type)};for(h=0;f[h];h++)if(d&&K.nodeName(f[h],"script")&&(!f[h].type||f[h].type.toLowerCase()==="text/javascript"))d.push(f[h].parentNode?f[h].parentNode.removeChild(f[h]):f[h]);else{if(f[h].nodeType===1){var q=K.grep(f[h].getElementsByTagName("script"),e);f.splice.apply(f,[h+1,0].concat(q))}c.appendChild(f[h])}}return f},cleanData:function(a){var b,c,d=K.cache,e=K.event.special,f=K.support.deleteExpando;for(var g=0,h;(h=a[g])!=null;g++){if(h.nodeName&&K.noData[h.nodeName.toLowerCase()])continue;c=h[K.expando];if(c){b=d[c];if(b&&b.events){for(var i in b.events)e[i]?K.event.remove(h,i):K.removeEvent(h,i,b.handle);b.handle&&(b.handle.elem=null)}f?delete h[K.expando]:h.removeAttribute&&h.removeAttribute(K.expando),delete d[c]}}}});var bE=/alpha\([^)]*\)/i,bF=/opacity=([^)]*)/,bG=/([A-Z]|^ms)/g,bH=/^-?\d+(?:px)?$/i,bI=/^-?\d/,bJ=/^([\-+])=([\-+.\de]+)/,bK={position:"absolute",visibility:"hidden",display:"block"},bL=["Left","Right"],bM=["Top","Bottom"],bN,bO,bP;K.fn.css=function(a,c){return arguments.length===2&&c===b?this:K.access(this,a,c,!0,function(a,c,d){return d!==b?K.style(a,c,d):K.css(a,c)})},K.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=bN(a,"opacity","opacity");return c===""?"1":c}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":K.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(!!a&&a.nodeType!==3&&a.nodeType!==8&&!!a.style){var f,g,h=K.camelCase(c),i=a.style,j=K.cssHooks[h];c=K.cssProps[h]||h;if(d===b)return j&&"get"in j&&(f=j.get(a,!1,e))!==b?f:i[c];g=typeof d,g==="string"&&(f=bJ.exec(d))&&(d=+(f[1]+1)*+f[2]+parseFloat(K.css(a,c)),g="number");if(d==null||g==="number"&&isNaN(d))return;g==="number"&&!K.cssNumber[h]&&(d+="px");if(!j||!("set"in j)||(d=j.set(a,d))!==b)try{i[c]=d}catch(k){}}},css:function(a,c,d){var e,f;c=K.camelCase(c),f=K.cssHooks[c],c=K.cssProps[c]||c,c==="cssFloat"&&(c="float");if(f&&"get"in f&&(e=f.get(a,!0,d))!==b)return e;if(bN)return bN(a,c)},swap:function(a,b,c){var d={};for(var e in b)d[e]=a.style[e],a.style[e]=b[e];c.call(a);for(e in b)a.style[e]=d[e]}}),K.curCSS=K.css,K.each(["height","width"],function(a,b){K.cssHooks[b]={get:function(a,c,d){var e;if(c)return a.offsetWidth!==0?p(a,b,d):(K.swap(a,bK,function(){e=p(a,b,d)}),e)},set:function(a,b){if(!bH.test(b))return b;b=parseFloat(b);if(b>=0)return b+"px"}}}),K.support.opacity||(K.cssHooks.opacity={get:function(a,b){return bF.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=K.isNumeric(b)?"alpha(opacity="+b*100+")":"",f=d&&d.filter||c.filter||"";c.zoom=1;if(b>=1&&K.trim(f.replace(bE,""))===""){c.removeAttribute("filter");if(d&&!d.filter)return}c.filter=bE.test(f)?f.replace(bE,e):f+" "+e}}),K(function(){K.support.reliableMarginRight||(K.cssHooks.marginRight={get:function(a,b){var c;return K.swap(a,{display:"inline-block"},function(){b?c=bN(a,"margin-right","marginRight"):c=a.style.marginRight}),c}})}),H.defaultView&&H.defaultView.getComputedStyle&&(bO=function(a,b){var c,d,e;return b=b.replace(bG,"-$1").toLowerCase(),(d=a.ownerDocument.defaultView)&&(e=d.getComputedStyle(a,null))&&(c=e.getPropertyValue(b),c===""&&!K.contains(a.ownerDocument.documentElement,a)&&(c=K.style(a,b))),c}),H.documentElement.currentStyle&&(bP=function(a,b){var c,d,e,f=a.currentStyle&&a.currentStyle[b],g=a.style;return f===null&&g&&(e=g[b])&&(f=e),!bH.test(f)&&bI.test(f)&&(c=g.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),g.left=b==="fontSize"?"1em":f||0,f=g.pixelLeft+"px",g.left=c,d&&(a.runtimeStyle.left=d)),f===""?"auto":f}),bN=bO||bP,K.expr&&K.expr.filters&&(K.expr.filters.hidden=function(a){var b=a.offsetWidth,c=a.offsetHeight;return b===0&&c===0||!K.support.reliableHiddenOffsets&&(a.style&&a.style.display||K.css(a,"display"))==="none"},K.expr.filters.visible=function(a){return!K.expr.filters.hidden(a)});var bQ=/%20/g,bR=/\[\]$/,bS=/\r?\n/g,bT=/#.*$/,bU=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,bV=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,bW=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,bX=/^(?:GET|HEAD)$/,bY=/^\/\//,bZ=/\?/,b$=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,b_=/^(?:select|textarea)/i,ca=/\s+/,cb=/([?&])_=[^&]*/,cc=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,cd=K.fn.load,ce={},cf={},cg,ch,ci=["*/"]+["*"];try{cg=J.href}catch(cj){cg=H.createElement("a"),cg.href="",cg=cg.href}ch=cc.exec(cg.toLowerCase())||[],K.fn.extend({load:function(a,c,d){if(typeof a!="string"&&cd)return cd.apply(this,arguments);if(!this.length)return this;var e=a.indexOf(" ");if(e>=0){var f=a.slice(e,a.length);a=a.slice(0,e)}var g="GET";c&&(K.isFunction(c)?(d=c,c=b):typeof c=="object"&&(c=K.param(c,K.ajaxSettings.traditional),g="POST"));var h=this;return K.ajax({url:a,type:g,dataType:"html",data:c,complete:function(a,b,c){c=a.responseText,a.isResolved()&&(a.done(function(a){c=a}),h.html(f?K("<div>").append(c.replace(b$,"")).find(f):c)),d&&h.each(d,[c,b,a])}}),this},serialize:function(){return K.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?K.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||b_.test(this.nodeName)||bV.test(this.type))}).map(function(a,b){var c=K(this).val();return c==null?null:K.isArray(c)?K.map(c,function(a,c){return{name:b.name,value:a.replace(bS,"\r\n")}}):{name:b.name,value:c.replace(bS,"\r\n")}}).get()}}),K.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){K.fn[b]=function(a){return this.on(b,a)}}),K.each(["get","post"],function(a,c){K[c]=function(a,d,e,f){return K.isFunction(d)&&(f=f||e,e=d,d=b),K.ajax({type:c,url:a,data:d,success:e,dataType:f})}}),K.extend({getScript:function(a,c){return K.get(a,b,c,"script")},getJSON:function(a,b,c){return K.get(a,b,c,"json")},ajaxSetup:function(a,b){return b?m(a,K.ajaxSettings):(b=a,a=K.ajaxSettings),m(a,b),a},ajaxSettings:{url:cg,isLocal:bW.test(ch[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":ci},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":K.parseJSON,"text xml":K.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:o(ce),ajaxTransport:o(cf),ajax:function(a,c){function d(a,c,d,n){if(v!==2){v=2,t&&clearTimeout(t),s=b,q=n||"",y.readyState=a>0?4:0;var o,p,r,u=c,x=d?k(e,y,d):b,z,A;if(a>=200&&a<300||a===304){if(e.ifModified){if(z=y.getResponseHeader("Last-Modified"))K.lastModified[m]=z;if(A=y.getResponseHeader("Etag"))K.etag[m]=A}if(a===304)u="notmodified",o=!0;else try{p=j(e,x),u="success",o=!0}catch(B){u="parsererror",r=B}}else{r=u;if(!u||a)u="error",a<0&&(a=0)}y.status=a,y.statusText=""+(c||u),o?h.resolveWith(f,[p,u,y]):h.rejectWith(f,[y,u,r]),y.statusCode(l),l=b,w&&g.trigger("ajax"+(o?"Success":"Error"),[y,e,o?p:r]),i.fireWith(f,[y,u]),w&&(g.trigger("ajaxComplete",[y,e]),--K.active||K.event.trigger("ajaxStop"))}}typeof a=="object"&&(c=a,a=b),c=c||{};var e=K.ajaxSetup({},c),f=e.context||e,g=f!==e&&(f.nodeType||f instanceof K)?K(f):K.event,h=K.Deferred(),i=K.Callbacks("once memory"),l=e.statusCode||{},m,o={},p={},q,r,s,t,u,v=0,w,x,y={readyState:0,setRequestHeader:function(a,b){if(!v){var c=a.toLowerCase();a=p[c]=p[c]||a,o[a]=b}return this},getAllResponseHeaders:function(){return v===2?q:null},getResponseHeader:function(a){var c;if(v===2){if(!r){r={};while(c=bU.exec(q))r[c[1].toLowerCase()]=c[2]}c=r[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){return v||(e.mimeType=a),this},abort:function(a){return a=a||"abort",s&&s.abort(a),d(0,a),this}};h.promise(y),y.success=y.done,y.error=y.fail,y.complete=i.add,y.statusCode=function(a){if(a){var b;if(v<2)for(b in a)l[b]=[l[b],a[b]];else b=a[y.status],y.then(b,b)}return this},e.url=((a||e.url)+"").replace(bT,"").replace(bY,ch[1]+"//"),e.dataTypes=K.trim(e.dataType||"*").toLowerCase().split(ca),e.crossDomain==null&&(u=cc.exec(e.url.toLowerCase()),e.crossDomain=!(!u||u[1]==ch[1]&&u[2]==ch[2]&&(u[3]||(u[1]==="http:"?80:443))==(ch[3]||(ch[1]==="http:"?80:443)))),e.data&&e.processData&&typeof e.data!="string"&&(e.data=K.param(e.data,e.traditional)),n(ce,e,c,y);if(v===2)return!1;w=e.global,e.type=e.type.toUpperCase(),e.hasContent=!bX.test(e.type),w&&K.active++===0&&K.event.trigger("ajaxStart");if(!e.hasContent){e.data&&(e.url+=(bZ.test(e.url)?"&":"?")+e.data,delete e.data),m=e.url;if(e.cache===!1){var z=K.now(),A=e.url.replace(cb,"$1_="+z);e.url=A+(A===e.url?(bZ.test(e.url)?"&":"?")+"_="+z:"")}}(e.data&&e.hasContent&&e.contentType!==!1||c.contentType)&&y.setRequestHeader("Content-Type",e.contentType),e.ifModified&&(m=m||e.url,K.lastModified[m]&&y.setRequestHeader("If-Modified-Since",K.lastModified[m]),K.etag[m]&&y.setRequestHeader("If-None-Match",K.etag[m])),y.setRequestHeader("Accept",e.dataTypes[0]&&e.accepts[e.dataTypes[0]]?e.accepts[e.dataTypes[0]]+(e.dataTypes[0]!=="*"?", "+ci+"; q=0.01":""):e.accepts["*"]);for(x in e.headers)y.setRequestHeader(x,e.headers[x]);if(!e.beforeSend||e.beforeSend.call(f,y,e)!==!1&&v!==2){for(x in{success:1,error:1,complete:1})y[x](e[x]);s=n(cf,e,c,y);if(!s)d(-1,"No Transport");else{y.readyState=1,w&&g.trigger("ajaxSend",[y,e]),e.async&&e.timeout>0&&(t=setTimeout(function(){y.abort("timeout")},e.timeout));try{v=1,s.send(o,d)}catch(B){if(!(v<2))throw B;d(-1,B)}}return y}return y.abort(),!1},param:function(a,c){var d=[],e=function(a,b){b=K.isFunction(b)?b():b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};c===b&&(c=K.ajaxSettings.traditional);if(K.isArray(a)||a.jquery&&!K.isPlainObject(a))K.each(a,function(){e(this.name,this.value)});else for(var f in a)l(f,a[f],c,e);return d.join("&").replace(bQ,"+")}}),K.extend({active:0,lastModified:{},etag:{}});var ck=K.now(),cl=/(\=)\?(&|$)|\?\?/i;K.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return K.expando+"_"+ck++}}),K.ajaxPrefilter("json jsonp",function(b,c,d){var e=b.contentType==="application/x-www-form-urlencoded"&&typeof b.data=="string";if(b.dataTypes[0]==="jsonp"||b.jsonp!==!1&&(cl.test(b.url)||e&&cl.test(b.data))){var f,g=b.jsonpCallback=K.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h=a[g],i=b.url,j=b.data,k="$1"+g+"$2";return b.jsonp!==!1&&(i=i.replace(cl,k),b.url===i&&(e&&(j=j.replace(cl,k)),b.data===j&&(i+=(/\?/.test(i)?"&":"?")+b.jsonp+"="+g))),b.url=i,b.data=j,a[g]=function(a){f=[a]},d.always(function(){a[g]=h,f&&K.isFunction(h)&&a[g](f[0])}),b.converters["script json"]=function(){return f||K.error(g+" was not called"),f[0]},b.dataTypes[0]="json","script"}}),K.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){return K.globalEval(a),a}}}),K.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),K.ajaxTransport("script",function(a){if(a.crossDomain){var c,d=H.head||H.getElementsByTagName("head")[0]||H.documentElement;return{send:function(e,f){c=H.createElement("script"),c.async="async",a.scriptCharset&&(c.charset=a.scriptCharset),c.src=a.url,c.onload=c.onreadystatechange=function(a,e){if(e||!c.readyState||/loaded|complete/.test(c.readyState))c.onload=c.onreadystatechange=null,d&&c.parentNode&&d.removeChild(c),c=b,e||f(200,"success")},d.insertBefore(c,d.firstChild)},abort:function(){c&&c.onload(0,1)}}}});var cm=a.ActiveXObject?function(){for(var a in co)co[a](0,1)}:!1,cn=0,co;K.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&i()||h()}:i,function(a){K.extend(K.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})}(K.ajaxSettings.xhr()),K.support.ajax&&K.ajaxTransport(function(c){if(!c.crossDomain||K.support.cors){var d;return{send:function(e,f){var g=c.xhr(),h,i;c.username?g.open(c.type,c.url,c.async,c.username,c.password):g.open(c.type,c.url,c.async);if(c.xhrFields)for(i in c.xhrFields)g[i]=c.xhrFields[i];c.mimeType&&g.overrideMimeType&&g.overrideMimeType(c.mimeType),!c.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(i in e)g.setRequestHeader(i,e[i])}catch(j){}g.send(c.hasContent&&c.data||null),d=function(a,e){var i,j,k,l,m;try{if(d&&(e||g.readyState===4)){d=b,h&&(g.onreadystatechange=K.noop,cm&&delete co[h]);if(e)g.readyState!==4&&g.abort();else{i=g.status,k=g.getAllResponseHeaders(),l={},m=g.responseXML,m&&m.documentElement&&(l.xml=m),l.text=g.responseText;try{j=g.statusText}catch(n){j=""}!i&&c.isLocal&&!c.crossDomain?i=l.text?200:404:i===1223&&(i=204)}}}catch(o){e||f(-1,o)}l&&f(i,j,l,k)},!c.async||g.readyState===4?d():(h=++cn,cm&&(co||(co={},K(a).unload(cm)),co[h]=d),g.onreadystatechange=d)},abort:function(){d&&d(0,1)}}}});var cp={},cq,cr,cs=/^(?:toggle|show|hide)$/,ct=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,cu,cv=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],cw;K.fn.extend({show:function(a,b,c){var f,g;if(a||a===0)return this.animate(e("show",3),a,b,c);for(var h=0,i=this.length;h<i;h++)f=this[h],f.style&&(g=f.style.display,!K._data(f,"olddisplay")&&g==="none"&&(g=f.style.display=""),g===""&&K.css(f,"display")==="none"&&K._data(f,"olddisplay",d(f.nodeName)));for(h=0;h<i;h++){f=this[h];if(f.style){g=f.style.display;if(g===""||g==="none")f.style.display=K._data(f,"olddisplay")||""}}return this},hide:function(a,b,c){if(a||a===0)return this.animate(e("hide",3),a,b,c);var d,f,g=0,h=this.length;for(;g<h;g++)d=this[g],d.style&&(f=K.css(d,"display"),f!=="none"&&!K._data(d,"olddisplay")&&K._data(d,"olddisplay",f));for(g=0;g<h;g++)this[g].style&&(this[g].style.display="none");return this},_toggle:K.fn.toggle,toggle:function(a,b,c){var d=typeof a=="boolean";return K.isFunction(a)&&K.isFunction(b)?this._toggle.apply(this,arguments):a==null||d?this.each(function(){var b=d?a:K(this).is(":hidden");K(this)[b?"show":"hide"]()}):this.animate(e("toggle",3),a,b,c),this},fadeTo:function(a,b,c,d){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,e){function f(){g.queue===!1&&K._mark(this);var b=K.extend({},g),c=this.nodeType===1,e=c&&K(this).is(":hidden"),f,h,i,j,k,l,m,n,o;b.animatedProperties={};for(i in a){f=K.camelCase(i),i!==f&&(a[f]=a[i],delete a[i]),h=a[f],K.isArray(h)?(b.animatedProperties[f]=h[1],h=a[f]=h[0]):b.animatedProperties[f]=b.specialEasing&&b.specialEasing[f]||b.easing||"swing";if(h==="hide"&&e||h==="show"&&!e)return b.complete.call(this);c&&(f==="height"||f==="width")&&(b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],K.css(this,"display")==="inline"&&K.css(this,"float")==="none"&&(!K.support.inlineBlockNeedsLayout||d(this.nodeName)==="inline"?this.style.display="inline-block":this.style.zoom=1))}b.overflow!=null&&(this.style.overflow="hidden");for(i in a)j=new K.fx(this,b,i),h=a[i],cs.test(h)?(o=K._data(this,"toggle"+i)||(h==="toggle"?e?"show":"hide":0),o?(K._data(this,"toggle"+i,o==="show"?"hide":"show"),j[o]()):j[h]()):(k=ct.exec(h),l=j.cur(),k?(m=parseFloat(k[2]),n=k[3]||(K.cssNumber[i]?"":"px"),n!=="px"&&(K.style(this,i,(m||1)+n),l=(m||1)/j.cur()*l,K.style(this,i,l+n)),k[1]&&(m=(k[1]==="-="?-1:1)*m+l),j.custom(l,m,n)):j.custom(l,h,""));return!0}var g=K.speed(b,c,e);return K.isEmptyObject(a)?this.each(g.complete,[!1]):(a=K.extend({},a),g.queue===!1?this.each(f):this.queue(g.queue,f))},stop:function(a,c,d){return typeof a!="string"&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){function b(a,b,c){var e=b[c];K.removeData(a,c,!0),e.stop(d)}var c,e=!1,f=K.timers,g=K._data(this);d||K._unmark(!0,this);if(a==null)for(c in g)g[c]&&g[c].stop&&c.indexOf(".run")===c.length-4&&b(this,g,c);else g[c=a+".run"]&&g[c].stop&&b(this,g,c);for(c=f.length;c--;)f[c].elem===this&&(a==null||f[c].queue===a)&&(d?f[c](!0):f[c].saveState(),e=!0,f.splice(c,1));(!d||!e)&&K.dequeue(this,a)})}}),K.each({slideDown:e("show",1),slideUp:e("hide",1),slideToggle:e("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){K.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),K.extend({speed:function(a,b,c){var d=a&&typeof a=="object"?K.extend({},a):{complete:c||!c&&b||K.isFunction(a)&&a,duration:a,easing:c&&b||b&&!K.isFunction(b)&&b};d.duration=K.fx.off?0:typeof d.duration=="number"?d.duration:d.duration in K.fx.speeds?K.fx.speeds[d.duration]:K.fx.speeds._default;if(d.queue==null||d.queue===!0)d.queue="fx";return d.old=d.complete,d.complete=function(a){K.isFunction(d.old)&&d.old.call(this),d.queue?K.dequeue(this,d.queue):a!==!1&&K._unmark(this)},d},easing:{linear:function(a,b,c,d){return c+d*a},swing:function(a,b,c,d){return(-Math.cos(a*Math.PI)/2+.5)*d+c}},timers:[],fx:function(a,b,c){this.options=b,this.elem=a,this.prop=c,b.orig=b.orig||{}}}),K.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(K.fx.step[this.prop]||K.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]==null||!!this.elem.style&&this.elem.style[this.prop]!=null){var a,b=K.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?!b||b==="auto"?0:b:a}return this.elem[this.prop]},custom:function(a,c,d){function e(a){return f.step(a)}var f=this,h=K.fx;this.startTime=cw||g(),this.end=c,this.now=this.start=a,this.pos=this.state=0,this.unit=d||this.unit||(K.cssNumber[this.prop]?"":"px"),e.queue=this.options.queue,e.elem=this.elem,e.saveState=function(){f.options.hide&&K._data(f.elem,"fxshow"+f.prop)===b&&K._data(f.elem,"fxshow"+f.prop,f.start)},e()&&K.timers.push(e)&&!cu&&(cu=setInterval(h.tick,h.interval))},show:function(){var a=K._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=a||K.style(this.elem,this.prop),this.options.show=!0,a!==b?this.custom(this.cur(),a):this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur()),K(this.elem).show()},hide:function(){this.options.orig[this.prop]=K._data(this.elem,"fxshow"+this.prop)||K.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(a){var b,c,d,e=cw||g(),f=!0,h=this.elem,i=this.options;if(a||e>=i.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),i.animatedProperties[this.prop]=!0;for(b in i.animatedProperties)i.animatedProperties[b]!==!0&&(f=!1);if(f){i.overflow!=null&&!K.support.shrinkWrapBlocks&&K.each(["","X","Y"],function(a,b){h.style["overflow"+b]=i.overflow[a]}),i.hide&&K(h).hide();if(i.hide||i.show)for(b in i.animatedProperties)K.style(h,b,i.orig[b]),K.removeData(h,"fxshow"+b,!0),K.removeData(h,"toggle"+b,!0);d=i.complete,d&&(i.complete=!1,d.call(h))}return!1}return i.duration==Infinity?this.now=e:(c=e-this.startTime,this.state=c/i.duration,this.pos=K.easing[i.animatedProperties[this.prop]](this.state,c,0,1,i.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},K.extend(K.fx,{tick:function(){var a,b=K.timers,c=0;for(;c<b.length;c++)a=b[c],!a()&&b[c]===a&&b.splice(c--,1);b.length||K.fx.stop()},interval:13,stop:function(){clearInterval(cu),cu=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){K.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=null?a.elem.style[a.prop]=a.now+a.unit:a.elem[a.prop]=a.now}}}),K.each(["width","height"],function(a,b){K.fx.step[b]=function(a){K.style(a.elem,b,Math.max(0,a.now)+a.unit)}}),K.expr&&K.expr.filters&&(K.expr.filters.animated=function(a){return K.grep(K.timers,function(b){return a===b.elem}).length});var cx=/^t(?:able|d|h)$/i,cy=/^(?:body|html)$/i;"getBoundingClientRect"in H.documentElement?K.fn.offset=function(a){var b=this[0],d;if(a)return this.each(function(b){K.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return K.offset.bodyOffset(b);try{d=b.getBoundingClientRect()}catch(e){}var f=b.ownerDocument,g=f.documentElement;if(!d||!K.contains(g,b))return d?{top:d.top,left:d.left}:{top:0,left:0};var h=f.body,i=c(f),j=g.clientTop||h.clientTop||0,k=g.clientLeft||h.clientLeft||0,l=i.pageYOffset||K.support.boxModel&&g.scrollTop||h.scrollTop,m=i.pageXOffset||K.support.boxModel&&g.scrollLeft||h.scrollLeft,n=d.top+l-j,o=d.left+m-k;return{top:n,left:o}}:K.fn.offset=function(a){var b=this[0];if(a)return this.each(function(b){K.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return K.offset.bodyOffset(b);var c,d=b.offsetParent,e=b,f=b.ownerDocument,g=f.documentElement,h=f.body,i=f.defaultView,j=i?i.getComputedStyle(b,null):b.currentStyle,k=b.offsetTop,l=b.offsetLeft;while((b=b.parentNode)&&b!==h&&b!==g){if(K.support.fixedPosition&&j.position==="fixed")break;c=i?i.getComputedStyle(b,null):b.currentStyle,k-=b.scrollTop,l-=b.scrollLeft,b===d&&(k+=b.offsetTop,l+=b.offsetLeft,K.support.doesNotAddBorder&&(!K.support.doesAddBorderForTableAndCells||!cx.test(b.nodeName))&&(k+=parseFloat(c.borderTopWidth)||0,l+=parseFloat(c.borderLeftWidth)||0),e=d,d=b.offsetParent),K.support.subtractsBorderForOverflowNotVisible&&c.overflow!=="visible"&&(k+=parseFloat(c.borderTopWidth)||0,l+=parseFloat(c.borderLeftWidth)||0),j=c}if(j.position==="relative"||j.position==="static")k+=h.offsetTop,l+=h.offsetLeft;return K.support.fixedPosition&&j.position==="fixed"&&(k+=Math.max(g.scrollTop,h.scrollTop),l+=Math.max(g.scrollLeft,h.scrollLeft)),{top:k,left:l}},K.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;return K.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(K.css(a,"marginTop"))||0,c+=parseFloat(K.css(a,"marginLeft"))||0),{top:b,left:c}},setOffset:function(a,b,c){var d=K.css(a,"position");d==="static"&&(a.style.position="relative");var e=K(a),f=e.offset(),g=K.css(a,"top"),h=K.css(a,"left"),i=(d==="absolute"||d==="fixed")&&K.inArray("auto",[g,h])>-1,j={},k={},l,m;i?(k=e.position(),l=k.top,m=k.left):(l=parseFloat(g)||0,m=parseFloat(h)||0),K.isFunction(b)&&(b=b.call(a,c,f)),b.top!=null&&(j.top=b.top-f.top+l),b.left!=null&&(j.left=b.left-f.left+m),"using"in b?b.using.call(a,j):e.css(j)}},K.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),c=this.offset(),d=cy.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat(K.css(a,"marginTop"))||0,c.left-=parseFloat(K.css(a,"marginLeft"))||0,d.top+=parseFloat(K.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat(K.css(b[0],"borderLeftWidth"))||0,{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||H.body;while(a&&!cy.test(a.nodeName)&&K.css(a,"position")==="static")a=a.offsetParent;return a})}}),K.each(["Left","Top"],function(a,d){var e="scroll"+d;K.fn[e]=function(d){var f,g;return d===b?(f=this[0],f?(g=c(f),g?"pageXOffset"in g?g[a?"pageYOffset":"pageXOffset"]:K.support.boxModel&&g.document.documentElement[e]||g.document.body[e]:f[e]):null):this.each(function(){g=c(this),g?g.scrollTo(a?K(g).scrollLeft():d,a?d:K(g).scrollTop()):this[e]=d})}}),K.each(["Height","Width"],function(a,c){var d=c.toLowerCase();K.fn["inner"+c]=function(){var a=this[0];return a?a.style?parseFloat(K.css(a,d,"padding")):this[d]():null},K.fn["outer"+c]=function(a){var b=this[0];return b?b.style?parseFloat(K.css(b,d,a?"margin":"border")):this[d]():null},K.fn[d]=function(a){var e=this[0];if(!e)return a==null?null:this;if(K.isFunction(a))return this.each(function(b){var c=K(this);c[d](a.call(this,b,c[d]()))});if(K.isWindow(e)){var f=e.document.documentElement["client"+c],g=e.document.body;return e.document.compatMode==="CSS1Compat"&&f||g&&g["client"+c]||f}if(e.nodeType===9)return Math.max(e.documentElement["client"+c],e.body["scroll"+c],e.documentElement["scroll"+c],e.body["offset"+c],e.documentElement["offset"+c]);if(a===b){var h=K.css(e,d),i=parseFloat(h);return K.isNumeric(i)?i:h}return this.css(d,typeof a=="string"?a:a+"px")}}),a.jQuery=a.$=K,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return K})})(window),!function(a){a(function(){"use strict",a.support.transition=function(){var a=function(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},c;for(c in b)if(a.style[c]!==undefined)return b[c]}();return a&&{end:a}}()})}(window.jQuery),!function(a){"use strict";var b='[data-dismiss="alert"]',c=function(c){a(c).on("click",b,this.close)};c.prototype.close=function(b){function f(){e.trigger("closed").remove()}var c=a(this),d=c.attr("data-target"),e;d||(d=c.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),e=a(d),b&&b.preventDefault(),e.length||(e=c.hasClass("alert")?c:c.parent()),e.trigger(b=a.Event("close"));if(b.isDefaultPrevented())return;e.removeClass("in"),a.support.transition&&e.hasClass("fade")?e.on(a.support.transition.end,f):f()},a.fn.alert=function(b){return this.each(function(){var d=a(this),e=d.data("alert");e||d.data("alert",e=new c(this)),typeof b=="string"&&e[b].call(d)})},a.fn.alert.Constructor=c,a(function(){a("body").on("click.alert.data-api",b,c.prototype.close)})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.button.defaults,c)};b.prototype.setState=function(a){var b="disabled",c=this.$element,d=c.data(),e=c.is("input")?"val":"html";a+="Text",d.resetText||c.data("resetText",c[e]()),c[e](d[a]||this.options[a]),setTimeout(function(){a=="loadingText"?c.addClass(b).attr(b,b):c.removeClass(b).removeAttr(b)},0)},b.prototype.toggle=function(){var a=this.$element.closest('[data-toggle="buttons-radio"]');a&&a.find(".active").removeClass("active"),this.$element.toggleClass("active")},a.fn.button=function(c){return this.each(function(){var d=a(this),e=d.data("button"),f=typeof c=="object"&&c;e||d.data("button",e=new b(this,f)),c=="toggle"?e.toggle():c&&e.setState(c)})},a.fn.button.defaults={loadingText:"loading..."},a.fn.button.Constructor=b,a(function(){a("body").on("click.button.data-api","[data-toggle^=button]",function(b){var c=a(b.target);c.hasClass("btn")||(c=c.closest(".btn")),c.button("toggle")})})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.options=c,this.options.slide&&this.slide(this.options.slide),this.options.pause=="hover"&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};b.prototype={cycle:function(b){return b||(this.paused=!1),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},to:function(b){var c=this.$element.find(".item.active"),d=c.parent().children(),e=d.index(c),f=this;if(b>d.length-1||b<0)return;return this.sliding?this.$element.one("slid",function(){f.to(b)}):e==b?this.pause().cycle():this.slide(b>e?"next":"prev",a(d[b]))},pause:function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition.end&&(this.$element.trigger(a.support.transition.end),this.cycle()),clearInterval(this.interval),this.interval=null,this},next:function(){if(this.sliding)return;return this.slide("next")},prev:function(){if(this.sliding)return;return this.slide("prev")},slide:function(b,c){var d=this.$element.find(".item.active"),e=c||d[b](),f=this.interval,g=b=="next"?"left":"right",h=b=="next"?"first":"last",i=this,j=a.Event("slide",{relatedTarget:e[0]});this.sliding=!0,f&&this.pause(),e=e.length?e:this.$element.find(".item")[h]();if(e.hasClass("active"))return;if(a.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(j);if(j.isDefaultPrevented())return;e.addClass(b),e[0].offsetWidth,d.addClass(g),e.addClass(g),this.$element.one(a.support.transition.end,function(){e.removeClass([b,g].join(" ")).addClass("active"),d.removeClass(["active",g].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger("slid")},0)})}else{this.$element.trigger(j);if(j.isDefaultPrevented())return;d.removeClass("active"),e.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return f&&this.cycle(),this}},a.fn.carousel=function(c){return this.each(function(){var d=a(this),e=d.data("carousel"),f=a.extend({},a.fn.carousel.defaults,typeof c=="object"&&c),g=typeof c=="string"?c:f.slide;e||d.data("carousel",e=new b(this,f)),typeof c=="number"?e.to(c):g?e[g]():f.interval&&e.cycle()})},a.fn.carousel.defaults={interval:5e3,pause:"hover"},a.fn.carousel.Constructor=b,a(function(){a("body").on("click.carousel.data-api","[data-slide]",function(b){var c=a(this),d,e=a(c.attr("data-target")||(d=c.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,"")),f=!e.data("modal")&&a.extend({},e.data(),c.data());e.carousel(f),b.preventDefault()})})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.collapse.defaults,c),this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};b.prototype={constructor:b,dimension:function(){var a=this.$element.hasClass("width");return a?"width":"height"},show:function(){var b,c,d,e;if(this.transitioning)return;b=this.dimension(),c=a.camelCase(["scroll",b].join("-")),d=this.$parent&&this.$parent.find("> .accordion-group > .in");if(d&&d.length){e=d.data("collapse");if(e&&e.transitioning)return;d.collapse("hide"),e||d.data("collapse",null)}this.$element[b](0),this.transition("addClass",a.Event("show"),"shown"),a.support.transition&&this.$element[b](this.$element[0][c])},hide:function(){var b;if(this.transitioning)return;b=this.dimension(),this.reset(this.$element[b]()),this.transition("removeClass",a.Event("hide"),"hidden"),this.$element[b](0)},reset:function(a){var b=this.dimension();return this.$element.removeClass("collapse")[b](a||"auto")[0].offsetWidth,this.$element[a!==null?"addClass":"removeClass"]("collapse"),this},transition:function(b,c,d){var e=this,f=function(){c.type=="show"&&e.reset(),e.transitioning=0,e.$element.trigger(d)};this.$element.trigger(c);if(c.isDefaultPrevented())return;this.transitioning=1,this.$element[b]("in"),a.support.transition&&this.$element.hasClass("collapse")?this.$element.one(a.support.transition.end,f):f()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}},a.fn.collapse=function(c){return this.each(function(){var d=a(this),e=d.data("collapse"),f=typeof c=="object"&&c;e||d.data("collapse",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.collapse.defaults={toggle:!0},a.fn.collapse.Constructor=b,a(function(){a("body").on("click.collapse.data-api","[data-toggle=collapse]",function(b){var c=a(this),d,e=c.attr("data-target")||b.preventDefault()||(d=c.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""),f=a(e).data("collapse")?"toggle":c.data();c[a(e).hasClass("in")?"addClass":"removeClass"]("collapsed"),a(e).collapse(f)})})}(window.jQuery),!function(a){function d(){e(a(b)).removeClass("open")}function e(b){var c=b.attr("data-target"),d;return c||(c=b.attr("href"),c=c&&/#/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,"")),d=a(c),d.length||(d=b.parent()),d}"use strict";var b="[data-toggle=dropdown]",c=function(b){var c=a(b).on("click.dropdown.data-api",this.toggle);a("html").on("click.dropdown.data-api",function(){c.parent().removeClass("open")})};c.prototype={constructor:c,toggle:function(b){var c=a(this),f,g;if(c.is(".disabled, :disabled"))return;return f=e(c),g=f.hasClass("open"),d(),g||(f.toggleClass("open"),c.focus()),!1},keydown:function(b){var c,d,f,g,h,i;if(!/(38|40|27)/.test(b.keyCode))return;c=a(this),b.preventDefault(),b.stopPropagation();if(c.is(".disabled, :disabled"))return;g=e(c),h=g.hasClass("open");if(!h||h&&b.keyCode==27)return c.click();d=a("[role=menu] li:not(.divider) a",g);if(!d.length)return;i=d.index(d.filter(":focus")),b.keyCode==38&&i>0&&i--,b.keyCode==40&&i<d.length-1&&i++,~i||(i=0),d.eq(i).focus()}},a.fn.dropdown=function(b){return this.each(function(){var d=a(this),e=d.data("dropdown");e||d.data("dropdown",e=new c(this)),typeof b=="string"&&e[b].call(d)})},a.fn.dropdown.Constructor=c,a(function(){a("html").on("click.dropdown.data-api touchstart.dropdown.data-api",d),a("body").on("click.dropdown touchstart.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.dropdown.data-api touchstart.dropdown.data-api",b,c.prototype.toggle).on("keydown.dropdown.data-api touchstart.dropdown.data-api",b+", [role=menu]",c.prototype.keydown)})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.options=c,this.$element=a(b).delegate('[data-dismiss="modal"]',"click.dismiss.modal",a.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};b.prototype={constructor:b,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var b=this,c=a.Event("show");this.$element.trigger(c);if(this.isShown||c.isDefaultPrevented())return;a("body").addClass("modal-open"),this.isShown=!0,this.escape(),this.backdrop(function(){var c=a.support.transition&&b.$element.hasClass("fade");b.$element.parent().length||b.$element.appendTo(document.body),b.$element.show(),c&&b.$element[0].offsetWidth,b.$element.addClass("in").attr("aria-hidden",!1).focus(),b.enforceFocus(),c?b.$element.one(a.support.transition.end,function(){b.$element.trigger("shown")}):b.$element.trigger("shown")})},hide:function(b){b&&b.preventDefault();var c=this;b=a.Event("hide"),this.$element.trigger(b);if(!this.isShown||b.isDefaultPrevented())return;this.isShown=!1,a("body").removeClass("modal-open"),this.escape(),a(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),a.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal()},enforceFocus:function(){var b=this;a(document).on("focusin.modal",function(a){b.$element[0]!==a.target&&!b.$element.has(a.target).length&&b.$element.focus()})},escape:function(){var a=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(b){b.which==27&&a.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var b=this,c=setTimeout(function(){b.$element.off(a.support.transition.end),b.hideModal()},500);this.$element.one(a.support.transition.end,function(){clearTimeout(c),b.hideModal()})},hideModal:function(a){this.$element.hide().trigger("hidden"),this.backdrop()},removeBackdrop:function(){this.$backdrop.remove(),this.$backdrop=null},backdrop:function(b){var c=this,d=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var e=a.support.transition&&d;this.$backdrop=a('<div class="modal-backdrop '+d+'" />').appendTo(document.body),this.options.backdrop!="static"&&this.$backdrop.click(a.proxy(this.hide,this)),e&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),e?this.$backdrop.one(a.support.transition.end,b):b()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,a.proxy(this.removeBackdrop,this)):this.removeBackdrop()):b&&b()}},a.fn.modal=function(c){return this.each(function(){var d=a(this),e=d.data("modal"),f=a.extend({},a.fn.modal.defaults,d.data(),typeof c=="object"&&c);e||d.data("modal",e=new b(this,f)),typeof c=="string"?e[c]():f.show&&e.show()})},a.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},a.fn.modal.Constructor=b,a(function(){a("body").on("click.modal.data-api",'[data-toggle="modal"]',function(b){var c=a(this),d=c.attr("href"),e=a(c.attr("data-target")||d&&d.replace(/.*(?=#[^\s]+$)/,"")),f=e.data("modal")?"toggle":a.extend({remote:!/#/.test(d)&&d},e.data(),c.data());b.preventDefault(),e.modal(f).one("hide",function(){c.focus()})})})}(window.jQuery),!function(a){"use strict";var b=function(a,b){this.init("tooltip",a,b)};b.prototype={constructor:b,init:function(b,c,d){var e,f;this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.enabled=!0,this.options.trigger=="click"?this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this)):this.options.trigger!="manual"&&(e=this.options.trigger=="hover"?"mouseenter":"focus",f=this.options.trigger=="hover"?"mouseleave":"blur",this.$element.on(e+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(f+"."+this.type,this.options.selector,a.proxy(this.leave,this))),this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(b){return b=a.extend({},a.fn[this.type].defaults,b,this.$element.data()),b.delay&&typeof b.delay=="number"&&(b.delay={show:b.delay,hide:b.delay}),b},enter:function(b){var c=a(b.currentTarget)[this.type](this._options).data(this.type);if(!c.options.delay||!c.options.delay.show)return c.show();clearTimeout(this.timeout),c.hoverState="in",this.timeout=setTimeout(function(){c.hoverState=="in"&&c.show()},c.options.delay.show)},leave:function(b){var c=a(b.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!c.options.delay||!c.options.delay.hide)return c.hide();c.hoverState="out",this.timeout=setTimeout(function(){c.hoverState=="out"&&c.hide()},c.options.delay.hide)},show:function(){var a,b,c,d,e,f,g;if(this.hasContent()&&this.enabled){a=this.tip(),this.setContent(),this.options.animation&&a.addClass("fade"),f=typeof this.options.placement=="function"?this.options.placement.call(this,a[0],this.$element[0]):this.options.placement,b=/in/.test(f),a.remove().css({top:0,left:0,display:"block"}).appendTo(b?this.$element:document.body),c=this.getPosition(b),d=a[0].offsetWidth,e=a[0].offsetHeight;switch(b?f.split(" ")[1]:f){case"bottom":c.left+c.width/2-d/2<0?g={top:c.top+c.height,left:c.left-20}:g={top:c.top+c.height,left:c.left+c.width/2-d/2};break;case"top":g={top:c.top-e,left:c.left+c.width/2-d/2};break;case"left":g={top:c.top+c.height/2-e/2,left:c.left-d};break;case"right":c.top+c.height/2-e/2<0?g={top:.5,left:c.left+c.width}:g={top:c.top+c.height/2-e/2,left:c.left+c.width}}a.css(g).addClass(f).addClass("in")}},setContent:function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},hide:function(){function d(){var b=setTimeout(function(){c.off(a.support.transition.end).remove()},500);c.one(a.support.transition.end,function(){clearTimeout(b),c.remove()})}var b=this,c=this.tip();return c.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?d():c.remove(),this},fixTitle:function(){var a=this.$element;(a.attr("title")||typeof a.attr("data-original-title")!="string")&&a.attr("data-original-title",a.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(b){return a.extend({},b?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||(typeof c.title=="function"?c.title.call(b[0]):c.title),a},tip:function(){return this.$tip=this.$tip||a(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}},a.fn.tooltip=function(c){return this.each(function(){var d=a(this),e=d.data("tooltip"),f=typeof c=="object"&&c;e||d.data("tooltip",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.tooltip.Constructor=b,a.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0,html:!0}}(window.jQuery),!function(a){"use strict";var b=function(a,b){this.init("popover",a,b)};b.prototype=a.extend({},a.fn.tooltip.Constructor.prototype,{constructor:b,setContent:function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content > *")[this.options.html?"html":"text"](c),a.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var a,b=this.$element,c=this.options;return a=b.attr("data-content")||(typeof c.content=="function"?c.content.call(b[0]):c.content),a},tip:function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}}),a.fn.popover=function(c){return this.each(function(){var d=a(this),e=d.data("popover"),f=typeof c=="object"&&c;e||d.data("popover",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.popover.Constructor=b,a.fn.popover.defaults=a.extend({},a.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'})}(window.jQuery),!function(a){function b(b,c){var d=a.proxy(this.process,this),e=a(b).is("body")?a(window):a(b),f;this.options=a.extend({},a.fn.scrollspy.defaults,c),this.$scrollElement=e.on("scroll.scroll-spy.data-api",d),this.selector=(this.options.target||(f=a(b).attr("href"))&&f.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=a("body"),this.refresh(),this.process()}"use strict",b.prototype={constructor:b,refresh:function(){var b=this,c;this.offsets=a([]),this.targets=a([]),c=this.$body.find(this.selector).map(function(){var b=a(this),c=b.data("target")||b.attr("href"),d=/^#\w/.test(c)&&a(c);return d&&d.length&&[[d.position().top,c]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]),b.targets.push(this[1])})},process:function(){var a=this.$scrollElement.scrollTop()+this.options.offset,b=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,c=b-this.$scrollElement.height(),d=this.offsets,e=this.targets,f=this.activeTarget,g;if(a>=c)return f!=(g=e.last()[0])&&this.activate(g);for(g=d.length;g--;)f!=e[g]&&a>=d[g]&&(!d[g+1]||a<=d[g+1])&&this.activate(e[g])},activate:function(b){var c,d;this.activeTarget=b,a(this.selector).parent(".active").removeClass("active"),d=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',c=a(d).parent("li").addClass("active"),c.parent(".dropdown-menu").length&&(c=c.closest("li.dropdown").addClass("active")),c.trigger("activate")}},a.fn.scrollspy=function(c){return this.each(function(){var d=a(this),e=d.data("scrollspy"),f=typeof c=="object"&&c;e||d.data("scrollspy",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.scrollspy.Constructor=b,a.fn.scrollspy.defaults={offset:10},a(window).on("load",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);b.scrollspy(b.data())})})}(window.jQuery),!function(a){"use strict";var b=function(b){this.element=a(b)};b.prototype={constructor:b,show:function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.attr("data-target"),e,f,g;d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,""));if(b.parent("li").hasClass("active"))return;e=c.find(".active a").last()[0],g=a.Event("show",{relatedTarget:e}),b.trigger(g);if(g.isDefaultPrevented())return;f=a(d),this.activate(b.parent("li"),c),this.activate(f,f.parent(),function(){b.trigger({type:"shown",relatedTarget:e})})},activate:function(b,c,d){function g(){e.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),f?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var e=c.find("> .active"),f=d&&a.support.transition&&e.hasClass("fade");f?e.one(a.support.transition.end,g):g(),e.removeClass("in")}},a.fn.tab=function(c){return this.each(function(){var d=a(this),e=d.data("tab");e||d.data("tab",e=new b(this)),typeof c=="string"&&e[c]()})},a.fn.tab.Constructor=b,a(function(){a("body").on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault(),a(this).tab("show")})})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.typeahead.defaults,c),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.$menu=a(this.options.menu).appendTo("body"),this.source=this.options.source,this.shown=!1,this.listen()};b.prototype={constructor:b,select:function(){var a=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(a)).change(),this.hide()},updater:function(a){return a},show:function(){var b=a.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight});return this.$menu.css({top:b.top+b.height,left:b.left}),this.$menu.show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(b){var c;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(c=a.isFunction(this.source)?this.source(this.query,a.proxy(this.process,this)):this.source,c?this.process(c):this)},process:function(b){var c=this;return b=a.grep(b,function(a){return c.matcher(a)}),b=this.sorter(b),b.length?this.render(b.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(a){return~a.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(a){var b=[],c=[],d=[],e;while(e=a.shift())e.toLowerCase().indexOf(this.query.toLowerCase())?~e.indexOf(this.query)?c.push(e):d.push(e):b.push(e);return b.concat(c,d)},highlighter:function(a){var b=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return a.replace(new RegExp("("+b+")","ig"),function(a,b){return"<strong>"+b+"</strong>"})},render:function(b){var c=this;return b=a(b).map(function(b,d){return b=a(c.options.item).attr("data-value",d),b.find("a").html(c.highlighter(d)),b[0]}),b.first().addClass("active"),this.$menu.html(b),this},next:function(b){var c=this.$menu.find(".active").removeClass("active"),d=c.next();d.length||(d=a(this.$menu.find("li")[0])),d.addClass("active")},prev:function(a){var b=this.$menu.find(".active").removeClass("active"),c=b.prev();c.length||(c=this.$menu.find("li").last()),c.addClass("active")},listen:function(){this.$element.on("blur",a.proxy(this.blur,this)).on("keypress",a.proxy(this.keypress,this)).on("keyup",a.proxy(this.keyup,this)),(a.browser.chrome||a.browser.webkit||a.browser.msie)&&this.$element.on("keydown",a.proxy(this.keydown,this)),this.$menu.on("click",a.proxy(this.click,this)).on("mouseenter","li",a.proxy(this.mouseenter,this))},move:function(a){if(!this.shown)return;switch(a.keyCode){case 9:case 13:case 27:a.preventDefault();break;case 38:a.preventDefault(),this.prev();break;case 40:a.preventDefault(),this.next()}a.stopPropagation()},keydown:function(b){this.suppressKeyPressRepeat=!~a.inArray(b.keyCode,[40,38,9,13,27]),this.move(b)},keypress:function(a){if(this.suppressKeyPressRepeat)return;this.move(a)},keyup:function(a){switch(a.keyCode){case 40:case 38:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}a.stopPropagation(),a.preventDefault()},blur:function(a){var b=this;setTimeout(function(){b.hide()},150)},click:function(a){a.stopPropagation(),a.preventDefault(),this.select()},mouseenter:function(b){this.$menu.find(".active").removeClass("active"),a(b.currentTarget).addClass("active")}},a.fn.typeahead=function(c){return this.each(function(){var d=a(this),e=d.data("typeahead"),f=typeof c=="object"&&c;e||d.data("typeahead",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},a.fn.typeahead.Constructor=b,a(function(){a("body").on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(b){var c=a(this);if(c.data("typeahead"))return;b.preventDefault(),c.typeahead(c.data())})})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.options=a.extend({},a.fn.affix.defaults,c),this.$window=a(window).on("scroll.affix.data-api",a.proxy(this.checkPosition,this)),this.$element=a(b),this.checkPosition()};b.prototype.checkPosition=function(){if(!this.$element.is(":visible"))return;var b=a(document).height(),c=this.$window.scrollTop(),d=this.$element.offset(),e=this.options.offset,f=e.bottom,g=e.top,h="affix affix-top affix-bottom",i;typeof e!="object"&&(f=g=e),typeof g=="function"&&(g=e.top()),typeof f=="function"&&(f=e.bottom()),i=this.unpin!=null&&c+this.unpin<=d.top?!1:f!=null&&d.top+this.$element.height()>=b-f?"bottom":g!=null&&c<=g?"top":!1;if(this.affixed===i)return;this.affixed=i,this.unpin=i=="bottom"?d.top-c:null,this.$element.removeClass(h).addClass("affix"+(i?"-"+i:""))},a.fn.affix=function(c){return this.each(function(){var d=a(this),e=d.data("affix"),f=typeof c=="object"&&c;e||d.data("affix",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.affix.Constructor=b,a.fn.affix.defaults={offset:0},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var b=a(this),c=b.data();c.offset=c.offset||{},c.offsetBottom&&(c.offset.bottom=c.offsetBottom),c.offsetTop&&(c.offset.top=c.offsetTop),b.affix(c)})})}(window.jQuery),function(a,b){function c(b,c){var e=b.nodeName.toLowerCase();return"area"===e?(c=b.parentNode,e=c.name,!b.href||!e||c.nodeName.toLowerCase()!=="map"?!1:(b=a("img[usemap=#"+e+"]")[0],!!b&&d(b))):(/input|select|textarea|button|object/.test(e)?!b.disabled:"a"==e?b.href||c:c)&&d(b)}function d(b){return!a(b).parents().andSelf().filter(function(){return a.curCSS(this,"visibility")==="hidden"||a.expr.filters.hidden(this)}).length}a.ui=a.ui||{},a.ui.version||(a.extend(a.ui,{version:"1.8.16",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),a.fn.extend({propAttr:a.fn.prop||a.fn.attr,_focus:a.fn.focus,focus:function(b,c){return typeof b=="number"?this.each(function(){var d=this;setTimeout(function(){a(d).focus(),c&&c.call(d)},b)}):this._focus.apply(this,arguments)},scrollParent:function(){var b;return b=a.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.curCSS(this,"position",1))&&/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length){c=a(this[0]);for(var d;c.length&&c[0]!==document;){d=c.css("position");if(d==="absolute"||d==="relative"||d==="fixed"){d=parseInt(c.css("zIndex"),10);if(!isNaN(d)&&d!==0)return d}c=c.parent()}}return 0},disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.each(["Width","Height"],function(c,d){function e(b,c,d,e){return a.each(f,function(){c-=parseFloat(a.curCSS(b,"padding"+this,!0))||0,d&&(c-=parseFloat(a.curCSS(b,"border"+this+"Width",!0))||0),e&&(c-=parseFloat(a.curCSS(b,"margin"+this,!0))||0)}),c}var f=d==="Width"?["Left","Right"]:["Top","Bottom"],g=d.toLowerCase(),h={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(c){return c===b?h["inner"+d].call(this):this.each(function(){a(this).css(g,e(this,c)+"px")})},a.fn["outer"+d]=function(b,c){return typeof b!="number"?h["outer"+d].call(this,b):this.each(function(){a(this).css(g,e(this,b,!0,c)+"px")})}}),a.extend(a.expr[":"],{data:function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return c(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var d=a.attr(b,"tabindex"),e=isNaN(d);return(e||d>=0)&&c(b,!e)}}),a(function(){var b=document.body,c=b.appendChild(c=document.createElement("div"));a.extend(c.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),a.support.minHeight=c.offsetHeight===100,a.support.selectstart="onselectstart"in c,b.removeChild(c).style.display="none"}),a.extend(a.ui,{plugin:{add:function(b,c,d){b=a.ui[b].prototype;for(var e in d)b.plugins[e]=b.plugins[e]||[],b.plugins[e].push([c,d[e]])},call:function(a,b,c){if((b=a.plugins[b])&&a.element[0].parentNode)for(var d=0;d<b.length;d++)a.options[b[d][0]]&&b[d][1].apply(a.element,c)}},contains:function(a,b){return document.compareDocumentPosition?a.compareDocumentPosition(b)&16:a!==b&&a.contains(b)},hasScroll:function(b,c){if(a(b).css("overflow")==="hidden")return!1;c=c&&c==="left"?"scrollLeft":"scrollTop";var d=!1;return b[c]>0?!0:(b[c]=1,d=b[c]>0,b[c]=0,d)},isOverAxis:function(a,b,c){return a>b&&a<b+c},isOver:function(b,c,d,e,f,g){return a.ui.isOverAxis(b,d,f)&&a.ui.isOverAxis(c,e,g)}}))}(jQuery),function(a,b){if(a.cleanData){var c=a.cleanData;a.cleanData=function(b){for(var d=0,e;(e=b[d])!=null;d++)try{a(e).triggerHandler("remove")}catch(f){}c(b)}}else{var d=a.fn.remove;a.fn.remove=function(b,c){return this.each(function(){return c||(!b||a.filter(b,[this]).length)&&a("*",this).add([this]).each(function(){try{a(this).triggerHandler("remove")}catch(b){}}),d.call(a(this),b,c)})}}a.widget=function(b,c,d){var e=b.split(".")[0],f;b=b.split(".")[1],f=e+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][f]=function(c){return!!a.data(c,b)},a[e]=a[e]||{},a[e][b]=function(a,b){arguments.length&&this._createWidget(a,b)},c=new c,c.options=a.extend(!0,{},c.options),a[e][b].prototype=a.extend(!0,c,{namespace:e,widgetName:b,widgetEventPrefix:a[e][b].prototype.widgetEventPrefix||b,widgetBaseClass:f},d),a.widget.bridge(b,a[e][b])},a.widget.bridge=function(c,d){a.fn[c]=function(e){var f=typeof e=="string",g=Array.prototype.slice.call(arguments,1),h=this;return e=!f&&g.length?a.extend.apply(null,[!0,e].concat(g)):e,f&&e.charAt(0)==="_"?h:(f?this.each(function(){var d=a.data(this,c),f=d&&a.isFunction(d[e])?d[e].apply(d,g):d;if(f!==d&&f!==b)return h=f,!1}):this.each(function(){var b=a.data(this,c);b?b.option(e||{})._init():a.data(this,c,new d(e,this))}),h)}},a.Widget=function(a,b){arguments.length&&this._createWidget(a,b)},a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(b,c){a.data(c,this.widgetName,this),this.element=a(c),this.options=a.extend(!0,{},this.options,this._getCreateOptions(),b);var d=this;this.element.bind("remove."+this.widgetName,function(){d.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(c,d){var e=c;if(arguments.length===0)return a.extend({},this.options);if(typeof c=="string"){if(d===b)return this.options[c];e={},e[c]=d}return this._setOptions(e),this},_setOptions:function(b){var c=this;return a.each(b,function(a,b){c._setOption(a,b)}),this},_setOption:function(a,b){return this.options[a]=b,a==="disabled"&&this.widget()[b?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",b),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(b,c,d){var e=this.options[b];c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),d=d||{};if(c.originalEvent){b=a.event.props.length;for(var f;b;)f=a.event.props[--b],c[f]=c.originalEvent[f]}return this.element.trigger(c,d),!(a.isFunction(e)&&e.call(this.element[0],c,d)===!1||c.isDefaultPrevented())}}}(jQuery),function(a){var b=!1;a(document).mouseup(function(){b=!1}),a.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(c){if(!0===a.data(c.target,b.widgetName+".preventClickEvent"))return a.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(c){if(!b){this._mouseStarted&&this._mouseUp(c),this._mouseDownEvent=c;var e=this,f=c.which==1,g=typeof this.options.cancel=="string"&&c.target.nodeName?a(c.target).closest(this.options.cancel).length:!1;if(!f||g||!this._mouseCapture(c))return!0;this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(c)&&this._mouseDelayMet(c)){this._mouseStarted=this._mouseStart(c)!==!1;if(!this._mouseStarted)return c.preventDefault(),!0}return!0===a.data(c.target,this.widgetName+".preventClickEvent")&&a.removeData(c.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return e._mouseMove(a)},this._mouseUpDelegate=function(a){return e._mouseUp(a)},a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),c.preventDefault(),b=!0}},_mouseMove:function(b){return!a.browser.msie||document.documentMode>=9||!!b.button?this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&((this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==!1)?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted):this._mouseUp(b)},_mouseUp:function(b){return a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target==this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(a){a.ui=a.ui||{};var b=/left|center|right/,c=/top|center|bottom/,d=a.fn.position,e=a.fn.offset;a.fn.position=function(e){if(!e||!e.of)return d.apply(this,arguments);e=a.extend({},e);var f=a(e.of),g=f[0],h=(e.collision||"flip").split(" "),i=e.offset?e.offset.split(" "):[0,0],j,k,l;return g.nodeType===9?(j=f.width(),k=f.height(),l={top:0,left:0}):g.setTimeout?(j=f.width(),k=f.height(),l={top:f.scrollTop(),left:f.scrollLeft()}):g.preventDefault?(e.at="left top",j=k=0,l={top:e.of.pageY,left:e.of.pageX}):(j=f.outerWidth(),k=f.outerHeight(),l=f.offset()),a.each(["my","at"],function(){var a=(e[this]||"").split(" ");a.length===1&&(a=b.test(a[0])?a.concat(["center"]):c.test(a[0])?["center"].concat(a):["center","center"]),a[0]=b.test(a[0])?a[0]:"center",a[1]=c.test(a[1])?a[1]:"center",e[this]=a}),h.length===1&&(h[1]=h[0]),i[0]=parseInt(i[0],10)||0,i.length===1&&(i[1]=i[0]),i[1]=parseInt(i[1],10)||0,e.at[0]==="right"?l.left+=j:e.at[0]==="center"&&(l.left+=j/2),e.at[1]==="bottom"?l.top+=k:e.at[1]==="center"&&(l.top+=k/2),l.left+=i[0],l.top+=i[1],this.each(function(){var b=a(this),c=b.outerWidth(),d=b.outerHeight(),f=parseInt(a.curCSS(this,"marginLeft",!0))||0,g=parseInt(a.curCSS(this,"marginTop",!0))||0,m=c+f+(parseInt(a.curCSS(this,"marginRight",!0))||0),n=d+g+(parseInt(a.curCSS(this,"marginBottom",!0))||0),o=a.extend({},l),p;e.my[0]==="right"?o.left-=c:e.my[0]==="center"&&(o.left-=c/2),e.my[1]==="bottom"?o.top-=d:e.my[1]==="center"&&(o.top-=d/2),o.left=Math.round(o.left),o.top=Math.round(o.top),p={left:o.left-f,top:o.top-g},a.each(["left","top"],function(b,f){a.ui.position[h[b]]&&a.ui.position[h[b]][f](o,{targetWidth:j,targetHeight:k,elemWidth:c,elemHeight:d,collisionPosition:p,collisionWidth:m,collisionHeight:n,offset:i,my:e.my,at:e.at})}),a.fn.bgiframe&&b.bgiframe(),b.offset(a.extend(o,{using:e.using}))})},a.ui.position={fit:{left:function(b,c){var d=a(window);d=c.collisionPosition.left+c.collisionWidth-d.width()-d.scrollLeft(),b.left=d>0?b.left-d:Math.max(b.left-c.collisionPosition.left,b.left)},top:function(b,c){var d=a(window);d=c.collisionPosition.top+c.collisionHeight-d.height()-d.scrollTop(),b.top=d>0?b.top-d:Math.max(b.top-c.collisionPosition.top,b.top)}},flip:{left:function(b,c){if(c.at[0]!=="center"){var d=a(window);d=c.collisionPosition.left+c.collisionWidth-d.width()-d.scrollLeft();var e=c.my[0]==="left"?-c.elemWidth:c.my[0]==="right"?c.elemWidth:0,f=c.at[0]==="left"?c.targetWidth:-c.targetWidth,g=-2*c.offset[0];b.left+=c.collisionPosition.left<0?e+f+g:d>0?e+f+g:0}},top:function(b,c){if(c.at[1]!=="center"){var d=a(window);d=c.collisionPosition.top+c.collisionHeight-d.height()-d.scrollTop();var e=c.my[1]==="top"?-c.elemHeight:c.my[1]==="bottom"?c.elemHeight:0,f=c.at[1]==="top"?c.targetHeight:-c.targetHeight,g=-2*c.offset[1];b.top+=c.collisionPosition.top<0?e+f+g:d>0?e+f+g:0}}}},a.offset.setOffset||(a.offset.setOffset=function(b,c){/static/.test(a.curCSS(b,"position"))&&(b.style.position="relative");var d=a(b),e=d.offset(),f=parseInt(a.curCSS(b,"top",!0),10)||0,g=parseInt(a.curCSS(b,"left",!0),10)||0;e={top:c.top-e.top+f,left:c.left-e.left+g},"using"in c?c.using.call(b,e):d.css(e)},a.fn.offset=function(b){var c=this[0];return!c||!c.ownerDocument?null:b?this.each(function(){a.offset.setOffset(this,b)}):e.call(this)})}(jQuery),function(a){a.widget("ui.draggable",a.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){this.options.helper=="original"&&!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},destroy:function(){if(this.element.data("draggable"))return this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this},_mouseCapture:function(b){var c=this.options;return this.helper||c.disabled||a(b.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(b),this.handle?(c.iframeFix&&a(c.iframeFix===!0?"iframe":c.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(a(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(b){var c=this.options;return this.helper=this._createHelper(b),this._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),c.containment&&this._setContainment(),this._trigger("start",b)===!1?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this.helper.addClass("ui-draggable-dragging"),this._mouseDrag(b,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,b),!0)},_mouseDrag:function(b,c){this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute");if(!c){c=this._uiHash();if(this._trigger("drag",b,c)===!1)return this._mouseUp({}),!1;this.position=c.position}if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";return a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),!1},_mouseStop:function(b){var c=!1;a.ui.ddmanager&&!this.options.dropBehaviour&&(c=a.ui.ddmanager.drop(this,b)),this.dropped&&(c=this.dropped,this.dropped=!1);if((!this.element[0]||!this.element[0].parentNode)&&this.options.helper=="original")return!1;if(this.options.revert=="invalid"&&!c||this.options.revert=="valid"&&c||this.options.revert===!0||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,c)){var e=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){e._trigger("stop",b)!==!1&&e._clear()})}else this._trigger("stop",b)!==!1&&this._clear();return!1},_mouseUp:function(b){return this.options.iframeFix===!0&&a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b),a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(b){var c=!this.options.handle||!a(this.options.handle,this.element).length?!0:!1;return a(this.options.handle,this.element).find("*").andSelf().each(function(){this==b.target&&(c=!0)}),c},_createHelper:function(b){var c=this.options;return b=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b])):c.helper=="clone"?this.element.clone().removeAttr("id"):this.element,b.parents("body").length||b.appendTo(c.appendTo=="parent"?this.element[0].parentNode:c.appendTo),b[0]!=this.element[0]&&!/(fixed|absolute)/.test(b.css("position"))&&b.css("position","absolute"),b},_adjustOffsetFromHelper:function(b){typeof b=="string"&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;b.containment=="parent"&&(b.containment=this.helper[0].parentNode);if(b.containment=="document"||b.containment=="window")this.containment=[b.containment=="document"?0:a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,b.containment=="document"?0:a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(b.containment=="document"?0:a(window).scrollLeft())+a(b.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(b.containment=="document"?0:a(window).scrollTop())+(a(b.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(b.containment)&&b.containment.constructor!=Array){b=a(b.containment);var c=b[0];if(c){b.offset();var e=a(c).css("overflow")!="hidden";this.containment=[(parseInt(a(c).css("borderLeftWidth"),10)||0)+(parseInt(a(c).css("paddingLeft"),10)||0),(parseInt(a(c).css("borderTopWidth"),10)||0)+(parseInt(a(c).css("paddingTop"),10)||0),(e?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(a(c).css("borderLeftWidth"),10)||0)-(parseInt(a(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(a(c).css("borderTopWidth"),10)||0)-(parseInt(a(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=b}}else b.containment.constructor==Array&&(this.containment=b.containment)},_convertPositionTo:function(b,c){c||(c=this.position),b=b=="absolute"?1:-1;var e=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!a.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,f=/(html|body)/i.test(e[0].tagName);return{top:c.top+this.offset.relative.top*b+this.offset.parent.top*b-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():f?0:e.scrollTop())*b),left:c.left+this.offset.relative.left*b+this.offset.parent.left*b-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():f?0:e.scrollLeft())*b)}},_generatePosition:function(b){var c=this.options,e=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!a.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,f=/(html|body)/i.test(e[0].tagName),g=b.pageX,h=b.pageY;if(this.originalPosition){var i;this.containment&&(this.relative_container?(i=this.relative_container.offset(),i=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):i=this.containment,b.pageX-this.offset.click.left<i[0]&&(g=i[0]+this.offset.click.left),b.pageY-this.offset.click.top<i[1]&&(h=i[1]+this.offset.click.top),b.pageX-this.offset.click.left>i[2]&&(g=i[2]+this.offset.click.left),b.pageY-this.offset.click.top>i[3]&&(h=i[3]+this.offset.click.top)),c.grid&&(h=c.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/c.grid[1])*c.grid[1]:this.originalPageY,h=i?h-this.offset.click.top<i[1]||h-this.offset.click.top>i[3]?h-this.offset.click.top<i[1]?h+c.grid[1]:h-c.grid[1]:h:h,g=c.grid[0]?this.originalPageX+Math.round((g-this.originalPageX)/c.grid[0])*c.grid[0]:this.originalPageX,g=i?g-this.offset.click.left<i[0]||g-this.offset.click.left>i[2]?g-this.offset.click.left<i[0]?g+c.grid[0]:g-c.grid[0]:g:g)}return{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():f?0:e.scrollTop()),left:g-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():f?0:e.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(b,c,e){return e=e||this._uiHash(),a.ui.plugin.call(this,b,[c,e]),b=="drag"&&(this.positionAbs=this._convertPositionTo("absolute")),a.Widget.prototype._trigger.call(this,b,c,e)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),a.extend(a.ui.draggable,{version:"1.8.16"}),a.ui.plugin.add("draggable","connectToSortable",{start:function(b,c){var e=a(this).data("draggable"),f=e.options,g=a.extend({},c,{item:e.element});e.sortables=[],a(f.connectToSortable).each(function(){var c=a.data(this,"sortable");c&&!c.options.disabled&&(e.sortables.push({instance:c,shouldRevert:c.options.revert}),c.refreshPositions(),c._trigger("activate",b,g))})},stop:function(b,c){var e=a(this).data("draggable"),f=a.extend({},c,{item:e.element});a.each(e.sortables,function(){this.instance.isOver?(this.instance.isOver=0,e.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(b),this.instance.options.helper=this.instance.options._helper,e.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",b,f))})},drag:function(b,c){var e=a(this).data("draggable"),f=this;a.each(e.sortables,function(){this.instance.positionAbs=e.positionAbs,this.instance.helperProportions=e.helperProportions,this.instance.offset.click=e.offset.click,this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(f).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return c.helper[0]},b.target=this.instance.currentItem[0],this.instance._mouseCapture(b,!0),this.instance._mouseStart(b,!0,!0),this.instance.offset.click.top=e.offset.click.top,this.instance.offset.click.left=e.offset.click.left,this.instance.offset.parent.left-=e.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=e.offset.parent.top-this.instance.offset.parent.top,e._trigger("toSortable",b),e.dropped=this.instance.element,e.currentItem=e.element,this.instance.fromOutside=e),this.instance.currentItem&&this.instance._mouseDrag(b)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",b,this.instance._uiHash(this.instance)),this.instance._mouseStop(b,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),e._trigger("fromSortable",b),e.dropped=!1)})}}),a.ui.plugin.add("draggable","cursor",{start:function(){var b=a("body"),c=a(this).data("draggable").options;b.css("cursor")&&(c._cursor=b.css("cursor")),b.css("cursor",c.cursor)},stop:function(){var b=a(this).data("draggable").options;b._cursor&&a("body").css("cursor",b._cursor)}}),a.ui.plugin.add("draggable","opacity",{start:function(b,c){b=a(c.helper),c=a(this).data("draggable").options,b.css("opacity")&&(c._opacity=b.css("opacity")),b.css("opacity",c.opacity)},stop:function(b,c){b=a(this).data("draggable").options,b._opacity&&a(c.helper).css("opacity",b._opacity)}}),a.ui.plugin.add("draggable","scroll",{start:function(){var b=a(this).data("draggable");b.scrollParent[0]!=document&&b.scrollParent[0].tagName!="HTML"&&(b.overflowOffset=b.scrollParent.offset())},drag:function(b){var c=a(this).data("draggable"),e=c.options,f=!1;if(c.scrollParent[0]!=document&&c.scrollParent[0].tagName!="HTML"){if(!e.axis||e.axis!="x")c.overflowOffset.top+c.scrollParent[0].offsetHeight-b.pageY<e.scrollSensitivity?c.scrollParent[0].scrollTop=f=c.scrollParent[0].scrollTop+e.scrollSpeed:b.pageY-c.overflowOffset.top<e.scrollSensitivity&&(c.scrollParent[0].scrollTop=f=c.scrollParent[0].scrollTop-e.scrollSpeed);if(!e.axis||e.axis!="y")c.overflowOffset.left+c.scrollParent[0].offsetWidth-b.pageX<e.scrollSensitivity?c.scrollParent[0].scrollLeft=f=c.scrollParent[0].scrollLeft+e.scrollSpeed:b.pageX-c.overflowOffset.left<e.scrollSensitivity&&(c.scrollParent[0].scrollLeft=f=c.scrollParent[0].scrollLeft-e.scrollSpeed)}else{if(!e.axis||e.axis!="x")b.pageY-a(document).scrollTop()<e.scrollSensitivity?f=a(document).scrollTop(a(document).scrollTop()-e.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<e.scrollSensitivity&&(f=a(document).scrollTop(a(document).scrollTop()+e.scrollSpeed));if(!e.axis||e.axis!="y")b.pageX-a(document).scrollLeft()<e.scrollSensitivity?f=a(document).scrollLeft(a(document).scrollLeft()-e.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<e.scrollSensitivity&&(f=a(document).scrollLeft(a(document).scrollLeft()+e.scrollSpeed))}f!==!1&&a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(c,b)}}),a.ui.plugin.add("draggable","snap",{start:function(){var b=a(this).data("draggable"),c=b.options;b.snapElements=[],a(c.snap.constructor!=String?c.snap.items||":data(draggable)":c.snap).each(function(){var c=a(this),e=c.offset();this!=b.element[0]&&b.snapElements.push({item:this,width:c.outerWidth(),height:c.outerHeight(),top:e.top,left:e.left})})},drag:function(b,c){for(var e=a(this).data("draggable"),f=e.options,g=f.snapTolerance,h=c.offset.left,i=h+e.helperProportions.width,j=c.offset.top,k=j+e.helperProportions.height,l=e.snapElements.length-1;l>=0;l--){var m=e.snapElements[l].left,n=m+e.snapElements[l].width,o=e.snapElements[l].top,p=o+e.snapElements[l].height;if(m-g<h&&h<n+g&&o-g<j&&j<p+g||m-g<h&&h<n+g&&o-g<k&&k<p+g||m-g<i&&i<n+g&&o-g<j&&j<p+g||m-g<i&&i<n+g&&o-g<k&&k<p+g){if(f.snapMode!="inner"){var q=Math.abs(o-k)<=g,r=Math.abs(p-j)<=g,s=Math.abs(m-i)<=g,t=Math.abs(n-h)<=g;q&&(c.position.top=e._convertPositionTo("relative",{top:o-e.helperProportions.height,left:0}).top-e.margins.top),r&&(c.position.top=e._convertPositionTo("relative",{top:p,left:0}).top-e.margins.top),s&&(c.position.left=e._convertPositionTo("relative",{top:0,left:m-e.helperProportions.width}).left-e.margins.left),t&&(c.position.left=e._convertPositionTo("relative",{top:0,left:n}).left-e.margins.left)}var u=q||r||s||t;f.snapMode!="outer"&&(q=Math.abs(o-j)<=g,r=Math.abs(p-k)<=g,s=Math.abs(m-h)<=g,t=Math.abs(n-i)<=g,q&&(c.position.top=e._convertPositionTo("relative",{top:o,left:0}).top-e.margins.top),r&&(c.position.top=e._convertPositionTo("relative",{top:p-e.helperProportions.height,left:0}).top-e.margins.top),s&&(c.position.left=e._convertPositionTo("relative",{top:0,left:m}).left-e.margins.left),t&&(c.position.left=e._convertPositionTo("relative",{top:0,left:n-e.helperProportions.width}).left-e.margins.left)),!e.snapElements[l].snapping&&(q||r||s||t||u)&&e.options.snap.snap&&e.options.snap.snap.call(e.element,b,a.extend(e._uiHash(),{snapItem:e.snapElements[l].item})),e.snapElements[l].snapping=q||r||s||t||u}else e.snapElements[l].snapping&&e.options.snap.release&&e.options.snap.release.call(e.element,b,a.extend(e._uiHash(),{snapItem:e.snapElements[l].item})),e.snapElements[l].snapping=!1}}}),a.ui.plugin.add("draggable","stack",{start:function(){var b=a(this).data("draggable").options;b=a.makeArray(a(b.stack)).sort(function(b,c){return(parseInt(a(b).css("zIndex"),10)||0)-(parseInt(a(c).css("zIndex"),10)||0)});if(b.length){var c=parseInt(b[0].style.zIndex)||0;a(b).each(function(a){this.style.zIndex=c+a}),this[0].style.zIndex=c+b.length}}}),a.ui.plugin.add("draggable","zIndex",{start:function(b,c){b=a(c.helper),c=a(this).data("draggable").options,b.css("zIndex")&&(c._zIndex=b.css("zIndex")),b.css("zIndex",c.zIndex)},stop:function(b,c){b=a(this).data("draggable").options,b._zIndex&&a(c.helper).css("zIndex",b._zIndex)}})}(jQuery),function(a){a.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var b=this.options,c=b.accept;this.isover=0,this.isout=1,this.accept=a.isFunction(c)?c:function(a){return a.is(c)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},a.ui.ddmanager.droppables[b.scope]=a.ui.ddmanager.droppables[b.scope]||[],a.ui.ddmanager.droppables[b.scope].push(this),b.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){for(var b=a.ui.ddmanager.droppables[this.options.scope],c=0;c<b.length;c++)b[c]==this&&b.splice(c,1);return this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable"),this},_setOption:function(b,c){b=="accept"&&(this.accept=a.isFunction(c)?c:function(a){return a.is(c)}),a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),c&&this._trigger("activate",b,this.ui(c))},_deactivate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),c&&this._trigger("deactivate",b,this.ui(c))},_over:function(b){var c=a.ui.ddmanager.current;!!c&&(c.currentItem||c.element)[0]!=this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",b,this.ui(c)))},_out:function(b){var c=a.ui.ddmanager.current;!!c&&(c.currentItem||c.element)[0]!=this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",b,this.ui(c)))},_drop:function(b,c){var e=c||a.ui.ddmanager.current;if(!e||(e.currentItem||e.element)[0]==this.element[0])return!1;var f=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var b=a.data(this,"droppable");if(b.options.greedy&&!b.options.disabled&&b.options.scope==e.options.scope&&b.accept.call(b.element[0],e.currentItem||e.element)&&a.ui.intersect(e,a.extend(b,{offset:b.element.offset()}),b.options.tolerance))return f=!0,!1}),f?!1:this.accept.call(this.element[0],e.currentItem||e.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",b,this.ui(e)),this.element):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}}),a.extend(a.ui.droppable,{version:"1.8.16"}),a.ui.intersect=function(b,c,e){if(!c.offset)return!1;var f=(b.positionAbs||b.position.absolute).left,g=f+b.helperProportions.width,h=(b.positionAbs||b.position.absolute).top,i=h+b.helperProportions.height,j=c.offset.left,k=j+c.proportions.width,l=c.offset.top,m=l+c.proportions.height;switch(e){case"fit":return j<=f&&g<=k&&l<=h&&i<=m;case"intersect":return j<f+b.helperProportions.width/2&&g-b.helperProportions.width/2<k&&l<h+b.helperProportions.height/2&&i-b.helperProportions.height/2<m;case"pointer":return a.ui.isOver((b.positionAbs||b.position.absolute).top+(b.clickOffset||b.offset.click).top,(b.positionAbs||b.position.absolute).left+(b.clickOffset||b.offset.click).left,l,j,c.proportions.height,c.proportions.width);case"touch":return(h>=l&&h<=m||i>=l&&i<=m||h<l&&i>m)&&(f>=j&&f<=k||g>=j&&g<=k||f<j&&g>k);default:return!1}},a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(b,c){var e=a.ui.ddmanager.droppables[b.options.scope]||[],f=c?c.type:null,g=(b.currentItem||b.element).find(":data(droppable)").andSelf(),h=0;a:for(;h<e.length;h++)if(!(e[h].options.disabled||b&&!e[h].accept.call(e[h].element[0],b.currentItem||b.element))){for(var i=0;i<g.length;i++)if(g[i]==e[h].element[0]){e[h].proportions.height=0;continue a}e[h].visible=e[h].element.css("display")!="none",e[h].visible&&(f=="mousedown"&&e[h]._activate.call(e[h],c),e[h].offset=e[h].element.offset(),e[h].proportions={width:e[h].element[0].offsetWidth,height:e[h].element[0].offsetHeight})}},drop:function(b,c){var e=!1;return a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&a.ui.intersect(b,this,this.options.tolerance)&&(e=e||this._drop.call(this,c)),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,c)))}),e},dragStart:function(b,c){b.element.parents(":not(body,html)").bind("scroll.droppable",function(){b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)})},drag:function(b,c){b.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(b,c),a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){if(!(this.options.disabled||this.greedyChild||!this.visible)){var e=a.ui.intersect(b,this,this.options.tolerance);if(e=!e&&this.isover==1?"isout":e&&this.isover==0?"isover":null){var f;if(this.options.greedy){var g=this.element.parents(":data(droppable):eq(0)");g.length&&(f=a.data(g[0],"droppable"),f.greedyChild=e=="isover"?1:0)}f&&e=="isover"&&(f.isover=0,f.isout=1,f._out.call(f,c)),this[e]=1,this[e=="isout"?"isover":"isout"]=0,this[e=="isover"?"_over":"_out"].call(this,c),f&&e=="isout"&&(f.isout=0,f.isover=1,f._over.call(f,c))}}})},dragStop:function(b,c){b.element.parents(":not(body,html)").unbind("scroll.droppable"),b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)}}}(jQuery),function(a){a.widget("ui.resizable",a.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var b=this,c=this.options;this.element.addClass("ui-resizable"),a.extend(this,{_aspectRatio:!!c.aspectRatio,aspectRatio:c.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:c.helper||c.ghost||c.animate?c.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(/relative/.test(this.element.css("position"))&&a.browser.opera&&this.element.css({position:"relative",top:"auto",left:"auto"}),this.element.wrap(a('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=c.handles||(a(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");if(this.handles.constructor==String){this.handles=="all"&&(this.handles="n,e,s,w,se,sw,ne,nw");var d=this.handles.split(",");this.handles={};for(var f=0;f<d.length;f++){var g=a.trim(d[f]),h=a('<div class="ui-resizable-handle '+("ui-resizable-"+g)+'"></div>');/sw|se|ne|nw/.test(g)&&h.css({zIndex:++c.zIndex}),"se"==g&&h.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[g]=".ui-resizable-"+g,this.element.append(h)}}this._renderAxis=function(b){b=b||this.element;for(var c in this.handles){this.handles[c].constructor==String&&(this.handles[c]=a(this.handles[c],this.element).show());if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var d=a(this.handles[c],this.element),f=0;f=/sw|ne|nw|se|n|s/.test(c)?d.outerHeight():d.outerWidth(),d=["padding",/ne|nw|n/.test(c)?"Top":/se|sw|s/.test(c)?"Bottom":/^e$/.test(c)?"Right":"Left"].join(""),b.css(d,f),this._proportionallyResize()}a(this.handles[c])}},this._renderAxis(this.element),this._handles=a(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!b.resizing){if(this.className)var a=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);b.axis=a&&a[1]?a[1]:"se"}}),c.autoHide&&(this._handles.hide(),a(this.element).addClass("ui-resizable-autohide").hover(function(){c.disabled||(a(this).removeClass("ui-resizable-autohide"),b._handles.show())},function(){c.disabled||b.resizing||(a(this).addClass("ui-resizable-autohide"),b._handles.hide())})),this._mouseInit()},destroy:function(){this._mouseDestroy();var b=function(b){a(b).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){b(this.element);var c=this.element;c.after(this.originalElement.css({position:c.css("position"),width:c.outerWidth(),height:c.outerHeight(),top:c.css("top"),left:c.css("left")})).remove()}return this.originalElement.css("resize",this.originalResizeStyle),b(this.originalElement),this},_mouseCapture:function(b){var c=!1;for(var d in this.handles)a(this.handles[d])[0]==b.target&&(c=!0);return!this.options.disabled&&c},_mouseStart:function(c){var d=this.options,f=this.element.position(),g=this.element;this.resizing=!0,this.documentScroll={top:a(document).scrollTop(),left:a(document).scrollLeft()},(g.is(".ui-draggable")||/absolute/.test(g.css("position")))&&g.css({position:"absolute",top:f.top,left:f.left}),a.browser.opera&&/relative/.test(g.css("position"))&&g.css({position:"relative",top:"auto",left:"auto"}),this._renderProxy(),f=b(this.helper.css("left"));var h=b(this.helper.css("top"));return d.containment&&(f+=a(d.containment).scrollLeft()||0,h+=a(d.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:f,top:h},this.size=this._helper?{width:g.outerWidth(),height:g.outerHeight()}:{width:g.width(),height:g.height()},this.originalSize=this._helper?{width:g.outerWidth(),height:g.outerHeight()}:{width:g.width(),height:g.height()},this.originalPosition={left:f,top:h},this.sizeDiff={width:g.outerWidth()-g.width(),height:g.outerHeight()-g.height()},this.originalMousePosition={left:c.pageX,top:c.pageY},this.aspectRatio=typeof d.aspectRatio=="number"?d.aspectRatio:this.originalSize.width/this.originalSize.height||1,d=a(".ui-resizable-"+this.axis).css("cursor"),a("body").css("cursor",d=="auto"?this.axis+"-resize":d),g.addClass("ui-resizable-resizing"),this._propagate("start",c),!0},_mouseDrag:function(a){var b=this.helper,c=this.originalMousePosition,d=this._change[this.axis];if(!d)return!1;c=d.apply(this,[a,a.pageX-c.left||0,a.pageY-c.top||0]),this._updateVirtualBoundaries(a.shiftKey);if(this._aspectRatio||a.shiftKey)c=this._updateRatio(c,a);return c=this._respectSize(c,a),this._propagate("resize",a),b.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(c),this._trigger("resize",a,this.ui()),!1},_mouseStop:function(b){this.resizing=!1;var c=this.options,d=this;if(this._helper){var f=this._proportionallyResizeElements,g=f.length&&/textarea/i.test(f[0].nodeName);f=g&&a.ui.hasScroll(f[0],"left")?0:d.sizeDiff.height,g=g?0:d.sizeDiff.width,g={width:d.helper.width()-g,height:d.helper.height()-f},f=parseInt(d.element.css("left"),10)+(d.position.left-d.originalPosition.left)||null;var h=parseInt(d.element.css("top"),10)+(d.position.top-d.originalPosition.top)||null;c.animate||this.element.css(a.extend(g,{top:h,left:f})),d.helper.height(d.size.height),d.helper.width(d.size.width),this._helper&&!c.animate&&this._proportionallyResize()}return a("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",b),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(a){var b=this.options,d,e,f;b={minWidth:c(b.minWidth)?b.minWidth:0,maxWidth:c(b.maxWidth)?b.maxWidth:Infinity,minHeight:c(b.minHeight)?b.minHeight:0,maxHeight:c(b.maxHeight)?b.maxHeight:Infinity};if(this._aspectRatio||a)a=b.minHeight*this.aspectRatio,e=b.minWidth/this.aspectRatio,d=b.maxHeight*this.aspectRatio,f=b.maxWidth/this.aspectRatio,a>b.minWidth&&(b.minWidth=a),e>b.minHeight&&(b.minHeight=e),d<b.maxWidth&&(b.maxWidth=d),f<b.maxHeight&&(b.maxHeight=f);this._vBoundaries=b},_updateCache:function(a){this.offset=this.helper.offset(),c(a.left)&&(this.position.left=a.left),c(a.top)&&(this.position.top=a.top),c(a.height)&&(this.size.height=a.height),c(a.width)&&(this.size.width=a.width)},_updateRatio:function(a){var b=this.position,d=this.size,e=this.axis;return c(a.height)?a.width=a.height*this.aspectRatio:c(a.width)&&(a.height=a.width/this.aspectRatio),e=="sw"&&(a.left=b.left+(d.width-a.width),a.top=null),e=="nw"&&(a.top=b.top+(d.height-a.height),a.left=b.left+(d.width-a.width)),a},_respectSize:function(a){var b=this._vBoundaries,d=this.axis,e=c(a.width)&&b.maxWidth&&b.maxWidth<a.width,f=c(a.height)&&b.maxHeight&&b.maxHeight<a.height,g=c(a.width)&&b.minWidth&&b.minWidth>a.width,h=c(a.height)&&b.minHeight&&b.minHeight>a.height;g&&(a.width=b.minWidth),h&&(a.height=b.minHeight),e&&(a.width=b.maxWidth),f&&(a.height=b.maxHeight);var i=this.originalPosition.left+this.originalSize.width,j=this.position.top+this.size.height,l=/sw|nw|w/.test(d);return d=/nw|ne|n/.test(d),g&&l&&(a.left=i-b.minWidth),e&&l&&(a.left=i-b.maxWidth),h&&d&&(a.top=j-b.minHeight),f&&d&&(a.top=j-b.maxHeight),(b=!a.width&&!a.height)&&!a.left&&a.top?a.top=null:b&&!a.top&&a.left&&(a.left=null),a},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var b=this.helper||this.element,c=0;c<this._proportionallyResizeElements.length;c++){var d=this._proportionallyResizeElements[c];if(!this.borderDif){var f=[d.css("borderTopWidth"),d.css("borderRightWidth"),d.css("borderBottomWidth"),d.css("borderLeftWidth")],g=[d.css("paddingTop"),d.css("paddingRight"),d.css("paddingBottom"),d.css("paddingLeft")];this.borderDif=a.map(f,function(a,b){return a=parseInt(a,10)||0,b=parseInt(g[b],10)||0,a+b})}a.browser.msie&&(a(b).is(":hidden")||a(b).parents(":hidden").length)||d.css({height:b.height()-this.borderDif[0]-this.borderDif[2]||0,width:b.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var b=this.options;this.elementOffset=this.element.offset();if(this._helper){this.helper=this.helper||a('<div style="overflow:hidden;"></div>');var c=a.browser.msie&&a.browser.version<7,d=c?1:0;c=c?2:-1,this.helper.addClass(this._helper).css({width:this.element.outerWidth()+c,height:this.element.outerHeight()+c,position:"absolute",left:this.elementOffset.left-d+"px",top:this.elementOffset.top-d+"px",zIndex:++b.zIndex}),this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(a,b){return{width:this.originalSize.width+b}},w:function(a,b){return{left:this.originalPosition.left+b,width:this.originalSize.width-b}},n:function(a,b,c){return{top:this.originalPosition.top+c,height:this.originalSize.height-c}},s:function(a,b,c){return{height:this.originalSize.height+c}},se:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},sw:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,c,d]))},ne:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},nw:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,c,d]))}},_propagate:function(b,c){a.ui.plugin.call(this,b,[c,this.ui()]),b!="resize"&&this._trigger(b,c,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),a.extend(a.ui.resizable,{version:"1.8.16"}),a.ui.plugin.add("resizable","alsoResize",{start:function(){var b=a(this).data("resizable").options,c=function(b){a(b).each(function(){var b=a(this);b.data("resizable-alsoresize",{width:parseInt(b.width(),10),height:parseInt(b.height(),10),left:parseInt(b.css("left"),10),top:parseInt(b.css("top"),10),position:b.css("position")})})};typeof b.alsoResize=="object"&&!b.alsoResize.parentNode?b.alsoResize.length?(b.alsoResize=b.alsoResize[0],c(b.alsoResize)):a.each(b.alsoResize,function(a){c(a)}):c(b.alsoResize)},resize:function(b,c){var d=a(this).data("resizable");b=d.options;var f=d.originalSize,g=d.originalPosition,h={height:d.size.height-f.height||0,width:d.size.width-f.width||0,top:d.position.top-g.top||0,left:d.position.left-g.left||0},i=function(b,f){a(b).each(function(){var b=a(this),g=a(this).data("resizable-alsoresize"),i={},k=f&&f.length?f:b.parents(c.originalElement[0]).length?["width","height"]:["width","height","top","left"];a.each(k,function(a,b){(a=(g[b]||0)+(h[b]||0))&&a>=0&&(i[b]=a||null)}),a.browser.opera&&/relative/.test(b.css("position"))&&(d._revertToRelativePosition=!0,b.css({position:"absolute",top:"auto",left:"auto"})),b.css(i)})};typeof b.alsoResize=="object"&&!b.alsoResize.nodeType?a.each(b.alsoResize,function(a,b){i(a,b)}):i(b.alsoResize)},stop:function(){var b=a(this).data("resizable"),c=b.options,d=function(b){a(b).each(function(){var b=a(this);b.css({position:b.data("resizable-alsoresize").position})})};b._revertToRelativePosition&&(b._revertToRelativePosition=!1,typeof c.alsoResize=="object"&&!c.alsoResize.nodeType?a.each(c.alsoResize,function(a){d(a)}):d(c.alsoResize)),a(this).removeData("resizable-alsoresize")}}),a.ui.plugin.add("resizable","animate",{stop:function(b){var c=a(this).data("resizable"),d=c.options,f=c._proportionallyResizeElements,g=f.length&&/textarea/i.test(f[0].nodeName),h=g&&a.ui.hasScroll(f[0],"left")?0:c.sizeDiff.height;g={width:c.size.width-(g?0:c.sizeDiff.width),height:c.size.height-h},h=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null;var i=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null;c.element.animate(a.extend(g,i&&h?{top:i,left:h}:{}),{duration:d.animateDuration,easing:d.animateEasing,step:function(){var d={width:parseInt(c.element.css("width"),10),height:parseInt(c.element.css("height"),10),top:parseInt(c.element.css("top"),10),left:parseInt(c.element.css("left"),10)};f&&f.length&&a(f[0]).css({width:d.width,height:d.height}),c._updateCache(d),c._propagate("resize",b)}})}}),a.ui.plugin.add("resizable","containment",{start:function(){var c=a(this).data("resizable"),d=c.element,f=c.options.containment;if(d=f instanceof a?f.get(0):/parent/.test(f)?d.parent().get(0):f){c.containerElement=a(d);if(/document/.test(f)||f==document)c.containerOffset={left:0,top:0},c.containerPosition={left:0,top:0},c.parentData={element:a(document),left:0,top:0,width:a(document).width(),height:a(document).height()||document.body.parentNode.scrollHeight};else{var g=a(d),h=[];a(["Top","Right","Left","Bottom"]).each(function(a,c){h[a]=b(g.css("padding"+c))}),c.containerOffset=g.offset(),c.containerPosition=g.position(),c.containerSize={height:g.innerHeight()-h[3],width:g.innerWidth()-h[1]},f=c.containerOffset;var i=c.containerSize.height,j=c.containerSize.width;j=a.ui.hasScroll(d,"left")?d.scrollWidth:j,i=a.ui.hasScroll(d)?d.scrollHeight:i,c.parentData={element:d,left:f.left,top:f.top,width:j,height:i}}}},resize:function(b){var c=a(this).data("resizable"),d=c.options,f=c.containerOffset,g=c.position;b=c._aspectRatio||b.shiftKey;var h={top:0,left:0},i=c.containerElement;i[0]!=document&&/static/.test(i.css("position"))&&(h=f),g.left<(c._helper?f.left:0)&&(c.size.width+=c._helper?c.position.left-f.left:c.position.left-h.left,b&&(c.size.height=c.size.width/d.aspectRatio),c.position.left=d.helper?f.left:0),g.top<(c._helper?f.top:0)&&(c.size.height+=c._helper?c.position.top-f.top:c.position.top,b&&(c.size.width=c.size.height*d.aspectRatio),c.position.top=c._helper?f.top:0),c.offset.left=c.parentData.left+c.position.left,c.offset.top=c.parentData.top+c.position.top,d=Math.abs((c._helper?c.offset.left-h.left:c.offset.left-h.left)+c.sizeDiff.width),f=Math.abs((c._helper?c.offset.top-h.top:c.offset.top-f.top)+c.sizeDiff.height),g=c.containerElement.get(0)==c.element.parent().get(0),h=/relative|absolute/.test(c.containerElement.css("position")),g&&h&&(d-=c.parentData.left),d+c.size.width>=c.parentData.width&&(c.size.width=c.parentData.width-d,b&&(c.size.height=c.size.width/c.aspectRatio)),f+c.size.height>=c.parentData.height&&(c.size.height=c.parentData.height-f,b&&(c.size.width=c.size.height*c.aspectRatio))},stop:function(){var b=a(this).data("resizable"),c=b.options,d=b.containerOffset,f=b.containerPosition,g=b.containerElement,h=a(b.helper),i=h.offset(),j=h.outerWidth()-b.sizeDiff.width;h=h.outerHeight()-b.sizeDiff.height,b._helper&&!c.animate&&/relative/.test(g.css("position"))&&a(this).css({left:i.left-f.left-d.left,width:j,height:h}),b._helper&&!c.animate&&/static/.test(g.css("position"))&&a(this).css({left:i.left-f.left-d.left,width:j,height:h})}}),a.ui.plugin.add("resizable","ghost",{start:function(){var b=a(this).data("resizable"),c=b.options,d=b.size;b.ghost=b.originalElement.clone(),b.ghost.css({opacity:.25,display:"block",position:"relative",height:d.height,width:d.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof c.ghost=="string"?c.ghost:""),b.ghost.appendTo(b.helper)},resize:function(){var b=a(this).data("resizable");b.ghost&&b.ghost.css({position:"relative",height:b.size.height,width:b.size.width})},stop:function(){var b=a(this).data("resizable");b.ghost&&b.helper&&b.helper.get(0).removeChild(b.ghost.get(0))}}),a.ui.plugin.add("resizable","grid",{resize:function(){var b=a(this).data("resizable"),c=b.options,d=b.size,f=b.originalSize,g=b.originalPosition,h=b.axis;c.grid=typeof c.grid=="number"?[c.grid,c.grid]:c.grid;var i=Math.round((d.width-f.width)/(c.grid[0]||1))*(c.grid[0]||1);c=Math.round((d.height-f.height)/(c.grid[1]||1))*(c.grid[1]||1),/^(se|s|e)$/.test(h)?(b.size.width=f.width+i,b.size.height=f.height+c):/^(ne)$/.test(h)?(b.size.width=f.width+i,b.size.height=f.height+c,b.position.top=g.top-c):(/^(sw)$/.test(h)?(b.size.width=f.width+i,b.size.height=f.height+c):(b.size.width=f.width+i,b.size.height=f.height+c,b.position.top=g.top-c),b.position.left=g.left-i)}});var b=function(a){return parseInt(a,10)||0},c=function(a){return!isNaN(parseInt(a,10))}}(jQuery),function(a){a.widget("ui.selectable",a.ui.mouse,{options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var b=this;this.element.addClass("ui-selectable"),this.dragged=!1;var c;this.refresh=function(){c=a(b.options.filter,b.element[0]),c.each(function(){var b=a(this),c=b.offset();a.data(this,"selectable-item",{element:this,$element:b,left:c.left,top:c.top,right:c.left+b.outerWidth(),bottom:c.top+b.outerHeight(),startselected:!1,selected:b.hasClass("ui-selected"),selecting:b.hasClass("ui-selecting"),unselecting:b.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=c.addClass("ui-selectee"),this._mouseInit(),this.helper=a("<div class='ui-selectable-helper'></div>")},destroy:function(){return this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable"),this._mouseDestroy(),this},_mouseStart:function(b){var c=this;this.opos=[b.pageX,b.pageY];if(!this.options.disabled){var d=this.options;this.selectees=a(d.filter,this.element[0]),this._trigger("start",b),a(d.appendTo).append(this.helper),this.helper.css({left:b.clientX,top:b.clientY,width:0,height:0}),d.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var d=a.data(this,"selectable-item");d.startselected=!0,b.metaKey||(d.$element.removeClass("ui-selected"),d.selected=!1,d.$element.addClass("ui-unselecting"),d.unselecting=!0,c._trigger("unselecting",b,{unselecting:d.element}))}),a(b.target).parents().andSelf().each(function(){var d=a.data(this,"selectable-item");if(d){var g=!b.metaKey||!d.$element.hasClass("ui-selected");return d.$element.removeClass(g?"ui-unselecting":"ui-selected").addClass(g?"ui-selecting":"ui-unselecting"),d.unselecting=!g,d.selecting=g,(d.selected=g)?c._trigger("selecting",b,{selecting:d.element}):c._trigger("unselecting",b,{unselecting:d.element}),!1}})}},_mouseDrag:function(b){var c=this;this.dragged=!0;if(!this.options.disabled){var d=this.options,f=this.opos[0],g=this.opos[1],h=b.pageX,i=b.pageY;if(f>h){var j=h;h=f,f=j}return g>i&&(j=i,i=g,g=j),this.helper.css({left:f,top:g,width:h-f,height:i-g}),this.selectees.each(function(){var j=a.data(this,"selectable-item");if(!!j&&j.element!=c.element[0]){var k=!1;d.tolerance=="touch"?k=!(j.left>h||j.right<f||j.top>i||j.bottom<g):d.tolerance=="fit"&&(k=j.left>f&&j.right<h&&j.top>g&&j.bottom<i),k?(j.selected&&(j.$element.removeClass("ui-selected"),j.selected=!1),j.unselecting&&(j.$element.removeClass("ui-unselecting"),j.unselecting=!1),j.selecting||(j.$element.addClass("ui-selecting"),j.selecting=!0,c._trigger("selecting",b,{selecting:j.element}))):(j.selecting&&(b.metaKey&&j.startselected?(j.$element.removeClass("ui-selecting"),j.selecting=!1,j.$element.addClass("ui-selected"),j.selected=!0):(j.$element.removeClass("ui-selecting"),j.selecting=!1,j.startselected&&(j.$element.addClass("ui-unselecting"),j.unselecting=!0),c._trigger("unselecting",b,{unselecting:j.element}))),j.selected&&!b.metaKey&&!j.startselected&&(j.$element.removeClass("ui-selected"),j.selected=!1,j.$element.addClass("ui-unselecting"),j.unselecting=!0,c._trigger("unselecting",b,{unselecting:j.element})))}}),!1}},_mouseStop:function(b){var c=this;return this.dragged=!1,a(".ui-unselecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-unselecting"),d.unselecting=!1,d.startselected=!1,c._trigger("unselected",b,{unselected:d.element})}),a(".ui-selecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-selecting").addClass("ui-selected"),d.selecting=!1,d.selected=!0,d.startselected=!0,c._trigger("selected",b,{selected:d.element})}),this._trigger("stop",b),this.helper.remove(),!1}}),a.extend(a.ui.selectable,{version:"1.8.16"})}(jQuery),function(a){a.widget("ui.sortable",a.ui.mouse,{widgetEventPrefix:"sort",options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var a=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?a.axis==="x"||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1,this.offset=this.element.offset(),this._mouseInit()},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").removeData("sortable").unbind(".sortable"),this._mouseDestroy();for(var a=this.items.length-1;a>=0;a--)this.items[a].item.removeData("sortable-item");return this},_setOption:function(b,c){b==="disabled"?(this.options[b]=c,this.widget()[c?"addClass":"removeClass"]("ui-sortable-disabled")):a.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(b,c){if(this.reverting)return!1;if(this.options.disabled||this.options.type=="static")return!1;this._refreshItems(b);var e=null,f=this;a(b.target).parents().each(function(){if(a.data(this,"sortable-item")==f)return e=a(this),!1}),a.data(b.target,"sortable-item")==f&&(e=a(b.target));if(!e)return!1;if(this.options.handle&&!c){var g=!1;a(this.options.handle,e).find("*").andSelf().each(function(){this==b.target&&(g=!0)});if(!g)return!1}return this.currentItem=e,this._removeCurrentsFromItems(),!0},_mouseStart:function(b,c,e){c=this.options;var f=this;this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(b),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),c.containment&&this._setContainment(),c.cursor&&(a("body").css("cursor")&&(this._storedCursor=a("body").css("cursor")),a("body").css("cursor",c.cursor)),c.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",c.opacity)),c.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",c.zIndex)),this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",b,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions();if(!e)for(e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("activate",b,f._uiHash(this));return a.ui.ddmanager&&(a.ui.ddmanager.current=this),a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(b),!0},_mouseDrag:function(b){this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);if(this.options.scroll){var c=this.options,e=!1;this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-b.pageY<c.scrollSensitivity?this.scrollParent[0].scrollTop=e=this.scrollParent[0].scrollTop+c.scrollSpeed:b.pageY-this.overflowOffset.top<c.scrollSensitivity&&(this.scrollParent[0].scrollTop=e=this.scrollParent[0].scrollTop-c.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-b.pageX<c.scrollSensitivity?this.scrollParent[0].scrollLeft=e=this.scrollParent[0].scrollLeft+c.scrollSpeed:b.pageX-this.overflowOffset.left<c.scrollSensitivity&&(this.scrollParent[0].scrollLeft=e=this.scrollParent[0].scrollLeft-c.scrollSpeed)):(b.pageY-a(document).scrollTop()<c.scrollSensitivity?e=a(document).scrollTop(a(document).scrollTop()-c.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<c.scrollSensitivity&&(e=a(document).scrollTop(a(document).scrollTop()+c.scrollSpeed)),b.pageX-a(document).scrollLeft()<c.scrollSensitivity?e=a(document).scrollLeft(a(document).scrollLeft()-c.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<c.scrollSensitivity&&(e=a(document).scrollLeft(a(document).scrollLeft()+c.scrollSpeed))),e!==!1&&a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b)}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";for(c=this.items.length-1;c>=0;c--){e=this.items[c];var f=e.item[0],g=this._intersectsWithPointer(e);if(g&&f!=this.currentItem[0]&&this.placeholder[g==1?"next":"prev"]()[0]!=f&&!a.ui.contains(this.placeholder[0],f)&&(this.options.type=="semi-dynamic"?!a.ui.contains(this.element[0],f):!0)){this.direction=g==1?"down":"up";if(this.options.tolerance!="pointer"&&!this._intersectsWithSides(e))break;this._rearrange(b,e),this._trigger("change",b,this._uiHash());break}}return this._contactContainers(b),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),this._trigger("sort",b,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(b,c){if(b){a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,b);if(this.options.revert){var e=this;c=e.placeholder.offset(),e.reverting=!0,a(this.helper).animate({left:c.left-this.offset.parent.left-e.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:c.top-this.offset.parent.top-e.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){e._clear(b)})}else this._clear(b,c);return!1}},cancel:function(){var b=this;if(this.dragging){this._mouseUp({target:null}),this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var c=this.containers.length-1;c>=0;c--)this.containers[c]._trigger("deactivate",null,b._uiHash(this)),this.containers[c].containerCache.over&&(this.containers[c]._trigger("out",null,b._uiHash(this)),this.containers[c].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),a.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(b){var c=this._getItemsAsjQuery(b&&b.connected),e=[];return b=b||{},a(c).each(function(){var c=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[-=_](.+)/);c&&e.push((b.key||c[1]+"[]")+"="+(b.key&&b.expression?c[1]:c[2]))}),!e.length&&b.key&&e.push(b.key+"="),e.join("&")},toArray:function(b){var c=this._getItemsAsjQuery(b&&b.connected),e=[];return b=b||{},c.each(function(){e.push(a(b.item||this).attr(b.attribute||"id")||"")}),e},_intersectsWith:function(a){var b=this.positionAbs.left,c=b+this.helperProportions.width,d=this.positionAbs.top,e=d+this.helperProportions.height,f=a.left,g=f+a.width,h=a.top,i=h+a.height,j=this.offset.click.top,k=this.offset.click.left;return j=d+j>h&&d+j<i&&b+k>f&&b+k<g,this.options.tolerance=="pointer"||this.options.forcePointerForContainers||this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?j:f<b+this.helperProportions.width/2&&c-this.helperProportions.width/2<g&&h<d+this.helperProportions.height/2&&e-this.helperProportions.height/2<i},_intersectsWithPointer:function(b){var c=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,b.top,b.height);b=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,b.left,b.width),c=c&&b,b=this._getDragVerticalDirection();var e=this._getDragHorizontalDirection();return c?this.floating?e&&e=="right"||b=="down"?2:1:b&&(b=="down"?2:1):!1},_intersectsWithSides:function(b){var c=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,b.top+b.height/2,b.height);b=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,b.left+b.width/2,b.width);var e=this._getDragVerticalDirection(),f=this._getDragHorizontalDirection();return this.floating&&f?f=="right"&&b||f=="left"&&!b:e&&(e=="down"&&c||e=="up"&&!c)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return a!=0&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return a!=0&&(a>0?"right":"left")},refresh:function(a){return this._refreshItems(a),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor==String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(b){var c=[],e=[],f=this._connectWith();if(f&&b)for(b=f.length-1;b>=0;b--)for(var g=a(f[b]),h=g.length-1;h>=0;h--){var i=a.data(g[h],"sortable");i&&i!=this&&!i.options.disabled&&e.push([a.isFunction(i.options.items)?i.options.items.call(i.element):a(i.options.items,i.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),i])}e.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(b=e.length-1;b>=0;b--)e[b][0].each(function(){c.push(this)});return a(c)},_removeCurrentsFromItems:function(){for(var a=this.currentItem.find(":data(sortable-item)"),b=0;b<this.items.length;b++)for(var c=0;c<a.length;c++)a[c]==this.items[b].item[0]&&this.items.splice(b,1)},_refreshItems:function(b){this.items=[],this.containers=[this];var c=this.items,e=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,this.element),this]],f=this._connectWith();if(f)for(var g=f.length-1;g>=0;g--)for(var h=a(f[g]),i=h.length-1;i>=0;i--){var j=a.data(h[i],"sortable");j&&j!=this&&!j.options.disabled&&(e.push([a.isFunction(j.options.items)?j.options.items.call(j.element[0],b,{item:this.currentItem}):a(j.options.items,j.element),j]),this.containers.push(j))}for(g=e.length-1;g>=0;g--){b=e[g][1],f=e[g][0],i=0;for(h=f.length;i<h;i++)j=a(f[i]),j.data("sortable-item",b),c.push({item:j,instance:b,width:0,height:0,left:0,top:0})}},refreshPositions:function(b){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var c=this.items.length-1;c>=0;c--){var e=this.items[c];if(e.instance==this.currentContainer||!this.currentContainer||e.item[0]==this.currentItem[0]){var f=this.options.toleranceElement?a(this.options.toleranceElement,e.item):e.item;b||(e.width=f.outerWidth(),e.height=f.outerHeight()),f=f.offset(),e.left=f.left,e.top=f.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(c=this.containers.length-1;c>=0;c--)f=this.containers[c].element.offset(),this.containers[c].containerCache.left=f.left,this.containers[c].containerCache.top=f.top,this.containers[c].containerCache.width=this.containers[c].element.outerWidth(),this.containers[c].containerCache.height=this.containers[c].element.outerHeight();return this},_createPlaceholder:function(b){var c=b||this,e=c.options;if(!e.placeholder||e.placeholder.constructor==String){var f=e.placeholder;e.placeholder={element:function(){var b=a(document.createElement(c.currentItem[0].nodeName)).addClass(f||c.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return f||(b.style.visibility="hidden"),b},update:function(a,b){if(!f||!!e.forcePlaceholderSize)b.height()||b.height(c.currentItem.innerHeight()-parseInt(c.currentItem.css("paddingTop")||0,10)-parseInt(c.currentItem.css("paddingBottom")||0,10)),b.width()||b.width(c.currentItem.innerWidth()-parseInt(c.currentItem.css("paddingLeft")||0,10)-parseInt(c.currentItem.css("paddingRight")||0,10))}}}c.placeholder=a(e.placeholder.element.call(c.element,c.currentItem)),c.currentItem.after(c.placeholder),e.placeholder.update(c,c.placeholder)},_contactContainers:function(b){for(var c=null,e=null,f=this.containers.length-1;f>=0;f--)if(!a.ui.contains(this.currentItem[0],this.containers[f].element[0]))if(this._intersectsWith(this.containers[f].containerCache)){if(!c||!a.ui.contains(this.containers[f].element[0],c.element[0]))c=this.containers[f],e=f}else this.containers[f].containerCache.over&&(this.containers[f]._trigger("out",b,this._uiHash(this)),this.containers[f].containerCache.over=0);if(c)if(this.containers.length===1)this.containers[e]._trigger("over",b,this._uiHash(this)),this.containers[e].containerCache.over=1;else if(this.currentContainer!=this.containers[e]){c=1e4,f=null;for(var g=this.positionAbs[this.containers[e].floating?"left":"top"],h=this.items.length-1;h>=0;h--)if(a.ui.contains(this.containers[e].element[0],this.items[h].item[0])){var i=this.items[h][this.containers[e].floating?"left":"top"];Math.abs(i-g)<c&&(c=Math.abs(i-g),f=this.items[h])}if(f||this.options.dropOnEmpty)this.currentContainer=this.containers[e],f?this._rearrange(b,f,null,!0):this._rearrange(b,null,this.containers[e].element,!0),this._trigger("change",b,this._uiHash()),this.containers[e]._trigger("change",b,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[e]._trigger("over",b,this._uiHash(this)),this.containers[e].containerCache.over=1}},_createHelper:function(b){var c=this.options;return b=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b,this.currentItem])):c.helper=="clone"?this.currentItem.clone():this.currentItem,b.parents("body").length||a(c.appendTo!="parent"?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(b[0]),b[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(b[0].style.width==""||c.forceHelperSize)&&b.width(this.currentItem.width()),(b[0].style.height==""||c.forceHelperSize)&&b.height(this.currentItem.height()),b},_adjustOffsetFromHelper:function(b){typeof b=="string"&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;b.containment=="parent"&&(b.containment=this.helper[0].parentNode);if(b.containment=="document"||b.containment=="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a(b.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(a(b.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(b.containment)){var c=a(b.containment)[0];b=a(b.containment).offset();var e=a(c).css("overflow")!="hidden";this.containment=[b.left+(parseInt(a(c).css("borderLeftWidth"),10)||0)+(parseInt(a(c).css("paddingLeft"),10)||0)-this.margins.left,b.top+(parseInt(a(c).css("borderTopWidth"),10)||0)+(parseInt(a(c).css("paddingTop"),10)||0)-this.margins.top,b.left+(e?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(a(c).css("borderLeftWidth"),10)||0)-(parseInt(a(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,b.top+(e?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(a(c).css("borderTopWidth"),10)||0)-(parseInt(a(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(b,c){c||(c=this.position),b=b=="absolute"?1:-1;var e=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!a.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,f=/(html|body)/i.test(e[0].tagName);return{top:c.top+this.offset.relative.top*b+this.offset.parent.top*b-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():f?0:e.scrollTop())*b),left:c.left+this.offset.relative.left*b+this.offset.parent.left*b-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():f?0:e.scrollLeft())*b)}},_generatePosition:function(b){var c=this.options,e=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!a.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,f=/(html|body)/i.test(e[0].tagName);this.cssPosition=="relative"&&(this.scrollParent[0]==document||this.scrollParent[0]==this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset());var g=b.pageX,h=b.pageY;return this.originalPosition&&(this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(g=this.containment[0]+this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(h=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&(g=this.containment[2]+this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(h=this.containment[3]+this.offset.click.top)),c.grid&&(h=this.originalPageY+Math.round((h-this.originalPageY)/c.grid[1])*c.grid[1],h=this.containment?h-this.offset.click.top<this.containment[1]||h-this.offset.click.top>this.containment[3]?h-this.offset.click.top<this.containment[1]?h+c.grid[1]:h-c.grid[1]:h:h,g=this.originalPageX+Math.round((g-this.originalPageX)/c.grid[0])*c.grid[0],g=this.containment?g-this.offset.click.left<this.containment[0]||g-this.offset.click.left>this.containment[2]?g-this.offset.click.left<this.containment[0]?g+c.grid[0]:g-c.grid[0]:g:g)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():f?0:e.scrollTop()),left:g-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():f?0:e.scrollLeft())}},_rearrange:function(a,b,c,d){c?c[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],this.direction=="down"?b.item[0]:b.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var e=this,f=this.counter;window.setTimeout(function(){f==e.counter&&e.refreshPositions(!d)},0)},_clear:function(b,c){this.reverting=!1;var e=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var f in this._storedCSS)if(this._storedCSS[f]=="auto"||this._storedCSS[f]=="static")this._storedCSS[f]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!c&&e.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!c&&e.push(function(a){this._trigger("update",a,this._uiHash())});if(!a.ui.contains(this.element[0],this.currentItem[0])){c||e.push(function(a){this._trigger("remove",a,this._uiHash())});for(f=this.containers.length-1;f>=0;f--)a.ui.contains(this.containers[f].element[0],this.currentItem[0])&&!c&&(e.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,this.containers[f])),e.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.containers[f])))}for(f=this.containers.length-1;f>=0;f--)c||e.push(function(a){return function(b){a._trigger("deactivate",b,this._uiHash(this))}}.call(this,this.containers[f])),this.containers[f].containerCache.over&&(e.push(function(a){return function(b){a._trigger("out",b,this._uiHash(this))}}.call(this,this.containers[f])),this.containers[f].containerCache.over=0);this._storedCursor&&a("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex),this.dragging=!1;if(this.cancelHelperRemoval){if(!c){this._trigger("beforeStop",b,this._uiHash());for(f=0;f<e.length;f++)e[f].call(this,b);this._trigger("stop",b,this._uiHash())}return!1}c||this._trigger("beforeStop",b,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null;if(!c){for(f=0;f<e.length;f++)e[f].call(this,b);this._trigger("stop",b,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){a.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(b){var c=b||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:b?b.element:null}}}),a.extend(a.ui.sortable,{version:"1.8.16"})}(jQuery),function(a){a.widget("ui.accordion",{options:{active:0,animated:"slide",autoHeight:!0,clearStyle:!1,collapsible:!1,event:"click",fillSpace:!1,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}},_create:function(){var b=this,d=b.options;b.running=0,b.element.addClass("ui-accordion ui-widget ui-helper-reset").children("li").addClass("ui-accordion-li-fix"),b.headers=b.element.find(d.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){d.disabled||a(this).addClass("ui-state-hover")}).bind("mouseleave.accordion",function(){d.disabled||a(this).removeClass("ui-state-hover")}).bind("focus.accordion",function(){d.disabled||a(this).addClass("ui-state-focus")}).bind("blur.accordion",function(){d.disabled||a(this).removeClass("ui-state-focus")}),b.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom");if(d.navigation){var e=b.element.find("a").filter(d.navigationFilter).eq(0);if(e.length){var f=e.closest(".ui-accordion-header");b.active=f.length?f:e.closest(".ui-accordion-content").prev()}}b.active=b._findActive(b.active||d.active).addClass("ui-state-default ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top"),b.active.next().addClass("ui-accordion-content-active"),b._createIcons(),b.resize(),b.element.attr("role","tablist"),b.headers.attr("role","tab").bind("keydown.accordion",function(a){return b._keydown(a)}).next().attr("role","tabpanel"),b.headers.not(b.active||"").attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).next().hide(),b.active.length?b.active.attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}):b.headers.eq(0).attr("tabIndex",0),a.browser.safari||b.headers.find("a").attr("tabIndex",-1),d.event&&b.headers.bind(d.event.split(" ").join(".accordion ")+".accordion",function(a){b._clickHandler.call(b,a,this),a.preventDefault()})},_createIcons:function(){var b=this.options;b.icons&&(a("<span></span>").addClass("ui-icon "+b.icons.header).prependTo(this.headers),this.active.children(".ui-icon").toggleClass(b.icons.header).toggleClass(b.icons.headerSelected),this.element.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.children(".ui-icon").remove(),this.element.removeClass("ui-accordion-icons")},destroy:function(){var b=this.options;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("tabIndex"),this.headers.find("a").removeAttr("tabIndex"),this._destroyIcons();var d=this.headers.next().css("display","").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled");return(b.autoHeight||b.fillHeight)&&d.css("height",""),a.Widget.prototype.destroy.call(this)},_setOption:function(b,d){a.Widget.prototype._setOption.apply(this,arguments),b=="active"&&this.activate(d),b=="icons"&&(this._destroyIcons(),d&&this._createIcons()),b=="disabled"&&this.headers.add(this.headers.next())[d?"addClass":"removeClass"]("ui-accordion-disabled ui-state-disabled")},_keydown:function(b){if(!(this.options.disabled||b.altKey||b.ctrlKey)){var d=a.ui.keyCode,e=this.headers.length,f=this.headers.index(b.target),g=!1;switch(b.keyCode){case d.RIGHT:case d.DOWN:g=this.headers[(f+1)%e];break;case d.LEFT:case d.UP:g=this.headers[(f-1+e)%e];break;case d.SPACE:case d.ENTER:this._clickHandler({target:b.target},b.target),b.preventDefault()}return g?(a(b.target).attr("tabIndex",-1),a(g).attr("tabIndex",0),g.focus(),!1):!0}},resize:function(){var b=this.options,d;if(b.fillSpace){if(a.browser.msie){var e=this.element.parent().css("overflow");this.element.parent().css("overflow","hidden")}d=this.element.parent().height(),a.browser.msie&&this.element.parent().css("overflow",e),this.headers.each(function(){d-=a(this).outerHeight(!0)}),this.headers.next().each(function(){a(this).height(Math.max(0,d-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")}else b.autoHeight&&(d=0,this.headers.next().each(function(){d=Math.max(d,a(this).height("").height())}).height(d));return this},activate:function(a){return this.options.active=a,a=this._findActive(a)[0],this._clickHandler({target:a},a),this},_findActive:function(b){return b?typeof b=="number"?this.headers.filter(":eq("+b+")"):this.headers.not(this.headers.not(b)):b===!1?a([]):this.headers.filter(":eq(0)")},_clickHandler:function(b,d){var e=this.options;if(!e.disabled)if(b.target){b=a(b.currentTarget||d),d=b[0]===this.active[0],e.active=e.collapsible&&d?!1:this.headers.index(b);if(!(this.running||!e.collapsible&&d)){var f=this.active;j=b.next(),h=this.active.next(),i={options:e,newHeader:d&&e.collapsible?a([]):b,oldHeader:this.active,newContent:d&&e.collapsible?a([]):j,oldContent:h};var g=this.headers.index(this.active[0])>this.headers.index(b[0]);this.active=d?a([]):b,this._toggle(j,h,i,d,g),f.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(e.icons.headerSelected).addClass(e.icons.header),d||(b.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").children(".ui-icon").removeClass(e.icons.header).addClass(e.icons.headerSelected),b.next().addClass("ui-accordion-content-active"))}}else if(e.collapsible){this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(e.icons.headerSelected).addClass(e.icons.header),this.active.next().addClass("ui-accordion-content-active");var h=this.active.next(),i={options:e,newHeader:a([]),oldHeader:e.active,newContent:a([]),oldContent:h},j=this.active=a([]);this._toggle(j,h,i)}},_toggle:function(b,d,e,f,g){var h=this,i=h.options;h.toShow=b,h.toHide=d,h.data=e;var j=function(){if(h)return h._completed.apply(h,arguments)};h._trigger("changestart",null,h.data),h.running=d.size()===0?b.size():d.size();if(i.animated){e={},e=i.collapsible&&f?{toShow:a([]),toHide:d,complete:j,down:g,autoHeight:i.autoHeight||i.fillSpace}:{toShow:b,toHide:d,complete:j,down:g,autoHeight:i.autoHeight||i.fillSpace},i.proxied||(i.proxied=i.animated),i.proxiedDuration||(i.proxiedDuration=i.duration),i.animated=a.isFunction(i.proxied)?i.proxied(e):i.proxied,i.duration=a.isFunction(i.proxiedDuration)?i.proxiedDuration(e):i.proxiedDuration,f=a.ui.accordion.animations;var k=i.duration,l=i.animated;l&&!f[l]&&!a.easing[l]&&(l="slide"),f[l]||(f[l]=function(a){this.slide(a,{easing:l,duration:k||700})}),f[l](e)}else i.collapsible&&f?b.toggle():(d.hide(),b.show()),j(!0);d.prev().attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).blur(),b.prev().attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}).focus()},_completed:function(a){this.running=a?0:--this.running,this.running||(this.options.clearStyle&&this.toShow.add(this.toHide).css({height:"",overflow:""}),this.toHide.removeClass("ui-accordion-content-active"),this.toHide.length&&(this.toHide.parent()[0].className=this.toHide.parent()[0].className),this._trigger("change",null,this.data))}}),a.extend(a.ui.accordion,{version:"1.8.16",animations:{slide:function(b,d){b=a.extend({easing:"swing",duration:300},b,d);if(b.toHide.size())if(b.toShow.size()){var e=b.toShow.css("overflow"),f=0,g={},h={},i;d=b.toShow,i=d[0].style.width,d.width(parseInt(d.parent().width(),10)-parseInt(d.css("paddingLeft"),10)-parseInt(d.css("paddingRight"),10)-(parseInt(d.css("borderLeftWidth"),10)||0)-(parseInt(d.css("borderRightWidth"),10)||0)),a.each(["height","paddingTop","paddingBottom"],function(d,e){h[e]="hide",d=(""+a.css(b.toShow[0],e)).match(/^([\d+-.]+)(.*)$/),g[e]={value:d[1],unit:d[2]||"px"}}),b.toShow.css({height:0,overflow:"hidden"}).show(),b.toHide.filter(":hidden").each(b.complete).end().filter(":visible").animate(h,{step:function(a,c){c.prop=="height"&&(f=c.end-c.start===0?0:(c.now-c.start)/(c.end-c.start)),b.toShow[0].style[c.prop]=f*g[c.prop].value+g[c.prop].unit},duration:b.duration,easing:b.easing,complete:function(){b.autoHeight||b.toShow.css("height",""),b.toShow.css({width:i,overflow:e}),b.complete()}})}else b.toHide.animate({height:"hide",paddingTop:"hide",paddingBottom:"hide"},b);else b.toShow.animate({height:"show",paddingTop:"show",paddingBottom:"show"},b)},bounceslide:function(a){this.slide(a,{easing:a.down?"easeOutBounce":"swing",duration:a.down?1e3:200})}}})}(jQuery),function(a){var b=0;a.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var b=this,c=this.element[0].ownerDocument,e;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(c){if(!b.options.disabled&&!b.element.propAttr("readOnly")){e=!1;var f=a.ui.keyCode;switch(c.keyCode){case f.PAGE_UP:b._move("previousPage",c);break;case f.PAGE_DOWN:b._move("nextPage",c);break;case f.UP:b._move("previous",c),c.preventDefault();break;case f.DOWN:b._move("next",c),c.preventDefault();break;case f.ENTER:case f.NUMPAD_ENTER:b.menu.active&&(e=!0,c.preventDefault());case f.TAB:if(!b.menu.active)return;b.menu.select(c);break;case f.ESCAPE:b.element.val(b.term),b.close(c);break;default:clearTimeout(b.searching),b.searching=setTimeout(function(){b.term!=b.element.val()&&(b.selectedItem=null,b.search(null,c))},b.options.delay)}}}).bind("keypress.autocomplete",function(a){e&&(e=!1,a.preventDefault())}).bind("focus.autocomplete",function(){b.options.disabled||(b.selectedItem=null,b.previous=b.element.val())}).bind("blur.autocomplete",function(a){b.options.disabled||(clearTimeout(b.searching),b.closing=setTimeout(function(){b.close(a),b._change(a)},150))}),this._initSource(),this.response=function(){return b._response.apply(b,arguments)},this.menu=a("<ul></ul>").addClass("ui-autocomplete").appendTo(a(this.options.appendTo||"body",c)[0]).mousedown(function(c){var e=b.menu.element[0];a(c.target).closest(".ui-menu-item").length||setTimeout(function(){a(document).one("mousedown",function(c){c.target!==b.element[0]&&c.target!==e&&!a.ui.contains(e,c.target)&&b.close()})},1),setTimeout(function(){clearTimeout(b.closing)},13)}).menu({focus:function(a,c){c=c.item.data("item.autocomplete"),!1!==b._trigger("focus",a,{item:c})&&/^key/.test(a.originalEvent.type)&&b.element.val(c.value)},selected:function(a,d){var e=d.item.data("item.autocomplete"),f=b.previous;b.element[0]!==c.activeElement&&(b.element.focus(),b.previous=f,setTimeout(function(){b.previous=f,b.selectedItem=e},1)),!1!==b._trigger("select",a,{item:e})&&b.element.val(e.value),b.term=b.element.val(),b.close(a),b.selectedItem=e},blur:function(){b.menu.element.is(":visible")&&b.element.val()!==b.term&&b.element.val(b.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu"),a.fn.bgiframe&&this.menu.element.bgiframe()},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup"),this.menu.element.remove(),a.Widget.prototype.destroy.call(this)},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments),b==="source"&&this._initSource(),b==="appendTo"&&this.menu.element.appendTo(a(c||"body",this.element[0].ownerDocument)[0]),b==="disabled"&&c&&this.xhr&&this.xhr.abort()},_initSource:function(){var c=this,f,g;a.isArray(this.options.source)?(f=this.options.source,this.source=function(b,c){c(a.ui.autocomplete.filter(f,b.term))}):typeof this.options.source=="string"?(g=this.options.source,this.source=function(f,h){c.xhr&&c.xhr.abort(),c.xhr=a.ajax({url:g,data:f,dataType:"json",autocompleteRequest:++b,success:function(a){this.autocompleteRequest===b&&h(a)},error:function(){this.autocompleteRequest===b&&h([])}})}):this.source=this.options.source},search:function(a,b){a=a!=null?a:this.element.val(),this.term=this.element.val();if(a.length<this.options.minLength)return this.close(b);clearTimeout(this.closing);if(this._trigger("search",b)!==!1)return this._search(a)},_search:function(a){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.source({term:a},this.response)},_response:function(a){!this.options.disabled&&a&&a.length?(a=this._normalize(a),this._suggest(a),this._trigger("open")):this.close(),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},close:function(a){clearTimeout(this.closing),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.deactivate(),this._trigger("close",a))},_change:function(a){this.previous!==this.element.val()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(b){return b.length&&b[0].label&&b[0].value?b:a.map(b,function(b){return typeof b=="string"?{label:b,value:b}:a.extend({label:b.label||b.value,value:b.value||b.label},b)})},_suggest:function(b){var c=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(c,b),this.menu.deactivate(),this.menu.refresh(),c.show(),this._resizeMenu(),c.position(a.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(new a.Event("mouseover"))},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth(),this.element.outerWidth()))},_renderMenu:function(b,c){var e=this;a.each(c,function(a,c){e._renderItem(b,c)})},_renderItem:function(b,c){return a("<li></li>").data("item.autocomplete",c).append(a("<a></a>").text(c.label)).appendTo(b)},_move:function(a,b){this.menu.element.is(":visible")?this.menu.first()&&/^previous/.test(a)||this.menu.last()&&/^next/.test(a)?(this.element.val(this.term),this.menu.deactivate()):this.menu[a](b):this.search(null,b)},widget:function(){return this.menu.element}}),a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(b,c){var e=new RegExp(a.ui.autocomplete.escapeRegex(c),"i");return a.grep(b,function(a){return e.test(a.label||a.value||a)})}})}(jQuery),function(a){a.widget("ui.menu",{_create:function(){var b=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(c){a(c.target).closest(".ui-menu-item a").length&&(c.preventDefault(),b.select(c))}),this.refresh()},refresh:function(){var b=this;this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem").children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(c){b.activate(c,a(this).parent())}).mouseleave(function(){b.deactivate()})},activate:function(a,b){this.deactivate();if(this.hasScroll()){var c=b.offset().top-this.element.offset().top,d=this.element.scrollTop(),e=this.element.height();c<0?this.element.scrollTop(d+c):c>=e&&this.element.scrollTop(d+c-e+b.height())}this.active=b.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end(),this._trigger("focus",a,{item:b})},deactivate:function(){this.active&&(this.active.children("a").removeClass("ui-state-hover").removeAttr("id"),this._trigger("blur"),this.active=null)},next:function(a){this.move("next",".ui-menu-item:first",a)},previous:function(a){this.move("prev",".ui-menu-item:last",a)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(a,b,c){this.active?(a=this.active[a+"All"](".ui-menu-item").eq(0),a.length?this.activate(c,a):this.activate(c,this.element.children(b))):this.activate(c,this.element.children(b))},nextPage:function(b){if(this.hasScroll())if(!this.active||this.last())this.activate(b,this.element.children(".ui-menu-item:first"));else{var c=this.active.offset().top,e=this.element.height(),f=this.element.children(".ui-menu-item").filter(function(){var b=a(this).offset().top-c-e+a(this).height();return b<10&&b>-10});f.length||(f=this.element.children(".ui-menu-item:last")),this.activate(b,f)}else this.activate(b,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))},previousPage:function(b){if(this.hasScroll())if(!this.active||this.first())this.activate(b,this.element.children(".ui-menu-item:last"));else{var c=this.active.offset().top,e=this.element.height();result=this.element.children(".ui-menu-item").filter(function(){var b=a(this).offset().top-c+e-a(this).height();return b<10&&b>-10}),result.length||(result=this.element.children(".ui-menu-item:first")),this.activate(b,result)}else this.activate(b,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element[a.fn.prop?"prop":"attr"]("scrollHeight")},select:function(a){this._trigger("selected",a,{item:this.active})}})}(jQuery),function(a){var b,c,d,e,f=function(){var b=a(this).find(":ui-button");setTimeout(function(){b.button("refresh")},1)},g=function(b){var c=b.name,d=b.form,e=a([]);return c&&(e=d?a(d).find("[name='"+c+"']"):a("[name='"+c+"']",b.ownerDocument).filter(function(){return!this.form})),e};a.widget("ui.button",{options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",f),typeof this.options.disabled!="boolean"&&(this.options.disabled=this.element.propAttr("disabled")),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var m=this,n=this.options,o=this.type==="checkbox"||this.type==="radio",p="ui-state-hover"+(o?"":" ui-state-active");n.label===null&&(n.label=this.buttonElement.html()),this.element.is(":disabled")&&(n.disabled=!0),this.buttonElement.addClass("ui-button ui-widget ui-state-default ui-corner-all").attr("role","button").bind("mouseenter.button",function(){n.disabled||(a(this).addClass("ui-state-hover"),this===b&&a(this).addClass("ui-state-active"))}).bind("mouseleave.button",function(){n.disabled||a(this).removeClass(p)}).bind("click.button",function(a){n.disabled&&(a.preventDefault(),a.stopImmediatePropagation())}),this.element.bind("focus.button",function(){m.buttonElement.addClass("ui-state-focus")}).bind("blur.button",function(){m.buttonElement.removeClass("ui-state-focus")}),o&&(this.element.bind("change.button",function(){e||m.refresh()}),this.buttonElement.bind("mousedown.button",function(a){n.disabled||(e=!1,c=a.pageX,d=a.pageY)}).bind("mouseup.button",function(a){!n.disabled&&(c!==a.pageX||d!==a.pageY)&&(e=!0)})),this.type==="checkbox"?this.buttonElement.bind("click.button",function(){if(n.disabled||e)return!1;a(this).toggleClass("ui-state-active"),m.buttonElement.attr("aria-pressed",m.element[0].checked)}):this.type==="radio"?this.buttonElement.bind("click.button",function(){if(n.disabled||e)return!1;a(this).addClass("ui-state-active"),m.buttonElement.attr("aria-pressed","true");var b=m.element[0];g(b).not(b).map(function(){return a(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown.button",function(){if(n.disabled)return!1;a(this).addClass("ui-state-active"),b=this,a(document).one("mouseup",function(){b=null})}).bind("mouseup.button",function(){if(n.disabled)return!1;a(this).removeClass("ui-state-active")}).bind("keydown.button",function(b){if(n.disabled)return!1;(b.keyCode==a.ui.keyCode.SPACE||b.keyCode==a.ui.keyCode.ENTER)&&a(this).addClass("ui-state-active")}).bind("keyup.button",function(){a(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(b){b.keyCode===a.ui.keyCode.SPACE&&a(this).click()})),this._setOption("disabled",n.disabled),this._resetButton()},_determineButtonType:function(){this.type=this.element.is(":checkbox")?"checkbox":this.element.is(":radio")?"radio":this.element.is("input")?"input":"button";if(this.type==="checkbox"||this.type==="radio"){var a=this.element.parents().filter(":last"),b="label[for='"+this.element.attr("id")+"']";this.buttonElement=a.find(b),this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(b),this.buttonElement.length||(this.buttonElement=a.find(b))),this.element.addClass("ui-helper-hidden-accessible"),(a=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.attr("aria-pressed",a)}else this.buttonElement=this.element},widget:function(){return this.buttonElement},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass("ui-button ui-widget ui-state-default ui-corner-all ui-state-hover ui-state-active  ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only").removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title"),a.Widget.prototype.destroy.call(this)},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments),b==="disabled"?c?this.element.propAttr("disabled",!0):this.element.propAttr("disabled",!1):this._resetButton()},refresh:function(){var b=this.element.is(":disabled");b!==this.options.disabled&&this._setOption("disabled",b),this.type==="radio"?g(this.element[0]).each(function(){a(this).is(":checked")?a(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):a(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):this.type==="checkbox"&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if(this.type==="input")this.options.label&&this.element.val(this.options.label);else{var b=this.buttonElement.removeClass("ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only"),c=a("<span></span>").addClass("ui-button-text").html(this.options.label).appendTo(b.empty()).text(),d=this.options.icons,e=d.primary&&d.secondary,f=[];d.primary||d.secondary?(this.options.text&&f.push("ui-button-text-icon"+(e?"s":d.primary?"-primary":"-secondary")),d.primary&&b.prepend("<span class='ui-button-icon-primary ui-icon "+d.primary+"'></span>"),d.secondary&&b.append("<span class='ui-button-icon-secondary ui-icon "+d.secondary+"'></span>"),this.options.text||(f.push(e?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||b.attr("title",c))):f.push("ui-button-text-only"),b.addClass(f.join(" "))}}}),a.widget("ui.buttonset",{options:{items:":button, :submit, :reset, :checkbox, :radio, a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(b,c){b==="disabled"&&this.buttons.button("option",b,c),a.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){var b=this.element.css("direction")==="ltr";this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(b?"ui-corner-left":"ui-corner-right").end().filter(":last").addClass(b?"ui-corner-right":"ui-corner-left").end().end()},destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy"),a.Widget.prototype.destroy.call(this)}})}(jQuery),function(a,b){var c={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},d={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},e=a.attrFn||{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0,click:!0};a.widget("ui.dialog",{options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",collision:"fit",using:function(b){var c=a(this).css(b).offset().top;c<0&&a(this).css("top",b.top-c)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){this.originalTitle=this.element.attr("title"),typeof this.originalTitle!="string"&&(this.originalTitle=""),this.options.title=this.options.title||this.originalTitle;var b=this,c=b.options,d=c.title||"&#160;",e=a.ui.dialog.getTitleId(b.element),f=(b.uiDialog=a("<div></div>")).appendTo(document.body).hide().addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+c.dialogClass).css({zIndex:c.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(d){c.closeOnEscape&&!d.isDefaultPrevented()&&d.keyCode&&d.keyCode===a.ui.keyCode.ESCAPE&&(b.close(d),d.preventDefault())}).attr({role:"dialog","aria-labelledby":e}).mousedown(function(a){b.moveToTop(!1,a)});b.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(f);var g=(b.uiDialogTitlebar=a("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(f),h=a('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){h.addClass("ui-state-hover")},function(){h.removeClass("ui-state-hover")}).focus(function(){h.addClass("ui-state-focus")}).blur(function(){h.removeClass("ui-state-focus")}).click(function(a){return b.close(a),!1}).appendTo(g);(b.uiDialogTitlebarCloseText=a("<span></span>")).addClass("ui-icon ui-icon-closethick").text(c.closeText).appendTo(h),a("<span></span>").addClass("ui-dialog-title").attr("id",e).html(d).prependTo(g),a.isFunction(c.beforeclose)&&!a.isFunction(c.beforeClose)&&(c.beforeClose=c.beforeclose),g.find("*").add(g).disableSelection(),c.draggable&&a.fn.draggable&&b._makeDraggable(),c.resizable&&a.fn.resizable&&b._makeResizable(),b._createButtons(c.buttons),b._isOpen=!1,a.fn.bgiframe&&f.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){var a=this;return a.overlay&&a.overlay.destroy(),a.uiDialog.hide(),a.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),a.uiDialog.remove(),a.originalTitle&&a.element.attr("title",a.originalTitle),a},widget:function(){return this.uiDialog},close:function(b){var c=this,d,e;if(!1!==c._trigger("beforeClose",b))return c.overlay&&c.overlay.destroy(),c.uiDialog.unbind("keypress.ui-dialog"),c._isOpen=!1,c.options.hide?c.uiDialog.hide(c.options.hide,function(){c._trigger("close",b)}):(c.uiDialog.hide(),c._trigger("close",b)),a.ui.dialog.overlay.resize(),c.options.modal&&(d=0,a(".ui-dialog").each(function(){this!==c.uiDialog[0]&&(e=a(this).css("z-index"),isNaN(e)||(d=Math.max(d,e)))}),a.ui.dialog.maxZ=d),c},isOpen:function(){return this._isOpen},moveToTop:function(b,c){var d=this,e=d.options;return e.modal&&!b||!e.stack&&!e.modal?d._trigger("focus",c):(e.zIndex>a.ui.dialog.maxZ&&(a.ui.dialog.maxZ=e.zIndex),d.overlay&&(a.ui.dialog.maxZ+=1,d.overlay.$el.css("z-index",a.ui.dialog.overlay.maxZ=a.ui.dialog.maxZ)),b={scrollTop:d.element.scrollTop(),scrollLeft:d.element.scrollLeft()},a.ui.dialog.maxZ+=1,d.uiDialog.css("z-index",a.ui.dialog.maxZ),d.element.attr(b),d._trigger("focus",c),d)},open:function(){if(!this._isOpen){var b=this,c=b.options,d=b.uiDialog;return b.overlay=c.modal?new a.ui.dialog.overlay(b):null,b._size(),b._position(c.position),d.show(c.show),b.moveToTop(!0),c.modal&&d.bind("keypress.ui-dialog",function(b){if(b.keyCode===a.ui.keyCode.TAB){var c=a(":tabbable",this),d=c.filter(":first");c=c.filter(":last");if(b.target===c[0]&&!b.shiftKey)return d.focus(1),!1;if(b.target===d[0]&&b.shiftKey)return c.focus(1),!1}}),a(b.element.find(":tabbable").get().concat(d.find(".ui-dialog-buttonpane :tabbable").get().concat(d.get()))).eq(0).focus(),b._isOpen=!0,b._trigger("open"),b}},_createButtons:function(b){var c=this,d=!1,f=a("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),g=a("<div></div>").addClass("ui-dialog-buttonset").appendTo(f);c.uiDialog.find(".ui-dialog-buttonpane").remove(),typeof b=="object"&&b!==null&&a.each(b,function(){return!(d=!0)}),d&&(a.each(b,function(b,d){d=a.isFunction(d)?{click:d,text:b}:d;var f=a('<button type="button"></button>').click(function(){d.click.apply(c.element[0],arguments)}).appendTo(g);a.each(d,function(a,b){a!=="click"&&(a in e?f[a](b):f.attr(a,b))}),a.fn.button&&f.button()}),f.appendTo(c.uiDialog))},_makeDraggable:function(){function b(a){return{position:a.position,offset:a.offset}}var c=this,d=c.options,e=a(document),f;c.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(e,h){f=d.height==="auto"?"auto":a(this).height(),a(this).height(a(this).height()).addClass("ui-dialog-dragging"),c._trigger("dragStart",e,b(h))},drag:function(a,d){c._trigger("drag",a,b(d))},stop:function(h,i){d.position=[i.position.left-e.scrollLeft(),i.position.top-e.scrollTop()],a(this).removeClass("ui-dialog-dragging").height(f),c._trigger("dragStop",h,b(i)),a.ui.dialog.overlay.resize()}})},_makeResizable:function(c){function d(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,position:a.position,size:a.size}}c=c===b?this.options.resizable:c;var e=this,f=e.options,g=e.uiDialog.css("position");c=typeof c=="string"?c:"n,e,s,w,se,sw,ne,nw",e.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:e.element,maxWidth:f.maxWidth,maxHeight:f.maxHeight,minWidth:f.minWidth,minHeight:e._minHeight(),handles:c,start:function(b,c){a(this).addClass("ui-dialog-resizing"),e._trigger("resizeStart",b,d(c))},resize:function(a,b){e._trigger("resize",a,d(b))},stop:function(b,c){a(this).removeClass("ui-dialog-resizing"),f.height=a(this).height(),f.width=a(this).width(),e._trigger("resizeStop",b,d(c)),a.ui.dialog.overlay.resize()}}).css("position",g).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var a=this.options;return a.height==="auto"?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(b){var c=[],d=[0,0],e;if(b){if(typeof b=="string"||typeof b=="object"&&"0"in b)c=b.split?b.split(" "):[b[0],b[1]],c.length===1&&(c[1]=c[0]),a.each(["left","top"],function(a,b){+c[a]===c[a]&&(d[a]=c[a],c[a]=b)}),b={my:c.join(" "),at:c.join(" "),offset:d.join(" ")};b=a.extend({},a.ui.dialog.prototype.options.position,b)}else b=a.ui.dialog.prototype.options.position;(e=this.uiDialog.is(":visible"))||this.uiDialog.show(),this.uiDialog.css({top:0,left:0}).position(a.extend({of:window},b)),e||this.uiDialog.hide()},_setOptions:function(b){var e=this,f={},g=!1;a.each(b,function(a,b){e._setOption(a,b),a in c&&(g=!0),a in d&&(f[a]=b)}),g&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",f)},_setOption:function(b,c){var d=this,e=d.uiDialog;switch(b){case"beforeclose":b="beforeClose";break;case"buttons":d._createButtons(c);break;case"closeText":d.uiDialogTitlebarCloseText.text(""+c);break;case"dialogClass":e.removeClass(d.options.dialogClass).addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+c);break;case"disabled":c?e.addClass("ui-dialog-disabled"):e.removeClass("ui-dialog-disabled");break;case"draggable":var f=e.is(":data(draggable)");f&&!c&&e.draggable("destroy"),!f&&c&&d._makeDraggable();break;case"position":d._position(c);break;case"resizable":(f=e.is(":data(resizable)"))&&!c&&e.resizable("destroy"),f&&typeof c=="string"&&e.resizable("option","handles",c),!f&&c!==!1&&d._makeResizable(c);break;case"title":a(".ui-dialog-title",d.uiDialogTitlebar).html(""+(c||"&#160;"))}a.Widget.prototype._setOption.apply(d,arguments)},_size:function(){var b=this.options,c,d,e=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0}),b.minWidth>b.width&&(b.width=b.minWidth),c=this.uiDialog.css({height:"auto",width:b.width}).height(),d=Math.max(0,b.minHeight-c),b.height==="auto"?a.support.minHeight?this.element.css({minHeight:d,height:"auto"}):(this.uiDialog.show(),b=this.element.css("height","auto").height(),e||this.uiDialog.hide(),this.element.height(Math.max(b,d))):this.element.height(Math.max(b.height-c,0)),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),a.extend(a.ui.dialog,{version:"1.8.16",uuid:0,maxZ:0,getTitleId:function(a){return a=a.attr("id"),a||(this.uuid+=1,a=this.uuid),"ui-dialog-title-"+a},overlay:function(b){this.$el=a.ui.dialog.overlay.create(b)}}),a.extend(a.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:a.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(a){return a+".dialog-overlay"}).join(" "),create:function(b){this.instances.length===0&&(setTimeout(function(){a.ui.dialog.overlay.instances.length&&a(document).bind(a.ui.dialog.overlay.events,function(b){if(a(b.target).zIndex()<a.ui.dialog.overlay.maxZ)return!1})},1),a(document).bind("keydown.dialog-overlay",function(c){b.options.closeOnEscape&&!c.isDefaultPrevented()&&c.keyCode&&c.keyCode===a.ui.keyCode.ESCAPE&&(b.close(c),c.preventDefault())}),a(window).bind("resize.dialog-overlay",a.ui.dialog.overlay.resize));var c=(this.oldInstances.pop()||a("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});return a.fn.bgiframe&&c.bgiframe(),this.instances.push(c),c},destroy:function(b){var c=a.inArray(b,this.instances);c!=-1&&this.oldInstances.push(this.instances.splice(c,1)[0]),this.instances.length===0&&a([document,window]).unbind(".dialog-overlay"),b.remove();var d=0;a.each(this.instances,function(){d=Math.max(d,this.css("z-index"))}),this.maxZ=d},height:function(){var b,c;return a.browser.msie&&a.browser.version<7?(b=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),c=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),b<c?a(window).height()+"px":b+"px"):a(document).height()+"px"},width:function(){var b,c;return a.browser.msie?(b=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),c=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),b<c?a(window).width()+"px":b+"px"):a(document).width()+"px"},resize:function(){var b=a([]);a.each(a.ui.dialog.overlay.instances,function(){b=b.add(this)}),b.css({width:0,height:0}).css({width:a.ui.dialog.overlay.width(),height:a.ui.dialog.overlay.height()})}}),a.extend(a.ui.dialog.overlay.prototype,{destroy:function(){a.ui.dialog.overlay.destroy(this.$el)}})}(jQuery),function(a){a.widget("ui.slider",a.ui.mouse,{widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var b=this,c=this.options,e=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),f=c.values&&c.values.length||1,g=[];this._mouseSliding=this._keySliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(c.disabled?" ui-slider-disabled ui-disabled":"")),this.range=a([]),c.range&&(c.range===!0&&(c.values||(c.values=[this._valueMin(),this._valueMin()]),c.values.length&&c.values.length!==2&&(c.values=[c.values[0],c.values[0]])),this.range=a("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+(c.range==="min"||c.range==="max"?" ui-slider-range-"+c.range:"")));for(var h=e.length;h<f;h+=1)g.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>");this.handles=e.add(a(g.join("")).appendTo(b.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(a){a.preventDefault()}).hover(function(){c.disabled||a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")}).focus(function(){c.disabled?a(this).blur():(a(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),a(this).addClass("ui-state-focus"))}).blur(function(){a(this).removeClass("ui-state-focus")}),this.handles.each(function(b){a(this).data("index.ui-slider-handle",b)}),this.handles.keydown(function(c){var e=!0,f=a(this).data("index.ui-slider-handle"),g,h,i;if(!b.options.disabled){switch(c.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:e=!1;if(!b._keySliding){b._keySliding=!0,a(this).addClass("ui-state-active"),g=b._start(c,f);if(g===!1)return}}i=b.options.step,g=b.options.values&&b.options.values.length?h=b.values(f):h=b.value();switch(c.keyCode){case a.ui.keyCode.HOME:h=b._valueMin();break;case a.ui.keyCode.END:h=b._valueMax();break;case a.ui.keyCode.PAGE_UP:h=b._trimAlignValue(g+(b._valueMax()-b._valueMin())/5);break;case a.ui.keyCode.PAGE_DOWN:h=b._trimAlignValue(g-(b._valueMax()-b._valueMin())/5);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(g===b._valueMax())return;h=b._trimAlignValue(g+i);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(g===b._valueMin())return;h=b._trimAlignValue(g-i)}return b._slide(c,f,h),e}}).keyup(function(c){var e=a(this).data("index.ui-slider-handle");b._keySliding&&(b._keySliding=!1,b._stop(c,e),b._change(c,e),a(this).removeClass("ui-state-active"))}),this._refreshValue(),this._animateOff=!1},destroy:function(){return this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider"),this._mouseDestroy(),this},_mouseCapture:function(b){var c=this.options,e,f,g,h,i;return c.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),e=this._normValueFromMouse({x:b.pageX,y:b.pageY}),f=this._valueMax()-this._valueMin()+1,h=this,this.handles.each(function(b){var c=Math.abs(e-h.values(b));f>c&&(f=c,g=a(this),i=b)}),c.range===!0&&this.values(1)===c.min&&(i+=1,g=a(this.handles[i])),this._start(b,i)===!1?!1:(this._mouseSliding=!0,h._handleIndex=i,g.addClass("ui-state-active").focus(),c=g.offset(),this._clickOffset=a(b.target).parents().andSelf().is(".ui-slider-handle")?{left:b.pageX-c.left-g.width()/2,top:b.pageY-c.top-g.height()/2-(parseInt(g.css("borderTopWidth"),10)||0)-(parseInt(g.css("borderBottomWidth"),10)||0)+(parseInt(g.css("marginTop"),10)||0)}:{left:0,top:0},this.handles.hasClass("ui-state-hover")||this._slide(b,i,e),this._animateOff=!0))},_mouseStart:function(){return!0},_mouseDrag:function(a){var b=this._normValueFromMouse({x:a.pageX,y:a.pageY});return this._slide(a,this._handleIndex,b),!1},_mouseStop:function(a){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._clickOffset=this._handleIndex=null,this._animateOff=!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(a){var b;return this.orientation==="horizontal"?(b=this.elementSize.width,a=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(b=this.elementSize.height,a=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),b=a/b,b>1&&(b=1),b<0&&(b=0),this.orientation==="vertical"&&(b=1-b),a=this._valueMax()-this._valueMin(),this._trimAlignValue(this._valueMin()+b*a)},_start:function(a,b){var c={handle:this.handles[b],value:this.value()};return this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("start",a,c)},_slide:function(a,b,c){var d;this.options.values&&this.options.values.length?(d=this.values(b?0:1),this.options.values.length===2&&this.options.range===!0&&(b===0&&c>d||b===1&&c<d)&&(c=d),c!==this.values(b)&&(d=this.values(),d[b]=c,a=this._trigger("slide",a,{handle:this.handles[b],value:c,values:d}),this.values(b?0:1),a!==!1&&this.values(b,c,!0))):c!==this.value()&&(a=this._trigger("slide",a,{handle:this.handles[b],value:c}),a!==!1&&this.value(c))},_stop:function(a,b){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("stop",a,c)},_change:function(a,b){if(!this._keySliding&&!this._mouseSliding){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("change",a,c)}},value:function(a){if(!arguments.length)return this._value();this.options.value=this._trimAlignValue(a),this._refreshValue(),this._change(null,0)},values:function(b,c){var e,f,g;if(arguments.length>1)this.options.values[b]=this._trimAlignValue(c),this._refreshValue(),this._change(null,b);else{if(!arguments.length)return this._values();if(!a.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(b):this.value();e=this.options.values,f=arguments[0];for(g=0;g<e.length;g+=1)e[g]=this._trimAlignValue(f[g]),this._change(null,g);this._refreshValue()}},_setOption:function(b,c){var e,f=0;a.isArray(this.options.values)&&(f=this.options.values.length),a.Widget.prototype._setOption.apply(this,arguments);switch(b){case"disabled":c?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.propAttr("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.propAttr("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":this._animateOff=!0,this._refreshValue();for(e=0;e<f;e+=1)this._change(null,e);this._animateOff=!1}},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a)},_values:function(a){var b,c;if(arguments.length)return b=this.options.values[a],b=this._trimAlignValue(b);b=this.options.values.slice();for(c=0;c<b.length;c+=1)b[c]=this._trimAlignValue(b[c]);return b},_trimAlignValue:function(a){if(a<=this._valueMin())return this._valueMin();if(a>=this._valueMax())return this._valueMax();var b=this.options.step>0?this.options.step:1,c=(a-this._valueMin())%b;return a-=c,Math.abs(c)*2>=b&&(a+=c>0?b:-b),parseFloat(a.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var b=this.options.range,c=this.options,e=this,f=this._animateOff?!1:c.animate,g,h={},i,j,k,l;this.options.values&&this.options.values.length?this.handles.each(function(b){g=(e.values(b)-e._valueMin())/(e._valueMax()-e._valueMin())*100,h[e.orientation==="horizontal"?"left":"bottom"]=g+"%",a(this).stop(1,1)[f?"animate":"css"](h,c.animate),e.options.range===!0&&(e.orientation==="horizontal"?(b===0&&e.range.stop(1,1)[f?"animate":"css"]({left:g+"%"},c.animate),b===1&&e.range[f?"animate":"css"]({width:g-i+"%"},{queue:!1,duration:c.animate})):(b===0&&e.range.stop(1,1)[f?"animate":"css"]({bottom:g+"%"},c.animate),b===1&&e.range[f?"animate":"css"]({height:g-i+"%"},{queue:!1,duration:c.animate}))),i=g}):(j=this.value(),k=this._valueMin(),l=this._valueMax(),g=l!==k?(j-k)/(l-k)*100:0,h[e.orientation==="horizontal"?"left":"bottom"]=g+"%",this.handle.stop(1,1)[f?"animate":"css"](h,c.animate),b==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[f?"animate":"css"]({width:g+"%"},c.animate),b==="max"&&this.orientation==="horizontal"&&this.range[f?"animate":"css"]({width:100-g+"%"},{queue:!1,duration:c.animate}),b==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[f?"animate":"css"]({height:g+"%"},c.animate),b==="max"&&this.orientation==="vertical"&&this.range[f?"animate":"css"]({height:100-g+"%"},{queue:!1,duration:c.animate}))}}),a.extend(a.ui.slider,{version:"1.8.16"})}(jQuery),function(a,b){function c(){return++e}function d(){return++f}var e=0,f=0;a.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:!1,cookie:null,collapsible:!1,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(!0)},_setOption:function(a,b){a=="selected"?this.options.collapsible&&b==this.options.selected||this.select(b):(this.options[a]=b,this._tabify())},_tabId:function(a){return a.title&&a.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+c()},_sanitizeSelector:function(a){return a.replace(/:/g,"\\:")},_cookie:function(){var b=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+d());return a.cookie.apply(null,[b].concat(a.makeArray(arguments)))},_ui:function(a,b){return{tab:a,panel:b,index:this.anchors.index(a)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var b=a(this);b.html(b.data("label.tabs")).removeData("label.tabs")})},_tabify:function(c){function d(b,c){b.css("display",""),!a.support.opacity&&c.opacity&&b[0].style.removeAttribute("filter")}var e=this,f=this.options,g=/^#.+/;this.list=this.element.find("ol,ul").eq(0),this.lis=a(" > li:has(a[href])",this.list),this.anchors=this.lis.map(function(){return a("a",this)[0]}),this.panels=a([]),this.anchors.each(function(b,c){var d=a(c).attr("href"),h=d.split("#")[0],i;h&&(h===location.toString().split("#")[0]||(i=a("base")[0])&&h===i.href)&&(d=c.hash,c.href=d),g.test(d)?e.panels=e.panels.add(e.element.find(e._sanitizeSelector(d))):d&&d!=="#"?(a.data(c,"href.tabs",d),a.data(c,"load.tabs",d.replace(/#.*$/,"")),d=e._tabId(c),c.href="#"+d,c=e.element.find("#"+d),c.length||(c=a(f.panelTemplate).attr("id",d).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(e.panels[b-1]||e.list),c.data("destroy.tabs",!0)),e.panels=e.panels.add(c)):f.disabled.push(b)}),c?(this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all"),this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.lis.addClass("ui-state-default ui-corner-top"),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom"),f.selected===b?(location.hash&&this.anchors.each(function(a,b){if(b.hash==location.hash)return f.selected=a,!1}),typeof f.selected!="number"&&f.cookie&&(f.selected=parseInt(e._cookie(),10)),typeof f.selected!="number"&&this.lis.filter(".ui-tabs-selected").length&&(f.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"))),f.selected=f.selected||(this.lis.length?0:-1)):f.selected===null&&(f.selected=-1),f.selected=f.selected>=0&&this.anchors[f.selected]||f.selected<0?f.selected:0,f.disabled=a.unique(f.disabled.concat(a.map(this.lis.filter(".ui-state-disabled"),function(a){return e.lis.index(a)}))).sort(),a.inArray(f.selected,f.disabled)!=-1&&f.disabled.splice(a.inArray(f.selected,f.disabled),1),this.panels.addClass("ui-tabs-hide"),this.lis.removeClass("ui-tabs-selected ui-state-active"),f.selected>=0&&this.anchors.length&&(e.element.find(e._sanitizeSelector(e.anchors[f.selected].hash)).removeClass("ui-tabs-hide"),this.lis.eq(f.selected).addClass("ui-tabs-selected ui-state-active"),e.element.queue("tabs",function(){e._trigger("show",null,e._ui(e.anchors[f.selected],e.element.find(e._sanitizeSelector(e.anchors[f.selected].hash))[0]))}),this.load(f.selected)),a(window).bind("unload",function(){e.lis.add(e.anchors).unbind(".tabs"),e.lis=e.anchors=e.panels=null})):f.selected=this.lis.index(this.lis.filter(".ui-tabs-selected")),this.element[f.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible"),f.cookie&&this._cookie(f.selected,f.cookie),c=0;for(var h;h=this.lis[c];c++)a(h)[a.inArray(c,f.disabled)!=-1&&!a(h).hasClass("ui-tabs-selected")?"addClass":"removeClass"]("ui-state-disabled");f.cache===!1&&this.anchors.removeData("cache.tabs"),this.lis.add(this.anchors).unbind(".tabs");if(f.event!=="mouseover"){var i=function(a,b){b.is(":not(.ui-state-disabled)")&&b.addClass("ui-state-"+a)},j=function(a,b){b.removeClass("ui-state-"+a)};this.lis.bind("mouseover.tabs",function(){i("hover",a(this))}),this.lis.bind("mouseout.tabs",function(){j("hover",a(this))}),this.anchors.bind("focus.tabs",function(){i("focus",a(this).closest("li"))}),this.anchors.bind("blur.tabs",function(){j("focus",a(this).closest("li"))})}var k,l;f.fx&&(a.isArray(f.fx)?(k=f.fx[0],l=f.fx[1]):k=l=f.fx);var m=l?function(b,c){a(b).closest("li").addClass("ui-tabs-selected ui-state-active"),c.hide().removeClass("ui-tabs-hide").animate(l,l.duration||"normal",function(){d(c,l),e._trigger("show",null,e._ui(b,c[0]))})}:function(b,c){a(b).closest("li").addClass("ui-tabs-selected ui-state-active"),c.removeClass("ui-tabs-hide"),e._trigger("show",null,e._ui(b,c[0]))},n=k?function(a,b){b.animate(k,k.duration||"normal",function(){e.lis.removeClass("ui-tabs-selected ui-state-active"),b.addClass("ui-tabs-hide"),d(b,k),e.element.dequeue("tabs")})}:function(a,b){e.lis.removeClass("ui-tabs-selected ui-state-active"),b.addClass("ui-tabs-hide"),e.element.dequeue("tabs")};this.anchors.bind(f.event+".tabs",function(){var b=this,c=a(b).closest("li"),d=e.panels.filter(":not(.ui-tabs-hide)"),g=e.element.find(e._sanitizeSelector(b.hash));if(c.hasClass("ui-tabs-selected")&&!f.collapsible||c.hasClass("ui-state-disabled")||c.hasClass("ui-state-processing")||e.panels.filter(":animated").length||e._trigger("select",null,e._ui(this,g[0]))===!1)return this.blur(),!1;f.selected=e.anchors.index(this),e.abort();if(f.collapsible){if(c.hasClass("ui-tabs-selected"))return f.selected=-1,f.cookie&&e._cookie(f.selected,f.cookie),e.element.queue("tabs",function(){n(b,d)}).dequeue("tabs"),this.blur(),!1;if(!d.length)return f.cookie&&e._cookie(f.selected,f.cookie),e.element.queue("tabs",function(){m(b,g)}),e.load(e.anchors.index(this)),this.blur(),!1}f.cookie&&e._cookie(f.selected,f.cookie);if(!g.length)throw"jQuery UI Tabs: Mismatching fragment identifier.";d.length&&e.element.queue("tabs",function(){n(b,d)}),e.element.queue("tabs",function(){m(b,g)}),e.load(e.anchors.index(this)),a.browser.msie&&this.blur()}),this.anchors.bind("click.tabs",function(){return!1})},_getIndex:function(a){return typeof a=="string"&&(a=this.anchors.index(this.anchors.filter("[href$="+a+"]"))),a},destroy:function(){var b=this.options;return this.abort(),this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs"),this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.anchors.each(function(){var b=a.data(this,"href.tabs");b&&(this.href=b);var c=a(this).unbind(".tabs");a.each(["href","load","cache"],function(a,b){c.removeData(b+".tabs")})}),this.lis.unbind(".tabs").add(this.panels).each(function(){a.data(this,"destroy.tabs")?a(this).remove():a(this).removeClass("ui-state-default ui-corner-top ui-tabs-selected ui-state-active ui-state-hover ui-state-focus ui-state-disabled ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide")}),b.cookie&&this._cookie(null,b.cookie),this},add:function(c,d,e){e===b&&(e=this.anchors.length);var f=this,g=this.options;d=a(g.tabTemplate.replace(/#\{href\}/g,c).replace(/#\{label\}/g,d)),c=c.indexOf("#")?this._tabId(a("a",d)[0]):c.replace("#",""),d.addClass("ui-state-default ui-corner-top").data("destroy.tabs",!0);var h=f.element.find("#"+c);return h.length||(h=a(g.panelTemplate).attr("id",c).data("destroy.tabs",!0)),h.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"),e>=this.lis.length?(d.appendTo(this.list),h.appendTo(this.list[0].parentNode)):(d.insertBefore(this.lis[e]),h.insertBefore(this.panels[e])),g.disabled=a.map(g.disabled,function(a){return a>=e?++a:a}),this._tabify(),this.anchors.length==1&&(g.selected=0,d.addClass("ui-tabs-selected ui-state-active"),h.removeClass("ui-tabs-hide"),this.element.queue("tabs",function(){f._trigger("show",null,f._ui(f.anchors[0],f.panels[0]))}),this.load(0)),this._trigger("add",null,this._ui(this.anchors[e],this.panels[e])),this},remove:function(b){b=this._getIndex(b);var c=this.options,d=this.lis.eq(b).remove(),e=this.panels.eq(b).remove();return d.hasClass("ui-tabs-selected")&&this.anchors.length>1&&this.select(b+(b+1<this.anchors.length?1:-1)),c.disabled=a.map(a.grep(c.disabled,function(a){return a!=b}),function(a){return a>=b?--a:a}),this._tabify(),this._trigger("remove",null,this._ui(d.find("a")[0],e[0])),this},enable:function(b){b=this._getIndex(b);var c=this.options;if(a.inArray(b,c.disabled)!=-1)return this.lis.eq(b).removeClass("ui-state-disabled"),c.disabled=a.grep(c.disabled,function(a){return a!=b}),this._trigger("enable",null,this._ui(this.anchors[b],this.panels[b])),this},disable:function(a){a=this._getIndex(a);var b=this.options;return a!=b.selected&&(this.lis.eq(a).addClass("ui-state-disabled"),b.disabled.push(a),b.disabled.sort(),this._trigger("disable",null,this._ui(this.anchors[a],this.panels[a]))),this},select:function(a){a=this._getIndex(a);if(a==-1){if(!this.options.collapsible||this.options.selected==-1)return this;a=this.options.selected}return this.anchors.eq(a).trigger(this.options.event+".tabs"),this},load:function(b){b=this._getIndex(b);var c=this,d=this.options,e=this.anchors.eq(b)[0],f=a.data(e,"load.tabs");this.abort();if(!(!f||this.element.queue("tabs").length!==0&&a.data(e,"cache.tabs"))){this.lis.eq(b).addClass("ui-state-processing");if(d.spinner){var g=a("span",e);g.data("label.tabs",g.html()).html(d.spinner)}return this.xhr=a.ajax(a.extend({},d.ajaxOptions,{url:f,success:function(f,g){c.element.find(c._sanitizeSelector(e.hash)).html(f),c._cleanup(),d.cache&&a.data(e,"cache.tabs",!0),c._trigger("load",null,c._ui(c.anchors[b],c.panels[b]));try{d.ajaxOptions.success(f,g)}catch(h){}},error:function(a,f){c._cleanup(),c._trigger("load",null,c._ui(c.anchors[b],c.panels[b]));try{d.ajaxOptions.error(a,f,b,e)}catch(g){}}})),c.element.dequeue("tabs"),this}this.element.dequeue("tabs")},abort:function(){return this.element.queue([]),this.panels.stop(!1,!0),this.element.queue("tabs",this.element.queue("tabs").splice(-2,2)),this.xhr&&(this.xhr.abort(),delete this.xhr),this._cleanup(),this},url:function(a,b){return this.anchors.eq(a).removeData("cache.tabs").data("load.tabs",b),this},length:function(){return this.anchors.length}}),a.extend(a.ui.tabs,{version:"1.8.16"}),a.extend(a.ui.tabs.prototype,{rotation:null,rotate:function(a,b){var c=this,d=this.options,e=c._rotate||(c._rotate=function(b){clearTimeout(c.rotation),c.rotation=setTimeout(function(){var a=d.selected;c.select(++a<c.anchors.length?a:0)},a),b&&b.stopPropagation()});return b=c._unrotate||(c._unrotate=b?function(){t=d.selected,e()}:function(a){a.clientX&&c.rotate(null)}),a?(this.element.bind("tabsshow",e),this.anchors.bind(d.event+".tabs",b),e()):(clearTimeout(c.rotation),this.element.unbind("tabsshow",e),this.anchors.unbind(d.event+".tabs",b),delete this._rotate,delete this._unrotate),this}})}(jQuery),function(d,C){function M(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._inDialog=this._datepickerShowing=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},d.extend(this._defaults,this.regional[""]),this.dpDiv=N(d('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function N(a){return a.bind("mouseout",function(a){a=d(a.target).closest("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a"),a.length&&a.removeClass("ui-state-hover ui-datepicker-prev-hover ui-datepicker-next-hover")}).bind("mouseover",function(b){b=d(b.target).closest("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a"),!d.datepicker._isDisabledDatepicker(J.inline?a.parent()[0]:J.input[0])&&!!b.length&&(b.parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),b.addClass("ui-state-hover"),b.hasClass("ui-datepicker-prev")&&b.addClass("ui-datepicker-prev-hover"),b.hasClass("ui-datepicker-next")&&b.addClass("ui-datepicker-next-hover"))})}function H(a,b){d.extend(a,b);for(var c in b)if(b[c]==null||b[c]==C)a[c]=b[c];return a}d.extend(d.ui,{datepicker:{version:"1.8.16"}});var B=(new Date).getTime(),J;d.extend(M.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return H(this._defaults,a||{}),this},_attachDatepicker:function(a,b){var c=null;for(var e in this._defaults){var f=a.getAttribute("date:"+e);if(f){c=c||{};try{c[e]=eval(f)}catch(h){c[e]=f}}}e=a.nodeName.toLowerCase(),f=e=="div"||e=="span",a.id||(this.uuid+=1,a.id="dp"+this.uuid);var i=this._newInst(d(a),f);i.settings=d.extend({},b||{},c||{}),e=="input"?this._connectDatepicker(a,i):f&&this._inlineDatepicker(a,i)},_newInst:function(a,b){return{id:a[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1"),input:a,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:b,dpDiv:b?N(d('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(a,b){var c=d(a);b.append=d([]),b.trigger=d([]),c.hasClass(this.markerClassName)||(this._attachments(c,b),c.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(a,c,d){b.settings[c]=d}).bind("getData.datepicker",function(a,c){return this._get(b,c)}),this._autoSize(b),d.data(a,"datepicker",b),b.settings.disabled&&this._disableDatepicker(a))},_attachments:function(a,b){var c=this._get(b,"appendText"),e=this._get(b,"isRTL");b.append&&b.append.remove(),c&&(b.append=d('<span class="'+this._appendClass+'">'+c+"</span>"),a[e?"before":"after"](b.append)),a.unbind("focus",this._showDatepicker),b.trigger&&b.trigger.remove(),c=this._get(b,"showOn"),(c=="focus"||c=="both")&&a.focus(this._showDatepicker);if(c=="button"||c=="both"){c=this._get(b,"buttonText");var f=this._get(b,"buttonImage");b.trigger=d(this._get(b,"buttonImageOnly")?d("<img/>").addClass(this._triggerClass).attr({src:f,alt:c,title:c}):d('<button type="button"></button>').addClass(this._triggerClass).html(f==""?c:d("<img/>").attr({src:f,alt:c,title:c}))),a[e?"before":"after"](b.trigger),b.trigger.click(function(){return d.datepicker._datepickerShowing&&d.datepicker._lastInput==a[0]?d.datepicker._hideDatepicker():d.datepicker._showDatepicker(a[0]),!1})}},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b=new Date(2009,11,20),c=this._get(a,"dateFormat");if(c.match(/[DM]/)){var d=function(a){for(var b=0,c=0,d=0;d<a.length;d++)a[d].length>b&&(b=a[d].length,c=d);return c};b.setMonth(d(this._get(a,c.match(/MM/)?"monthNames":"monthNamesShort"))),b.setDate(d(this._get(a,c.match(/DD/)?"dayNames":"dayNamesShort"))+20-b.getDay())}a.input.attr("size",this._formatDate(a,b).length)}},_inlineDatepicker:function(a,b){var c=d(a);c.hasClass(this.markerClassName)||(c.addClass(this.markerClassName).append(b.dpDiv).bind("setData.datepicker",function(a,c,d){b.settings[c]=d}).bind("getData.datepicker",function(a,c){return this._get(b,c)}),d.data(a,"datepicker",b),this._setDate(b,this._getDefaultDate(b),!0),this._updateDatepicker(b),this._updateAlternate(b),b.settings.disabled&&this._disableDatepicker(a),b.dpDiv.css("display","block"))},_dialogDatepicker:function(a,b,c,e,f){return a=this._dialogInst,a||(this.uuid+=1,this._dialogInput=d('<input type="text" id="'+("dp"+this.uuid)+'" style="position: absolute; top: -100px; width: 0px; z-index: -10;"/>'),this._dialogInput.keydown(this._doKeyDown),d("body").append(this._dialogInput),a=this._dialogInst=this._newInst(this._dialogInput,!1),a.settings={},d.data(this._dialogInput[0],"datepicker",a)),H(a.settings,e||{}),b=b&&b.constructor==Date?this._formatDate(a,b):b,this._dialogInput.val(b),this._pos=f?f.length?f:[f.pageX,f.pageY]:null,this._pos||(this._pos=[document.documentElement.clientWidth/2-100+(document.documentElement.scrollLeft||document.body.scrollLeft),document.documentElement.clientHeight/2-150+(document.documentElement.scrollTop||document.body.scrollTop)]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),a.settings.onSelect=c,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),d.blockUI&&d.blockUI(this.dpDiv),d.data(this._dialogInput[0],"datepicker",a),this},_destroyDatepicker:function(a){var b=d(a),c=d.data(a,"datepicker");if(b.hasClass(this.markerClassName)){var e=a.nodeName.toLowerCase();d.removeData(a,"datepicker"),e=="input"?(c.append.remove(),c.trigger.remove(),b.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):(e=="div"||e=="span")&&b.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(a){var b=d(a),c=d.data(a,"datepicker");if(b.hasClass(this.markerClassName)){var e=a.nodeName.toLowerCase();if(e=="input")a.disabled=!1,c.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if(e=="div"||e=="span")b=b.children("."+this._inlineClass),b.children().removeClass("ui-state-disabled"),b.find("select.ui-datepicker-month, select.ui-datepicker-year").removeAttr("disabled");this._disabledInputs=d.map(this._disabledInputs,function(b){return b==a?null:b})}},_disableDatepicker:function(a){var b=d(a),c=d.data(a,"datepicker");if(b.hasClass(this.markerClassName)){var e=a.nodeName.toLowerCase();if(e=="input")a.disabled=!0,c.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if(e=="div"||e=="span")b=b.children("."+this._inlineClass),b.children().addClass("ui-state-disabled"),b.find("select.ui-datepicker-month, select.ui-datepicker-year").attr("disabled","disabled");this._disabledInputs=d.map(this._disabledInputs,function(b){return b==a?null:b}),this._disabledInputs[this._disabledInputs.length]=a}},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;b<this._disabledInputs.length;b++)if(this._disabledInputs[b]==a)return!0;return!1},_getInst:function(a){try{return d.data(a,"datepicker")}catch(b){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(a,b,c){var e=this._getInst(a);if(arguments.length==2&&typeof b=="string")return b=="defaults"?d.extend({},d.datepicker._defaults):e?b=="all"?d.extend({},e.settings):this._get(e,b):null;var f=b||{};typeof b=="string"&&(f={},f[b]=c);if(e){this._curInst==e&&this._hideDatepicker();var g=this._getDateDatepicker(a,!0),h=this._getMinMaxDate(e,"min"),i=this._getMinMaxDate(e,"max");H(e.settings,f),h!==null&&f.dateFormat!==C&&f.minDate===C&&(e.settings.minDate=this._formatDate(e,h)),i!==null&&f.dateFormat!==C&&f.maxDate===C&&(e.settings.maxDate=this._formatDate(e,i)),this._attachments(d(a),e),this._autoSize(e),this._setDate(e,g),this._updateAlternate(e),this._updateDatepicker(e)}},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){(a=this._getInst(a))&&this._updateDatepicker(a)},_setDateDatepicker:function(a,b){if(a=this._getInst(a))this._setDate(a,b),this._updateDatepicker(a),this._updateAlternate(a)},_getDateDatepicker:function(a,b){return(a=this._getInst(a))&&!a.inline&&this._setDateFromField(a,b),a?this._getDate(a):null},_doKeyDown:function(a){var b=d.datepicker._getInst(a.target),c=!0,e=b.dpDiv.is(".ui-datepicker-rtl");b._keyEvent=!0;if(d.datepicker._datepickerShowing)switch(a.keyCode){case 9:d.datepicker._hideDatepicker(),c=!1;break;case 13:return c=d("td."+d.datepicker._dayOverClass+":not(."+d.datepicker._currentClass+")",b.dpDiv),c[0]&&d.datepicker._selectDay(a.target,b.selectedMonth,b.selectedYear,c[0]),(a=d.datepicker._get(b,"onSelect"))?(c=d.datepicker._formatDate(b),a.apply(b.input?b.input[0]:null,[c,b])):d.datepicker._hideDatepicker(),!1;case 27:d.datepicker._hideDatepicker();break;case 33:d.datepicker._adjustDate(a.target,a.ctrlKey?-d.datepicker._get(b,"stepBigMonths"):-d.datepicker._get(b,"stepMonths"),"M");break;case 34:d.datepicker._adjustDate(a.target,a.ctrlKey?+d.datepicker._get(b,"stepBigMonths"):+d.datepicker._get(b,"stepMonths"),"M");break;case 35:(a.ctrlKey||a.metaKey)&&d.datepicker._clearDate(a.target),c=a.ctrlKey||a.metaKey;break;case 36:(a.ctrlKey||a.metaKey)&&d.datepicker._gotoToday(a.target),c=a.ctrlKey||a.metaKey;break;case 37:(a.ctrlKey||a.metaKey)&&d.datepicker._adjustDate(a.target,e?1:-1,"D"),c=a.ctrlKey||a.metaKey,a.originalEvent.altKey&&d.datepicker._adjustDate(a.target,a.ctrlKey?-d.datepicker._get(b,"stepBigMonths"):-d.datepicker._get(b,"stepMonths"),"M");break;case 38:(a.ctrlKey||a.metaKey)&&d.datepicker._adjustDate(a.target,-7,"D"),c=a.ctrlKey||a.metaKey;break;case 39:(a.ctrlKey||a.metaKey)&&d.datepicker._adjustDate(a.target,e?-1:1,"D"),c=a.ctrlKey||a.metaKey,a.originalEvent.altKey&&d.datepicker._adjustDate(a.target,a.ctrlKey?+d.datepicker._get(b,"stepBigMonths"):+d.datepicker._get(b,"stepMonths"),"M");break;case 40:(a.ctrlKey||a.metaKey)&&d.datepicker._adjustDate(a.target,7,"D"),c=a.ctrlKey||a.metaKey;break;default:c=!1}else a.keyCode==36&&a.ctrlKey?d.datepicker._showDatepicker(this):c=!1;c&&(a.preventDefault(),a.stopPropagation())},_doKeyPress:function(a){var b=d.datepicker._getInst(a.target);if(d.datepicker._get(b,"constrainInput")){b=d.datepicker._possibleChars(d.datepicker._get(b,"dateFormat"));var c=String.fromCharCode(a.charCode==C?a.keyCode:a.charCode);return a.ctrlKey||a.metaKey||c<" "||!b||b.indexOf(c)>-1}},_doKeyUp:function(a){a=d.datepicker._getInst(a.target);if(a.input.val()!=a.lastVal)try{d.datepicker.parseDate(d.datepicker._get(a,"dateFormat"),a.input?a.input.val():null,d.datepicker._getFormatConfig(a))&&(d.datepicker._setDateFromField(a),d.datepicker._updateAlternate(a),d.datepicker._updateDatepicker(a))}catch(b){d.datepicker.log(b)}return!0},_showDatepicker:function(a){a=a.target||a,a.nodeName.toLowerCase()!="input"&&(a=d("input",a.parentNode)[0]);if(!d.datepicker._isDisabledDatepicker(a)&&d.datepicker._lastInput!=a){var b=d.datepicker._getInst(a);d.datepicker._curInst&&d.datepicker._curInst!=b&&(d.datepicker._datepickerShowing&&d.datepicker._triggerOnClose(d.datepicker._curInst),d.datepicker._curInst.dpDiv.stop(!0,!0));var c=d.datepicker._get(b,"beforeShow");c=c?c.apply(a,[a,b]):{};if(c!==!1){H(b.settings,c),b.lastVal=null,d.datepicker._lastInput=a,d.datepicker._setDateFromField(b),d.datepicker._inDialog&&(a.value=""),d.datepicker._pos||(d.datepicker._pos=d.datepicker._findPos(a),d.datepicker._pos[1]+=a.offsetHeight);var e=!1;d(a).parents().each(function(){return e|=d(this).css("position")=="fixed",!e}),e&&d.browser.opera&&(d.datepicker._pos[0]-=document.documentElement.scrollLeft,d.datepicker._pos[1]-=document.documentElement.scrollTop),c={left:d.datepicker._pos[0],top:d.datepicker._pos[1]},d.datepicker._pos=null,b.dpDiv.empty(),b.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),d.datepicker._updateDatepicker(b),c=d.datepicker._checkOffset(b,c,e),b.dpDiv.css({position:d.datepicker._inDialog&&d.blockUI?"static":e?"fixed":"absolute",display:"none",left:c.left+"px",top:c.top+"px"});if(!b.inline){c=d.datepicker._get(b,"showAnim");var f=d.datepicker._get(b,"duration"),g=function(){var a=b.dpDiv.find("iframe.ui-datepicker-cover");if(a.length){var c=d.datepicker._getBorders(b.dpDiv);a.css({left:-c[0],top:-c[1],width:b.dpDiv.outerWidth(),height:b.dpDiv.outerHeight()})}};b.dpDiv.zIndex(d(a).zIndex()+1),d.datepicker._datepickerShowing=!0,d.effects&&d.effects[c]?b.dpDiv.show(c,d.datepicker._get(b,"showOptions"),f,g):b.dpDiv[c||"show"](c?f:null,g),(!c||!f)&&g(),b.input.is(":visible")&&!b.input.is(":disabled")&&b.input.focus(),d.datepicker._curInst=b}}}},_updateDatepicker:function(a){this.maxRows=4;var b=d.datepicker._getBorders(a.dpDiv);J=a,a.dpDiv.empty().append(this._generateHTML(a));var c=a.dpDiv.find("iframe.ui-datepicker-cover");c.length&&c.css({left:-b[0],top:-b[1],width:a.dpDiv.outerWidth(),height:a.dpDiv.outerHeight()}),a.dpDiv.find("."+this._dayOverClass+" a").mouseover(),b=this._getNumberOfMonths(a),c=b[1],a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),c>1&&a.dpDiv.addClass("ui-datepicker-multi-"+c).css("width",17*c+"em"),a.dpDiv[(b[0]!=1||b[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi"),a.dpDiv[(this._get(a,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),a==d.datepicker._curInst&&d.datepicker._datepickerShowing&&a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&a.input[0]!=document.activeElement&&a.input.focus();if(a.yearshtml){var e=a.yearshtml;setTimeout(function(){e===a.yearshtml&&a.yearshtml&&a.dpDiv.find("select.ui-datepicker-year:first").replaceWith(a.yearshtml),e=a.yearshtml=null},0)}},_getBorders:function(a){var b=function(a){return{thin:1,medium:2,thick:3}[a]||a};return[parseFloat(b(a.css("border-left-width"))),parseFloat(b(a.css("border-top-width")))]},_checkOffset:function(a,b,c){var e=a.dpDiv.outerWidth(),f=a.dpDiv.outerHeight(),g=a.input?a.input.outerWidth():0,h=a.input?a.input.outerHeight():0,i=document.documentElement.clientWidth+d(document).scrollLeft(),j=document.documentElement.clientHeight+d(document).scrollTop();return b.left-=this._get(a,"isRTL")?e-g:0,b.left-=c&&b.left==a.input.offset().left?d(document).scrollLeft():0,b.top-=c&&b.top==a.input.offset().top+h?d(document).scrollTop():0,b.left-=Math.min(b.left,b.left+e>i&&i>e?Math.abs(b.left+e-i):0),b.top-=Math.min(b.top,b.top+f>j&&j>f?Math.abs(f+h):0),b},_findPos:function(a){for(var b=this._get(this._getInst(a),"isRTL");a&&(a.type=="hidden"||a.nodeType!=1||d.expr.filters.hidden(a));)a=a[b?"previousSibling":"nextSibling"];return a=d(a).offset(),[a.left,a.top]},_triggerOnClose:function(a){var b=this._get(a,"onClose");b&&b.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a])},_hideDatepicker:function(a){var b=this._curInst;if(!(!b||a&&b!=d.data(a,"datepicker"))&&this._datepickerShowing){a=this._get(b,"showAnim");var c=this._get(b,"duration"),e=function(){d.datepicker._tidyDialog(b),this._curInst=null};d.effects&&d.effects[a]?b.dpDiv.hide(a,d.datepicker._get(b,"showOptions"),c,e):b.dpDiv[a=="slideDown"?"slideUp":a=="fadeIn"?"fadeOut":"hide"](a?c:null,e),a||e(),d.datepicker._triggerOnClose(b),this._datepickerShowing=!1,this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),d.blockUI&&(d.unblockUI(),d("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(a){d.datepicker._curInst&&(a=d(a.target),a[0].id!=d.datepicker._mainDivId&&a.parents("#"+d.datepicker._mainDivId).length==0&&!a.hasClass(d.datepicker.markerClassName)&&!a.hasClass(d.datepicker._triggerClass)&&d.datepicker._datepickerShowing&&(!d.datepicker._inDialog||!d.blockUI)&&d.datepicker._hideDatepicker())},_adjustDate:function(a,b,c){a=d(a);var e=this._getInst(a[0]);this._isDisabledDatepicker(a[0])||(this._adjustInstDate(e,b+(c=="M"?this._get(e,"showCurrentAtPos"):0),c),this._updateDatepicker(e))},_gotoToday:function(a){a=d(a);var b=this._getInst(a[0]);if(this._get(b,"gotoCurrent")&&b.currentDay)b.selectedDay=b.currentDay,b.drawMonth=b.selectedMonth=b.currentMonth,b.drawYear=b.selectedYear=b.currentYear;else{var c=new Date;b.selectedDay=c.getDate(),b.drawMonth=b.selectedMonth=c.getMonth(),b.drawYear=b.selectedYear=c.getFullYear()}this._notifyChange(b),this._adjustDate(a)},_selectMonthYear:function(a,b,c){a=d(a);var e=this._getInst(a[0]);e["selected"+(c=="M"?"Month":"Year")]=e["draw"+(c=="M"?"Month":"Year")]=parseInt(b.options[b.selectedIndex].value,10),this._notifyChange(e),this._adjustDate(a)},_selectDay:function(a,b,c,e){var f=d(a);!d(e).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(f[0])&&(f=this._getInst(f[0]),f.selectedDay=f.currentDay=d("a",e).html(),f.selectedMonth=f.currentMonth=b,f.selectedYear=f.currentYear=c,this._selectDate(a,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear)))},_clearDate:function(a){a=d(a),this._getInst(a[0]),this._selectDate(a,"")},_selectDate:function(a,b){a=this._getInst(d(a)[0]),b=b!=null?b:this._formatDate(a),a.input&&a.input.val(b),this._updateAlternate(a);var c=this._get(a,"onSelect");c?c.apply(a.input?a.input[0]:null,[b,a]):a.input&&a.input.trigger("change"),a.inline?this._updateDatepicker(a):(this._hideDatepicker(),this._lastInput=a.input[0],typeof a.input[0]!="object"&&a.input.focus(),this._lastInput=null)},_updateAlternate:function(a){var b=this._get(a,"altField");if(b){var c=this._get(a,"altFormat")||this._get(a,"dateFormat"),e=this._getDate(a),f=this.formatDate(c,e,this._getFormatConfig(a));d(b).each(function(){d(this).val(f)})}},noWeekends:function(a){return a=a.getDay(),[a>0&&a<6,""]},iso8601Week:function(a){a=new Date(a.getTime()),a.setDate(a.getDate()+4-(a.getDay()||7));var b=a.getTime();return a.setMonth(0),a.setDate(1),Math.floor(Math.round((b-a)/864e5)/7)+1},parseDate:function(a,b,c){if(a==null||b==null)throw"Invalid arguments";b=typeof b=="object"?b.toString():b+"";if(b=="")return null;var e=(c?c.shortYearCutoff:null)||this._defaults.shortYearCutoff;e=typeof e!="string"?e:(new Date).getFullYear()%100+parseInt(e,10);for(var f=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,g=(c?c.dayNames:null)||this._defaults.dayNames,h=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,i=(c?c.monthNames:null)||this._defaults.monthNames,j=c=-1,k=-1,l=-1,m=!1,n=function(b){return(b=s+1<a.length&&a.charAt(s+1)==b)&&s++,b},o=function(a){var c=n(a);a=new RegExp("^\\d{1,"+(a=="@"?14:a=="!"?20:a=="y"&&c?4:a=="o"?3:2)+"}"),a=b.substring(r).match(a);if(!a)throw"Missing number at position "+r;return r+=a[0].length,parseInt(a[0],10)},p=function(a,c,e){a=d.map(n(a)?e:c,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)});var f=-1;d.each(a,function(a,c){a=c[1];if(b.substr(r,a.length).toLowerCase()==a.toLowerCase())return f=c[0],r+=a.length,!1});if(f!=-1)return f+1;throw"Unknown name at position "+r},q=function(){if(b.charAt(r)!=a.charAt(s))throw"Unexpected literal at position "+r;r++},r=0,s=0;s<a.length;s++)if(m)a.charAt(s)=="'"&&!n("'")?m=!1:q();else switch(a.charAt(s)){case"d":k=o("d");break;case"D":p("D",f,g);break;case"o":l=o("o");break;case"m":j=o("m");break;case"M":j=p("M",h,i);break;case"y":c=o("y");break;case"@":var t=new Date(o("@"));c=t.getFullYear(),j=t.getMonth()+1,k=t.getDate();break;case"!":t=new Date((o("!")-this._ticksTo1970)/1e4),c=t.getFullYear(),j=t.getMonth()+1,k=t.getDate();break;case"'":n("'")?q():m=!0;break;default:q()}if(r<b.length)throw"Extra/unparsed characters found in date: "+b.substring(r);c==-1?c=(new Date).getFullYear():c<100&&(c+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c<=e?0:-100));if(l>-1){j=1,k=l;do{e=this._getDaysInMonth(c,j-1);if(k<=e)break;j++,k-=e}while(1)}t=this._daylightSavingAdjust(new Date(c,j-1,k));if(t.getFullYear()!=c||t.getMonth()+1!=j||t.getDate()!=k)throw"Invalid date";return t},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*24*60*60*1e7,formatDate:function(a,b,c){if(!b)return"";var d=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,e=(c?c.dayNames:null)||this._defaults.dayNames,f=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort;c=(c?c.monthNames:null)||this._defaults.monthNames;var g=function(b){return(b=l+1<a.length&&a.charAt(l+1)==b)&&l++,b},h=function(a,b,c){b=""+b;if(g(a))for(;b.length<c;)b="0"+b;return b},i=function(a,b,c,d){return g(a)?d[b]:c[b]},j="",k=!1;if(b)for(var l=0;l<a.length;l++)if(k)a.charAt(l)=="'"&&!g("'")?k=!1:j+=a.charAt(l);else switch(a.charAt(l)){case"d":j+=h("d",b.getDate(),2);break;case"D":j+=i("D",b.getDay(),d,e);break;case"o":j+=h("o",Math.round(((new Date(b.getFullYear(),b.getMonth(),b.getDate())).getTime()-(new Date(b.getFullYear(),0,0)).getTime())/864e5),3);break;case"m":j+=h("m",b.getMonth()+1,2);break;case"M":j+=i("M",b.getMonth(),f,c);break;case"y":j+=g("y")?b.getFullYear():(b.getYear()%100<10?"0":"")+b.getYear()%100;break;case"@":j+=b.getTime();break;case"!":j+=b.getTime()*1e4+this._ticksTo1970;break;case"'":g("'")?j+="'":k=!0;break;default:j+=a.charAt(l)}return j},_possibleChars:function(a){for(var b="",c=!1,d=function(b){return(b=e+1<a.length&&a.charAt(e+1)==b)&&e++,b},e=0;e<a.length;e++)if(c)a.charAt(e)=="'"&&!d("'")?c=!1:b+=a.charAt(e);else switch(a.charAt(e)){case"d":case"m":case"y":case"@":b+="0123456789";break;case"D":case"M":return null;case"'":d("'")?b+="'":c=!0;break;default:b+=a.charAt(e)}return b},_get:function(a,b){return a.settings[b]!==C?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()!=a.lastVal){var c=this._get(a,"dateFormat"),d=a.lastVal=a.input?a.input.val():null,e,f;e=f=this._getDefaultDate(a);var g=this._getFormatConfig(a);try{e=this.parseDate(c,d,g)||f}catch(h){this.log(h),d=b?"":d}a.selectedDay=e.getDate(),a.drawMonth=a.selectedMonth=e.getMonth(),a.drawYear=a.selectedYear=e.getFullYear(),a.currentDay=d?e.getDate():0,a.currentMonth=d?e.getMonth():0,a.currentYear=d?e.getFullYear():0,this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(a,b,c){var e=function(a){var b=new Date;return b.setDate(b.getDate()+a),b},f=function(b){try{return d.datepicker.parseDate(d.datepicker._get(a,"dateFormat"),b,d.datepicker._getFormatConfig(a))}catch(c){}var e=(b.toLowerCase().match(/^c/)?d.datepicker._getDate(a):null)||new Date,f=e.getFullYear(),g=e.getMonth();e=e.getDate();for(var h=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,i=h.exec(b);i;){switch(i[2]||"d"){case"d":case"D":e+=parseInt(i[1],10);break;case"w":case"W":e+=parseInt(i[1],10)*7;break;case"m":case"M":g+=parseInt(i[1],10),e=Math.min(e,d.datepicker._getDaysInMonth(f,g));break;case"y":case"Y":f+=parseInt(i[1],10),e=Math.min(e,d.datepicker._getDaysInMonth(f,g))}i=h.exec(b)}return new Date(f,g,e)};if(b=(b=b==null||b===""?c:typeof b=="string"?f(b):typeof b=="number"?isNaN(b)?c:e(b):new Date(b.getTime()))&&b.toString()=="Invalid Date"?c:b)b.setHours(0),b.setMinutes(0),b.setSeconds(0),b.setMilliseconds(0);return this._daylightSavingAdjust(b)},_daylightSavingAdjust:function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null},_setDate:function(a,b,c){var d=!b,e=a.selectedMonth,f=a.selectedYear;b=this._restrictMinMax(a,this._determineDate(a,b,new Date)),a.selectedDay=a.currentDay=b.getDate(),a.drawMonth=a.selectedMonth=a.currentMonth=b.getMonth(),a.drawYear=a.selectedYear=a.currentYear=b.getFullYear(),(e!=a.selectedMonth||f!=a.selectedYear)&&!c&&this._notifyChange(a),this._adjustInstDate(a),a.input&&a.input.val(d?"":this._formatDate(a))},_getDate:function(a){return!a.currentYear||a.input&&a.input.val()==""?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay))},_generateHTML:function(a){var b=new Date;b=this._daylightSavingAdjust(new Date(b.getFullYear(),b.getMonth(),b.getDate()));var c=this._get(a,"isRTL"),e=this._get(a,"showButtonPanel"),f=this._get(a,"hideIfNoPrevNext"),g=this._get(a,"navigationAsDateFormat"),h=this._getNumberOfMonths(a),i=this._get(a,"showCurrentAtPos"),j=this._get(a,"stepMonths"),k=h[0]!=1||h[1]!=1,l=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),m=this._getMinMaxDate(a,"min"),n=this._getMinMaxDate(a,"max");i=a.drawMonth-i;var o=a.drawYear;i<0&&(i+=12,o--);if(n){var p=this._daylightSavingAdjust(new Date(n.getFullYear(),n.getMonth()-h[0]*h[1]+1,n.getDate()));for(p=m&&p<m?m:p;this._daylightSavingAdjust(new Date(o,i,1))>p;)i--,i<0&&(i=11,o--)}a.drawMonth=i,a.drawYear=o,p=this._get(a,"prevText"),p=g?this.formatDate(p,this._daylightSavingAdjust(new Date(o,i-j,1)),this._getFormatConfig(a)):p,p=this._canAdjustMonth(a,-1,o,i)?'<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_'+B+".datepicker._adjustDate('#"+a.id+"', -"+j+", 'M');\" title=\""+p+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+p+"</span></a>":f?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+p+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+p+"</span></a>";var q=this._get(a,"nextText");q=g?this.formatDate(q,this._daylightSavingAdjust(new Date(o,i+j,1)),this._getFormatConfig(a)):q,f=this._canAdjustMonth(a,1,o,i)?'<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_'+B+".datepicker._adjustDate('#"+a.id+"', +"+j+", 'M');\" title=\""+q+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+q+"</span></a>":f?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+q+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+q+"</span></a>",j=this._get(a,"currentText"),q=this._get(a,"gotoCurrent")&&a.currentDay?l:b,j=g?this.formatDate(j,q,this._getFormatConfig(a)):j,g=a.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery_'+B+'.datepicker._hideDatepicker();">'+this._get(a,"closeText")+"</button>",e=e?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(c?g:"")+(this._isInRange(a,q)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery_'+B+".datepicker._gotoToday('#"+a.id+"');\">"+j+"</button>":"")+(c?"":g)+"</div>":"",g=parseInt(this._get(a,"firstDay"),10),g=isNaN(g)?0:g,j=this._get(a,"showWeek"),q=this._get(a,"dayNames"),this._get(a,"dayNamesShort");var r=this._get(a,"dayNamesMin"),s=this._get(a,"monthNames"),t=this._get(a,"monthNamesShort"),u=this._get(a,"beforeShowDay"),v=this._get(a,"showOtherMonths"),w=this._get(a,"selectOtherMonths");this._get(a,"calculateWeek");for(var x=this._getDefaultDate(a),y="",z=0;z<h[0];z++){var A="";this.maxRows=4;for(var C=0;C<h[1];C++){var D=this._daylightSavingAdjust(new Date(o,i,a.selectedDay)),E=" ui-corner-all",F="";if(k){F+='<div class="ui-datepicker-group';if(h[1]>1)switch(C){case 0:F+=" ui-datepicker-group-first",E=" ui-corner-"+(c?"right":"left");break;case h[1]-1:F+=" ui-datepicker-group-last",E=" ui-corner-"+(c?"left":"right");break;default:F+=" ui-datepicker-group-middle",E=""}F+='">'}F+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+E+'">'+(/all|left/.test(E)&&z==0?c?f:p:"")+(/all|right/.test(E)&&z==0?c?p:f:"")+this._generateMonthYearHeader(a,i,o,m,n,z>0||C>0,s,t)+'</div><table class="ui-datepicker-calendar"><thead><tr>';var G=j?'<th class="ui-datepicker-week-col">'+this._get(a,"weekHeader")+"</th>":"";for(E=0;E<7;E++){var H=(E+g)%7;G+="<th"+((E+g+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+q[H]+'">'+r[H]+"</span></th>"}F+=G+"</tr></thead><tbody>",G=this._getDaysInMonth(o,i),o==a.selectedYear&&i==a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,G)),E=(this._getFirstDayOfMonth(o,i)-g+7)%7,G=Math.ceil((E+G)/7),this.maxRows=G=k?this.maxRows>G?this.maxRows:G:G,H=this._daylightSavingAdjust(new Date(o,i,1-E));for(var I=0;I<G;I++){F+="<tr>";var J=j?'<td class="ui-datepicker-week-col">'+this._get(a,"calculateWeek")(H)+"</td>":"";for(E=0;E<7;E++){var K=u?u.apply(a.input?a.input[0]:null,[H]):[!0,""],L=H.getMonth()!=i,M=L&&!w||!K[0]||m&&H<m||n&&H>n;J+='<td class="'+((E+g+6)%7>=5?" ui-datepicker-week-end":"")+(L?" ui-datepicker-other-month":"")+(H.getTime()==D.getTime()&&i==a.selectedMonth&&a._keyEvent||x.getTime()==H.getTime()&&x.getTime()==D.getTime()?" "+this._dayOverClass:"")+(M?" "+this._unselectableClass+" ui-state-disabled":"")+(L&&!v?"":" "+K[1]+(H.getTime()==l.getTime()?" "+this._currentClass:"")+(H.getTime()==b.getTime()?" ui-datepicker-today":""))+'"'+((!L||v)&&K[2]?' title="'+K[2]+'"':"")+(M?"":' onclick="DP_jQuery_'+B+".datepicker._selectDay('#"+a.id+"',"+H.getMonth()+","+H.getFullYear()+', this);return false;"')+">"+(L&&!v?"&#xa0;":M?'<span class="ui-state-default">'+H.getDate()+"</span>":'<a class="ui-state-default'+(H.getTime()==b.getTime()?" ui-state-highlight":"")+(H.getTime()==l.getTime()?" ui-state-active":"")+(L?" ui-priority-secondary":"")+'" href="#">'+H.getDate()+"</a>")+"</td>",H.setDate(H.getDate()+1),H=this._daylightSavingAdjust(H)}F+=J+"</tr>"}i++,i>11&&(i=0,o++),F+="</tbody></table>"+(k?"</div>"+(h[0]>0&&C==h[1]-1?'<div class="ui-datepicker-row-break"></div>':""):""),A+=F}y+=A}return y+=e+(d.browser.msie&&parseInt(d.browser.version,10)<7&&!a.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),a._keyEvent=!1,y},_generateMonthYearHeader:function(a,b,c,d,e,f,g,h){var i=this._get(a,"changeMonth"),j=this._get(a,"changeYear"),k=this._get(a,"showMonthAfterYear"),l='<div class="ui-datepicker-title">',m="";if(f||!i)m+='<span class="ui-datepicker-month">'+g[b]+"</span>";else{g=d&&d.getFullYear()==c;var n=e&&e.getFullYear()==c;m+='<select class="ui-datepicker-month" onchange="DP_jQuery_'+B+".datepicker._selectMonthYear('#"+a.id+"', this, 'M');\" >";for(var o=0;o<12;o++)(!g||o>=d.getMonth())&&(!n||o<=e.getMonth())&&(m+='<option value="'+o+'"'+(o==b?' selected="selected"':"")+">"+h[o]+"</option>");m+="</select>"}k||(l+=m+(f||!i||!j?"&#xa0;":""));if(!a.yearshtml){a.yearshtml="";if(f||!j)l+='<span class="ui-datepicker-year">'+c+"</span>";else{h=this._get(a,"yearRange").split(":");var p=(new Date).getFullYear();g=function(a){return a=a.match(/c[+-].*/)?c+parseInt(a.substring(1),10):a.match(/[+-].*/)?p+parseInt(a,10):parseInt(a,10),isNaN(a)?p:a},b=g(h[0]),h=Math.max(b,g(h[1]||"")),b=d?Math.max(b,d.getFullYear()):b,h=e?Math.min(h,e.getFullYear()):h;for(a.yearshtml+='<select class="ui-datepicker-year" onchange="DP_jQuery_'+B+".datepicker._selectMonthYear('#"+a.id+"', this, 'Y');\" >";b<=h;b++)a.yearshtml+='<option value="'+b+'"'+(b==c?' selected="selected"':"")+">"+b+"</option>";a.yearshtml+="</select>",l+=a.yearshtml,a.yearshtml=null}}return l+=this._get(a,"yearSuffix"),k&&(l+=(f||!i||!j?"&#xa0;":"")+m),l+="</div>",l},_adjustInstDate:function(a,b,c){var d=a.drawYear+(c=="Y"?b:0),e=a.drawMonth+(c=="M"?b:0);b=Math.min(a.selectedDay,this._getDaysInMonth(d,e))+(c=="D"?b:0),d=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(d,e,b))),a.selectedDay=d.getDate(),a.drawMonth=a.selectedMonth=d.getMonth(),a.drawYear=a.selectedYear=d.getFullYear(),(c=="M"||c=="Y")&&this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min");return a=this._getMinMaxDate(a,"max"),b=c&&b<c?c:b,b=a&&b>a?a:b},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){return a=this._get(a,"numberOfMonths"),a==null?[1,1]:typeof a=="number"?[1,a]:a},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return(new Date(a,b,1)).getDay()},_canAdjustMonth:function(a,b,c,d){var e=this._getNumberOfMonths(a);return c=this._daylightSavingAdjust(new Date(c,d+(b<0?b:e[0]*e[1]),1)),b<0&&c.setDate(this._getDaysInMonth(c.getFullYear(),c.getMonth())),this._isInRange(a,c)},_isInRange:function(a,b){var c=this._getMinMaxDate(a,"min");return a=this._getMinMaxDate(a,"max"),(!c||b.getTime()>=c.getTime())&&(!a||b.getTime()<=a.getTime())},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");return b=typeof b!="string"?b:(new Date).getFullYear()%100+parseInt(b,10),{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,d){return b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear),b=b?typeof b=="object"?b:this._daylightSavingAdjust(new Date(d,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay)),this.formatDate(this._get(a,"dateFormat"),b,this._getFormatConfig(a))}}),d.fn.datepicker=function(a){if(!this.length)return this;d.datepicker.initialized||(d(document).mousedown(d.datepicker._checkExternalClick).find("body").append(d.datepicker.dpDiv),d.datepicker.initialized=!0);var b=Array.prototype.slice.call(arguments,1);return typeof a!="string"||a!="isDisabled"&&a!="getDate"&&a!="widget"?a=="option"&&arguments.length==2&&typeof arguments[1]=="string"?d.datepicker["_"+a+"Datepicker"].apply(d.datepicker,[this[0]].concat(b)):this.each(function(){typeof a=="string"?d.datepicker["_"+a+"Datepicker"].apply(d.datepicker,[this].concat(b)):d.datepicker._attachDatepicker(this,a)}):d.datepicker["_"+a+"Datepicker"].apply(d.datepicker,[this[0]].concat(b))},d.datepicker=new M,d.datepicker.initialized=!1,d.datepicker.uuid=(new Date).getTime(),d.datepicker.version="1.8.16",window["DP_jQuery_"+B]=d}(jQuery),function(a,b){a.widget("ui.progressbar",{options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()}),this.valueDiv=a("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this.oldValue=this._value(),this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove(),a.Widget.prototype.destroy.apply(this,arguments)},value:function(a){return a===b?this._value():(this._setOption("value",a),this)},_setOption:function(b,c){b==="value"&&(this.options.value=c,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete")),a.Widget.prototype._setOption.apply(this,arguments)},_value:function(){var a=this.options.value;return typeof a!="number"&&(a=0),Math.min(this.options.max,Math.max(this.min,a))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var a=this.value(),b=this._percentage();this.oldValue!==a&&(this.oldValue=a,this._trigger("change")),this.valueDiv.toggle(a>this.min).toggleClass("ui-corner-right",a===this.options.max).width(b.toFixed(0)+"%"),this.element.attr("aria-valuenow",a)}}),a.extend(a.ui.progressbar,{version:"1.8.16"})}(jQuery),jQuery.effects||function(a,b){function c(b){var c;return b&&b.constructor==Array&&b.length==3?b:(c=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(b))?[parseInt(c[1],10),parseInt(c[2],10),parseInt(c[3],10)]:(c=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(b))?[parseFloat(c[1])*2.55,parseFloat(c[2])*2.55,parseFloat(c[3])*2.55]:(c=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(b))?[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]:(c=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(b))?[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]:/rgba\(0, 0, 0, 0\)/.exec(b)?j.transparent:j[a.trim(b).toLowerCase()]}function d(b,d){var e;do{e=a.curCSS(b,d);if(e!=""&&e!="transparent"||a.nodeName(b,"body"))break;d="backgroundColor"}while(b=b.parentNode);return c(e)}function e(){var a=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,b={},c,d;if(a&&a.length&&a[0]&&a[a[0]])for(var e=a.length;e--;)c=a[e],typeof a[c]=="string"&&(d=c.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()}),b[d]=a[c]);else for(c in a)typeof a[c]=="string"&&(b[c]=a[c]);return b}function f(b){var c,d;for(c in b)d=b[c],(d==null||a.isFunction(d)||c in l||/scrollbar/.test(c)||!/color/i.test(c)&&isNaN(parseFloat(d)))&&delete b[c];return b}function g(a,b){var c={_:0},d;for(d in b)a[d]!=b[d]&&(c[d]=b[d]);return c}function h(b,c,d,e){typeof b=="object"&&(e=c,d=null,c=b,b=c.effect),a.isFunction(c)&&(e=c,d=null,c={});if(typeof c=="number"||a.fx.speeds[c])e=d,d=c,c={};return a.isFunction(d)&&(e=d,d=null),c=c||{},d=d||c.duration,d=a.fx.off?0:typeof d=="number"?d:d in a.fx.speeds?a.fx.speeds[d]:a.fx.speeds._default,e=e||c.complete,[b,c,d,e]}function i(b){return!b||typeof b=="number"||a.fx.speeds[b]?!0:typeof b=="string"&&!a.effects[b]?!0:!1}a.effects={},a.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(b,e){a.fx.step[e]=function(a){a.colorInit||(a.start=d(a.elem,e),a.end=c(a.end),a.colorInit=!0),a.elem.style[e]="rgb("+Math.max(Math.min(parseInt(a.pos*(a.end[0]-a.start[0])+a.start[0],10),255),0)+","+Math.max(Math.min(parseInt(a.pos*(a.end[1]-a.start[1])+a.start[1],10),255),0)+","+Math.max(Math.min(parseInt(a.pos*(a.end[2]-a.start[2])+a.start[2],10),255),0)+")"}});var j={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},k=["add","remove","toggle"],l={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.effects.animateClass=function(b,c,d,h){return a.isFunction(d)&&(h=d,d=null),this.queue(function(){var i=a(this),j=i.attr("style")||" ",l=f(e.call(this)),m,n=i.attr("class");a.each(k,function(a,c){b[c]&&i[c+"Class"](b[c])}),m=f(e.call(this)),i.attr("class",n),i.animate(g(l,m),{queue:!1,duration:c,easing:d,complete:function(){a.each(k,function(a,c){b[c]&&i[c+"Class"](b[c])}),typeof i.attr("style")=="object"?(i.attr("style").cssText="",i.attr("style").cssText=j):i.attr("style",j),h&&h.apply(this,arguments),a.dequeue(this)}})})},a.fn.extend({_addClass:a.fn.addClass,addClass:function(b,c,d,e){return c?a.effects.animateClass.apply(this,[{add:b},c,d,e]):this._addClass(b)},_removeClass:a.fn.removeClass,removeClass:function(b,c,d,e){return c?a.effects.animateClass.apply(this,[{remove:b},c,d,e]):this._removeClass(b)},_toggleClass:a.fn.toggleClass,toggleClass:function(c,d,e,f,g){return typeof d=="boolean"||d===b?e?a.effects.animateClass.apply(this,[d?{add:c}:{remove:c},e,f,g]):this._toggleClass(c,d):a.effects.animateClass.apply(this,[{toggle:c},d,e,f])},switchClass:function(b,c,d,e,f){return a.effects.animateClass.apply(this,[{add:c,remove:b},d,e,f])}}),a.extend(a.effects,{version:"1.8.16",save:function(a,b){for(var c=0;c<b.length;c++)b[c]!==null&&a.data("ec.storage."+b[c],a[0].style[b[c]])},restore:function(a,b){for(var c=0;c<b.length;c++)b[c]!==null&&a.css(b[c],a.data("ec.storage."+b[c]))},setMode:function(a,b){return b=="toggle"&&(b=a.is(":hidden")?"show":"hide"),b},getBaseline:function(a,b){var c;switch(a[0]){case"top":c=0;break;case"middle":c=.5;break;case"bottom":c=1;break;default:c=a[0]/b.height}switch(a[1]){case"left":a=0;break;case"center":a=.5;break;case"right":a=1;break;default:a=a[1]/b.width}return{x:a,y:c}},createWrapper:function(b){if(b.parent().is(".ui-effects-wrapper"))return b.parent();var c={width:b.outerWidth(!0),height:b.outerHeight(!0),"float":b.css("float")},d=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e=document.activeElement;return b.wrap(d),(b[0]===e||a.contains(b[0],e))&&a(e).focus(),d=b.parent(),b.css("position")=="static"?(d.css({position:"relative"}),b.css({position:"relative"})):(a.extend(c,{position:b.css("position"),zIndex:b.css("z-index")}),a.each(["top","left","bottom","right"],function(a,d){c[d]=b.css(d),isNaN(parseInt(c[d],10))&&(c[d]="auto")}),b.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),d.css(c).show()},removeWrapper:function(b){var c,d=document.activeElement;return b.parent().is(".ui-effects-wrapper")?(c=b.parent().replaceWith(b),(b[0]===d||a.contains(b[0],d))&&a(d).focus(),c):b},setTransition:function(b,c,d,e){return e=e||{},a.each(c,function(a,c){unit=b.cssUnit(c),unit[0]>0&&(e[c]=unit[0]*d+unit[1])}),e}}),a.fn.extend({effect:function(b){var c=h.apply(this,arguments),d={options:c[1],duration:c[2],callback:c[3]};c=d.options.mode;var e=a.effects[b];return a.fx.off||!e?c?this[c](d.duration,d.callback):this.each(function(){d.callback&&d.callback.call(this)}):e.call(this,d)},_show:a.fn.show,show:function(a){if(i(a))return this._show.apply(this,arguments);var b=h.apply(this,arguments);return b[1].mode="show",this.effect.apply(this,b)},_hide:a.fn.hide,hide:function(a){if(i(a))return this._hide.apply(this,arguments);var b=h.apply(this,arguments);return b[1].mode="hide",this.effect.apply(this,b)},__toggle:a.fn.toggle,toggle:function(b){if(i(b)||typeof b=="boolean"||a.isFunction(b))return this.__toggle.apply(this,arguments);var c=h.apply(this,arguments);return c[1].mode="toggle",this.effect.apply(this,c)},cssUnit:function(b){var c=this.css(b),d=[];return a.each(["em","px","%","pt"],function(a,b){c.indexOf(b)>0&&(d=[parseFloat(c),b])}),d}}),a.easing.jswing=a.easing.swing,a.extend(a.easing,{def:"easeOutQuad",swing:function(b,c,d,e,f){return a.easing[a.easing.def](b,c,d,e,f)},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b+c:-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b*b+c:d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return b==0?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(a,b,c,d,e){return b==0?c:b==e?c+d:(b/=e/2)<1?d/2*Math.pow(2,10*(b-1))+c:d/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){return(b/=e/2)<1?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){a=1.70158;var f=0,g=d;return b==0?c:(b/=e)==1?c+d:(f||(f=e*.3),g<Math.abs(d)?(g=d,a=f/4):a=f/(2*Math.PI)*Math.asin(d/g),-(g*Math.pow(2,10*(b-=1))*Math.sin((b*e-a)*2*Math.PI/f))+c)},easeOutElastic:function(a,b,c,d,e){a=1.70158;var f=0,g=d;return b==0?c:(b/=e)==1?c+d:(f||(f=e*.3),g<Math.abs(d)?(g=d,a=f/4):a=f/(2*Math.PI)*Math.asin(d/g),g*Math.pow(2,-10*b)*Math.sin((b*e-a)*2*Math.PI/f)+d+c)},easeInOutElastic:function(a,b,c,d,e){a=1.70158;var f=0,g=d;return b==0?c:(b/=e/2)==2?c+d:(f||(f=e*.3*1.5),g<Math.abs(d)?(g=d,a=f/4):a=f/(2*Math.PI)*Math.asin(d/g),b<1?-0.5*g*Math.pow(2,10*(b-=1))*Math.sin((b*e-a)*2*Math.PI/f)+c:g*Math.pow(2,-10*(b-=1))*Math.sin((b*e-a)*2*Math.PI/f)*.5+d+c)},easeInBack:function(a,c,d,e,f,g){return g==b&&(g=1.70158),e*(c/=f)*c*((g+1)*c-g)+d},easeOutBack:function(a,c,d,e,f,g){return g==b&&(g=1.70158),e*((c=c/f-1)*c*((g+1)*c+g)+1)+d},easeInOutBack:function(a,c,d,e,f,g){return g==b&&(g=1.70158),(c/=f/2)<1?e/2*c*c*(((g*=1.525)+1)*c-g)+d:e/2*((c-=2)*c*(((g*=1.525)+1)*c+g)+2)+d},easeInBounce:function(b,c,d,e,f){return e-a.easing.easeOutBounce(b,f-c,0,e,f)+d},easeOutBounce:function(a,b,c,d,e){return(b/=e)<1/2.75?d*7.5625*b*b+c:b<2/2.75?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:b<2.5/2.75?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c},easeInOutBounce:function(b,c,d,e,f){return c<f/2?a.easing.easeInBounce(b,c*2,0,e,f)*.5+d:a.easing.easeOutBounce(b,c*2-f,0,e,f)*.5+e*.5+d}})}(jQuery),function(a){a.effects.blind=function(c){return this.queue(function(){var d=a(this),e=["position","top","bottom","left","right"],f=a.effects.setMode(d,c.options.mode||"hide"),g=c.options.direction||"vertical";a.effects.save(d,e),d.show();var h=a.effects.createWrapper(d).css({overflow:"hidden"}),i=g=="vertical"?"height":"width";g=g=="vertical"?h.height():h.width(),f=="show"&&h.css(i,0);var j={};j[i]=f=="show"?g:0,h.animate(j,c.duration,c.options.easing,function(){f=="hide"&&d.hide(),a.effects.restore(d,e),a.effects.removeWrapper(d),c.callback&&c.callback.apply(d[0],arguments),d.dequeue()})})}}(jQuery),function(a){a.effects.bounce=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],f=a.effects.setMode(c,b.options.mode||"effect"),g=b.options.direction||"up",h=b.options.distance||20,i=b.options.times||5,j=b.duration||250;/show|hide/.test(f)&&d.push("opacity"),a.effects.save(c,d),c.show(),a.effects.createWrapper(c);var k=g=="up"||g=="down"?"top":"left";g=g=="up"||g=="left"?"pos":"neg",h=b.options.distance||(k=="top"?c.outerHeight({margin:!0})/3:c.outerWidth({margin:!0})/3),f=="show"&&c.css("opacity",0).css(k,g=="pos"?-h:h),f=="hide"&&(h/=i*2),f!="hide"&&i--;if(f=="show"){var l={opacity:1};l[k]=(g=="pos"?"+=":"-=")+h,c.animate(l,j/2,b.options.easing),h/=2,i--}for(l=0;l<i;l++){var m={},n={};m[k]=(g=="pos"?"-=":"+=")+h,n[k]=(g=="pos"?"+=":"-=")+h,c.animate(m,j/2,b.options.easing).animate(n,j/2,b.options.easing),h=f=="hide"?h*2:h/2}f=="hide"?(l={opacity:0},l[k]=(g=="pos"?"-=":"+=")+h,c.animate(l,j/2,b.options.easing,function(){c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments)})):(m={},n={},m[k]=(g=="pos"?"-=":"+=")+h,n[k]=(g=="pos"?"+=":"-=")+h,c.animate(m,j/2,b.options.easing).animate(n,j/2,b.options.easing,function(){a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments)})),c.queue("fx",function(){c.dequeue()}),c.dequeue()})}}(jQuery),function(a){a.effects.clip=function(c){return this.queue(function(){var d=a(this),f=["position","top","bottom","left","right","height","width"],g=a.effects.setMode(d,c.options.mode||"hide"),h=c.options.direction||"vertical";a.effects.save(d,f),d.show();var i=a.effects.createWrapper(d).css({overflow:"hidden"});i=d[0].tagName=="IMG"?i:d;var j={size:h=="vertical"?"height":"width",position:h=="vertical"?"top":"left"};h=h=="vertical"?i.height():i.width(),g=="show"&&(i.css(j.size,0),i.css(j.position,h/2));var k={};k[j.size]=g=="show"?h:0,k[j.position]=g=="show"?0:h/2,i.animate(k,{queue:!1,duration:c.duration,easing:c.options.easing,complete:function(){g=="hide"&&d.hide(),a.effects.restore(d,f),a.effects.removeWrapper(d),c.callback&&c.callback.apply(d[0],arguments),d.dequeue()}})})}}(jQuery),function(a){a.effects.drop=function(b){return this.queue(function(){var e=a(this),f=["position","top","bottom","left","right","opacity"],g=a.effects.setMode(e,b.options.mode||"hide"),h=b.options.direction||"left";a.effects.save(e,f),e.show(),a.effects.createWrapper(e);var i=h=="up"||h=="down"?"top":"left";h=h=="up"||h=="left"?"pos":"neg";var j=b.options.distance||(i=="top"?e.outerHeight({margin:!0})/2:e.outerWidth({margin:!0})/2);g=="show"&&e.css("opacity",0).css(i,h=="pos"?-j:j);var k={opacity:g=="show"?1:0};k[i]=(g=="show"?h=="pos"?"+=":"-=":h=="pos"?"-=":"+=")+j,e.animate(k,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){g=="hide"&&e.hide(),a.effects.restore(e,f),a.effects.removeWrapper(e),b.callback&&b.callback.apply(this,arguments),e.dequeue()}})})}}(jQuery),function(a){a.effects.explode=function(b){return this.queue(function(){var c=b.options.pieces?Math.round(Math.sqrt(b.options.pieces)):3,d=b.options.pieces?Math.round(Math.sqrt(b.options.pieces)):3;b.options.mode=b.options.mode=="toggle"?a(this).is(":visible")?"hide":"show":b.options.mode;var e=a(this).show().css("visibility","hidden"),f=e.offset();f.top-=parseInt(e.css("marginTop"),10)||0,f.left-=parseInt(e.css("marginLeft"),10)||0;for(var g=e.outerWidth(!0),h=e.outerHeight(!0),i=0;i<c;i++)for(var k=0;k<d;k++)e.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-k*(g/d),top:-i*(h/c)}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:g/d,height:h/c,left:f.left+k*(g/d)+(b.options.mode=="show"?(k-Math.floor(d/2))*(g/d):0),top:f.top+i*(h/c)+(b.options.mode=="show"?(i-Math.floor(c/2))*(h/c):0),opacity:b.options.mode=="show"?0:1}).animate({left:f.left+k*(g/d)+(b.options.mode=="show"?0:(k-Math.floor(d/2))*(g/d)),top:f.top+i*(h/c)+(b.options.mode=="show"?0:(i-Math.floor(c/2))*(h/c)),opacity:b.options.mode=="show"?1:0},b.duration||500);setTimeout(function(){b.options.mode=="show"?e.css({visibility:"visible"}):e.css({visibility:"visible"}).hide(),b.callback&&b.callback.apply(e[0]),e.dequeue(),a("div.ui-effects-explode").remove()},b.duration||500)})}}(jQuery),function(a){a.effects.fade=function(c){return this.queue(function(){var d=a(this),e=a.effects.setMode(d,c.options.mode||"hide");d.animate({opacity:e},{queue:!1,duration:c.duration,easing:c.options.easing,complete:function(){c.callback&&c.callback.apply(this,arguments),d.dequeue()}})})}}(jQuery),function(a){a.effects.fold=function(b){return this.queue(function(){var d=a(this),e=["position","top","bottom","left","right"],f=a.effects.setMode(d,b.options.mode||"hide"),g=b.options.size||15,h=!!b.options.horizFirst,i=b.duration?b.duration/2:a.fx.speeds._default/2;a.effects.save(d,e),d.show();var j=a.effects.createWrapper(d).css({overflow:"hidden"}),k=f=="show"!=h,l=k?["width","height"]:["height","width"];k=k?[j.width(),j.height()]:[j.height(),j.width()];var m=/([0-9]+)%/.exec(g);m&&(g=parseInt(m[1],10)/100*k[f=="hide"?0:1]),f=="show"&&j.css(h?{height:0,width:g}:{height:g,width:0}),h={},m={},h[l[0]]=f=="show"?k[0]:g,m[l[1]]=f=="show"?k[1]:0,j.animate(h,i,b.options.easing).animate(m,i,b.options.easing,function(){f=="hide"&&d.hide(),a.effects.restore(d,e),a.effects.removeWrapper(d),b.callback&&b.callback.apply(d[0],arguments),d.dequeue()})})}}(jQuery),function(a){a.effects.highlight=function(c){return this.queue(function(){var d=a(this),e=["backgroundImage","backgroundColor","opacity"],f=a.effects.setMode(d,c.options.mode||"show"),g={backgroundColor:d.css("backgroundColor")};f=="hide"&&(g.opacity=0),a.effects.save(d,e),d.show().css({backgroundImage:"none",backgroundColor:c.options.color||"#ffff99"}).animate(g,{queue:!1,duration:c.duration,easing:c.options.easing,complete:function(){f=="hide"&&d.hide(),a.effects.restore(d,e),f=="show"&&!a.support.opacity&&this.style.removeAttribute("filter"),c.callback&&c.callback.apply(this,arguments),d.dequeue()}})})}}(jQuery),function(a){a.effects.pulsate=function(b){return this.queue(function(){var c=a(this),e=a.effects.setMode(c,b.options.mode||"show");times=(b.options.times||5)*2-1,duration=b.duration?b.duration/2:a.fx.speeds._default/2,isVisible=c.is(":visible"),animateTo=0,isVisible||(c.css("opacity",0).show(),animateTo=1),(e=="hide"&&isVisible||e=="show"&&!isVisible)&&times--;for(e=0;e<times;e++)c.animate({opacity:animateTo},duration,b.options.easing),animateTo=(animateTo+1)%2;c.animate({opacity:animateTo},duration,b.options.easing,function(){animateTo==0&&c.hide(),b.callback&&b.callback.apply(this,arguments)}),c.queue("fx",function(){c.dequeue()}).dequeue()})}}(jQuery),function(a){a.effects.puff=function(b){return this.queue(function(){var d=a(this),e=a.effects.setMode(d,b.options.mode||"hide"),f=parseInt(b.options.percent,10)||150,g=f/100,h={height:d.height(),width:d.width()};a.extend(b.options,{fade:!0,mode:e,percent:e=="hide"?f:100,from:e=="hide"?h:{height:h.height*g,width:h.width*g}}),d.effect("scale",b.options,b.duration,b.callback),d.dequeue()})},a.effects.scale=function(b){return this.queue(function(){var d=a(this),e=a.extend(!0,{},b.options),f=a.effects.setMode(d,b.options.mode||"effect"),g=parseInt(b.options.percent,10)||(parseInt(b.options.percent,10)==0?0:f=="hide"?0:100),h=b.options.direction||"both",i=b.options.origin;f!="effect"&&(e.origin=i||["middle","center"],e.restore=!0),i={height:d.height(),width:d.width()},d.from=b.options.from||(f=="show"?{height:0,width:0}:i),g={y:h!="horizontal"?g/100:1,x:h!="vertical"?g/100:1},d.to={height:i.height*g.y,width:i.width*g.x},b.options.fade&&(f=="show"&&(d.from.opacity=0,d.to.opacity=1),f=="hide"&&(d.from.opacity=1,d.to.opacity=0)),e.from=d.from,e.to=d.to,e.mode=f,d.effect("size",e,b.duration,b.callback),d.dequeue()})},a.effects.size=function(b){return this.queue(function(){var d=a(this),e=["position","top","bottom","left","right","width","height","overflow","opacity"],f=["position","top","bottom","left","right","overflow","opacity"],g=["width","height","overflow"],h=["fontSize"],i=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],j=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],k=a.effects.setMode(d,b.options.mode||"effect"),l=b.options.restore||!1,m=b.options.scale||"both",n=b.options.origin,o={height:d.height(),width:d.width()};d.from=b.options.from||o,d.to=b.options.to||o,n&&(n=a.effects.getBaseline(n,o),d.from.top=(o.height-d.from.height)*n.y,d.from.left=(o.width-d.from.width)*n.x,d.to.top=(o.height-d.to.height)*n.y,d.to.left=(o.width-d.to.width)*n.x);var p={from:{y:d.from.height/o.height,x:d.from.width/o.width},to:{y:d.to.height/o.height,x:d.to.width/o.width}};if(m=="box"||m=="both")p.from.y!=p.to.y&&(e=e.concat(i),d.from=a.effects.setTransition(d,i,p.from.y,d.from),d.to=a.effects.setTransition(d,i,p.to.y,d.to)),p.from.x!=p.to.x&&(e=e.concat(j),d.from=a.effects.setTransition(d,j,p.from.x,d.from),d.to=a.effects.setTransition(d,j,p.to.x,d.to));(m=="content"||m=="both")&&p.from.y!=p.to.y&&(e=e.concat(h),d.from=a.effects.setTransition(d,h,p.from.y,d.from),d.to=a.effects.setTransition(d,h,p.to.y,d.to)),a.effects.save(d,l?e:f),d.show(),a.effects.createWrapper(d),d.css("overflow","hidden").css(d.from);if(m=="content"||m=="both")i=i.concat(["marginTop","marginBottom"]).concat(h),j=j.concat(["marginLeft","marginRight"]),g=e.concat(i).concat(j),d.find("*[width]").each(function(){child=a(this),l&&a.effects.save(child,g);var d={height:child.height(),width:child.width()};child.from={height:d.height*p.from.y,width:d.width*p.from.x},child.to={height:d.height*p.to.y,width:d.width*p.to.x},p.from.y!=p.to.y&&(child.from=a.effects.setTransition(child,i,p.from.y,child.from),child.to=a.effects.setTransition(child,i,p.to.y,child.to)),p.from.x!=p.to.x&&(child.from=a.effects.setTransition(child,j,p.from.x,child.from),child.to=a.effects.setTransition(child,j,p.to.x,child.to)),child.css(child.from),child.animate(child.to,b.duration,b.options.easing,function(){l&&a.effects.restore(child,g)})});d.animate(d.to,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){d.to.opacity===0&&d.css("opacity",d.from.opacity),k=="hide"&&d.hide(),a.effects.restore(d,l?e:f),a.effects.removeWrapper(d),b.callback&&b.callback.apply(this,arguments),d.dequeue()}})})}}(jQuery),function(a){a.effects.shake=function(b){return this.queue(function(){var c=a(this),e=["position","top","bottom","left","right"];a.effects.setMode(c,b.options.mode||"effect");var f=b.options.direction||"left",g=b.options.distance||20,h=b.options.times||3,i=b.duration||b.options.duration||140;a.effects.save(c,e),c.show(),a.effects.createWrapper(c);var j=f=="up"||f=="down"?"top":"left",k=f=="up"||f=="left"?"pos":"neg";f={};var l={},m={};f[j]=(k=="pos"?"-=":"+=")+g,l[j]=(k=="pos"?"+=":"-=")+g*2,m[j]=(k=="pos"?"-=":"+=")+g*2,c.animate(f,i,b.options.easing);for(g=1;g<h;g++)c.animate(l,i,b.options.easing).animate(m,i,b.options.easing);c.animate(l,i,b.options.easing).animate(f,i/2,b.options.easing,function(){a.effects.restore(c,e),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments)}),c.queue("fx",function(){c.dequeue()}),c.dequeue()})}}(jQuery),function(a){a.effects.slide=function(b){return this.queue(function(){var e=a(this),f=["position","top","bottom","left","right"],g=a.effects.setMode(e,b.options.mode||"show"),h=b.options.direction||"left";a.effects.save(e,f),e.show(),a.effects.createWrapper(e).css({overflow:"hidden"});var i=h=="up"||h=="down"?"top":"left";h=h=="up"||h=="left"?"pos":"neg";var j=b.options.distance||(i=="top"?e.outerHeight({margin:!0}):e.outerWidth({margin:!0}));g=="show"&&e.css(i,h=="pos"?isNaN(j)?"-"+j:-j:j);var k={};k[i]=(g=="show"?h=="pos"?"+=":"-=":h=="pos"?"-=":"+=")+j,e.animate(k,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){g=="hide"&&e.hide(),a.effects.restore(e,f),a.effects.removeWrapper(e),b.callback&&b.callback.apply(this,arguments),e.dequeue()}})})}}(jQuery),function(a){a.effects.transfer=function(b){return this.queue(function(){var c=a(this),d=a(b.options.to),f=d.offset();d={top:f.top,left:f.left,height:d.innerHeight(),width:d.innerWidth()},f=c.offset();var g=a('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(b.options.className).css({top:f.top,left:f.left,height:c.innerHeight(),width:c.innerWidth(),position:"absolute"}).animate(d,b.duration,b.options.easing,function(){g.remove(),b.callback&&b.callback.apply(c[0],arguments),c.dequeue()})})}}(jQuery),function($){$.extend({tablesorter:new function(){function log(a){typeof console!="undefined"&&typeof console.debug!="undefined"?console.log(a):alert(a)}function benchmark(a,b){log(a+","+((new Date).getTime()-b.getTime())+"ms")}function getElementText(a,b,c){var d="",e=a.textExtraction;return b?(a.supportsTextContent||(a.supportsTextContent=b.textContent||!1),e==="simple"?a.supportsTextContent?d=b.textContent:b.childNodes[0]&&b.childNodes[0].hasChildNodes()?d=b.childNodes[0].innerHTML:d=b.innerHTML:typeof e=="function"?d=e(b):typeof e=="object"&&e.hasOwnProperty(c)?d=e[c](b):d=$(b).text(),d):""}function getParserById(a){var b,c=g.length;for(b=0;b<c;b++)if(g[b].id.toLowerCase()===a.toLowerCase())return g[b];return!1}function getNodeFromRowAndCellIndex(a,b,c){return a[b].cells[c]}function trimAndGetNodeText(a,b,c){return $.trim(getElementText(a,b,c))}function detectParserForColumn(a,b,c,d){var e,f=g.length,h=!1,i="",j=!0;while(i===""&&j)c++,b[c]?(h=getNodeFromRowAndCellIndex(b,c,d),i=trimAndGetNodeText(a.config,h,d),a.config.debug&&log("Checking if value was empty on row:"+c)):j=!1;for(e=1;e<f;e++)if(g[e].is(i,a,h))return g[e];return g[0]}function buildParserCache(a,b){if(a.tBodies.length===0)return;var c=a.tBodies[0].rows,d,e,f,g,h,i,j="";if(c[0]){d=[],e=c[0].cells,f=e.length;for(h=0;h<f;h++)i=!1,g=$(b[h]),$.metadata&&g.metadata()&&g.metadata().sorter?i=getParserById(g.metadata().sorter):a.config.headers[h]&&a.config.headers[h].sorter?i=getParserById(a.config.headers[h].sorter):g.attr("class")&&g.attr("class").match("sorter-")&&(i=getParserById(g.attr("class").match(/sorter-(\w+)/)[1]||"")),i||(i=detectParserForColumn(a,c,-1,h)),a.config.debug&&(j+="column:"+h+" parser:"+i.id+"\n"),d.push(i)}return a.config.debug&&log(j),d}function buildCache(a){var b=a.tBodies[0],c=b&&b.rows.length||0,d=b.rows[0]&&b.rows[0].cells.length||0,e=a.config.parsers,f={row:[],normalized:[]},g,h,i,j,k,l;a.config.debug&&(l=new Date);for(h=0;h<c;++h){j=$(b.rows[h]),k=[];if(j.hasClass(a.config.cssChildRow)){f.row[f.row.length-1]=f.row[f.row.length-1].add(j);continue}f.row.push(j);for(i=0;i<d;++i)g=trimAndGetNodeText(a.config,j[0].cells[i],i),k.push(g===""?"":e[i].format(g,a,j[0].cells[i],i));k.push(f.normalized.length),f.normalized.push(k)}return a.config.debug&&benchmark("Building cache for "+c+" rows:",l),a.config.cache=f,f}function getWidgetById(a){var b,c,d=widgets.length;for(b=0;b<d;b++){c=widgets[b];if(c&&c.hasOwnProperty("id")&&c.id.toLowerCase()===a.toLowerCase())return c}}function applyWidget(a){var b=a.config.widgets,c,d,e=b.length;for(c=0;c<e;c++)d=getWidgetById(b[c]),d&&d.hasOwnProperty("format")&&d.format(a)}function appendToTable(a,b){var c=a.config,d=b.row,e=b.normalized,f=e.length,g=f?e[0].length-1:0,h=[],i,j,k,l,m;c.debug&&(m=new Date);for(i=0;i<f;i++){l=e[i][g],h.push(d[l]);if(!c.appender||!c.removeRows){k=d[l].length;for(j=0;j<k;j++)a.tBodies[0].appendChild(d[l][j])}}c.appender&&c.appender(a,h),c.debug&&benchmark("Rebuilt table:",m),applyWidget(a),setTimeout(function(){$(a).trigger("sortEnd",a)},0)}function computeTableHeaderCellIndexes(a){var b=[],c={},d=a.getElementsByTagName("THEAD")[0],e=d.getElementsByTagName("TR"),f,g,h,i,j,k,l,m,n,o,p,q;for(f=0;f<e.length;f++){k=e[f].cells;for(g=0;g<k.length;g++){j=k[g],l=j.parentNode.rowIndex,m=l+"-"+j.cellIndex,n=j.rowSpan||1,o=j.colSpan||1,typeof b[l]=="undefined"&&(b[l]=[]);for(h=0;h<b[l].length+1;h++)if(typeof b[l][h]=="undefined"){p=h;break}c[m]=p;for(h=l;h<l+n;h++){typeof b[h]=="undefined"&&(b[h]=[]),q=b[h];for(i=p;i<p+o;i++)q[i]="x"}}}return c}function formatSortingOrder(a){return typeof a!="number"?a.toLowerCase().charAt(0)==="d"?1:0:a===1?1:0}function checkHeaderMetadata(a){return $.metadata&&$(a).metadata().sorter===!1}function checkHeaderOptions(a,b){return a.config.headers[b]&&a.config.headers[b].sorter===!1}function checkHeaderLocked(a,b){return a.config.headers[b]&&a.config.headers[b].lockedOrder!==null?a.config.headers[b].lockedOrder:!1}function checkHeaderOrder(a,b){return a.config.headers[b]&&a.config.headers[b].sortInitialOrder?a.config.headers[b].sortInitialOrder:a.config.sortInitialOrder}function buildHeaders(a){var b=$.metadata?!0:!1,c=computeTableHeaderCellIndexes(a),d,e,f,g,h=a.config;return h.headerList=[],h.debug&&(f=new Date),g=$(h.selectorHeaders,a).wrapInner("<span/>").each(function(b){this.column=c[this.parentNode.rowIndex+"-"+this.cellIndex],this.order=formatSortingOrder(checkHeaderOrder(a,b)),this.count=this.order;if(checkHeaderMetadata(this)||checkHeaderOptions(a,b)||$(this).is(".sorter-false"))this.sortDisabled=!0;this.lockedOrder=!1,e=checkHeaderLocked(a,b),typeof e!="undefined"&&e!==!1&&(this.order=this.lockedOrder=formatSortingOrder(e)),this.sortDisabled||(d=$(this).addClass(h.cssHeader),h.onRenderHeader&&h.onRenderHeader.apply(d,[b])),h.headerList[b]=this}),h.debug&&(benchmark("Built headers:",f),log(g)),g}function checkCellColSpan(a,b,c){var d,e,f=[],g=a.tHead.rows,h=g[c].cells;for(d=0;d<h.length;d++)e=h[d],e.colSpan>1?f=f.concat(checkCellColSpan(a,b,c++)):(a.tHead.length===1||e.rowSpan>1||!g[c+1])&&f.push(e);return f}function isValueInArray(a,b){var c,d=b.length;for(c=0;c<d;c++)if(b[c][0]===a)return!0;return!1}function setHeadersCss(a,b,c,d){b.removeClass(d[0]).removeClass(d[1]);var e=[],f,g;b.each(function(a){this.sortDisabled||(e[this.column]=$(this))}),g=c.length;for(f=0;f<g;f++)e[c[f][0]].addClass(d[c[f][1]])}function fixColumnWidth(a,b){if(a.config.widthFixed){var c=$("<colgroup>");$("tr:first td",a.tBodies[0]).each(function(){c.append($("<col>").css("width",$(this).width()))}),$(a).prepend(c)}}function updateHeaderSortCount(a,b){var c,d,e,f=a.config,g=b.length;for(c=0;c<g;c++)d=b[c],e=f.headerList[d[0]],e.count=d[1],e.count++}function getCachedSortType(a,b){return a?a[b].type:""}function multisort(a,b,d){var f="var sortWrapper = function(a,b) {",col,mx=0,dir=0,tc=a.config,lc=d.normalized.length,l=b.length,sortTime,i,j,c,s,e,order,orgOrderCol;tc.debug&&(sortTime=new Date);for(i=0;i<l;i++){c=b[i][0],order=b[i][1],s=getCachedSortType(tc.parsers,c)==="text"?order===0?"sortText":"sortTextDesc":order===0?"sortNumeric":"sortNumericDesc",e="e"+i;if(/Numeric/.test(s)&&tc.headers[c]&&tc.headers[c].string){for(j=0;j<lc;j++)col=Math.abs(parseFloat(d.normalized[j][c])),mx=Math.max(mx,isNaN(col)?0:col);dir=tc.headers[c]?tc.string[tc.headers[c].string]||0:0}f+="var "+e+" = "+s+"(a["+c+"],b["+c+"],"+mx+","+dir+"); ",f+="if ("+e+") { return "+e+"; } ",f+="else { "}orgOrderCol=d.normalized&&d.normalized[0]?d.normalized[0].length-1:0,f+="return a["+orgOrderCol+"]-b["+orgOrderCol+"];";for(i=0;i<l;i++)f+="}; ";return f+="return 0; ",f+="}; ",eval(f),d.normalized.sort(sortWrapper),tc.debug&&benchmark("Sorting on "+b.toString()+" and dir "+order+" time:",sortTime),d}function sortText(a,b){if(a==="")return 1;if(b==="")return-1;if(a===b)return 0;if($.data(tbl[0],"tablesorter").sortLocaleCompare)return a.localeCompare(b);try{var c=0,d,e,f=/^(\.)?\d/,g=Math.min(a.length,b.length)+1;while(c<g&&a.charAt(c)===b.charAt(c)&&f.test(b.substring(c))===!1&&f.test(a.substring(c))===!1)c++;a=a.substring(c),b=b.substring(c);if(f.test(a)||f.test(b)){if(f.test(a)===!1)return a?1:-1;if(f.test(b)===!1)return b?-1:1;e=parseFloat(a)-parseFloat(b);if(e!==0)return e;e=a.search(/[^\.\d]/),e===-1&&(e=b.search(/[^\.\d]/)),a=a.substring(e),b=b.substring(e)}return a>b?1:-1}catch(h){return 0}}function sortTextDesc(a,b){return a===""?1:b===""?-1:a===b?0:$.data(tbl[0],"tablesorter").sortLocaleCompare?b.localeCompare(a):-sortText(a,b)}function getTextValue(a,b,c){if(b){var d,e=a.length,f=b+c;for(d=0;d<e;d++)f+=a.charCodeAt(d);return c*f}return 0}function sortNumeric(a,b,c,d){return a===""?1:b===""?-1:(isNaN(a)&&(a=getTextValue(a,c,d)),isNaN(b)&&(b=getTextValue(b,c,d)),a-b)}function sortNumericDesc(a,b,c,d){return a===""?1:b===""?-1:(isNaN(a)&&(a=getTextValue(a,c,d)),isNaN(b)&&(b=getTextValue(b,c,d)),b-a)}var g=[],widgets=[],tbl;this.defaults={cssHeader:"header",cssAsc:"headerSortUp",cssDesc:"headerSortDown",cssChildRow:"expand-child",sortInitialOrder:"asc",sortMultiSortKey:"shiftKey",sortForce:null,sortAppend:null,sortLocaleCompare:!1,textExtraction:"simple",parsers:{},widgets:[],widgetZebra:{css:["even","odd"]},headers:{},widthFixed:!1,cancelSelection:!0,sortList:[],headerList:[],dateFormat:"mmddyyyy",onRenderHeader:null,selectorHeaders:"thead th",tableClass:"tablesorter",debug:!1},this.benchmark=benchmark,this.construct=function(a){return this.each(function(){if(!this.tHead||!this.tBodies)return;var b,c,e,f,g,h=0,i,j,k,l,m,n,o,p,q;this.config={},g=$.extend(this.config,$.tablesorter.defaults,a),tbl=b=$(this).addClass(this.config.tableClass),$.data(this,"tablesorter",g),e=buildHeaders(this),this.config.parsers=buildParserCache(this,e),this.config.string={max:1,"max+":1,"max-":-1,none:0},f=buildCache(this),j=[g.cssDesc,g.cssAsc],fixColumnWidth(this),e.click(function(a){k=b[0].tBodies[0]&&b[0].tBodies[0].rows.length||0;if(!this.sortDisabled){b.trigger("sortStart",tbl[0]),l=$(this),m=this.column,this.order=this.count++%2,typeof this.lockedOrder!="undefined"&&this.lockedOrder!==!1&&(this.order=this.lockedOrder);if(!a[g.sortMultiSortKey]){g.sortList=[];if(g.sortForce!==null){o=g.sortForce;for(n=0;n<o.length;n++)o[n][0]!==m&&g.sortList.push(o[n])}g.sortList.push([m,this.order])}else if(isValueInArray(m,g.sortList))for(n=0;n<g.sortList.length;n++)p=g.sortList[n],q=g.headerList[p[0]],p[0]===m&&(q.count=p[1],q.count++,p[1]=q.count%2);else g.sortList.push([m,this.order]);if(g.sortAppend!==null){o=g.sortAppend;for(n=0;n<o.length;n++)o[n][0]!==m&&g.sortList.push(o[n])}return b.trigger("sortBegin",tbl[0]),setTimeout(function(){setHeadersCss(b[0],e,g.sortList,j),appendToTable(b[0],multisort(b[0],g.sortList,f))},1),!1}}).mousedown(function(){if(g.cancelSelection)return this.onselectstart=function(){return!1},!1}),b.bind("update",function(){var a=this;setTimeout(function(){a.config.parsers=buildParserCache(a,e),f=buildCache(a),b.trigger("sorton",[a.config.sortList])},1)}).bind("updateCell",function(a,c){var d=this.config,e=[c.parentNode.rowIndex-1,c.cellIndex];f.normalized[e[0]][e[1]]=d.parsers[e[1]].format(getElementText(d,c,e[1]),c),this.config.cache=f,b.trigger("sorton",[d.sortList])}).bind("addRows",function(a,c){var d,e=this.config,g=c.filter("tr").length,h=[],i=c[0].cells.length;for(d=0;d<g;d++){for(n=0;n<i;n++)h[n]=e.parsers[n].format(getElementText(e,c[d].cells[n],n),c[d].cells[n]);h.push(f.row.length),f.row.push([c[d]]),f.normalized.push(h),h=[]}e.cache=f,b.trigger("sorton",[e.sortList])}).bind("sorton",function(a,b){$(this).trigger("sortStart",tbl[0]),g.sortList=b;var c=g.sortList;updateHeaderSortCount(this,c),setHeadersCss(this,e,c,j),appendToTable(this,multisort(this,c,f))}).bind("appendCache",function(){appendToTable(this,f)}).bind("applyWidgetId",function(a,b){getWidgetById(b).format(this)}).bind("applyWidgets",function(){applyWidget(this)}),$.metadata&&$(this).metadata()&&$(this).metadata().sortlist&&(g.sortList=$(this).metadata().sortlist),g.sortList.length>0&&b.trigger("sorton",[g.sortList]),applyWidget(this)})},this.addParser=function(a){var b,c=g.length,d=!0;for(b=0;b<c;b++)g[b].id.toLowerCase()===a.id.toLowerCase()&&(d=!1);d&&g.push(a)},this.addWidget=function(a){widgets.push(a)},this.formatFloat=function(a){var b=parseFloat(a);return isNaN(b)?$.trim(a):b},this.isDigit=function(a){return/^[\-+]?\d*$/.test($.trim(a.replace(/[,.']/g,"")))},this.clearTableBody=function(a){if($.browser.msie){var b=function(){while(this.firstChild)this.removeChild(this.firstChild)};b.apply(a.tBodies[0])}else a.tBodies[0].innerHTML=""}}})(),$.fn.extend({tablesorter:$.tablesorter.construct});var m=$.tablesorter;m.addParser({id:"text",is:function(a){return!0},format:function(a){return $.trim(a.toLocaleLowerCase())},type:"text"}),m.addParser({id:"digit",is:function(a){return $.tablesorter.isDigit(a.replace(/,/g,""))},format:function(a){return $.tablesorter.formatFloat(a.replace(/,/g,""))},type:"numeric"}),m.addParser({id:"currency",is:function(a){return/^[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]/.test(a)},format:function(a){return $.tablesorter.formatFloat(a.replace(/\,/g,".").replace(new RegExp(/[^0-9. \-]/g),""))},type:"numeric"}),m.addParser({id:"ipAddress",is:function(a){return/^\d{2,3}[\.]\d{2,3}[\.]\d{2,3}[\.]\d{2,3}$/.test(a)},format:function(a){var b,c,d=a.split("."),e="",f=d.length;for(b=0;b<f;b++)c=d[b],c.length===2?e+="0"+c:e+=c;return $.tablesorter.formatFloat(e)},type:"numeric"}),m.addParser({id:"url",is:function(a){return/^(https?|ftp|file):\/\/$/.test(a)},format:function(a){return $.trim(a.replace(new RegExp(/(https?|ftp|file):\/\//),""))},type:"text"}),m.addParser({id:"isoDate",is:function(a){return/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(a)},format:function(a){return $.tablesorter.formatFloat(a!==""?(new Date(a.replace(new RegExp(/-/g),"/"))).getTime():"0")},type:"numeric"}),m.addParser({id:"percent",is:function(a){return/\%$/.test($.trim(a))},format:function(a){return $.tablesorter.formatFloat(a.replace(new RegExp(/%/g),""))},type:"numeric"}),m.addParser({id:"usLongDate",is:function(a){return a.match(new RegExp(/^[A-Za-z]{3,10}\.? [0-9]{1,2}, ([0-9]{4}|'?[0-9]{2}) (([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(AM|PM)))$/))},format:function(a){return $.tablesorter.formatFloat((new Date(a)).getTime())},type:"numeric"}),m.addParser({id:"shortDate",is:function(a){return/\d{1,4}[\/\-\,\.\s+]\d{1,4}[\/\-\.\,\s+]\d{1,4}/.test(a)},format:function(a,b,c,d){var e=b.config,f=e.headers&&e.headers[d]?e.headers[d].dateFormat||e.dateFormat:e.dateFormat;return a=a.replace(/\s+/g," ").replace(/[\-|\.|\,|\s]/g,"/"),f==="mmddyyyy"?a=a.replace(/(\d{1,2})\/(\d{1,2})\/(\d{4})/,"$3/$1/$2"):f==="ddmmyyyy"?a=a.replace(/(\d{1,2})\/(\d{1,2})\/(\d{4})/,"$3/$2/$1"):f==="yyyymmdd"&&(a=a.replace(/(\d{4})\/(\d{1,2})\/(\d{1,2})/,"$1/$2/$3")),$.tablesorter.formatFloat((new Date(a)).getTime())},type:"numeric"}),m.addParser({id:"time",is:function(a){return/^(([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(am|pm)))$/.test(a)},format:function(a){return $.tablesorter.formatFloat((new Date("2000/01/01 "+a)).getTime())},type:"numeric"}),m.addParser({id:"metadata",is:function(a){return!1},format:function(a,b,c){var d=b.config,e=d.parserMetadataName?d.parserMetadataName:"sortValue";return $(c).metadata()[e]},type:"numeric"}),m.addWidget({id:"zebra",format:function(a){var b,c=0,d,e,f=a.config.cssChildRow,g=a.config.widgetZebra.css;a.config.debug&&(e=new Date),$("tr:visible",a.tBodies[0]).each(function(a){b=$(this),b.hasClass(f)||c++,d=c%2===0,b.removeClass(g[d?1:0]).addClass(g[d?0:1])}),a.config.debug&&$.tablesorter.benchmark("Applying Zebra widget",e)}})}(jQuery),function(a){a.extend({tablesorterPager:new function(){var b=function(b){var c="addClass",d="removeClass",e=b.cssDisabled;b.updateArrows&&(b.container[b.totalRows<b.size?c:d](e),a(b.cssFirst+","+b.cssPrev,b.container)[b.page===0?c:d](e),a(b.cssNext+","+b.cssLast,b.container)[b.page===b.totalPages-1?c:d](e))},c=function(c,d){d.startRow=d.size*d.page+1,d.endRow=Math.min(d.totalRows,d.size*(d.page+1));var e=a(d.cssPageDisplay,d.container),f=d.output.replace(/\{(page|totalPages|startRow|endRow|totalRows)\}/gi,function(a){return{"{page}":d.page+1,"{totalPages}":d.totalPages,"{startRow}":d.startRow,"{endRow}":d.endRow,"{totalRows}":d.totalRows}[a]});e[0].tagName==="INPUT"?e.val(f):e.html(f),b(d),d.container.show(),a(c).trigger("pagerComplete",d)},d=function(b,c){var d=a(b);!c.pagerPositionSet&&c.positionFixed&&(d.offset&&c.container.css({top:d.offset().top+d.height()+c.offset+"px",position:"absolute"}),c.pagerPositionSet=!0)},e=function(b,c){var d,e=a("tr",b.tBodies[0]),f=e.length,g=c.page*c.size,h=g+c.size;h>f&&(h=f);for(d=0;d<f;d++)e[d].style.display=d>=g&&d<h?"":"none"},f=function(c,d){d.size=d.lastSize=parseInt(a(d.cssPageSize,d.container).val(),10),b(d),d.removeRows||(e(c,d),a(c).bind("sortEnd.pager",function(){e(c,d),a(c).trigger("applyWidgets")}))},g=function(b,f,g){var h,i,j,k=a(b.tBodies[0]),m=f.length,n=g.page*g.size,o=n+g.size;if(m<1)return;a(b).trigger("pagerChange",g);if(!g.removeRows)e(b,g);else{o>f.length&&(o=f.length),a.tablesorter.clearTableBody(b);for(h=n;h<o;h++){j=f[h],m=j.length;for(i=0;i<m;i++)k[0].appendChild(j[i])}}d(b,k,g),a(b).trigger("applyWidgets"),g.page>=g.totalPages&&l(b,g),c(b,g)},h=function(a,b){b.lastPage=b.page,b.lastSize=b.size,b.size=b.totalRows,b.totalPages=1,g(a,b.rowsCopy,b)},i=function(a,b){if(b.isDisabled)return;if(b.page<0||b.page>b.totalPages-1)b.page=0;g(a,b.rowsCopy,b)},j=function(a,b,c){c.size=b,c.totalPages=Math.ceil(c.totalRows/c.size),c.pagerPositionSet=!1,i(a,c),d(a,c)},k=function(a,b){b.page=0,i(a,b)},l=function(a,b){b.page=b.totalPages-1,i(a,b)},m=function(a,b){b.page++,b.page>=b.totalPages-1&&(b.page=b.totalPages-1),i(a,b)},n=function(a,b){b.page--,b.page<=0&&(b.page=0),i(a,b)},o=function(b,c){h(b,c),c.container.hide(),c.appender=null,a(b).unbind("destroy.pager sortEnd.pager enable.pager disable.pager")},p=function(b,c){c.isDisabled=!1,a("table").trigger("update"),c.page=c.lastPage||0,c.totalPages=Math.ceil(c.totalRows/c.size),f(b,c)};this.appender=function(a,b){var c=a.config;c.rowsCopy=b,c.totalRows=b.length,c.size=c.lastSize||c.size,c.totalPages=Math.ceil(c.totalRows/c.size),g(a,b,c)},this.defaults={container:null,output:"{startRow} to {endRow} of {totalRows} rows",updateArrows:!0,page:0,size:10,positionFixed:!0,offset:0,removeRows:!0,cssNext:".next",cssPrev:".prev",cssFirst:".first",cssLast:".last",cssPageDisplay:".pagedisplay",cssPageSize:".pagesize",cssDisabled:"disabled",totalRows:0,totalPages:0,appender:this.appender},this.construct=function(b){return this.each(function(){var c=a.extend(this.config,a.tablesorterPager.defaults,b),d=this,e=c.container;a(this).trigger("appendCache"),f(d,c),a(c.cssFirst,e).unbind("click.pager").bind("click.pager",function(){return k(d,c),!1}),a(c.cssNext,e).unbind("click.pager").bind("click.pager",function(){return m(d,c),!1}),a(c.cssPrev,e).unbind("click.pager").bind("click.pager",function(){return n(d,c),!1}),a(c.cssLast,e).unbind("click.pager").bind("click.pager",function(){return l(d,c),!1}),a(c.cssPageSize,e).unbind("change.pager").bind("change.pager",function(){return j(d,parseInt(a(this).val(),10),c),!1}),a(this).unbind("disable.pager enable.pager destroy.pager").bind("disable.pager",function(){c.isDisabled=!0,h(d,c)}).bind("enable.pager",function(){p(d,c)}).bind("destroy.pager",function(){o(d,c)})})}}}),a.fn.extend({tablesorterPager:a.tablesorterPager.construct})}(jQuery),function(a){a.fn.lightbox_me=function(b){return this.each(function(){function j(){var b=e[0].style;c.destroyOnClose?e.add(d).remove():e.add(d).hide(),c.parentLightbox&&c.parentLightbox.fadeIn(200),f.remove(),e.undelegate(c.closeSelector,"click"),a(window).unbind("reposition",l),a(window).unbind("reposition",m),a(window).unbind("scroll",m),a(window).unbind("keyup.lightbox_me"),g&&b.removeExpression("top"),c.onClose()}function k(a){(a.keyCode==27||a.DOM_VK_ESCAPE==27&&a.which==0)&&c.closeEsc&&j()}function l(){a(window).height()<a(document).height()?(d.css({height:a(document).height()+"px"}),f.css({height:a(document).height()+"px"})):(d.css({height:"100%"}),g&&(a("html,body").css("height","100%"),f.css("height","100%")))}function m(){var b=e[0].style;e.css({left:"50%",marginLeft:e.outerWidth()/2*-1,zIndex:c.zIndex+3});if(e.height()+80>=a(window).height()&&(e.css("position")!="absolute"||g)){var d=a(document).scrollTop()+40;e.css({position:"absolute",top:d+"px",marginTop:0}),g&&b.removeExpression("top")}else if(e.height()+80<a(window).height())if(g){b.position="absolute";if(c.centered)b.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),b.marginTop=0;else{var f=c.modalCSS&&c.modalCSS.top?parseInt(c.modalCSS.top):0;b.setExpression("top","((blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+f+') + "px"')}}else c.centered?e.css({position:"fixed",top:"50%",marginTop:e.outerHeight()/2*-1}):e.css({position:"fixed"}).css(c.modalCSS)}var c=a.extend({},a.fn.lightbox_me.defaults,b),d=a(),e=a(this),f=a('<iframe id="foo" style="z-index: '+(c.zIndex+1)+';border: none; margin: 0; padding: 0; position: absolute; width: 100%; height: 100%; top: 0; left: 0; filter: mask();"/>'),g=a.browser.msie&&a.browser.version<7;if(c.showOverlay){var h=a(".js_lb_overlay:visible");h.length>0?d=a('<div class="lb_overlay_clear js_lb_overlay"/>'):d=a('<div class="'+c.classPrefix+'_overlay js_lb_overlay"/>')}if(g){var i=/^https/i.test(window.location.href||"")?"javascript:false":"about:blank";f.attr("src",i),a("body").append(f)}a("body").append(e.hide()).append(d),c.showOverlay&&(l(),d.css({position:"absolute",width:"100%",top:0,left:0,right:0,bottom:0,zIndex:c.zIndex+2,display:"none"}),d.hasClass("lb_overlay_clear")||d.css(c.overlayCSS)),c.showOverlay?d.fadeIn(c.overlaySpeed,function(){m(),e[c.appearEffect](c.lightboxSpeed,function(){l(),m(),c.onLoad()})}):(m(),e[c.appearEffect](c.lightboxSpeed,function(){c.onLoad()})),c.parentLightbox&&c.parentLightbox.fadeOut(200),a(window).resize(l).resize(m).scroll(m),a(window).bind("keyup.lightbox_me",k),c.closeClick&&d.click(function(a){j(),a.preventDefault}),e.delegate(c.closeSelector,"click",function(a){j(),a.preventDefault()}),e.bind("close",j),e.bind("reposition",m)})},a.fn.lightbox_me.defaults={appearEffect:"fadeIn",appearEase:"",overlaySpeed:250,lightboxSpeed:300,closeSelector:".close",closeClick:!0,closeEsc:!0,destroyOnClose:!1,showOverlay:!0,parentLightbox:!1,onLoad:function(){},onClose:function(){},classPrefix:"lb",zIndex:999,centered:!1,modalCSS:{top:"40px"},overlayCSS:{background:"black",opacity:.3}}}(jQuery),!function(a){"use strict",a.widget("ui.rangeSliderMouseTouch",a.ui.mouse,{enabled:!0,_mouseInit:function(){var b=this;a.ui.mouse.prototype._mouseInit.apply(this),this._mouseDownEvent=!1,this.element.bind("touchstart."+this.widgetName,function(a){return b._touchStart(a)})},_mouseDestroy:function(){a(document).unbind("touchmove."+this.widgetName,this._touchMoveDelegate).unbind("touchend."+this.widgetName,this._touchEndDelegate),a.ui.mouse.prototype._mouseDestroy.apply(this)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},destroy:function(){this._mouseDestroy(),a.ui.mouse.prototype.destroy.apply(this),this._mouseInit=null},_touchStart:function(b){if(!this.enabled)return!1;b.which=1,b.preventDefault(),this._fillTouchEvent(b);var c=this,d=this._mouseDownEvent;this._mouseDown(b),d!==this._mouseDownEvent&&(this._touchEndDelegate=function(a){c._touchEnd(a)},this._touchMoveDelegate=function(a){c._touchMove(a)},a(document).bind("touchmove."+this.widgetName,this._touchMoveDelegate).bind("touchend."+this.widgetName,this._touchEndDelegate))},_mouseDown:function(b){return this.enabled?a.ui.mouse.prototype._mouseDown.apply(this,[b]):!1},_touchEnd:function(b){this._fillTouchEvent(b),this._mouseUp(b),a(document).unbind("touchmove."+this.widgetName,this._touchMoveDelegate).unbind("touchend."+this.widgetName,this._touchEndDelegate),this._mouseDownEvent=!1,a(document).trigger("mouseup")},_touchMove:function(a){return a.preventDefault(),this._fillTouchEvent(a),this._mouseMove(a)},_fillTouchEvent:function(a){var b;b="undefined"==typeof a.targetTouches&&"undefined"==typeof a.changedTouches?a.originalEvent.targetTouches[0]||a.originalEvent.changedTouches[0]:a.targetTouches[0]||a.changedTouches[0],a.pageX=b.pageX,a.pageY=b.pageY}})}(jQuery),function(a){"use strict",a.widget("ui.rangeSliderDraggable",a.ui.rangeSliderMouseTouch,{cache:null,options:{containment:null},_create:function(){a.ui.rangeSliderMouseTouch.prototype._create.apply(this),setTimeout(a.proxy(this._initElementIfNotDestroyed,this),10)},destroy:function(){this.cache=null,a.ui.rangeSliderMouseTouch.prototype.destroy.apply(this)},_initElementIfNotDestroyed:function(){this._mouseInit&&this._initElement()},_initElement:function(){this._mouseInit(),this._cache()},_setOption:function(b,c){"containment"===b&&(this.options.containment=null===c||0===a(c).length?null:a(c))},_mouseStart:function(a){return this._cache(),this.cache.click={left:a.pageX,top:a.pageY},this.cache.initialOffset=this.element.offset(),this._triggerMouseEvent("mousestart"),!0},_mouseDrag:function(a){var b=a.pageX-this.cache.click.left;return b=this._constraintPosition(b+this.cache.initialOffset.left),this._applyPosition(b),this._triggerMouseEvent("sliderDrag"),!1},_mouseStop:function(){this._triggerMouseEvent("stop")},_constraintPosition:function(a){return 0!==this.element.parent().length&&null!==this.cache.parent.offset&&(a=Math.min(a,this.cache.parent.offset.left+this.cache.parent.width-this.cache.width.outer),a=Math.max(a,this.cache.parent.offset.left)),a},_applyPosition:function(a){var b={top:this.cache.offset.top,left:a};this.element.offset({left:a}),this.cache.offset=b},_cacheIfNecessary:function(){null===this.cache&&this._cache()},_cache:function(){this.cache={},this._cacheMargins(),this._cacheParent(),this._cacheDimensions(),this.cache.offset=this.element.offset()},_cacheMargins:function(){this.cache.margin={left:this._parsePixels(this.element,"marginLeft"),right:this._parsePixels(this.element,"marginRight"),top:this._parsePixels(this.element,"marginTop"),bottom:this._parsePixels(this.element,"marginBottom")}},_cacheParent:function(){if(null!==this.options.parent){var a=this.element.parent();this.cache.parent={offset:a.offset(),width:a.width()}}else this.cache.parent=null},_cacheDimensions:function(){this.cache.width={outer:this.element.outerWidth(),inner:this.element.width()}},_parsePixels:function(a,b){return parseInt(a.css(b),10)||0},_triggerMouseEvent:function(a){var b=this._prepareEventData();this.element.trigger(a,b)},_prepareEventData:function(){return{element:this.element,offset:this.cache.offset||null}}})}(jQuery),function(a,b){"use strict",a.widget("ui.rangeSlider",{options:{bounds:{min:0,max:100},defaultValues:{min:20,max:50},wheelMode:null,wheelSpeed:4,arrows:!0,valueLabels:"show",formatter:null,durationIn:0,durationOut:400,delayOut:200,range:{min:!1,max:!1},step:!1,scales:!1,enabled:!0},_values:null,_valuesChanged:!1,bar:null,leftHandle:null,rightHandle:null,innerBar:null,container:null,arrows:null,labels:null,changing:{min:!1,max:!1},changed:{min:!1,max:!1},ruler:null,_create:function(){this._setDefaultValues(),this.labels={left:null,right:null,leftDisplayed:!0,rightDisplayed:!0},this.arrows={left:null,right:null},this.changing={min:!1,max:!1},this.changed={min:!1,max:!1},this._createElements(),this._bindResize(),setTimeout(a.proxy(this.resize,this),1),setTimeout(a.proxy(this._initValues,this),1)},_setDefaultValues:function(){this._values={min:this.options.defaultValues.min,max:this.options.defaultValues.max}},_bindResize:function(){var b=this;this._resizeProxy=function(a){b.resize(a)},a(window).resize(this._resizeProxy)},_initWidth:function(){this.container.css("width",this.element.width()-this.container.outerWidth(!0)+this.container.width()),this.innerBar.css("width",this.container.width()-this.innerBar.outerWidth(!0)+this.innerBar.width())},_initValues:function(){this.values(this._values.min,this._values.max)},_setOption:function(a,b){this._setWheelOption(a,b),this._setArrowsOption(a,b),this._setLabelsOption(a,b),this._setLabelsDurations(a,b),this._setFormatterOption(a,b),this._setBoundsOption(a,b),this._setRangeOption(a,b),this._setStepOption(a,b),this._setScalesOption(a,b),this._setEnabledOption(a,b)},_validProperty:function(a,b,c){return null===a||"undefined"==typeof a[b]?c:a[b]},_setStepOption:function(a,b){"step"===a&&(this.options.step=b,this._leftHandle("option","step",b),this._rightHandle("option","step",b),this._changed(!0))},_setScalesOption:function(a,b){"scales"===a&&(b===!1||null===b?(this.options.scales=!1,this._destroyRuler()):b instanceof Array&&(this.options.scales=b,this._updateRuler()))},_setRangeOption:function(a,b){"range"===a&&(this._bar("option","range",b),this.options.range=this._bar("option","range"),this._changed(!0))},_setBoundsOption:function(a,b){"bounds"===a&&"undefined"!=typeof b.min&&"undefined"!=typeof b.max&&this.bounds(b.min,b.max)},_setWheelOption:function(a,b){("wheelMode"===a||"wheelSpeed"===a)&&(this._bar("option",a,b),this.options[a]=this._bar("option",a))},_setLabelsOption:function(a,b){if("valueLabels"===a){if("hide"!==b&&"show"!==b&&"change"!==b)return;this.options.valueLabels=b,"hide"!==b?(this._createLabels(),this._leftLabel("update"),this._rightLabel("update")):this._destroyLabels()}},_setFormatterOption:function(a,b){"formatter"===a&&null!==b&&"function"==typeof b&&"hide"!==this.options.valueLabels&&(this._leftLabel("option","formatter",b),this.options.formatter=this._rightLabel("option","formatter",b))},_setArrowsOption:function(a,b){"arrows"!==a||b!==!0&&b!==!1||b===this.options.arrows||(b===!0?(this.element.removeClass("ui-rangeSlider-noArrow").addClass("ui-rangeSlider-withArrows"),this.arrows.left.css("display","block"),this.arrows.right.css("display","block"),this.options.arrows=!0):b===!1&&(this.element.addClass("ui-rangeSlider-noArrow").removeClass("ui-rangeSlider-withArrows"),this.arrows.left.css("display","none"),this.arrows.right.css("display","none"),this.options.arrows=!1),this._initWidth())},_setLabelsDurations:function(a,b){if("durationIn"===a||"durationOut"===a||"delayOut"===a){if(parseInt(b,10)!==b)return;null!==this.labels.left&&this._leftLabel("option",a,b),null!==this.labels.right&&this._rightLabel("option",a,b),this.options[a]=b}},_setEnabledOption:function(a,b){"enabled"===a&&this.toggle(b)},_createElements:function(){"absolute"!==this.element.css("position")&&this.element.css("position","relative"),this.element.addClass("ui-rangeSlider"),this.container=a("<div class='ui-rangeSlider-container' />").css("position","absolute").appendTo(this.element),this.innerBar=a("<div class='ui-rangeSlider-innerBar' />").css("position","absolute").css("top",0).css("left",0),this._createHandles(),this._createBar(),this.container.prepend(this.innerBar),this._createArrows(),"hide"!==this.options.valueLabels?this._createLabels():this._destroyLabels(),this._updateRuler(),this.options.enabled||this._toggle(this.options.enabled)},_createHandle:function(b){return a("<div />")[this._handleType()](b).bind("sliderDrag",a.proxy(this._changing,this)).bind("stop",a.proxy(this._changed,this))},_createHandles:function(){this.leftHandle=this._createHandle({isLeft:!0,bounds:this.options.bounds,value:this._values.min,step:this.options.step}).appendTo(this.container),this.rightHandle=this._createHandle({isLeft:!1,bounds:this.options.bounds,value:this._values.max,step:this.options.step}).appendTo(this.container)},_createBar:function(){this.bar=a("<div />").prependTo(this.container).bind("sliderDrag scroll zoom",a.proxy(this._changing,this)).bind("stop",a.proxy(this._changed,this)),this._bar({leftHandle:this.leftHandle,rightHandle:this.rightHandle,values:{min:this._values.min,max:this._values.max},type:this._handleType(),range:this.options.range,wheelMode:this.options.wheelMode,wheelSpeed:this.options.wheelSpeed}),this.options.range=this._bar("option","range"),this.options.wheelMode=this._bar("option","wheelMode"),this.options.wheelSpeed=this._bar("option","wheelSpeed")},_createArrows:function(){this.arrows.left=this._createArrow("left"),this.arrows.right=this._createArrow("right"),this.options.arrows?this.element.addClass("ui-rangeSlider-withArrows"):(this.arrows.left.css("display","none"),this.arrows.right.css("display","none"),this.element.addClass("ui-rangeSlider-noArrow"))},_createArrow:function(b){var c,d=a("<div class='ui-rangeSlider-arrow' />").append("<div class='ui-rangeSlider-arrow-inner' />").addClass("ui-rangeSlider-"+b+"Arrow").css("position","absolute").css(b,0).appendTo(this.element);return c="right"===b?a.proxy(this._scrollRightClick,this):a.proxy(this._scrollLeftClick,this),d.bind("mousedown touchstart",c),d},_proxy:function(a,b,c){var d=Array.prototype.slice.call(c);return a&&a[b]?a[b].apply(a,d):null},_handleType:function(){return"rangeSliderHandle"},_barType:function(){return"rangeSliderBar"},_bar:function(){return this._proxy(this.bar,this._barType(),arguments)},_labelType:function(){return"rangeSliderLabel"},_leftLabel:function(){return this._proxy(this.labels.left,this._labelType(),arguments)},_rightLabel:function(){return this._proxy(this.labels.right,this._labelType(),arguments)},_leftHandle:function(){return this._proxy(this.leftHandle,this._handleType(),arguments)},_rightHandle:function(){return this._proxy(this.rightHandle,this._handleType(),arguments)},_getValue:function(a,b){return b===this.rightHandle&&(a-=b.outerWidth()),a*(this.options.bounds.max-this.options.bounds.min)/(this.container.innerWidth()-b.outerWidth(!0))+this.options.bounds.min},_trigger:function(a){var b=this;setTimeout(function(){b.element.trigger(a,{label:b.element,values:b.values()})},1)},_changing:function(){this._updateValues()&&(this._trigger("valuesChanging"),this._valuesChanged=!0)},_deactivateLabels:function(){"change"===this.options.valueLabels&&(this._leftLabel("option","show","hide"),this._rightLabel("option","show","hide"))},_reactivateLabels:function(){"change"===this.options.valueLabels&&(this._leftLabel("option","show","change"),this._rightLabel("option","show","change"))},_changed:function(a){a===!0&&this._deactivateLabels(),(this._updateValues()||this._valuesChanged)&&(this._trigger("valuesChanged"),a!==!0&&this._trigger("userValuesChanged"),this._valuesChanged=!1),a===!0&&this._reactivateLabels()},_updateValues:function(){var a=this._leftHandle("value"),b=this._rightHandle("value"),c=this._min(a,b),d=this._max(a,b),e=c!==this._values.min||d!==this._values.max;return this._values.min=this._min(a,b),this._values.max=this._max(a,b),e},_min:function(a,b){return Math.min(a,b)},_max:function(a,b){return Math.max(a,b)},_createLabel:function(b,c){var d;return null===b?(d=this._getLabelConstructorParameters(b,c),b=a("<div />").appendTo(this.element)[this._labelType()](d)):(d=this._getLabelRefreshParameters(b,c),b[this._labelType()](d)),b},_getLabelConstructorParameters:function(a,b){return{handle:b,handleType:this._handleType(),formatter:this._getFormatter(),show:this.options.valueLabels,durationIn:this.options.durationIn,durationOut:this.options.durationOut,delayOut:this.options.delayOut}},_getLabelRefreshParameters:function(){return{formatter:this._getFormatter(),show:this.options.valueLabels,durationIn:this.options.durationIn,durationOut:this.options.durationOut,delayOut:this.options.delayOut}},_getFormatter:function(){return this.options.formatter===!1||null===this.options.formatter?this._defaultFormatter:this.options.formatter},_defaultFormatter:function(a){return Math.round(a)},_destroyLabel:function(a){return null!==a&&(a[this._labelType()]("destroy"),a.remove(),a=null),a},_createLabels:function(){this.labels.left=this._createLabel(this.labels.left,this.leftHandle),this.labels.right=this._createLabel(this.labels.right,this.rightHandle),this._leftLabel("pair",this.labels.right)},_destroyLabels:function(){this.labels.left=this._destroyLabel(this.labels.left),this.labels.right=this._destroyLabel(this.labels.right)},_stepRatio:function(){return this._leftHandle("stepRatio")},_scrollRightClick:function(a){return this.options.enabled?(a.preventDefault(),this._bar("startScroll"),this._bindStopScroll(),this._continueScrolling("scrollRight",4*this._stepRatio(),1),void 0):!1},_continueScrolling:function(a,b,c,d){if(!this.options.enabled)return!1;this._bar(a,c),d=d||5,d--;var e=this,f=16,g=Math.max(1,4/this._stepRatio());this._scrollTimeout=setTimeout(function(){0===d&&(b>f?b=Math.max(f,b/1.5):c=Math.min(g,2*c),d=5),e._continueScrolling(a,b,c,d)},b)},_scrollLeftClick:function(a){return this.options.enabled?(a.preventDefault(),this._bar("startScroll"),this._bindStopScroll(),this._continueScrolling("scrollLeft",4*this._stepRatio(),1),void 0):!1},_bindStopScroll:function(){var b=this;this._stopScrollHandle=function(a){a.preventDefault(),b._stopScroll()},a(document).bind("mouseup touchend",this._stopScrollHandle)},_stopScroll:function(){a(document).unbind("mouseup touchend",this._stopScrollHandle),this._stopScrollHandle=null,this._bar("stopScroll"),clearTimeout(this._scrollTimeout)},_createRuler:function(){this.ruler=a("<div class='ui-rangeSlider-ruler' />").appendTo(this.innerBar)},_setRulerParameters:function(){this.ruler.ruler({min:this.options.bounds.min,max:this.options.bounds.max,scales:this.options.scales})},_destroyRuler:function(){null!==this.ruler&&a.fn.ruler&&(this.ruler.ruler("destroy"),this.ruler.remove(),this.ruler=null)},_updateRuler:function(){this._destroyRuler(),this.options.scales!==!1&&a.fn.ruler&&(this._createRuler(),this._setRulerParameters())},values:function(a,b){var c;return"undefined"!=typeof a&&"undefined"!=typeof b?(this._deactivateLabels(),c=this._bar("values",a,b),this._changed(!0),this._reactivateLabels()):c=this._bar("values",a,b),c},min:function(a){return this._values.min=this.values(a,this._values.max).min,this._values.min},max:function(a){return this._values.max=this.values(this._values.min,a).max,this._values.max},bounds:function(a,b){return this._isValidValue(a)&&this._isValidValue(b)&&b>a&&(this._setBounds(a,b),this._updateRuler(),this._changed(!0)),this.options.bounds},_isValidValue:function(a){return"undefined"!=typeof a&&parseFloat(a)===a},_setBounds:function(a,b){this.options.bounds={min:a,max:b},this._leftHandle("option","bounds",this.options.bounds),this._rightHandle("option","bounds",this.options.bounds),this._bar("option","bounds",this.options.bounds)},zoomIn:function(a){this._bar("zoomIn",a)},zoomOut:function(a){this._bar("zoomOut",a)},scrollLeft:function(a){this._bar("startScroll"),this._bar("scrollLeft",a),this._bar("stopScroll")},scrollRight:function(a){this._bar("startScroll"),this._bar("scrollRight",a),this._bar("stopScroll")},resize:function(){this._initWidth(),this._leftHandle("update"),this._rightHandle("update"),this._bar("update")},enable:function(){this.toggle(!0)},disable:function(){this.toggle(!1)},toggle:function(a){a===b&&(a=!this.options.enabled),this.options.enabled!==a&&this._toggle(a)},_toggle:function(a){this.options.enabled=a,this.element.toggleClass("ui-rangeSlider-disabled",!a);var b=a?"enable":"disable";this._bar(b),this._leftHandle(b),this._rightHandle(b),this._leftLabel(b),this._rightLabel(b)},destroy:function(){this.element.removeClass("ui-rangeSlider-withArrows ui-rangeSlider-noArrow ui-rangeSlider-disabled"),this._destroyWidgets(),this._destroyElements(),this.element.removeClass("ui-rangeSlider"),this.options=null,a(window).unbind("resize",this._resizeProxy),this._resizeProxy=null,this._bindResize=null,a.Widget.prototype.destroy.apply(this,arguments)},_destroyWidget:function(a){this["_"+a]("destroy"),this[a].remove(),this[a]=null},_destroyWidgets:function(){this._destroyWidget("bar"),this._destroyWidget("leftHandle"),this._destroyWidget("rightHandle"),this._destroyRuler(),this._destroyLabels()},_destroyElements:function(){this.container.remove(),this.container=null,this.innerBar.remove(),this.innerBar=null,this.arrows.left.remove(),this.arrows.right.remove(),this.arrows=null}})}(jQuery),function(a){"use strict",a.widget("ui.rangeSliderHandle",a.ui.rangeSliderDraggable,{currentMove:null,margin:0,parentElement:null,options:{isLeft:!0,bounds:{min:0,max:100},range:!1,value:0,step:!1},_value:0,_left:0,_create:function(){a.ui.rangeSliderDraggable.prototype._create.apply(this),this.element.css("position","absolute").css("top",0).addClass("ui-rangeSlider-handle").toggleClass("ui-rangeSlider-leftHandle",this.options.isLeft).toggleClass("ui-rangeSlider-rightHandle",!this.options.isLeft),this.element.append("<div class='ui-rangeSlider-handle-inner' />"),this._value=this._constraintValue(this.options.value)},destroy:function(){this.element.empty(),a.ui.rangeSliderDraggable.prototype.destroy.apply(this)},_setOption:function(b,c){"isLeft"!==b||c!==!0&&c!==!1||c===this.options.isLeft?"step"===b&&this._checkStep(c)?(this.options.step=c,this.update()):"bounds"===b?(this.options.bounds=c,this.update()):"range"===b&&this._checkRange(c)&&(this.options.range=c,this.update()):(this.options.isLeft=c,this.element.toggleClass("ui-rangeSlider-leftHandle",this.options.isLeft).toggleClass("ui-rangeSlider-rightHandle",!this.options.isLeft),this._position(this._value),this.element.trigger("switch",this.options.isLeft)),a.ui.rangeSliderDraggable.prototype._setOption.apply(this,[b,c])},_checkRange:function(a){return a===!1||!this._isValidValue(a.min)&&!this._isValidValue(a.max)},_isValidValue:function(a){return"undefined"!=typeof a&&a!==!1&&parseFloat(a)!==a},_checkStep:function(a){return a===!1||parseFloat(a)===a},_initElement:function(){a.ui.rangeSliderDraggable.prototype._initElement.apply(this),0===this.cache.parent.width||null===this.cache.parent.width?setTimeout(a.proxy(this._initElementIfNotDestroyed,this),500):(this._position(this._value),this._triggerMouseEvent("initialize"))},_bounds:function(){return this.options.bounds},_cache:function(){a.ui.rangeSliderDraggable.prototype._cache.apply(this),this._cacheParent()},_cacheParent:function(){var a=this.element.parent();this.cache.parent={element:a,offset:a.offset(),padding:{left:this._parsePixels(a,"paddingLeft")},width:a.width()}},_position:function(a){var b=this._getPositionForValue(a);this._applyPosition(b)},_constraintPosition:function(a){var b=this._getValueForPosition(a);return this._getPositionForValue(b)},_applyPosition:function(b){a.ui.rangeSliderDraggable.prototype._applyPosition.apply(this,[b]),this._left=b,this._setValue(this._getValueForPosition(b)),this._triggerMouseEvent("moving")},_prepareEventData:function(){var b=a.ui.rangeSliderDraggable.prototype._prepareEventData.apply(this);return b.value=this._value,b},_setValue:function(a){a!==this._value&&(this._value=a)},_constraintValue:function(a){if(a=Math.min(a,this._bounds().max),a=Math.max(a,this._bounds().min),a=this._round(a),this.options.range!==!1){var b=this.options.range.min||!1,c=this.options.range.max||!1;b!==!1&&(a=Math.max(a,this._round(b))),c!==!1&&(a=Math.min(a,this._round(c))),a=Math.min(a,this._bounds().max),a=Math.max(a,this._bounds().min)}return a},_round:function(a){return this.options.step!==!1&&this.options.step>0?Math.round(a/this.options.step)*this.options.step:a},_getPositionForValue:function(a){if(!this.cache||!this.cache.parent||null===this.cache.parent.offset)return 0;a=this._constraintValue(a);var b=(a-this.options.bounds.min)/(this.options.bounds.max-this.options.bounds.min),c=this.cache.parent.width,d=this.cache.parent.offset.left,e=this.options.isLeft?0:this.cache.width.outer;return b*c+d-e},_getValueForPosition:function(a){var b=this._getRawValueForPositionAndBounds(a,this.options.bounds.min,this.options.bounds.max);return this._constraintValue(b)},_getRawValueForPositionAndBounds:function(a,b,c){a+=this.options.isLeft?0:this.cache.width.outer;var d=null===this.cache.parent.offset?0:this.cache.parent.offset.left,e=this.cache.parent.width,f=e>0?(a-d)/e:0;return f*(c-b)+b},value:function(a){return"undefined"!=typeof a&&(this._cache(),a=this._constraintValue(a),this._position(a)),this._value},update:function(){this._cache();var a=this._constraintValue(this._value),b=this._getPositionForValue(a);a!==this._value?(this._triggerMouseEvent("updating"),this._position(a),this._triggerMouseEvent("update")):b!==this.cache.offset.left&&(this._triggerMouseEvent("updating"),this._position(a),this._triggerMouseEvent("update"))},position:function(a){return"undefined"!=typeof a&&(this._cache(),a=this._constraintPosition(a),this._applyPosition(a)),this._left},add:function(a,b){return a+b},substract:function(a,b){return a-b},stepsBetween:function(a,b){return this.options.step===!1?b-a:(b-a)/this.options.step},multiplyStep:function(a,b){return a*b},moveRight:function(a){var b;return this.options.step===!1?(b=this._left,this.position(this._left+a),this._left-b):(b=this._value,this.value(this.add(b,this.multiplyStep(this.options.step,a))),this.stepsBetween(b,this._value))},moveLeft:function(a){return-this.moveRight(-a)},stepRatio:function(){if(this.options.step===!1)return 1;var a=(this.options.bounds.max-this.options.bounds.min)/this.options.step;return this.cache.parent.width/a}})}(jQuery),function(a){function b(a,b){return"undefined"==typeof a?b||!1:a}"use strict",a.widget("ui.rangeSliderBar",a.ui.rangeSliderDraggable,{options:{leftHandle:null,rightHandle:null,bounds:{min:0,max:100},type:"rangeSliderHandle",range:!1,drag:function(){},stop:function(){},values:{min:0,max:20},wheelSpeed:4,wheelMode:null},_values:{min:0,max:20},_waitingToInit:2,_wheelTimeout:!1,_create:function(){a.ui.rangeSliderDraggable.prototype._create.apply(this),this.element.css("position","absolute").css("top",0).addClass("ui-rangeSlider-bar"),this.options.leftHandle.bind("initialize",a.proxy(this._onInitialized,this)).bind("mousestart",a.proxy(this._cache,this)).bind("stop",a.proxy(this._onHandleStop,this)),this.options.rightHandle.bind("initialize",a.proxy(this._onInitialized,this)).bind("mousestart",a.proxy(this._cache,this)).bind("stop",a.proxy(this._onHandleStop,this)),this._bindHandles(),this._values=this.options.values,this._setWheelModeOption(this.options.wheelMode)},destroy:function(){this.options.leftHandle.unbind(".bar"),this.options.rightHandle.unbind(".bar"),this.options=null,a.ui.rangeSliderDraggable.prototype.destroy.apply(this)},_setOption:function(a,b){"range"===a?this._setRangeOption(b):"wheelSpeed"===a?this._setWheelSpeedOption(b):"wheelMode"===a&&this._setWheelModeOption(b)},_setRangeOption:function(a){if(("object"!=typeof a||null===a)&&(a=!1),a!==!1||this.options.range!==!1){if(a!==!1){var c=b(a.min,this.options.range.min),d=b(a.max,this.options.range.max);this.options.range={min:c,max:d}}else this.options.range=!1;this._setLeftRange(),this._setRightRange()}},_setWheelSpeedOption:function(a){"number"==typeof a&&a>0&&(this.options.wheelSpeed=a)},_setWheelModeOption:function(a){(null===a||a===!1||"zoom"===a||"scroll"===a)&&(this.options.wheelMode!==a&&this.element.parent().unbind("mousewheel.bar"),this._bindMouseWheel(a),this.options.wheelMode=a)},_bindMouseWheel:function(b){"zoom"===b?this.element.parent().bind("mousewheel.bar",a.proxy(this._mouseWheelZoom,this)):"scroll"===b&&this.element.parent().bind("mousewheel.bar",a.proxy(this._mouseWheelScroll,this))},_setLeftRange:function(){if(this.options.range===!1)return!1;var a=this._values.max,b={min:!1,max:!1};b.max=(this.options.range.min||!1)!==!1?this._leftHandle("substract",a,this.options.range.min):!1,b.min=(this.options.range.max||!1)!==!1?this._leftHandle("substract",a,this.options.range.max):!1,this._leftHandle("option","range",b)},_setRightRange:function(){var a=this._values.min,b={min:!1,max:!1};b.min=(this.options.range.min||!1)!==!1?this._rightHandle("add",a,this.options.range.min):!1,b.max=(this.options.range.max||!1)!==!1?this._rightHandle("add",a,this.options.range.max):!1,this._rightHandle("option","range",b)},_deactivateRange:function(){this._leftHandle("option","range",!1),this._rightHandle("option","range",!1)},_reactivateRange:function(){this._setRangeOption(this.options.range)},_onInitialized:function(){this._waitingToInit--,0===this._waitingToInit&&this._initMe()},_initMe:function(){this._cache(),this.min(this._values.min),this.max(this._values.max);var a=this._leftHandle("position"),b=this._rightHandle("position")+this.options.rightHandle.width();this.element.offset({left:a}),this.element.css("width",b-a)},_leftHandle:function(){return this._handleProxy(this.options.leftHandle,arguments)},_rightHandle:function(){return this._handleProxy(this.options.rightHandle,arguments)},_handleProxy:function(a,b){var c=Array.prototype.slice.call(b);return a[this.options.type].apply(a,c)},_cache:function(){a.ui.rangeSliderDraggable.prototype._cache.apply(this),this._cacheHandles()},_cacheHandles:function(){this.cache.rightHandle={},this.cache.rightHandle.width=this.options.rightHandle.width(),this.cache.rightHandle.offset=this.options.rightHandle.offset(),this.cache.leftHandle={},this.cache.leftHandle.offset=this.options.leftHandle.offset()},_mouseStart:function(b){a.ui.rangeSliderDraggable.prototype._mouseStart.apply(this,[b]),this._deactivateRange()},_mouseStop:function(b){a.ui.rangeSliderDraggable.prototype._mouseStop.apply(this,[b]),this._cacheHandles(),this._values.min=this._leftHandle("value"),this._values.max=this._rightHandle("value"),this._reactivateRange(),this._leftHandle().trigger("stop"),this._rightHandle().trigger("stop")},_onDragLeftHandle:function(a,b){if(this._cacheIfNecessary(),b.element[0]===this.options.leftHandle[0]){if(this._switchedValues())return this._switchHandles(),this._onDragRightHandle(a,b),void 0;this._values.min=b.value,this.cache.offset.left=b.offset.left,this.cache.leftHandle.offset=b.offset,this._positionBar()}},_onDragRightHandle:function(a,b){if(this._cacheIfNecessary(),b.element[0]===this.options.rightHandle[0]){if(this._switchedValues())return this._switchHandles(),this._onDragLeftHandle(a,b),void 0;this._values.max=b.value,this.cache.rightHandle.offset=b.offset,this._positionBar()}},_positionBar:function(){var a=this.cache.rightHandle.offset.left+this.cache.rightHandle.width-this.cache.leftHandle.offset.left;this.cache.width.inner=a,this.element.css("width",a).offset({left:this.cache.leftHandle.offset.left})},_onHandleStop:function(){this._setLeftRange(),this._setRightRange()},_switchedValues:function(){if(this.min()>this.max()){var a=this._values.min;return this._values.min=this._values.max,this._values.max=a,!0}return!1},_switchHandles:function(){var a=this.options.leftHandle;this.options.leftHandle=this.options.rightHandle,this.options.rightHandle=a,this._leftHandle("option","isLeft",!0),this._rightHandle("option","isLeft",!1),this._bindHandles(),this._cacheHandles()},_bindHandles:function(){this.options.leftHandle.unbind(".bar").bind("sliderDrag.bar update.bar moving.bar",a.proxy(this._onDragLeftHandle,this)),this.options.rightHandle.unbind(".bar").bind("sliderDrag.bar update.bar moving.bar",a.proxy(this._onDragRightHandle,this))},_constraintPosition:function(b){var c,d={};return d.left=a.ui.rangeSliderDraggable.prototype._constraintPosition.apply(this,[b]),d.left=this._leftHandle("position",d.left),c=this._rightHandle("position",d.left+this.cache.width.outer-this.cache.rightHandle.width),d.width=c-d.left+this.cache.rightHandle.width,d},_applyPosition:function(b){a.ui.rangeSliderDraggable.prototype._applyPosition.apply(this,[b.left]),this.element.width(b.width)},_mouseWheelZoom:function(b,c,d,e){if(!this.enabled)return!1;var f=this._values.min+(this._values.max-this._values.min)/2,g={},h={};return this.options.range===!1||this.options.range.min===!1?(g.max=f,h.min=f):(g.max=f-this.options.range.min/2,h.min=f+this.options.range.min/2),this.options.range!==!1&&this.options.range.max!==!1&&(g.min=f-this.options.range.max/2,h.max=f+this.options.range.max/2),this._leftHandle("option","range",g),this._rightHandle("option","range",h),clearTimeout(this._wheelTimeout),this._wheelTimeout=setTimeout(a.proxy(this._wheelStop,this),200),this.zoomOut(e*this.options.wheelSpeed),!1},_mouseWheelScroll:function(b,c,d,e){return this.enabled?(this._wheelTimeout===!1?this.startScroll():clearTimeout(this._wheelTimeout),this._wheelTimeout=setTimeout(a.proxy(this._wheelStop,this),200),this.scrollLeft(e*this.options.wheelSpeed),!1):!1},_wheelStop:function(){this.stopScroll(),this._wheelTimeout=!1},min:function(a){return this._leftHandle("value",a)},max:function(a){return this._rightHandle("value",a)},startScroll:function(){this._deactivateRange()},stopScroll:function(){this._reactivateRange(),this._triggerMouseEvent("stop"),this._leftHandle().trigger("stop"),this._rightHandle().trigger("stop")},scrollLeft:function(a){return a=a||1,0>a?this.scrollRight(-a):(a=this._leftHandle("moveLeft",a),this._rightHandle("moveLeft",a),this.update(),this._triggerMouseEvent("scroll"),void 0)},scrollRight:function(a){return a=a||1,0>a?this.scrollLeft(-a):(a=this._rightHandle("moveRight",a),this._leftHandle("moveRight",a),this.update(),this._triggerMouseEvent("scroll"),void 0)},zoomIn:function(a){if(a=a||1,0>a)return this.zoomOut(-a);var b=this._rightHandle("moveLeft",a);a>b&&(b/=2,this._rightHandle("moveRight",b)),this._leftHandle("moveRight",b),this.update(),this._triggerMouseEvent("zoom")},zoomOut:function(a){if(a=a||1,0>a)return this.zoomIn(-a);var b=this._rightHandle("moveRight",a);a>b&&(b/=2,this._rightHandle("moveLeft",b)),this._leftHandle("moveLeft",b),this.update(),this._triggerMouseEvent("zoom")},values:function(a,b){if("undefined"!=typeof a&&"undefined"!=typeof b){var c=Math.min(a,b),d=Math.max(a,b);this._deactivateRange(),this.options.leftHandle.unbind(".bar"),this.options.rightHandle.unbind(".bar"),this._values.min=this._leftHandle("value",c),this._values.max=this._rightHandle("value",d),this._bindHandles(),this._reactivateRange(),this.update()}return{min:this._values.min,max:this._values.max}},update:function(){this._values.min=this.min(),this._values.max=this.max(),this._cache(),this._positionBar()}})}(jQuery),function(a){function b(b,c,d,e){this.label1=b,this.label2=c,this.type=d,this.options=e,this.handle1=this.label1[this.type]("option","handle"),this.handle2=this.label2[this.type]("option","handle"),this.cache=null,this.left=b,this.right=c,this.moving=!1,this.initialized=!1,this.updating=!1,this.Init=function(){this.BindHandle(this.handle1),this.BindHandle(this.handle2),"show"===this.options.show?(setTimeout(a.proxy(this.PositionLabels,this),1),this.initialized=!0):setTimeout(a.proxy(this.AfterInit,this),1e3),this._resizeProxy=a.proxy(this.onWindowResize,this),a(window).resize(this._resizeProxy)},this.Destroy=function(){this._resizeProxy&&(a(window).unbind("resize",this._resizeProxy),this._resizeProxy=null,this.handle1.unbind(".positionner"),this.handle1=null,this.handle2.unbind(".positionner"),this.handle2=null,this.label1=null,this.label2=null,this.left=null,this.right=null),this.cache=null},this.AfterInit=function(){this.initialized=!0},this.Cache=function(){"none"!==this.label1.css("display")&&(this.cache={},this.cache.label1={},this.cache.label2={},this.cache.handle1={},this.cache.handle2={},this.cache.offsetParent={},this.CacheElement(this.label1,this.cache.label1),this.CacheElement(this.label2,this.cache.label2),this.CacheElement(this.handle1,this.cache.handle1),this.CacheElement(this.handle2,this.cache.handle2),this.CacheElement(this.label1.offsetParent(),this.cache.offsetParent))},this.CacheIfNecessary=function(){null===this.cache?this.Cache():(this.CacheWidth(this.label1,this.cache.label1),this.CacheWidth(this.label2,this.cache.label2),this.CacheHeight(this.label1,this.cache.label1),this.CacheHeight(this.label2,this.cache.label2),this.CacheWidth(this.label1.offsetParent(),this.cache.offsetParent))},this.CacheElement=function(a,b){this.CacheWidth(a,b),this.CacheHeight(a,b),b.offset=a.offset(),b.margin={left:this.ParsePixels("marginLeft",a),right:this.ParsePixels("marginRight",a)},b.border={left:this.ParsePixels("borderLeftWidth",a),right:this.ParsePixels("borderRightWidth",a)}},this.CacheWidth=function(a,b){b.width=a.width(),b.outerWidth=a.outerWidth()},this.CacheHeight=function(a,b){b.outerHeightMargin=a.outerHeight(!0)},this.ParsePixels=function(a,b){return parseInt(b.css(a),10)||0},this.BindHandle=function(b){b.bind("updating.positionner",a.proxy(this.onHandleUpdating,this)),b.bind("update.positionner",a.proxy(this.onHandleUpdated,this)),b.bind("moving.positionner",a.proxy(this.onHandleMoving,this)),b.bind("stop.positionner",a.proxy(this.onHandleStop,this))},this.PositionLabels=function(){if(this.CacheIfNecessary(),null!==this.cache){var a=this.GetRawPosition(this.cache.label1,this.cache.handle1),b=this.GetRawPosition(this.cache.label2,this.cache.handle2);this.ConstraintPositions(a,b),this.PositionLabel(this.label1,a.left,this.cache.label1),this.PositionLabel(this.label2,b.left,this.cache.label2)}},this.PositionLabel=function(a,b,c){var d,e,f,g=this.cache.offsetParent.offset.left+this.cache.offsetParent.border.left;g-b>=0?(a.css("right",""),a.offset({left:b})):(d=g+this.cache.offsetParent.width,e=b+c.margin.left+c.outerWidth+c.margin.right,f=d-e,a.css("left",""),a.css("right",f))},this.ConstraintPositions=function(a,b){a.center<b.center&&a.outerRight>b.outerLeft?(a=this.getLeftPosition(a,b),b=this.getRightPosition(a,b)):a.center>b.center&&b.outerRight>a.outerLeft&&(b=this.getLeftPosition(b,a),a=this.getRightPosition(b,a))},this.getLeftPosition=function(a,b){var c=(b.center+a.center)/2,d=c-a.cache.outerWidth-a.cache.margin.right+a.cache.border.left;return a.left=d,a},this.getRightPosition=function(a,b){var c=(b.center+a.center)/2;return b.left=c+b.cache.margin.left+b.cache.border.left,b},this.ShowIfNecessary=function(){"show"===this.options.show||this.moving||!this.initialized||this.updating||(this.label1.stop(!0,!0).fadeIn(this.options.durationIn||0),this.label2.stop(!0,!0).fadeIn(this.options.durationIn||0),this.moving=!0)},this.HideIfNeeded=function(){this.moving===!0&&(this.label1.stop(!0,!0).delay(this.options.delayOut||0).fadeOut(this.options.durationOut||0),this.label2.stop(!0,!0).delay(this.options.delayOut||0).fadeOut(this.options.durationOut||0),this.moving=!1)},this.onHandleMoving=function(a,b){this.ShowIfNecessary(),this.CacheIfNecessary(),this.UpdateHandlePosition(b),this.PositionLabels()},this.onHandleUpdating=function(){this.updating=!0},this.onHandleUpdated=function(){this.updating=!1,this.cache=null},this.onHandleStop=function(){this.HideIfNeeded()},this.onWindowResize=function(){this.cache=null},this.UpdateHandlePosition=function(a){null!==this.cache&&(a.element[0]===this.handle1[0]?this.UpdatePosition(a,this.cache.handle1):this.UpdatePosition(a,this.cache.handle2))},this.UpdatePosition=function(a,b){b.offset=a.offset},this.GetRawPosition=function(a,b){var c=b.offset.left+b.outerWidth/2,d=c-a.outerWidth/2,e=d+a.outerWidth-a.border.left-a.border.right,f=d-a.margin.left-a.border.left,g=b.offset.top-a.outerHeightMargin;return{left:d,outerLeft:f,top:g,right:e,outerRight:f+a.outerWidth+a.margin.left+a.margin.right,cache:a,center:c}},this.Init()}"use strict",a.widget("ui.rangeSliderLabel",a.ui.rangeSliderMouseTouch,{options:{handle:null,formatter:!1,handleType:"rangeSliderHandle",show:"show",durationIn:0,durationOut:500,delayOut:500,isLeft:!1},cache:null,_positionner:null,_valueContainer:null,_innerElement:null,_value:null,_create:function(){this.options.isLeft=this._handle("option","isLeft"),this.element.addClass("ui-rangeSlider-label").css("position","absolute").css("display","block"),this._createElements(),this._toggleClass(),this.options.handle.bind("moving.label",a.proxy(this._onMoving,this)).bind("update.label",a.proxy(this._onUpdate,this)).bind("switch.label",a.proxy(this._onSwitch,this)),"show"!==this.options.show&&this.element.hide(),this._mouseInit()},destroy:function(){this.options.handle.unbind(".label"),this.options.handle=null,this._valueContainer=null,this._innerElement=null,this.element.empty(),this._positionner&&(this._positionner.Destroy(),this._positionner=null),a.ui.rangeSliderMouseTouch.prototype.destroy.apply(this)},_createElements:function(){this._valueContainer=a("<div class='ui-rangeSlider-label-value' />").appendTo(this.element),this._innerElement=a("<div class='ui-rangeSlider-label-inner' />").appendTo(this.element)},_handle:function(){var a=Array.prototype.slice.apply(arguments);return this.options.handle[this.options.handleType].apply(this.options.handle,a)},_setOption:function(a,b){"show"===a?this._updateShowOption(b):("durationIn"===a||"durationOut"===a||"delayOut"===a)&&this._updateDurations(a,b),this._setFormatterOption(a,b)},_setFormatterOption:function(a,b){"formatter"===a&&("function"==typeof b||b===!1)&&(this.options.formatter=b,this._display(this._value))},_updateShowOption:function(a){this.options.show=a,"show"!==this.options.show?(this.element.hide(),this._positionner.moving=!1):(this.element.show(),this._display(this.options.handle[this.options.handleType]("value")),this._positionner.PositionLabels()),this._positionner.options.show=this.options.show},_updateDurations:function(a,b){parseInt(b,10)===b&&(this._positionner.options[a]=b,this.options[a]=b)},_display:function(a){this.options.formatter===!1?this._displayText(Math.round(a)):this._displayText(this.options.formatter(a)),this._value=a},_displayText:function(a){this._valueContainer.text(a)},_toggleClass:function(){this.element.toggleClass("ui-rangeSlider-leftLabel",this.options.isLeft).toggleClass("ui-rangeSlider-rightLabel",!this.options.isLeft)},_mouseDown:function(a){this.options.handle.trigger(a)},_mouseUp:function(a){this.options.handle.trigger(a)},_mouseMove:function(a){this.options.handle.trigger(a)},_onMoving:function(a,b){this._display(b.value)},_onUpdate:function(){"show"===this.options.show&&this.update()},_onSwitch:function(a,b){this.options.isLeft=b,this._toggleClass(),this._positionner.PositionLabels()},pair:function(a){null===this._positionner&&(this._positionner=new b(this.element,a,this.widgetName,{show:this.options.show,durationIn:this.options.durationIn,durationOut:this.options.durationOut,delayOut:this.options.delayOut}),a[this.widgetName]("positionner",this._positionner))},positionner:function(a){return"undefined"!=typeof a&&(this._positionner=a),this._positionner},update:function(){this._positionner.cache=null,this._display(this._handle("value")),"show"===this.options.show&&this._positionner.PositionLabels()}})}(jQuery),function(a,b,c){function $(c,d,e){var g=b.createElement(c);return d&&(g.id=f+d),e&&(g.style.cssText=e),a(g)}function _(){return c.innerHeight?c.innerHeight:a(c).height()}function ba(a){var b=v.length,c=(O+a)%b;return c<0?b+c:c}function bb(a,b){return Math.round((/%/.test(a)?(b==="x"?w.width():_())/100:1)*parseInt(a,10))}function bc(a,b){return a.photo||a.photoRegex.test(b)}function bd(a,b){return a.retinaUrl&&c.devicePixelRatio>1?b.replace(a.photoRegex,a.retinaSuffix):b}function be(a){"contains"in o[0]&&!o[0].contains(a.target)&&(a.stopPropagation(),o.focus())}function bf(){var b,c=a.data(N,e);c==null?(I=a.extend({},d),console&&console.log&&console.log("Error: cboxElement missing settings object")):I=a.extend({},c);for(b in I)a.isFunction(I[b])&&b.slice(0,2)!=="on"&&(I[b]=I[b].call(N));I.rel=I.rel||N.rel||a(N).data("rel")||"nofollow",I.href=I.href||a(N).attr("href"),I.title=I.title||N.title,typeof I.href=="string"&&(I.href=a.trim(I.href))}function bg(c,d){a(b).trigger(c),H.triggerHandler(c),a.isFunction(d)&&d.call(N)}function bi(c){S||(N=c,bf(),v=a(N),O=0,I.rel!=="nofollow"&&(v=a("."+g).filter(function(){var b=a.data(this,e),c;return b&&(c=a(this).data("rel")||b.rel||this.rel),c===I.rel}),O=v.index(N),O===-1&&(v=v.add(N),O=v.length-1)),n.css({opacity:parseFloat(I.opacity),cursor:I.overlayClose?"pointer":"auto",visibility:"visible"}).show(),W&&o.add(n).removeClass(W),I.className&&o.add(n).addClass(I.className),W=I.className,I.closeButton?F.html(I.close).appendTo(q):F.appendTo("<div/>"),Q||(Q=R=!0,o.css({visibility:"hidden",display:"block"}),x=$(V,"LoadedContent","width:0; height:0; overflow:hidden"),q.css({width:"",height:""}).append(x),J=r.height()+u.height()+q.outerHeight(!0)-q.height(),K=s.width()+t.width()+q.outerWidth(!0)-q.width(),L=x.outerHeight(!0),M=x.outerWidth(!0),I.w=bb(I.initialWidth,"x"),I.h=bb(I.initialHeight,"y"),x.css({width:"",height:I.h}),U.position(),bg(h,I.onOpen),G.add(A).hide(),o.focus(),I.trapFocus&&b.addEventListener&&(b.addEventListener("focus",be,!0),H.one(l,function(){b.removeEventListener("focus",be,!0)})),I.returnFocus&&H.one(l,function(){a(N).focus()})),bl())}function bj(){!o&&b.body&&(Z=!1,w=a(c),o=$(V).attr({id:e,"class":a.support.opacity===!1?f+"IE":"",role:"dialog",tabindex:"-1"}).hide(),n=$(V,"Overlay").hide(),z=a([$(V,"LoadingOverlay")[0],$(V,"LoadingGraphic")[0]]),p=$(V,"Wrapper"),q=$(V,"Content").append(A=$(V,"Title"),B=$(V,"Current"),E=a('<button type="button"/>').attr({id:f+"Previous"}),D=a('<button type="button"/>').attr({id:f+"Next"}),C=$("button","Slideshow"),z),F=a('<button type="button"/>').attr({id:f+"Close"}),p.append($(V).append($(V,"TopLeft"),r=$(V,"TopCenter"),$(V,"TopRight")),$(V,!1,"clear:left").append(s=$(V,"MiddleLeft"),q,t=$(V,"MiddleRight")),$(V,!1,"clear:left").append($(V,"BottomLeft"),u=$(V,"BottomCenter"),$(V,"BottomRight"))).find("div div").css({"float":"left"}),y=$(V,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),G=D.add(E).add(B).add(C),a(b.body).append(n,o.append(p,y)))}function bk(){function c(a){a.which>1||a.shiftKey||a.altKey||a.metaKey||a.ctrlKey||(a.preventDefault(),bi(this))}return o?(Z||(Z=!0,D.click(function(){U.next()}),E.click(function(){U.prev()}),F.click(function(){U.close()}),n.click(function(){I.overlayClose&&U.close()}),a(b).bind("keydown."+f,function(a){var b=a.keyCode;Q&&I.escKey&&b===27&&(a.preventDefault(),U.close()),Q&&I.arrowKey&&v[1]&&!a.altKey&&(b===37?(a.preventDefault(),E.click()):b===39&&(a.preventDefault(),D.click()))}),a.isFunction(a.fn.on)?a(b).on("click."+f,"."+g,c):a("."+g).live("click."+f,c)),!0):!1}function bl(){var d,e,g=U.prep,h,j=++X;R=!0,P=!1,N=v[O],bf(),bg(m),bg(i,I.onLoad),I.h=I.height?bb(I.height,"y")-L-J:I.innerHeight&&bb(I.innerHeight,"y"),I.w=I.width?bb(I.width,"x")-M-K:I.innerWidth&&bb(I.innerWidth,"x"),I.mw=I.w,I.mh=I.h,I.maxWidth&&(I.mw=bb(I.maxWidth,"x")-M-K,I.mw=I.w&&I.w<I.mw?I.w:I.mw),I.maxHeight&&(I.mh=bb(I.maxHeight,"y")-L-J,I.mh=I.h&&I.h<I.mh?I.h:I.mh),d=I.href,T=setTimeout(function(){z.show()},100),I.inline?(h=$(V).hide().insertBefore(a(d)[0]),H.one(m,function(){h.replaceWith(x.children())}),g(a(d))):I.iframe?g(" "):I.html?g(I.html):bc(I,d)?(d=bd(I,d),P=b.createElement("img"),a(P).addClass(f+"Photo").bind("error",function(){I.title=!1,g($(V,"Error").html(I.imgError))}).one("load",function(){var b;if(j!==X)return;a.each(["alt","longdesc","aria-describedby"],function(b,c){var d=a(N).attr(c)||a(N).attr("data-"+c);d&&P.setAttribute(c,d)}),I.retinaImage&&c.devicePixelRatio>1&&(P.height=P.height/c.devicePixelRatio,P.width=P.width/c.devicePixelRatio),I.scalePhotos&&(e=function(){P.height-=P.height*b,P.width-=P.width*b},I.mw&&P.width>I.mw&&(b=(P.width-I.mw)/P.width,e()),I.mh&&P.height>I.mh&&(b=(P.height-I.mh)/P.height,e())),I.h&&(P.style.marginTop=Math.max(I.mh-P.height,0)/2+"px"),v[1]&&(I.loop||v[O+1])&&(P.style.cursor="pointer",P.onclick=function(){U.next()}),P.style.width=P.width+"px",P.style.height=P.height+"px",setTimeout(function(){g(P)},1)}),setTimeout(function(){P.src=d},1)):d&&y.load(d,I.data,function(b,c){j===X&&g(c==="error"?$(V,"Error").html(I.xhrError):a(this).contents())})}var d={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,href:!1,title:!1,rel:!1,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:undefined,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1},e="colorbox",f="cbox",g=f+"Element",h=f+"_open",i=f+"_load",j=f+"_complete",k=f+"_cleanup",l=f+"_closed",m=f+"_purge",n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H=a("<a/>"),I,J,K,L,M,N,O,P,Q,R,S,T,U,V="div",W,X=0,Y={},Z,bh=function(){function e(){clearTimeout(d)}function g(){if(I.loop||v[O+1])e(),d=setTimeout(U.next,I.slideshowSpeed)}function h(){C.html(I.slideshowStop).unbind(c).one(c,l),H.bind(j,g).bind(i,e),o.removeClass(b+"off").addClass(b+"on")}function l(){e(),H.unbind(j,g).unbind(i,e),C.html(I.slideshowStart).unbind(c).one(c,function(){U.next(),h()}),o.removeClass(b+"on").addClass(b+"off")}function m(){a=!1,C.hide(),e(),H.unbind(j,g).unbind(i,e),o.removeClass(b+"off "+b+"on")}var a,b=f+"Slideshow_",c="click."+f,d;return function(){a?I.slideshow||(H.unbind(k,m),m()):I.slideshow&&v[1]&&(a=!0,H.one(k,m),I.slideshowAuto?h():l(),C.show())}}();if(a.colorbox)return;a(bj),U=a.fn[e]=a[e]=function(b,c){var f=this;b=b||{},bj();if(bk()){if(a.isFunction(f))f=a("<a/>"),b.open=!0;else if(!f[0])return f;c&&(b.onComplete=c),f.each(function(){a.data(this,e,a.extend({},a.data(this,e)||d,b))}).addClass(g),(a.isFunction(b.open)&&b.open.call(f)||b.open)&&bi(f[0])}return f},U.position=function(b,c){function k(){r[0].style.width=u[0].style.width=q[0].style.width=parseInt(o[0].style.width,10)-K+"px",q[0].style.height=s[0].style.height=t[0].style.height=parseInt(o[0].style.height,10)-J+"px"}var d,e=0,g=0,h=o.offset(),i,j;w.unbind("resize."+f),o.css({top:-9e4,left:-9e4}),i=w.scrollTop(),j=w.scrollLeft(),I.fixed?(h.top-=i,h.left-=j,o.css({position:"fixed"})):(e=i,g=j,o.css({position:"absolute"})),I.right!==!1?g+=Math.max(w.width()-I.w-M-K-bb(I.right,"x"),0):I.left!==!1?g+=bb(I.left,"x"):g+=Math.round(Math.max(w.width()-I.w-M-K,0)/2),I.bottom!==!1?e+=Math.max(_()-I.h-L-J-bb(I.bottom,"y"),0):I.top!==!1?e+=bb(I.top,"y"):e+=Math.round(Math.max(_()-I.h-L-J,0)/2),o.css({top:h.top,left:h.left,visibility:"visible"}),p[0].style.width=p[0].style.height="9999px",d={width:I.w+M+K,height:I.h+L+J,top:e,left:g};if(b){var l=0;a.each(d,function(a){if(d[a]!==Y[a]){l=b;return}}),b=l}Y=d,b||o.css(d),o.dequeue().animate(d,{duration:b||0,complete:function(){k(),R=!1,p[0].style.width=I.w+M+K+"px",p[0].style.height=I.h+L+J+"px",I.reposition&&setTimeout(function(){w.bind("resize."+f,U.position)},1),c&&c()},step:k})},U.resize=function(a){var b;Q&&(a=a||{},a.width&&(I.w=bb(a.width,"x")-M-K),a.innerWidth&&(I.w=bb(a.innerWidth,"x")),x.css({width:I.w}),a.height&&(I.h=bb(a.height,"y")-L-J),a.innerHeight&&(I.h=bb(a.innerHeight,"y")),!a.innerHeight&&!a.height&&(b=x.scrollTop(),x.css({height:"auto"}),I.h=x.height()),x.css({height:I.h}),b&&x.scrollTop(b),U.position(I.transition==="none"?0:I.speed))},U.prep=function(c){function h(){return I.w=I.w||x.width(),I.w=I.mw&&I.mw<I.w?I.mw:I.w,I.w}function i(){return I.h=I.h||x.height(),I.h=I.mh&&I.mh<I.h?I.mh:I.h,I.h}if(!Q)return;var d,g=I.transition==="none"?0:I.speed;x.empty().remove(),x=$(V,"LoadedContent").append(c),x.hide().appendTo(y.show()).css({width:h(),overflow:I.scrolling?"auto":"hidden"}).css({height:i()}).prependTo(q),y.hide(),a(P).css({"float":"none"}),d=function(){function l(){a.support.opacity===!1&&o[0].style.removeAttribute("filter")}var c=v.length,d,h="frameBorder",i="allowTransparency",k;if(!Q)return;k=function(){clearTimeout(T),z.hide(),bg(j,I.onComplete)},A.html(I.title).add(x).show(),c>1?(typeof I.current=="string"&&B.html(I.current.replace("{current}",O+1).replace("{total}",c)).show(),D[I.loop||O<c-1?"show":"hide"]().html(I.next),E[I.loop||O?"show":"hide"]().html(I.previous),bh(),I.preloading&&a.each([ba(-1),ba(1)],function(){var c,d,f=v[this],g=a.data(f,e);g&&g.href?(c=g.href,a.isFunction(c)&&(c=c.call(f))):c=a(f).attr("href"),c&&bc(g,c)&&(c=bd(g,c),d=b.createElement("img"),d.src=c)})):G.hide(),I.iframe?(d=$("iframe")[0],h in d&&(d[h]=0),i in d&&(d[i]="true"),I.scrolling||(d.scrolling="no"),a(d).attr({src:I.href,name:(new Date).getTime(),"class":f+"Iframe",allowFullScreen:!0,webkitAllowFullScreen:!0,mozallowfullscreen:!0}).one("load",k).appendTo(x),H.one(m,function(){d.src="//about:blank"}),I.fastIframe&&a(d).trigger("load")):k(),I.transition==="fade"?o.fadeTo(g,1,l):l()},I.transition==="fade"?o.fadeTo(g,0,function(){U.position(0,d)}):U.position(g,d)},U.next=function(){!R&&v[1]&&(I.loop||v[O+1])&&(O=ba(1),bi(v[O]))},U.prev=function(){!R&&v[1]&&(I.loop||O)&&(O=ba(-1),bi(v[O]))},U.close=function(){Q&&!S&&(S=!0,Q=!1,bg(k,I.onCleanup),w.unbind("."+f),n.fadeTo(I.fadeOut||0,0),o.stop().fadeTo(I.fadeOut||0,0,function(){o.add(n).css({opacity:1,cursor:"auto"}).hide(),bg(m),x.empty().remove(),setTimeout(function(){S=!1,bg(l,I.onClosed)},1)}))},U.remove=function(){if(!o)return;o.stop(),a.colorbox.close(),o.stop().remove(),n.remove(),S=!1,o=null,a("."+g).removeData(e).removeClass(g),a(b).unbind("click."+f)},U.element=function(){return a(N)},U.settings=d}(jQuery,document,window),function(a){a.tabSelect=function(b,c){var d={activeClass:"active",inactiveClass:"inactive",disabledClass:"disable",elementType:"span",tabElements:[],selectedTabs:[],formElement:undefined,disabledElements:[],multipleSelections:!0,onChange:function(){}},e=this;e.settings={};var f=a(b),b=b;f.html(""),e.init=function(){e.settings=a.extend({},d,c),e.settings.selectedTabs=="all"&&(e.settings.selectedTabs=e.settings.tabElements),e.settings.formElement!=undefined&&(a(e.settings.formElement).is("select")?a(e.settings.formElement).find(":selected").each(function(b,c){e.settings.selectedTabs[b]=a(c).text()}):e.settings.selectedTabs=a(e.settings.formElement).val().split(",")),a.each(e.settings.tabElements,function(b,c){var d=document.createElement("span");e.settings.selectedTabs.indexOf(c)==-1?e.settings.disabledElements.indexOf(c)==-1?a(d).html(c).addClass(e.settings.inactiveClass):a(d).html(c).addClass(e.settings.disabledClass):a(d).html(c).addClass(e.settings.activeClass),a(d).click(function(){a(this).hasClass(e.settings.activeClass)?a(this).removeClass(e.settings.activeClass).addClass(e.settings.inactiveClass):a(this).removeClass(e.settings.inactiveClass).addClass(e.settings.activeClass),e.onChange()}),f.append(d)})},e.onChange=function(){if(e.settings.formElement!=undefined)if(a(e.settings.formElement).is("select")){a(e.settings.formElement).find("option").each(function(){a(this).removeAttr("selected")});var b=e.getAllSelected();a(e.settings.formElement).find("option").each(function(){b.indexOf(a(this).html())!==-1&&a(this).attr("selected","selected")})}else a(e.settings.formElement).val(e.getAllSelected());e.settings.onChange(e.getAllSelected())},e.getAllSelected=function(){var b=[];return f.find(e.settings.elementType).each(function(){a(this).hasClass(e.settings.activeClass)&&b.push(a(this).html())}),b},e.selectAll=function(){var b=0;f.find(e.settings.elementType).each(function(){a(this).hasClass(e.settings.inactiveClass)&&(a(this).removeClass(e.settings.inactiveClass).addClass(e.settings.activeClass),b++)}),b>0&&e.onChange()},e.deselectAll=function(){var b=0;f.find(e.settings.elementType).each(function(){a(this).hasClass(e.settings.activeClass)&&(a(this).removeClass(e.settings.activeClass).addClass(e.settings.inactiveClass),b++)}),b>0&&e.onChange()},e.init()},a.fn.tabSelect=function(b){return this.each(function(){var c=new a.tabSelect(this,b);a(this).data("tabSelect",c)})}}(jQuery),Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){for(var c=b||0,d=this.length;c<d;c++)if(this[c]===a)return c;return-1}),function(a){a.Jcrop=function(b,c){function i(a){return Math.round(a)+"px"}function j(a){return d.baseClass+"-"+a}function k(){return a.fx.step.hasOwnProperty("backgroundColor")}function l(b){var c=a(b).offset();return[c.left,c.top]}function m(a){return[a.pageX-e[0],a.pageY-e[1]]}function n(b){typeof b!="object"&&(b={}),d=a.extend(d,b),a.each(["onChange","onSelect","onRelease","onDblClick"],function(a,b){typeof d[b]!="function"&&(d[b]=function(){})})}function o(a,b,c){e=l(D),bc.setCursor(a==="move"?a:a+"-resize");if(a==="move")return bc.activateHandlers(q(b),v,c);var d=_.getFixed(),f=r(a),g=_.getCorner(r(f));_.setPressed(_.getCorner(f)),_.setCurrent(g),bc.activateHandlers(p(a,d),v,c)}function p(a,b){return function(c){if(!d.aspectRatio)switch(a){case"e":c[1]=b.y2;break;case"w":c[1]=b.y2;break;case"n":c[0]=b.x2;break;case"s":c[0]=b.x2}else switch(a){case"e":c[1]=b.y+1;break;case"w":c[1]=b.y+1;break;case"n":c[0]=b.x+1;break;case"s":c[0]=b.x+1}_.setCurrent(c),bb.update()}}function q(a){var b=a;return bd.watchKeys(),function(a){_.moveOffset([a[0]-b[0],a[1]-b[1]]),b=a,bb.update()}}function r(a){switch(a){case"n":return"sw";case"s":return"nw";case"e":return"nw";case"w":return"ne";case"ne":return"sw";case"nw":return"se";case"se":return"nw";case"sw":return"ne"}}function s(a){return function(b){return d.disabled?!1:a==="move"&&!d.allowMove?!1:(e=l(D),W=!0,o(a,m(b)),b.stopPropagation(),b.preventDefault(),!1)}}function t(a,b,c){var d=a.width(),e=a.height();d>b&&b>0&&(d=b,e=b/a.width()*a.height()),e>c&&c>0&&(e=c,d=c/a.height()*a.width()),T=a.width()/d,U=a.height()/e,a.width(d).height(e)}function u(a){return{x:a.x*T,y:a.y*U,x2:a.x2*T,y2:a.y2*U,w:a.w*T,h:a.h*U}}function v(a){var b=_.getFixed();b.w>d.minSelect[0]&&b.h>d.minSelect[1]?(bb.enableHandles(),bb.done()):bb.release(),bc.setCursor(d.allowSelect?"crosshair":"default")}function w(a){if(d.disabled)return;if(!d.allowSelect)return;W=!0,e=l(D),bb.disableHandles(),bc.setCursor("crosshair");var b=m(a);return _.setPressed(b),bb.update(),bc.activateHandlers(x,v,a.type.substring(0,5)==="touch"),bd.watchKeys(),a.stopPropagation(),a.preventDefault(),!1}function x(a){_.setCurrent(a),bb.update()}function y(){var b=a("<div></div>").addClass(j("tracker"));return g&&b.css({opacity:0,backgroundColor:"white"}),b}function be(a){G.removeClass().addClass(j("holder")).addClass(a)}function bf(a,b){function t(){window.setTimeout(u,l)}var c=a[0]/T,e=a[1]/U,f=a[2]/T,g=a[3]/U;if(X)return;var h=_.flipCoords(c,e,f,g),i=_.getFixed(),j=[i.x,i.y,i.x2,i.y2],k=j,l=d.animationDelay,m=h[0]-j[0],n=h[1]-j[1],o=h[2]-j[2],p=h[3]-j[3],q=0,r=d.swingSpeed;c=k[0],e=k[1],f=k[2],g=k[3],bb.animMode(!0);var s,u=function(){return function(){q+=(100-q)/r,k[0]=Math.round(c+q/100*m),k[1]=Math.round(e+q/100*n),k[2]=Math.round(f+q/100*o),k[3]=Math.round(g+q/100*p),q>=99.8&&(q=100),q<100?(bh(k),t()):(bb.done(),bb.animMode(!1),typeof b=="function"&&b.call(bs))}}();t()}function bg(a){bh([a[0]/T,a[1]/U,a[2]/T,a[3]/U]),d.onSelect.call(bs,u(_.getFixed())),bb.enableHandles()}function bh(a){_.setPressed([a[0],a[1]]),_.setCurrent([a[2],a[3]]),bb.update()}function bi(){return u(_.getFixed())}function bj(){return _.getFixed()}function bk(a){n(a),br()}function bl(){d.disabled=!0,bb.disableHandles(),bb.setCursor("default"),bc.setCursor("default")}function bm(){d.disabled=!1,br()}function bn(){bb.done(),bc.activateHandlers(null,null)}function bo(){G.remove(),A.show(),A.css("visibility","visible"),a(b).removeData("Jcrop")}function bp(a,b){bb.release(),bl();var c=new Image;c.onload=function(){var e=c.width,f=c.height,g=d.boxWidth,h=d.boxHeight;D.width(e).height(f),D.attr("src",a),H.attr("src",a),t(D,g,h),E=D.width(),F=D.height(),H.width(E).height(F),M.width(E+L*2).height(F+L*2),G.width(E).height(F),ba.resize(E,F),bm(),typeof b=="function"&&b.call(bs)},c.src=a}function bq(a,b,c){var e=b||d.bgColor;d.bgFade&&k()&&d.fadeTime&&!c?a.animate({backgroundColor:e},{queue:!1,duration:d.fadeTime}):a.css("backgroundColor",e)}function br(a){d.allowResize?a?bb.enableOnly():bb.enableHandles():bb.disableHandles(),bc.setCursor(d.allowSelect?"crosshair":"default"),bb.setCursor(d.allowMove?"move":"default"),d.hasOwnProperty("trueSize")&&(T=d.trueSize[0]/E,U=d.trueSize[1]/F),d.hasOwnProperty("setSelect")&&(bg(d.setSelect),bb.done(),delete d.setSelect),ba.refresh(),d.bgColor!=N&&(bq(d.shade?ba.getShades():G,d.shade?d.shadeColor||d.bgColor:d.bgColor),N=d.bgColor),O!=d.bgOpacity&&(O=d.bgOpacity,d.shade?ba.refresh():bb.setBgOpacity(O)),P=d.maxSize[0]||0,Q=d.maxSize[1]||0,R=d.minSize[0]||0,S=d.minSize[1]||0,d.hasOwnProperty("outerImage")&&(D.attr("src",d.outerImage),delete d.outerImage),bb.refresh()}var d=a.extend({},a.Jcrop.defaults),e,f=navigator.userAgent.toLowerCase(),g=/msie/.test(f),h=/msie [1-6]\./.test(f);typeof b!="object"&&(b=a(b)[0]),typeof c!="object"&&(c={}),n(c);var z={border:"none",visibility:"visible",margin:0,padding:0,position:"absolute",top:0,left:0},A=a(b),B=!0;if(b.tagName=="IMG"){if(A[0].width!=0&&A[0].height!=0)A.width(A[0].width),A.height(A[0].height);else{var C=new Image;C.src=A[0].src,A.width(C.width),A.height(C.height)}var D=A.clone().removeAttr("id").css(z).show();D.width(A.width()),D.height(A.height()),A.after(D).hide()}else D=A.css(z).show(),B=!1,d.shade===null&&(d.shade=!0);t(D,d.boxWidth,d.boxHeight);var E=D.width(),F=D.height(),G=a("<div />").width(E).height(F).addClass(j("holder")).css({position:"relative",backgroundColor:d.bgColor}).insertAfter(A).append(D);d.addClass&&G.addClass(d.addClass);var H=a("<div />"),I=a("<div />").width("100%").height("100%").css({zIndex:310,position:"absolute",overflow:"hidden"}),J=a("<div />").width("100%").height("100%").css("zIndex",320),K=a("<div />").css({position:"absolute",zIndex:600}).dblclick(function(){var a=_.getFixed();d.onDblClick.call(bs,a)}).insertBefore(D).append(I,J);B&&(H=a("<img />").attr("src",D.attr("src")).css(z).width(E).height(F),I.append(H)),h&&K.css({overflowY:"hidden"});var L=d.boundary,M=y().width(E+L*2).height(F+L*2).css({position:"absolute",top:i(-L),left:i(-L),zIndex:290}).mousedown(w),N=d.bgColor,O=d.bgOpacity,P,Q,R,S,T,U,V=!0,W,X,Y;e=l(D);var Z=function(){function a(){var a={},b=["touchstart","touchmove","touchend"],c=document.createElement("div"),d;try{for(d=0;d<b.length;d++){var e=b[d];e="on"+e;var f=e in c;f||(c.setAttribute(e,"return;"),f=typeof c[e]=="function"),a[b[d]]=f}return a.touchstart&&a.touchend&&a.touchmove}catch(g){return!1}}function b(){return d.touchSupport===!0||d.touchSupport===!1?d.touchSupport:a()}return{createDragger:function(a){return function(b){return d.disabled?!1:a==="move"&&!d.allowMove?!1:(e=l(D),W=!0,o(a,m(Z.cfilter(b)),!0),b.stopPropagation(),b.preventDefault(),!1)}},newSelection:function(a){return w(Z.cfilter(a))},cfilter:function(a){return a.pageX=a.originalEvent.changedTouches[0].pageX,a.pageY=a.originalEvent.changedTouches[0].pageY,a},isSupported:a,support:b()}}(),_=function(){function h(d){d=n(d),c=a=d[0],e=b=d[1]}function i(a){a=n(a),f=a[0]-c,g=a[1]-e,c=a[0],e=a[1]}function j(){return[f,g]}function k(d){var f=d[0],g=d[1];0>a+f&&(f-=f+a),0>b+g&&(g-=g+b),F<e+g&&(g+=F-(e+g)),E<c+f&&(f+=E-(c+f)),a+=f,c+=f,b+=g,e+=g}function l(a){var b=m();switch(a){case"ne":return[b.x2,b.y];case"nw":return[b.x,b.y];case"se":return[b.x2,b.y2];case"sw":return[b.x,b.y2]}}function m(){if(!d.aspectRatio)return p();var f=d.aspectRatio,g=d.minSize[0]/T,h=d.maxSize[0]/T,i=d.maxSize[1]/U,j=c-a,k=e-b,l=Math.abs(j),m=Math.abs(k),n=l/m,r,s,t,u;return h===0&&(h=E*10),i===0&&(i=F*10),n<f?(s=e,t=m*f,r=j<0?a-t:t+a,r<0?(r=0,u=Math.abs((r-a)/f),s=k<0?b-u:u+b):r>E&&(r=E,u=Math.abs((r-a)/f),s=k<0?b-u:u+b)):(r=c,u=l/f,s=k<0?b-u:b+u,s<0?(s=0,t=Math.abs((s-b)*f),r=j<0?a-t:t+a):s>F&&(s=F,t=Math.abs(s-b)*f,r=j<0?a-t:t+a)),r>a?(r-a<g?r=a+g:r-a>h&&(r=a+h),s>b?s=b+(r-a)/f:s=b-(r-a)/f):r<a&&(a-r<g?r=a-g:a-r>h&&(r=a-h),s>b?s=b+(a-r)/f:s=b-(a-r)/f),r<0?(a-=r,r=0):r>E&&(a-=r-E,r=E),s<0?(b-=s,s=0):s>F&&(b-=s-F,s=F),q(o(a,b,r,s))}function n(a){return a[0]<0&&(a[0]=0),a[1]<0&&(a[1]=0),a[0]>E&&(a[0]=E),a[1]>F&&(a[1]=F),[Math.round(a[0]),Math.round(a[1])]}function o(a,b,c,d){var e=a,f=c,g=b,h=d;return c<a&&(e=c,f=a),d<b&&(g=d,h=b),[e,g,f,h]}function p(){var d=c-a,f=e-b,g;return P&&Math.abs(d)>P&&(c=d>0?a+P:a-P),Q&&Math.abs(f)>Q&&(e=f>0?b+Q:b-Q),S/U&&Math.abs(f)<S/U&&(e=f>0?b+S/U:b-S/U),R/T&&Math.abs(d)<R/T&&(c=d>0?a+R/T:a-R/T),a<0&&(c-=a,a-=a),b<0&&(e-=b,b-=b),c<0&&(a-=c,c-=c),e<0&&(b-=e,e-=e),c>E&&(g=c-E,a-=g,c-=g),e>F&&(g=e-F,b-=g,e-=g),a>E&&(g=a-F,e-=g,b-=g),b>F&&(g=b-F,e-=g,b-=g),q(o(a,b,c,e))}function q(a){return{x:a[0],y:a[1],x2:a[2],y2:a[3],w:a[2]-a[0],h:a[3]-a[1]}}var a=0,b=0,c=0,e=0,f,g;return{flipCoords:o,setPressed:h,setCurrent:i,getOffset:j,moveOffset:k,getCorner:l,getFixed:m}}(),ba=function(){function f(a,b){e.left.css({height:i(b)}),e.right.css({height:i(b)})}function g(){return h(_.getFixed())}function h(a){e.top.css({left:i(a.x),width:i(a.w),height:i(a.y)}),e.bottom.css({top:i(a.y2),left:i(a.x),width:i(a.w),height:i(F-a.y2)}),e.right.css({left:i(a.x2),width:i(E-a.x2)}),e.left.css({width:i(a.x)})}function j(){return a("<div />").css({position:"absolute",backgroundColor:d.shadeColor||d.bgColor}).appendTo(c)}function k(){b||(b=!0,c.insertBefore(D),g(),bb.setBgOpacity(1,0,1),H.hide(),l(d.shadeColor||d.bgColor,1),bb.isAwake()?n(d.bgOpacity,1):n(1,1))}function l(a,b){bq(p(),a,b)}function m(){b&&(c.remove(),H.show(),b=!1,bb.isAwake()?bb.setBgOpacity(d.bgOpacity,1,1):(bb.setBgOpacity(1,1,1),bb.disableHandles()),bq(G,0,1))}function n(a,e){b&&(d.bgFade&&!e?c.animate({opacity:1-a},{queue:!1,duration:d.fadeTime}):c.css({opacity:1-a}))}function o(){d.shade?k():m(),bb.isAwake()&&n(d.bgOpacity)}function p(){return c.children()}var b=!1,c=a("<div />").css({position:"absolute",zIndex:240,opacity:0}),e={top:j(),left:j().height(F),right:j().height(F),bottom:j()};return{update:g,updateRaw:h,getShades:p,setBgColor:l,enable:k,disable:m,resize:f,refresh:o,opacity:n}}(),bb=function(){function k(b){var c=a("<div />").css({position:"absolute",opacity:d.borderOpacity}).addClass(j(b));return I.append(c),c}function l(b,c){var d=a("<div />").mousedown(s(b)).css({cursor:b+"-resize",position:"absolute",zIndex:c}).addClass("ord-"+b);return Z.support&&d.bind("touchstart.jcrop",Z.createDragger(b)),J.append(d),d}function m(a){var b=d.handleSize,e=l(a,c++).css({opacity:d.handleOpacity}).addClass(j("handle"));return b&&e.width(b).height(b),e}function n(a){return l(a,c++).addClass("jcrop-dragbar")}function o(a){var b;for(b=0;b<a.length;b++)g[a[b]]=n(a[b])}function p(a){var b,c;for(c=0;c<a.length;c++){switch(a[c]){case"n":b="hline";break;case"s":b="hline bottom";break;case"e":b="vline right";break;case"w":b="vline"}e[a[c]]=k(b)}}function q(a){var b;for(b=0;b<a.length;b++)f[a[b]]=m(a[b])}function r(a,b){d.shade||H.css({top:i(-b),left:i(-a)}),K.css({top:i(b),left:i(a)})}function t(a,b){K.width(Math.round(a)).height(Math.round(b))}function v(){var a=_.getFixed();_.setPressed([a.x,a.y]),_.setCurrent([a.x2,a.y2]),w()}function w(a){if(b)return x(a)}function x(a){var c=_.getFixed();t(c.w,c.h),r(c.x,c.y),d.shade&&ba.updateRaw(c),b||A(),a?d.onSelect.call(bs,u(c)):d.onChange.call(bs,u(c))}function z(a,c,e){if(!b&&!c)return;d.bgFade&&!e?D.animate({opacity:a},{queue:!1,duration:d.fadeTime}):D.css("opacity",a)}function A(){K.show(),d.shade?ba.opacity(O):z(O,!0),b=!0}function B(){F(),K.hide(),d.shade?ba.opacity(1):z(1),b=!1,d.onRelease.call(bs)}function C(){h&&J.show()}function E(){h=!0;if(d.allowResize)return J.show(),!0}function F(){h=!1,J.hide()}function G(a){a?(X=!0,F()):(X=!1,E())}function L(){G(!1),v()}var b,c=370,e={},f={},g={},h=!1;d.dragEdges&&a.isArray(d.createDragbars)&&o(d.createDragbars),a.isArray(d.createHandles)&&q(d.createHandles),d.drawBorders&&a.isArray(d.createBorders)&&p(d.createBorders),a(document).bind("touchstart.jcrop-ios",function(b){a(b.currentTarget).hasClass("jcrop-tracker")&&b.stopPropagation()});var M=y().mousedown(s("move")).css({cursor:"move",position:"absolute",zIndex:360});return Z.support&&M.bind("touchstart.jcrop",Z.createDragger("move")),I.append(M),F(),{updateVisible:w,update:x,release:B,refresh:v,isAwake:function(){return b},setCursor:function(a){M.css("cursor",a)},enableHandles:E,enableOnly:function(){h=!0},showHandles:C,disableHandles:F,animMode:G,setBgOpacity:z,done:L}}(),bc=function(){function f(b){M.css({zIndex:450}),b?a(document).bind("touchmove.jcrop",k).bind("touchend.jcrop",l):e&&a(document).bind("mousemove.jcrop",h).bind("mouseup.jcrop",i)}function g(){M.css({zIndex:290}),a(document).unbind(".jcrop")}function h(a){return b(m(a)),!1}function i(a){return a.preventDefault(),a.stopPropagation(),W&&(W=!1,c(m(a)),bb.isAwake()&&d.onSelect.call(bs,u(_.getFixed())),g(),b=function(){},c=function(){}),!1}function j(a,d,e){return W=!0,b=a,c=d,f(e),!1}function k(a){return b(m(Z.cfilter(a))),!1}function l(a){return i(Z.cfilter(a))}function n(a){M.css("cursor",a)}var b=function(){},c=function(){},e=d.trackDocument;return e||M.mousemove(h).mouseup(i).mouseout(i),D.before(M),{activateHandlers:j,setCursor:n}}(),bd=function(){function e(){d.keySupport&&(b.show(),b.focus())}function f(a){b.hide()}function g(a,b,c){d.allowMove&&(_.moveOffset([b,c]),bb.updateVisible(!0)),a.preventDefault(),a.stopPropagation()}function i(a){if(a.ctrlKey||a.metaKey)return!0;Y=a.shiftKey?!0:!1;var b=Y?10:1;switch(a.keyCode){case 37:g(a,-b,0);break;case 39:g(a,b,0);break;case 38:g(a,0,-b);break;case 40:g(a,0,b);break;case 27:d.allowSelect&&bb.release();break;case 9:return!0}return!1}var b=a('<input type="radio" />').css({opacity:"0",position:"fixed",left:"-120px",width:"12px"}).addClass("jcrop-keymgr"),c=a("<div />").css({position:"absolute",overflow:"hidden"}).append(b);return d.keySupport&&(b.keydown(i).blur(f),h||!d.fixedSupport?(b.css({position:"absolute",left:"-20px"}),c.append(b).insertBefore(D)):b.insertBefore(D)),{watchKeys:e}}();Z.support&&M.bind("touchstart.jcrop",Z.newSelection),J.hide(),br(!0);var bs={setImage:bp,animateTo:bf,setSelect:bg,setOptions:bk,tellSelect:bi,tellScaled:bj,setClass:be,disable:bl,enable:bm,cancel:bn,release:bb.release,destroy:bo,focus:bd.watchKeys,getBounds:function(){return[E*T,F*U]},getWidgetSize:function(){return[E,F]},getScaleFactor:function(){return[T,U]},getOptions:function(){return d},ui:{holder:G,selection:K}};return g&&G.bind("selectstart",function(){return!1}),A.data("Jcrop",bs),bs},a.fn.Jcrop=function(b,c){var d;return this.each(function(){if(a(this).data("Jcrop")){if(b==="api")return a(this).data("Jcrop");a(this).data("Jcrop").setOptions(b)}else this.tagName=="IMG"?a.Jcrop.Loader(this,function(){a(this).css({display:"block",visibility:"hidden"}),d=a.Jcrop(this,b),a.isFunction(c)&&c.call(d)}):(a(this).css({display:"block",visibility:"hidden"}),d=a.Jcrop(this,b),a.isFunction(c)&&c.call(d))}),this},a.Jcrop.Loader=function(b,c,d){function g(){f.complete?(e.unbind(".jcloader"),a.isFunction(c)&&c.call(f)):window.setTimeout(g,50)}var e=a(b),f=e[0];e.bind("load.jcloader",g).bind("error.jcloader",function(b){e.unbind(".jcloader"),a.isFunction(d)&&d.call(f)}),f.complete&&a.isFunction(c)&&(e.unbind(".jcloader"),c.call(f))},a.Jcrop.defaults={allowSelect:!0,allowMove:!0,allowResize:!0,trackDocument:!0,baseClass:"jcrop",addClass:null,bgColor:"black",bgOpacity:.6,bgFade:!1,borderOpacity:.4,handleOpacity:.5,handleSize:null,aspectRatio:1,keySupport:!0,createHandles:["n","s","e","w","nw","ne","se","sw"],createDragbars:["n","s","e","w"],createBorders:["n","s","e","w"],drawBorders:!0,dragEdges:!0,fixedSupport:!0,touchSupport:null,shade:null,boxWidth:0,boxHeight:0,boundary:2,fadeTime:400,animationDelay:20,swingSpeed:3,minSelect:[0,0],maxSize:[0,0],minSize:[0,0],onChange:function(){},onSelect:function(){},onDblClick:function(){},onRelease:function(){}}}(jQuery),function(){window.$jit=function(a){a=a||window;for(var b in $jit)$jit[b].$extend&&(a[b]=$jit[b])},$jit.version="2.0.1";var a=function(a){return document.getElementById(a)};a.empty=function(){},a.extend=function(a,b){for(var c in b||{})a[c]=b[c];return a},a.lambda=function(a){return typeof a=="function"?a:function(){return a}},a.time=Date.now||function(){return+(new Date)},a.splat=function(b){var c=a.type(b);return c?c!="array"?[b]:b:[]},a.type=function(b){var c=a.type.s.call(b).match(/^\[object\s(.*)\]$/)[1].toLowerCase();return c!="object"?c:b&&b.$$family?b.$$family:b&&b.nodeName&&b.nodeType==1?"element":c},a.type.s=Object.prototype.toString,a.each=function(b,c){var d=a.type(b);if(d=="object")for(var e in b)c(b[e],e);else for(var f=0,g=b.length;f<g;f++)c(b[f],f)},a.indexOf=function(a,b){if(Array.indexOf)return a.indexOf(b);for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},a.map=function(b,c){var d=[];return a.each(b,function(a,b){d.push(c(a,b))}),d},a.reduce=function(a,b,c){var d=a.length;if(d==0)return c;var e=arguments.length==3?c:a[--d];while(d--)e=b(e,a[d]);return e},a.merge=function(){var b={};for(var c=0,d=arguments.length;c<d;c++){var e=arguments[c];if(a.type(e)!="object")continue;for(var f in e){var g=e[f],h=b[f];b[f]=h&&a.type(g)=="object"&&a.type(h)=="object"?a.merge(h,g):a.unlink(g)}}return b},a.unlink=function(b){var c;switch(a.type(b)){case"object":c={};for(var d in b)c[d]=a.unlink(b[d]);break;case"array":c=[];for(var e=0,f=b.length;e<f;e++)c[e]=a.unlink(b[e]);break;default:return b}return c},a.zip=function(){if(arguments.length===0)return[];for(var a=0,b=[],c=arguments.length,d=arguments[0].length;a<d;a++){for(var e=0,f=[];e<c;e++)f.push(arguments[e][a]);b.push(f)}return b},a.rgbToHex=function(a,b){if(a.length<3)return null;if(a.length==4&&a[3]==0&&!b)return"transparent";var c=[];for(var d=0;d<3;d++){var e=(a[d]-0).toString(16);c.push(e.length==1?"0"+e:e)}return b?c:"#"+c.join("")},a.hexToRgb=function(a){if(a.length!=7){a=a.match(/^#?(\w{1,2})(\w{1,2})(\w{1,2})$/),a.shift();if(a.length!=3)return null;var b=[];for(var c=0;c<3;c++){var d=a[c];d.length==1&&(d+=d),b.push(parseInt(d,16))}return b}return a=parseInt(a.slice(1),16),[a>>16,a>>8&255,a&255]},a.destroy=function(b){a.clean(b),b.parentNode&&b.parentNode.removeChild(b),b.clearAttributes&&b.clearAttributes()},a.clean=function(b){for(var c=b.childNodes,d=0,e=c.length;d<e;d++)a.destroy(c[d])},a.addEvent=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,c)},a.addEvents=function(b,c){for(var d in c)a.addEvent(b,d,c[d])},a.hasClass=function(a,b){return(" "+a.className+" ").indexOf(" "+b+" ")>-1},a.addClass=function(b,c){a.hasClass(b,c)||(b.className=b.className+" "+c)},a.removeClass=function(a,b){a.className=a.className.replace(new RegExp("(^|\\s)"+b+"(?:\\s|$)"),"$1")},a.getPos=function(a){function d(a){var b={x:0,y:0};while(a&&!f(a))b.x+=a.offsetLeft,b.y+=a.offsetTop,a=a.offsetParent;return b}function e(a){var b={x:0,y:0};while(a&&!f(a))b.x+=a.scrollLeft,b.y+=a.scrollTop,a=a.parentNode;return b}function f(a){return/^(?:body|html)$/i.test(a.tagName)}var b=d(a),c=e(a);return{x:b.x-c.x,y:b.y-c.y}},a.event={get:function(a,b){return b=b||window,a||b.event},getWheel:function(a){return a.wheelDelta?a.wheelDelta/120:-(a.detail||0)/3},isRightClick:function(a){return a.which==3||a.button==2},getPos:function(a,b){b=b||window,a=a||b.event;var c=b.document;c=c.documentElement||c.body,a.touches&&a.touches.length&&(a=a.touches[0]);var d={x:a.pageX||a.clientX+c.scrollLeft,y:a.pageY||a.clientY+c.scrollTop};return d},stop:function(a){a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0,a.preventDefault?a.preventDefault():a.returnValue=!1}},$jit.util=$jit.id=a;var b=function(c){c=c||{};var d=function(){for(var c in this)typeof this[c]!="function"&&(this[c]=a.unlink(this[c]));this.constructor=d;if(b.prototyping)return this;var e=this.initialize?this.initialize.apply(this,arguments):this;return this.$$family="class",e};for(var e in b.Mutators){if(!c[e])continue;c=b.Mutators[e](c,c[e]),delete c[e]}return a.extend(d,this),d.constructor=b,d.prototype=c,d};b.Mutators={Implements:function(c,d){return a.each(a.splat(d),function(a){b.prototyping=a;var d=typeof a=="function"?new a:a;for(var e in d)e in c||(c[e]=d[e]);delete b.prototyping}),c}},a.extend(b,{inherit:function(c,d){for(var e in d){var f=d[e],g=c[e],h=a.type(f);g&&h=="function"?f!=g&&b.override(c,e,f):h=="object"?c[e]=a.merge(g,f):c[e]=f}return c},override:function(a,c,d){var e=b.prototyping;e&&a[c]!=e[c]&&(e=null);var f=function(){var b=this.parent;this.parent=e?e[c]:a[c];var f=d.apply(this,arguments);return this.parent=b,f};a[c]=f}}),b.prototype.implement=function(){var c=this.prototype;return a.each(Array.prototype.slice.call(arguments||[]),function(a){b.inherit(c,a)}),this},$jit.Class=b,$jit.json={prune:function(a,b){this.each(a,function(a,c){c==b&&a.children&&(delete a.children,a.children=[])})},getParent:function(a,b){if(a.id==b)return!1;var c=a.children;if(c&&c.length>0)for(var d=0;d<c.length;d++){if(c[d].id==b)return a;var e=this.getParent(c[d],b);if(e)return e}return!1},getSubtree:function(a,b){if(a.id==b)return a;for(var c=0,d=a.children;d&&c<d.length;c++){var e=this.getSubtree(d[c],b);if(e!=null)return e}return null},eachLevel:function(a,b,c,d){if(b<=c){d(a,b);if(!a.children)return;for(var e=0,f=a.children;e<f.length;e++)this.eachLevel(f[e],b+1,c,d)}},each:function(a,b){this.eachLevel(a,0,Number.MAX_VALUE,b)}},$jit.Trans={$extend:!0,linear:function(a){return a}};var c=$jit.Trans;(function(){var b=function(b,c){return c=a.splat(c),a.extend(b,{easeIn:function(a){return b(a,c)},easeOut:function(a){return 1-b(1-a,c)},easeInOut:function(a){return a<=.5?b(2*a,c)/2:(2-b(2*(1-a),c))/2}})},d={Pow:function(a,b){return Math.pow(a,b[0]||6)},Expo:function(a){return Math.pow(2,8*(a-1))},Circ:function(a){return 1-Math.sin(Math.acos(a))},Sine:function(a){return 1-Math.sin((1-a)*Math.PI/2)},Back:function(a,b){return b=b[0]||1.618,Math.pow(a,2)*((b+1)*a-b)},Bounce:function(a){var b;for(var c=0,d=1;1;c+=d,d/=2)if(a>=(7-4*c)/11){b=d*d-Math.pow((11-6*c-11*a)/4,2);break}return b},Elastic:function(a,b){return Math.pow(2,10*--a)*Math.cos(20*a*Math.PI*(b[0]||1)/3)}};a.each(d,function(a,d){c[d]=b(a)}),a.each(["Quad","Cubic","Quart","Quint"],function(a,d){c[a]=b(function(a){return Math.pow(a,[d+2])})})})();var d=new b({initialize:function(a){this.setOptions(a)},setOptions:function(b){var d={duration:2500,fps:40,transition:c.Quart.easeInOut,compute:a.empty,complete:a.empty,link:"ignore"};return this.opt=a.merge(d,b||{}),this},step:function(){var b=a.time(),c=this.opt;if(b<this.time+c.duration){var d=c.transition((b-this.time)/c.duration);c.compute(d)}else this.timer=clearInterval(this.timer),c.compute(1),c.complete()},start:function(){return this.check()?(this.time=0,this.startTimer(),this):this},startTimer:function(){var b=this,c=this.opt.fps;return this.timer?!1:(this.time=a.time()-this.time,this.timer=setInterval(function(){b.step()},Math.round(1e3/c)),!0)},pause:function(){return this.stopTimer(),this},resume:function(){return this.startTimer(),this},stopTimer:function(){return this.timer?(this.time=a.time()-this.time,this.timer=clearInterval(this.timer),!0):!1},check:function(){return this.timer?this.opt.link=="cancel"?(this.stopTimer(),!0):!1:!0}}),e=function(){var b=arguments;for(var c=0,d=b.length,f={};c<d;c++){var g=e[b[c]];g.$extend?a.extend(f,g):f[b[c]]=g}return f};e.AreaChart={$extend:!0,animate:!0,labelOffset:3,type:"stacked",Tips:{enable:!1,onShow:a.empty,onHide:a.empty},Events:{enable:!1,onClick:a.empty},selectOnHover:!0,showAggregates:!0,showLabels:!0,filterOnClick:!1,restoreOnRightClick:!1},e.Margin={$extend:!1,top:0,left:0,right:0,bottom:0},e.Canvas={$extend:!0,injectInto:"id",type:"2D",width:!1,height:!1,useCanvas:!1,withLabels:!0,background:!1,Scene:{Lighting:{enable:!1,ambient:[1,1,1],directional:{direction:{x:-100,y:-100,z:-100},color:[.5,.3,.1]}}}},e.Tree={$extend:!0,orientation:"left",subtreeOffset:8,siblingOffset:5,indent:10,multitree:!1,align:"center"},e.Node={$extend:!1,overridable:!1,type:"circle",color:"#ccb",alpha:1,dim:3,height:20,width:90,autoHeight:!1,autoWidth:!1,lineWidth:1,transform:!0,align:"center",angularWidth:1,span:1,CanvasStyles:{}},e.Edge={$extend:!1,overridable:!1,type:"line",color:"#ccb",lineWidth:1,dim:15,alpha:1,epsilon:7,CanvasStyles:{}},e.Fx={$extend:!0,fps:40,duration:2500,transition:$jit.Trans.Quart.easeInOut,clearCanvas:!0},e.Label={$extend:!1,overridable:!1,type:"HTML",style:" ",size:10,family:"sans-serif",textAlign:"center",textBaseline:"alphabetic",color:"#fff"},e.Tips={$extend:!1,enable:!1,type:"auto",offsetX:20,offsetY:20,force:!1,onShow:a.empty,onHide:a.empty},e.NodeStyles={$extend:!1,enable:!1,type:"auto",stylesHover:!1,stylesClick:!1},e.Events={$extend:!1,enable:!1,enableForEdges:!1,type:"auto",onClick:a.empty,onRightClick:a.empty,onMouseMove:a.empty,onMouseEnter:a.empty,onMouseLeave:a.empty,onDragStart:a.empty,onDragMove:a.empty,onDragCancel:a.empty,onDragEnd:a.empty,onTouchStart:a.empty,onTouchMove:a.empty,onTouchEnd:a.empty,onMouseWheel:a.empty},e.Navigation={$extend:!1,enable:!1,type:"auto",panning:!1,zooming:!1},e.Controller={$extend:!0,onBeforeCompute:a.empty,onAfterCompute:a.empty,onCreateLabel:a.empty,onPlaceLabel:a.empty,onComplete:a.empty,onBeforePlotLine:a.empty,onAfterPlotLine:a.empty,onBeforePlotNode:a.empty,onAfterPlotNode:a.empty,request:!1};var f={initialize:function(a,b){this.viz=b,this.canvas=b.canvas,this.config=b.config[a],this.nodeTypes=b.fx.nodeTypes;var c=this.config.type;this.dom=c=="auto"?b.config.Label.type!="Native":c!="Native",this.labelContainer=this.dom&&b.labels.getLabelContainer(),this.isEnabled()&&this.initializePost()},initializePost:a.empty,setAsProperty:a.lambda(!1),isEnabled:function(){return this.config.enable},isLabel:function(b,c,d){b=a.event.get(b,c);var e=this.labelContainer,f=b.target||b.srcElement,g=b.relatedTarget;return d?g&&g==this.viz.canvas.getCtx().canvas&&!!f&&this.isDescendantOf(f,e):this.isDescendantOf(f,e)},isDescendantOf:function(a,b){while(a&&a.parentNode){if(a.parentNode==b)return a;a=a.parentNode}return!1}},g={onMouseUp:a.empty,onMouseDown:a.empty,onMouseMove:a.empty,onMouseOver:a.empty,onMouseOut:a.empty,onMouseWheel:a.empty,onTouchStart:a.empty,onTouchMove:a.empty,onTouchEnd:a.empty,onTouchCancel:a.empty},h=new b({initialize:function(a){this.viz=a,this.canvas=a.canvas,this.node=!1,this.edge=!1,this.registeredObjects=[],this.attachEvents()},attachEvents:function(){var b=this.canvas.getElement(),c=this;b.oncontextmenu=a.lambda(!1),a.addEvents(b,{mouseup:function(b,d){var e=a.event.get(b,d);c.handleEvent("MouseUp",b,d,c.makeEventObject(b,d),a.event.isRightClick(e))},mousedown:function(b,d){var e=a.event.get(b,d);c.handleEvent("MouseDown",b,d,c.makeEventObject(b,d),a.event.isRightClick(e))},mousemove:function(a,b){c.handleEvent("MouseMove",a,b,c.makeEventObject(a,b))},mouseover:function(a,b){c.handleEvent("MouseOver",a,b,c.makeEventObject(a,b))},mouseout:function(a,b){c.handleEvent("MouseOut",a,b,c.makeEventObject(a,b))},touchstart:function(a,b){c.handleEvent("TouchStart",a,b,c.makeEventObject(a,b))},touchmove:function(a,b){c.handleEvent("TouchMove",a,b,c.makeEventObject(a,b))},touchend:function(a,b){c.handleEvent("TouchEnd",a,b,c.makeEventObject(a,b))}});var d=function(b,d){var e=a.event.get(b,d),f=a.event.getWheel(e);c.handleEvent("MouseWheel",b,d,f)};!document.getBoxObjectFor&&window.mozInnerScreenX==null?a.addEvent(b,"mousewheel",d):b.addEventListener("DOMMouseScroll",d,!1)},register:function(a){this.registeredObjects.push(a)},handleEvent:function(){var a=Array.prototype.slice.call(arguments),b=a.shift();for(var c=0,d=this.registeredObjects,e=d.length;c<e;c++)d[c]["on"+b].apply(d[c],a)},makeEventObject:function(b,c){var d=this,e=this.viz.graph,f=this.viz.fx,g=f.nodeTypes,h=f.edgeTypes;return{pos:!1,node:!1,edge:!1,contains:!1,getNodeCalled:!1,getEdgeCalled:!1,getPos:function(){var e=d.viz.canvas,f=e.getSize(),g=e.getPos(),h=e.translateOffsetX,i=e.translateOffsetY,j=e.scaleOffsetX,k=e.scaleOffsetY,l=a.event.getPos(b,c);return this.pos={x:(l.x-g.x-f.width/2-h)*1/j,y:(l.y-g.y-f.height/2-i)*1/k},this.pos},getNode:function(){if(this.getNodeCalled)return this.node;this.getNodeCalled=!0;for(var a in e.nodes){var b=e.nodes[a],c=b&&g[b.getData("type")],h=c&&c.contains&&c.contains.call(f,b,this.getPos());if(h)return this.contains=h,d.node=this.node=b}return d.node=this.node=!1},getEdge:function(){if(this.getEdgeCalled)return this.edge;this.getEdgeCalled=!0;var a={};for(var b in e.edges){var c=e.edges[b];a[b]=!0;for(var g in c){if(g in a)continue;var i=c[g],j=i&&h[i.getData("type")],k=j&&j.contains&&j.contains.call(f,i,this.getPos());if(k)return this.contains=k,d.edge=this.edge=i}}return d.edge=this.edge=!1},getContains:function(){return this.getNodeCalled?this.contains:(this.getNode(),this.contains)}}}}),i={initializeExtras:function(){var b=new h(this),c=this;a.each(["NodeStyles","Tips","Navigation","Events"],function(a){var d=new i.Classes[a](a,c);d.isEnabled()&&b.register(d),d.setAsProperty()&&(c[a.toLowerCase()]=d)})}};i.Classes={},i.Classes.Events=new b({Implements:[f,g],initializePost:function(){this.fx=this.viz.fx,this.ntypes=this.viz.fx.nodeTypes,this.etypes=this.viz.fx.edgeTypes,this.hovered=!1,this.pressed=!1,this.touched=!1,this.touchMoved=!1,this.moved=!1},setAsProperty:a.lambda(!0),onMouseUp:function(b,c,d,e){var f=a.event.get(b,c);this.moved||(e?this.config.onRightClick(this.hovered,d,f):this.config.onClick(this.pressed,d,f)),this.pressed&&(this.moved?this.config.onDragEnd(this.pressed,d,f):this.config.onDragCancel(this.pressed,d,f),this.pressed=this.moved=!1)},onMouseOut:function(b,c,d){var e=a.event.get(b,c),f;if(this.dom&&(f=this.isLabel(b,c,!0))){this.config.onMouseLeave(this.viz.graph.getNode(f.id),d,e),this.hovered=!1;return}var g=e.relatedTarget,h=this.canvas.getElement();while(g&&g.parentNode){if(h==g.parentNode)return;g=g.parentNode}this.hovered&&(this.config.onMouseLeave(this.hovered,d,e),this.hovered=!1)},onMouseOver:function(b,c,d){var e=a.event.get(b,c),f;this.dom&&(f=this.isLabel(b,c,!0))&&(this.hovered=this.viz.graph.getNode(f.id),this.config.onMouseEnter(this.hovered,d,e))},onMouseMove:function(b,c,d){var e,f=a.event.get(b,c);if(this.pressed){this.moved=!0,this.config.onDragMove(this.pressed,d,f);return}if(this.dom)this.config.onMouseMove(this.hovered,d,f);else{if(this.hovered){var g=this.hovered,h=g.nodeFrom?this.etypes[g.getData("type")]:this.ntypes[g.getData("type")],i=h&&h.contains&&h.contains.call(this.fx,g,d.getPos());if(i){this.config.onMouseMove(g,d,f);return}this.config.onMouseLeave(g,d,f),this.hovered=!1}(this.hovered=d.getNode()||this.config.enableForEdges&&d.getEdge())?this.config.onMouseEnter(this.hovered,d,f):this.config.onMouseMove(!1,d,f)}},onMouseWheel:function(b,c,d){this.config.onMouseWheel(d,a.event.get(b,c))},onMouseDown:function(b,c,d){var e=a.event.get(b,c),f;if(this.dom){if(f=this.isLabel(b,c))this.pressed=this.viz.graph.getNode(f.id)}else this.pressed=d.getNode()||this.config.enableForEdges&&d.getEdge();this.pressed&&this.config.onDragStart(this.pressed,d,e)},onTouchStart:function(b,c,d){var e=a.event.get(b,c),f;this.dom&&(f=this.isLabel(b,c))?this.touched=this.viz.graph.getNode(f.id):this.touched=d.getNode()||this.config.enableForEdges&&d.getEdge(),this.touched&&this.config.onTouchStart(this.touched,d,e)},onTouchMove:function(b,c,d){var e=a.event.get(b,c);this.touched&&(this.touchMoved=!0,this.config.onTouchMove(this.touched,d,e))},onTouchEnd:function(b,c,d){var e=a.event.get(b,c);this.touched&&(this.touchMoved?this.config.onTouchEnd(this.touched,d,e):this.config.onTouchCancel(this.touched,d,e),this.touched=this.touchMoved=!1)}}),i.Classes.Tips=new b({Implements:[f,g],initializePost:function(){if(document.body){var b=a("_tooltip")||document.createElement("div");b.id="_tooltip",b.className="tip",a.extend(b.style,{position:"absolute",display:"none",zIndex:13e3}),document.body.appendChild(b),this.tip=b,this.node=!1}},setAsProperty:a.lambda(!0),onMouseOut:function(b,c){var d=a.event.get(b,c);if(this.dom&&this.isLabel(b,c,!0)){this.hide(!0);return}var e=b.relatedTarget,f=this.canvas.getElement();while(e&&e.parentNode){if(f==e.parentNode)return;e=e.parentNode}this.hide(!1)},onMouseOver:function(a,b){var c;this.dom&&(c=this.isLabel(a,b,!1))&&(this.node=this.viz.graph.getNode(c.id),this.config.onShow(this.tip,this.node,c))},onMouseMove:function(b,c,d){this.dom&&this.isLabel(b,c)&&this.setTooltipPosition(a.event.getPos(b,c));if(!this.dom){var e=d.getNode();if(!e){this.hide(!0);return}if(this.config.force||!this.node||this.node.id!=e.id)this.node=e,this.config.onShow(this.tip,e,d.getContains());this.setTooltipPosition(a.event.getPos(b,c))}},setTooltipPosition:function(a){var b=this.tip,c=b.style,d=this.config;c.display="";var e={height:document.body.clientHeight,width:document.body.clientWidth},f={width:b.offsetWidth,height:b.offsetHeight},g=d.offsetX,h=d.offsetY;c.top=(a.y+h+f.height>e.height?a.y-f.height-h:a.y+h)+"px",c.left=(a.x+f.width+g>e.width?a.x-f.width-g:a.x+g)+"px"},hide:function(a){this.tip.style.display="none",a&&this.config.onHide()}}),i.Classes.NodeStyles=new b({Implements:[f,g],initializePost:function(){this.fx=this.viz.fx,this.types=this.viz.fx.nodeTypes,this.nStyles=this.config,this.nodeStylesOnHover=this.nStyles.stylesHover,this.nodeStylesOnClick=this.nStyles.stylesClick,this.hoveredNode=!1,this.fx.nodeFxAnimation=new d,this.down=!1,this.move=!1},onMouseOut:function(a,b){this.down=this.move=!1;if(!this.hoveredNode)return;this.dom&&this.isLabel(a,b,!0)&&this.toggleStylesOnHover(this.hoveredNode,!1);var c=a.relatedTarget,d=this.canvas.getElement();while(c&&c.parentNode){if(d==c.parentNode)return;c=c.parentNode}this.toggleStylesOnHover(this.hoveredNode,!1),this.hoveredNode=!1},onMouseOver:function(a,b){var c;if(this.dom&&(c=this.isLabel(a,b,!0))){var d=this.viz.graph.getNode(c.id);if(d.selected)return;this.hoveredNode=d,this.toggleStylesOnHover(this.hoveredNode,!0)}},onMouseDown:function(a,b,c,d){if(d)return;var e;this.dom&&(e=this.isLabel(a,b))?this.down=this.viz.graph.getNode(e.id):this.dom||(this.down=c.getNode()),this.move=!1},onMouseUp:function(a,b,c,d){if(d)return;this.move||this.onClick(c.getNode()),this.down=this.move=!1},getRestoredStyles:function(a,b){var c={},d=this["nodeStylesOn"+b];for(var e in d)c[e]=a.styles["$"+e];return c},toggleStylesOnHover:function(a,b){this.nodeStylesOnHover&&this.toggleStylesOn("Hover",a,b)},toggleStylesOnClick:function(a,b){this.nodeStylesOnClick&&this.toggleStylesOn("Click",a,b)},toggleStylesOn:function(b,d,e){var f=this.viz,g=this.nStyles;if(e){var h=this;d.styles||(d.styles=a.merge(d.data,{}));for(var i in this["nodeStylesOn"+b]){var j="$"+i;j in d.styles||(d.styles[j]=d.getData(i))}f.fx.nodeFx(a.extend({elements:{id:d.id,properties:h["nodeStylesOn"+b]},transition:c.Quart.easeOut,duration:300,fps:40},this.config))}else{var k=this.getRestoredStyles(d,b);f.fx.nodeFx(a.extend({elements:{id:d.id,properties:k},transition:c.Quart.easeOut,duration:300,fps:40},this.config))}},onClick:function(a){if(!a)return;var b=this.nodeStylesOnClick;if(!b)return;a.selected?(this.toggleStylesOnClick(a,!1),delete a.selected):(this.viz.graph.eachNode(function(a){if(a.selected){for(var c in b)a.setData(c,a.styles["$"+c],"end");delete a.selected}}),this.toggleStylesOnClick(a,!0),a.selected=!0,delete a.hovered,this.hoveredNode=!1)},onMouseMove:function(a,b,c){this.down&&(this.move=!0);if(this.dom&&this.isLabel(a,b))return;var d=this.nodeStylesOnHover;if(!d)return;if(!this.dom){if(this.hoveredNode){var e=this.types[this.hoveredNode.getData("type")],f=e&&e.contains&&e.contains.call(this.fx,this.hoveredNode,c.getPos());if(f)return}var g=c.getNode();if(!this.hoveredNode&&!g)return;if(g.hovered)return;g&&!g.selected?(this.fx.nodeFxAnimation.stopTimer(),this.viz.graph.eachNode(function(a){if(a.hovered&&!a.selected){for(var b in d)a.setData(b,a.styles["$"+b],"end");delete a.hovered}}),g.hovered=!0,this.hoveredNode=g,this.toggleStylesOnHover(g,!0)):this.hoveredNode&&!this.hoveredNode.selected&&(this.fx.nodeFxAnimation.stopTimer(),this.toggleStylesOnHover(this.hoveredNode,!1),delete this.hoveredNode.hovered,this.hoveredNode=!1)}}}),i.Classes.Navigation=new b({Implements:[f,g],initializePost:function(){this.pos=!1,this.pressed=!1},onMouseWheel:function(b,c,d){if(!this.config.zooming)return;a.event.stop(a.event.get(b,c));var e=this.config.zooming/1e3,f=1+d*e;this.canvas.scale(f,f)},onMouseDown:function(a,b,c){if(!this.config.panning)return;if(this.config.panning=="avoid nodes"&&(this.dom?this.isLabel(a,b):c.getNode()))return;this.pressed=!0,this.pos=c.getPos();var d=this.canvas,e=d.translateOffsetX,f=d.translateOffsetY,g=d.scaleOffsetX,h=d.scaleOffsetY;this.pos.x*=g,this.pos.x+=e,this.pos.y*=h,this.pos.y+=f},onMouseMove:function(a,b,c){if(!this.config.panning)return;if(!this.pressed)return;if(this.config.panning=="avoid nodes"&&(this.dom?this.isLabel(a,b):c.getNode()))return;var d=this.pos,e=c.getPos(),f=this.canvas,g=f.translateOffsetX,h=f.translateOffsetY,i=f.scaleOffsetX,j=f.scaleOffsetY;e.x*=i,e.y*=j,e.x+=g,e.y+=h;var k=e.x-d.x,l=e.y-d.y;this.pos=e,this.canvas.translate(k*1/i,l*1/j)},onMouseUp:function(a,b,c,d){if(!this.config.panning)return;this.pressed=!1}});var j;(function(){function e(b,c){var e=document.createElement(b);for(var f in c)typeof c[f]=="object"?a.extend(e[f],c[f]):e[f]=c[f];return b=="canvas"&&!d&&G_vmlCanvasManager&&(e=G_vmlCanvasManager.initElement(document.body.appendChild(e))),e}var c=typeof HTMLCanvasElement,d=c=="object"||c=="function";$jit.Canvas=j=new b({canvases:[],pos:!1,element:!1,labelContainer:!1,translateOffsetX:0,translateOffsetY:0,scaleOffsetX:1,scaleOffsetY:1,initialize:function(b,c){this.viz=b,this.opt=this.config=c;var d=a.type(c.injectInto)=="string"?c.injectInto:c.injectInto.id,f=c.type,g=d+"-label",h=a(d),i=c.width||h.offsetWidth,k=c.height||h.offsetHeight;this.id=d;var l={injectInto:d,width:i,height:k};this.element=e("div",{id:d+"-canvaswidget",style:{position:"relative",width:i+"px",height:k+"px"}}),this.labelContainer=this.createLabelContainer(c.Label.type,g,l),this.canvases.push(new j.Base[f]({config:a.extend({idSuffix:"-canvas"},l),plot:function(a){b.fx.plot()},resize:function(){b.refresh()}}));var m=c.background;if(m){var n=new j.Background[m.type](b,a.extend(m,l));this.canvases.push(new j.Base[f](n))}var o=this.canvases.length;while(o--)this.element.appendChild(this.canvases[o].canvas),o>0&&this.canvases[o].plot();this.element.appendChild(this.labelContainer),h.appendChild(this.element);var p=null,q=this;a.addEvent(window,"scroll",function(){clearTimeout(p),p=setTimeout(function(){q.getPos(!0)},500)})},getCtx:function(a){return this.canvases[a||0].getCtx()},getConfig:function(){return this.opt},getElement:function(){return this.element},getSize:function(a){return this.canvases[a||0].getSize()},resize:function(a,b){this.getPos(!0),this.translateOffsetX=this.translateOffsetY=0,this.scaleOffsetX=this.scaleOffsetY=1;for(var c=0,d=this.canvases.length;c<d;c++)this.canvases[c].resize(a,b);var e=this.element.style;e.width=a+"px",e.height=b+"px",this.labelContainer&&(this.labelContainer.style.width=a+"px")},translate:function(a,b,c){this.translateOffsetX+=a*this.scaleOffsetX,this.translateOffsetY+=b*this.scaleOffsetY;for(var d=0,e=this.canvases.length;d<e;d++)this.canvases[d].translate(a,b,c)},scale:function(a,b,c){var d=this.scaleOffsetX*a,e=this.scaleOffsetY*b,f=this.translateOffsetX*(a-1)/d,g=this.translateOffsetY*(b-1)/e;this.scaleOffsetX=d,this.scaleOffsetY=e;for(var h=0,i=this.canvases.length;h<i;h++)this.canvases[h].scale(a,b,!0);this.translate(f,g,!1)},getPos:function(b){return b||!this.pos?this.pos=a.getPos(this.getElement()):this.pos},clear:function(a){this.canvases[a||0].clear()},path:function(a,b){var c=this.canvases[0].getCtx();c.beginPath(),b(c),c[a](),c.closePath()},createLabelContainer:function(a,b,c){var d="http://www.w3.org/2000/svg";if(a=="HTML"||a=="Native")return e("div",{id:b,style:{overflow:"visible",position:"absolute",top:0,left:0,width:c.width+"px",height:0}});if(a=="SVG"){var f=document.createElementNS(d,"svg:svg");f.setAttribute("width",c.width),f.setAttribute("height",c.height);var g=f.style;g.position="absolute",g.left=g.top="0px";var h=document.createElementNS(d,"svg:g");return h.setAttribute("width",c.width),h.setAttribute("height",c.height),h.setAttribute("x",0),h.setAttribute("y",0),h.setAttribute("id",b),f.appendChild(h),f}}}),j.Base={},j.Base["2D"]=new b({translateOffsetX:0,translateOffsetY:0,scaleOffsetX:1,scaleOffsetY:1,initialize:function(a){this.viz=a,this.opt=a.config,this.size=!1,this.createCanvas(),this.translateToCenter()},createCanvas:function(){var a=this.opt,b=a.width,c=a.height;this.canvas=e("canvas",{id:a.injectInto+a.idSuffix,width:b,height:c,style:{position:"absolute",top:0,left:0,width:b+"px",height:c+"px"}})},getCtx:function(){return this.ctx?this.ctx:this.ctx=this.canvas.getContext("2d")},getSize:function(){if(this.size)return this.size;var a=this.canvas;return this.size={width:a.width,height:a.height}},translateToCenter:function(a){var b=this.getSize(),c=a?b.width-a.width-this.translateOffsetX*2:b.width;height=a?b.height-a.height-this.translateOffsetY*2:b.height;var d=this.getCtx();a&&d.scale(1/this.scaleOffsetX,1/this.scaleOffsetY),d.translate(c/2,height/2)},resize:function(a,b){var c=this.getSize(),e=this.canvas,f=e.style;this.size=!1,e.width=a,e.height=b,f.width=a+"px",f.height=b+"px",d?this.translateToCenter():this.translateToCenter(c),this.translateOffsetX=this.translateOffsetY=0,this.scaleOffsetX=this.scaleOffsetY=1,this.clear(),this.viz.resize(a,b,this)},translate:function(a,b,c){var d=this.scaleOffsetX,e=this.scaleOffsetY;this.translateOffsetX+=a*d,this.translateOffsetY+=b*e,this.getCtx().translate(a,b),!c&&this.plot()},scale:function(a,b,c){this.scaleOffsetX*=a,this.scaleOffsetY*=b,this.getCtx().scale(a,b),!c&&this.plot()},clear:function(){var a=this.getSize(),b=this.translateOffsetX,c=this.translateOffsetY,d=this.scaleOffsetX,e=this.scaleOffsetY;this.getCtx().clearRect((-a.width/2-b)*1/d,(-a.height/2-c)*1/e,a.width*1/d,a.height*1/e)},plot:function(){this.clear(),this.viz.plot(this)}}),j.Background={},j.Background.Circles=new b({initialize:function(b,c){this.viz=b,this.config=a.merge({idSuffix:"-bkcanvas",levelDistance:100,numberOfCircles:6,CanvasStyles:{},offset:0},c)},resize:function(a,b,c){this.plot(c)},plot:function(a){var b=a.canvas,c=a.getCtx(),d=this.config,e=d.CanvasStyles;for(var f in e)c[f]=e[f];var g=d.numberOfCircles,h=d.levelDistance;for(var i=1;i<=g;i++)c.beginPath(),c.arc(0,0,h*i,0,2*Math.PI,!1),c.stroke(),c.closePath()}})})();var k=function(a,b){this.theta=a||0,this.rho=b||0};$jit.Polar=k,k.prototype={getc:function(a){return this.toComplex(a)},getp:function(){return this},set:function(a){a=a.getp(),this.theta=a.theta,this.rho=a.rho},setc:function(a,b){this.rho=Math.sqrt(a*a+b*b),this.theta=Math.atan2(b,a),this.theta<0&&(this.theta+=Math.PI*2)},setp:function(a,b){this.theta=a,this.rho=b},clone:function(){return new k(this.theta,this.rho)},toComplex:function(a){var b=Math.cos(this.theta)*this.rho,c=Math.sin(this.theta)*this.rho;return a?{x:b,y:c}:new m(b,c)},add:function(a){return new k(this.theta+a.theta,this.rho+a.rho)},scale:function(a){return new k(this.theta,this.rho*a)},equals:function(a){return this.theta==a.theta&&this.rho==a.rho},$add:function(a){return this.theta=this.theta+a.theta,this.rho+=a.rho,this},$madd:function(a){return this.theta=(this.theta+a.theta)%(Math.PI*2),this.rho+=a.rho,this},$scale:function(a){return this.rho*=a,this},isZero:function(){var a=1e-4,b=Math.abs;return b(this.theta)<a&&b(this.rho)<a},interpolate:function(a,b){var c=Math.PI,d=c*2,e=function(a){var b=a<0?a%d+d:a%d;return b},f=this.theta,g=a.theta,h,i=Math.abs(f-g);i==c?f>g?h=e(g+(f-d-g)*b):h=e(g-d+(f-g)*b):i>=c?f>g?h=e(g+(f-d-g)*b):h=e(g-d+(f-(g-d))*b):h=e(g+(f-g)*b);var j=(this.rho-a.rho)*b+a.rho;return{theta:h,rho:j}}};var l=function(a,b){return new k(a,b)};k.KER=l(0,0);var m=function(a,b){this.x=a||0,this.y=b||0};$jit.Complex=m,m.prototype={getc:function(){return this},getp:function(a){return this.toPolar(a)},set:function(a){a=a.getc(!0),this.x=a.x,this.y=a.y},setc:function(a,b){this.x=a,this.y=b},setp:function(a,b){this.x=Math.cos(a)*b,this.y=Math.sin(a)*b},clone:function(){return new m(this.x,this.y)},toPolar:function(a){var b=this.norm(),c=Math.atan2(this.y,this.x);return c<0&&(c+=Math.PI*2),a?{theta:c,rho:b}:new k(c,b)},norm:function(){return Math.sqrt(this.squaredNorm())},squaredNorm:function(){return this.x*this.x+this.y*this.y},add:function(a){return new m(this.x+a.x,this.y+a.y)},prod:function(a){return new m(this.x*a.x-this.y*a.y,this.y*a.x+this.x*a.y)},conjugate:function(){return new m(this.x,-this.y)},scale:function(a){return new m(this.x*a,this.y*a)},equals:function(a){return this.x==a.x&&this.y==a.y},$add:function(a){return this.x+=a.x,this.y+=a.y,this},$prod:function(a){var b=this.x,c=this.y;return this.x=b*a.x-c*a.y,this.y=c*a.x+b*a.y,this},$conjugate:function(){return this.y=-this.y,this},$scale:function(a){return this.x*=a,this.y*=a,this},$div:function(a){var b=this.x,c=this.y,d=a.squaredNorm();return this.x=b*a.x+c*a.y,this.y=c*a.x-b*a.y,this.$scale(1/d)},isZero:function(){var a=1e-4,b=Math.abs;return b(this.x)<a&&b(this.y)<a}};var n=function(a,b){return new m(a,b)};m.KER=n(0,0),$jit.Graph=new b({initialize:function(b,c,d,e){var f={klass:m,Node:{}};this.Node=c,this.Edge=d,this.Label=e,this.opt=a.merge(f,b||{}),this.nodes={},this.edges={};var g=this;this.nodeList={};for(var h in p)g.nodeList[h]=function(a){return function(){var b=Array.prototype.slice.call(arguments);g.eachNode(function(c){c[a].apply(c,b)})}}(h)},getNode:function(a){return this.hasNode(a)?this.nodes[a]:!1},get:function(a){return this.getNode(a)},getByName:function(a){for(var b in this.nodes){var c=this.nodes[b];if(c.name==a)return c}return!1},getAdjacence:function(a,b){return a in this.edges?this.edges[a][b]:!1},addNode:function(b){if(!this.nodes[b.id]){var c=this.edges[b.id]={};this.nodes[b.id]=new o.Node(a.extend({id:b.id,name:b.name,data:a.merge(b.data||{},{}),adjacencies:c},this.opt.Node),this.opt.klass,this.Node,this.Edge,this.Label)}return this.nodes[b.id]},addAdjacence:function(a,b,c){this.hasNode(a.id)||this.addNode(a),this.hasNode(b.id)||this.addNode(b),a=this.nodes[a.id],b=this.nodes[b.id];if(!a.adjacentTo(b)){var d=this.edges[a.id]=this.edges[a.id]||{},e=this.edges[b.id]=this.edges[b.id]||{};return d[b.id]=e[a.id]=new o.Adjacence(a,b,c,this.Edge,this.Label),d[b.id]}return this.edges[a.id][b.id]},removeNode:function(a){if(this.hasNode(a)){delete this.nodes[a];var b=this.edges[a];for(var c in b)delete this.edges[c][a];delete this.edges[a]}},removeAdjacence:function(a,b){delete this.edges[a][b],delete this.edges[b][a]},hasNode:function(a){return a in this.nodes},empty:function(){this.nodes={},this.edges={}}});var o=$jit.Graph,p;(function(){var b=function(a,b,c,d,e){var f;c=c||"current",a="$"+(a?a+"-":""),c=="current"?f=this.data:c=="start"?f=this.startData:c=="end"&&(f=this.endData);var g=a+b;return d?f[g]:this.Config.overridable?g in f?f[g]:g in this.data?this.data[g]:e[b]||0:e[b]||0},c=function(a,b,c,d){d=d||"current",a="$"+(a?a+"-":"");var e;d=="current"?e=this.data:d=="start"?e=this.startData:d=="end"&&(e=this.endData),e[a+b]=c},d=function(b,c){b="$"+(b?b+"-":"");var d=this;a.each(c,function(a){var c=b+a;delete d.data[c],delete d.endData[c],delete d.startData[c]})};p={getData:function(a,c,d){return b.call(this,"",a,c,d,this.Config)},setData:function(a,b,d){c.call(this,"",a,b,d)},setDataset:function(b,c){b=a.splat(b);for(var d in c)for(var e=0,f=a.splat(c[d]),g=b.length;e<g;e++)this.setData(d,f[e],b[e])},removeData:function(){d.call(this,"",Array.prototype.slice.call(arguments))},getCanvasStyle:function(a,c,d){return b.call(this,"canvas",a,c,d,this.Config.CanvasStyles)},setCanvasStyle:function(a,b,d){c.call(this,"canvas",a,b,d)},setCanvasStyles:function(b,c){b=a.splat(b);for(var d in c)for(var e=0,f=a.splat(c[d]),g=b.length;e<g;e++)this.setCanvasStyle(d,f[e],b[e])},removeCanvasStyle:function(){d.call(this,"canvas",Array.prototype.slice.call(arguments))},getLabelData:function(a,c,d){return b.call(this,"label",a,c,d,this.Label)},setLabelData:function(a,b,d){c.call(this,"label",a,b,d)},setLabelDataset:function(b,c){b=a.splat(b);for(var d in c)for(var e=0,f=a.splat(c[d]),g=b.length;e<g;e++)this.setLabelData(d,f[e],b[e])},removeLabelData:function(){d.call(this,"label",Array.prototype.slice.call(arguments))}}})(),o.Node=new b({initialize:function(b,c,d,e,f){var g={id:"",name:"",data:{},startData:{},endData:{},adjacencies:{},selected:!1,drawn:!1,exist:!1,angleSpan:{begin:0,end:0},pos:new c,startPos:new c,endPos:new c};a.extend(this,a.extend(g,b)),this.Config=this.Node=d,this.Edge=e,this.Label=f},adjacentTo:function(a){return a.id in this.adjacencies},getAdjacency:function(a){return this.adjacencies[a]},getPos:function(a){a=a||"current";if(a=="current")return this.pos;if(a=="end")return this.endPos;if(a=="start")return this.startPos},setPos:function(a,b){b=b||"current";var c;b=="current"?c=this.pos:b=="end"?c=this.endPos:b=="start"&&(c=this.startPos),c.set(a)}}),o.Node.implement(p),o.Adjacence=new b({initialize:function(a,b,c,d,e){this.nodeFrom=a,this.nodeTo=b,this.data=c||{},this.startData={},this.endData={},this.Config=this.Edge=d,this.Label=e}}),o.Adjacence.implement(p),o.Util={filter:function(b){if(!b||a.type(b)!="string")return function(){return!0};var c=b.split(" ");return function(a){for(var b=0;b<c.length;b++)if(a[c[b]])return!1;return!0}},getNode:function(a,b){return a.nodes[b]},eachNode:function(a,b,c){var d=this.filter(c);for(var e in a.nodes)d(a.nodes[e])&&b(a.nodes[e])},each:function(a,b,c){this.eachNode(a,b,c)},eachAdjacency:function(a,b,c){var d=a.adjacencies,e=this.filter(c);for(var f in d){var g=d[f];if(e(g)){if(g.nodeFrom!=a){var h=g.nodeFrom;g.nodeFrom=g.nodeTo,g.nodeTo=h}b(g,f)}}},computeLevels:function(a,b,c,d){c=c||0;var e=this.filter(d);this.eachNode(a,function(a){a._flag=!1,a._depth=-1},d);var f=a.getNode(b);f._depth=c;var g=[f];while(g.length!=0){var h=g.pop();h._flag=!0,this.eachAdjacency(h,function(a){var b=a.nodeTo;b._flag==0&&e(b)&&(b._depth<0&&(b._depth=h._depth+1+c),g.unshift(b))},d)}},eachBFS:function(a,b,c,d){var e=this.filter(d);this.clean(a);var f=[a.getNode(b)];while(f.length!=0){var g=f.pop();g._flag=!0,c(g,g._depth),this.eachAdjacency(g,function(a){var b=a.nodeTo;b._flag==0&&e(b)&&(b._flag=!0,f.unshift(b))},d)}},eachLevel:function(a,b,c,d,e){var f=a._depth,g=this.filter(e),h=this;c=c===!1?Number.MAX_VALUE-f:c,function i(a,b,c){var e=a._depth;e>=b&&e<=c&&g(a)&&d(a,e),e<c&&h.eachAdjacency(a,function(a){var d=a.nodeTo;d._depth>e&&i(d,b,c)})}(a,b+f,c+f)},eachSubgraph:function(a,b,c){this.eachLevel(a,0,!1,b,c)},eachSubnode:function(a,b,c){this.eachLevel(a,1,1,b,c)},anySubnode:function(b,c,d){var e=!1;c=c||a.lambda(!0);var f=a.type(c)=="string"?function(a){return a[c]}:c;return this.eachSubnode(b,function(a){f(a)&&(e=!0)},d),e},getSubnodes:function(b,c,d){var e=[],f=this;c=c||0;var g,h;return a.type(c)=="array"?(g=c[0],h=c[1]):(g=c,h=Number.MAX_VALUE-b._depth),this.eachLevel(b,g,h,function(a){e.push(a)},d),e},getParents:function(a){var b=[];return this.eachAdjacency(a,function(c){var d=c.nodeTo;d._depth<a._depth&&b.push(d)}),b},isDescendantOf:function(a,b){if(a.id==b)return!0;var c=this.getParents(a),d=!1;for(var e=0;!d&&e<c.length;e++)d=d||this.isDescendantOf(c[e],b);return d},clean:function(a){this.eachNode(a,function(a){a._flag=!1})},getClosestNodeToOrigin:function(a,b,c){return this.getClosestNodeToPos(a,k.KER,b,c)},getClosestNodeToPos:function(a,b,c,d){var e=null;c=c||"current",b=b&&b.getc(!0)||m.KER;var f=function(a,b){var c=a.x-b.x,d=a.y-b.y;return c*c+d*d};return this.eachNode(a,function(a){e=e==null||f(a.getPos(c).getc(!0),b)<f(e.getPos(c).getc(!0),b)?a:e},d),e}},a.each(["get","getNode","each","eachNode","computeLevels","eachBFS","clean","getClosestNodeToPos","getClosestNodeToOrigin"],function(a){o.prototype[a]=function(){return o.Util[a].apply(o.Util,[this].concat(Array.prototype.slice.call(arguments)))}}),a.each(["eachAdjacency","eachLevel","eachSubgraph","eachSubnode","anySubnode","getSubnodes","getParents","isDescendantOf"],function(a){o.Node.prototype[a]=function(){return o.Util[a].apply(o.Util,[this].concat(Array.prototype.slice.call(arguments)))}}),o.Op={options:{type:"nothing",duration:2e3,hideLabels:!0,fps:30},initialize:function(a){this.viz=a},removeNode:function(b,c){var d=this.viz,e=a.merge(this.options,d.controller,c),f=a.splat(b),g,h,i;switch(e.type){case"nothing":for(g=0;g<f.length;g++)d.graph.removeNode(f[g]);break;case"replot":this.removeNode(f,{type:"nothing"}),d.labels.clearLabels(),d.refresh(!0);break;case"fade:seq":case"fade":h=this;for(g=0;g<f.length;g++)i=d.graph.getNode(f[g]),i.setData("alpha",0,"end");d.fx.animate(a.merge(e,{modes:["node-property:alpha"],onComplete:function(){h.removeNode(f,{type:"nothing"}),d.labels.clearLabels(),d.reposition(),d.fx.animate(a.merge(e,{modes:["linear"]}))}}));break;case"fade:con":h=this;for(g=0;g<f.length;g++)i=d.graph.getNode(f[g]),i.setData("alpha",0,"end"),i.ignore=!0;d.reposition(),d.fx.animate(a.merge(e,{modes:["node-property:alpha","linear"],onComplete:function(){h.removeNode(f,{type:"nothing"}),e.onComplete&&e.onComplete()}}));break;case"iter":h=this,d.fx.sequence({condition:function(){return f.length!=0},step:function(){h.removeNode(f.shift(),{type:"nothing"}),d.labels.clearLabels()},onComplete:function(){e.onComplete&&e.onComplete()},duration:Math.ceil(e.duration/f.length)});break;default:this.doError()}},removeEdge:function(b,c){var d=this.viz,e=a.merge(this.options,d.controller,c),f=a.type(b[0])=="string"?[b]:b,g,h,i;switch(e.type){case"nothing":for(g=0;g<f.length;g++)d.graph.removeAdjacence(f[g][0],f[g][1]);break;case"replot":this.removeEdge(f,{type:"nothing"}),d.refresh(!0);break;case"fade:seq":case"fade":h=this;for(g=0;g<f.length;g++)i=d.graph.getAdjacence(f[g][0],f[g][1]),i&&i.setData("alpha",0,"end");d.fx.animate(a.merge(e,{modes:["edge-property:alpha"],onComplete:function(){h.removeEdge(f,{type:"nothing"}),d.reposition(),d.fx.animate(a.merge(e,{modes:["linear"]}))}}));break;case"fade:con":h=this;for(g=0;g<f.length;g++)i=d.graph.getAdjacence(f[g][0],f[g][1]),i&&(i.setData("alpha",0,"end"),i.ignore=!0);d.reposition(),d.fx.animate(a.merge(e,{modes:["edge-property:alpha","linear"],onComplete:function(){h.removeEdge(f,{type:"nothing"}),e.onComplete&&e.onComplete()}}));break;case"iter":h=this,d.fx.sequence({condition:function(){return f.length!=0},step:function(){h.removeEdge(f.shift(),{type:"nothing"}),d.labels.clearLabels()},onComplete:function(){e.onComplete()},duration:Math.ceil(e.duration/f.length)});break;default:this.doError()}},sum:function(b,c){var d=this.viz,e=a.merge(this.options,d.controller,c),f=d.root,g;d.root=c.id||d.root;switch(e.type){case"nothing":g=d.construct(b),g.eachNode(function(a){a.eachAdjacency(function(a){d.graph.addAdjacence(a.nodeFrom,a.nodeTo,a.data)})});break;case"replot":d.refresh(!0),this.sum(b,{type:"nothing"}),d.refresh(!0);break;case"fade:seq":case"fade":case"fade:con":that=this,g=d.construct(b);var h=this.preprocessSum(g),i=h?["node-property:alpha","edge-property:alpha"]:["node-property:alpha"];d.reposition(),e.type!="fade:con"?d.fx.animate(a.merge(e,{modes:["linear"],onComplete:function(){d.fx.animate(a.merge(e,{modes:i,onComplete:function(){e.onComplete()}}))}})):(d.graph.eachNode(function(a){a.id!=f&&a.pos.isZero()&&(a.pos.set(a.endPos),a.startPos.set(a.endPos))}),d.fx.animate(a.merge(e,{modes:["linear"].concat(i)})));break;default:this.doError()}},morph:function(b,c,d){d=d||{};var e=this.viz,f=a.merge(this.options,e.controller,c),g=e.root,h;e.root=c.id||e.root;switch(f.type){case"nothing":h=e.construct(b),h.eachNode(function(a){var b=e.graph.hasNode(a.id);a.eachAdjacency(function(a){var b=!!e.graph.getAdjacence(a.nodeFrom.id,a.nodeTo.id);e.graph.addAdjacence(a.nodeFrom,a.nodeTo,a.data);if(b){var c=e.graph.getAdjacence(a.nodeFrom.id,a.nodeTo.id);for(var d in a.data||{})c.data[d]=a.data[d]}});if(b){var c=e.graph.getNode(a.id);for(var d in a.data||{})c.data[d]=a.data[d]}}),e.graph.eachNode(function(a){a.eachAdjacency(function(a){h.getAdjacence(a.nodeFrom.id,a.nodeTo.id)||e.graph.removeAdjacence(a.nodeFrom.id,a.nodeTo.id)}),h.hasNode(a.id)||e.graph.removeNode(a.id)});break;case"replot":e.labels.clearLabels(!0),this.morph(b,{type:"nothing"}),e.refresh(!0),e.refresh(!0);break;case"fade:seq":case"fade":case"fade:con":that=this,h=e.construct(b);var i="node-property"in d&&a.map(a.splat(d["node-property"]),function(a){return"$"+a});e.graph.eachNode(function(b){var c=h.getNode(b.id);if(!c)b.setData("alpha",1),b.setData("alpha",1,"start"),b.setData("alpha",0,"end"),b.ignore=!0;else{var d=c.data;for(var e in d)i&&a.indexOf(i,e)>-1?b.endData[e]=d[e]:b.data[e]=d[e]}}),e.graph.eachNode(function(a){if(a.ignore)return;a.eachAdjacency(function(a){if(a.nodeFrom.ignore||a.nodeTo.ignore)return;var b=h.getNode(a.nodeFrom.id),c=h.getNode(a.nodeTo.id);if(!b.adjacentTo(c)){var a=e.graph.getAdjacence(b.id,c.id);j=!0,a.setData("alpha",1),a.setData("alpha",1,"start"),a.setData("alpha",0,"end")}})});var j=this.preprocessSum(h),l=j?["node-property:alpha","edge-property:alpha"]:["node-property:alpha"];l[0]=l[0]+("node-property"in d?":"+a.splat(d["node-property"]).join(":"):""),l[1]=(l[1]||"edge-property:alpha")+("edge-property"in d?":"+a.splat(d["edge-property"]).join(":"):""),"label-property"in d&&l.push("label-property:"+a.splat(d["label-property"]).join(":")),e.reposition?e.reposition():e.compute("end"),e.graph.eachNode(function(a){a.id!=g&&a.pos.getp().equals(k.KER)&&(a.pos.set(a.endPos),a.startPos.set(a.endPos))}),e.fx.animate(a.merge(f,{modes:[d.position||"polar"].concat(l),onComplete:function(){e.graph.eachNode(function(a){a.ignore&&e.graph.removeNode(a.id)}),e.graph.eachNode(function(a){a.eachAdjacency(function(a){a.ignore&&e.graph.removeAdjacence(a.nodeFrom.id,a.nodeTo.id)})}),f.onComplete()}}));break;default:}},contract:function(b,c){var d=this.viz;if(b.collapsed||!b.anySubnode(a.lambda(!0)))return;c=a.merge(this.options,d.config,c||{},{modes:["node-property:alpha:span","linear"]}),b.collapsed=!0,function e(a){a.eachSubnode(function(a){a.ignore=!0,a.setData("alpha",0,c.type=="animate"?"end":"current"),e(a)})}(b),c.type=="animate"?(d.compute("end"),d.rotated&&d.rotate(d.rotated,"none",{property:"end"}),function f(a){a.eachSubnode(function(a){a.setPos(b.getPos("end"),"end"),f(a)})}(b),d.fx.animate(c)):c.type=="replot"&&d.refresh()},expand:function(b,c){if(!("collapsed"in b))return;var d=this.viz;c=a.merge(this.options,d.config,c||{},{modes:["node-property:alpha:span","linear"]}),delete b.collapsed,function e(a){a.eachSubnode(function(a){delete a.ignore,a.setData("alpha",1,c.type=="animate"?"end":"current"),e(a)})}(b),c.type=="animate"?(d.compute("end"),d.rotated&&d.rotate(d.rotated,"none",{property:"end"}),d.fx.animate(c)):c.type=="replot"&&d.refresh()},preprocessSum:function(a){var b=this.viz;a.eachNode(function(a){if(!b.graph.hasNode(a.id)){b.graph.addNode(a);var c=b.graph.getNode(a.id);c.setData("alpha",0),c.setData("alpha",0,"start"),c.setData("alpha",1,"end")}});var c=!1;return a.eachNode(function(a){a.eachAdjacency(function(a){var d=b.graph.getNode(a.nodeFrom.id),e=b.graph.getNode(a.nodeTo.id);if(!d.adjacentTo(e)){var a=b.graph.addAdjacence(d,e,a.data);d.startAlpha==d.endAlpha&&e.startAlpha==e.endAlpha&&(c=!0,a.setData("alpha",0),a.setData("alpha",0,"start"),a.setData("alpha",1,"end"))}})}),c}};var q={none:{render:a.empty,contains:a.lambda(!1)},circle:{render:function(a,b,c,d){var e=d.getCtx();e.beginPath(),e.arc(b.x,b.y,c,0,Math.PI*2,!0),e.closePath(),e[a]()},contains:function(a,b,c){var d=a.x-b.x,e=a.y-b.y,f=d*d+e*e;return f<=c*c}},ellipse:{render:function(a,b,c,d,e){var f=e.getCtx(),g=1,h=1,i=1,j=1,k=0;c>d?(k=c/2,h=d/c,j=c/d):(k=d/2,g=c/d,i=d/c),f.save(),f.scale(g,h),f.beginPath(),f.arc(b.x*i,b.y*j,k,0,Math.PI*2,!0),f.closePath(),f[a](),f.restore()},contains:function(a,b,c,d){var e=0,f=1,g=1,h=0,i=0,j=0;return c>d?(e=c/2,g=d/c):(e=d/2,f=c/d),h=(a.x-b.x)*(1/f),i=(a.y-b.y)*(1/g),j=h*h+i*i,j<=e*e}},square:{render:function(a,b,c,d){d.getCtx()[a+"Rect"](b.x-c,b.y-c,2*c,2*c)},contains:function(a,b,c){return Math.abs(b.x-a.x)<=c&&Math.abs(b.y-a.y)<=c}},rectangle:{render:function(a,b,c,d,e){e.getCtx()[a+"Rect"](b.x-c/2,b.y-d/2,c,d)},contains:function(a,b,c,d){return Math.abs(b.x-a.x)<=c/2&&Math.abs(b.y-a.y)<=d/2}},triangle:{render:function(a,b,c,d){var e=d.getCtx(),f=b.x,g=b.y-c,h=f-c,i=b.y+c,j=f+c,k=i;e.beginPath(),e.moveTo(f,g),e.lineTo(h,i),e.lineTo(j,k),e.closePath(),e[a]()},contains:function(a,b,c){return q.circle.contains(a,b,c)}},star:{render:function(a,b,c,d){var e=d.getCtx(),f=Math.PI/5;e.save(),e.translate(b.x,b.y),e.beginPath(),e.moveTo(c,0);for(var g=0;g<9;g++)e.rotate(f),g%2==0?e.lineTo(c/.525731*.200811,0):e.lineTo(c,0);e.closePath(),e[a](),e.restore()},contains:function(a,b,c){return q.circle.contains(a,b,c)}}},r={line:{render:function(a,b,c){var d=c.getCtx();d.beginPath(),d.moveTo(a.x,a.y),d.lineTo(b.x,b.y),d.stroke()},contains:function(a,b,c,d){var e=Math.min,f=Math.max,g=e(a.x,b.x),h=f(a.x,b.x),i=e(a.y,b.y),j=f(a.y,b.y);if(c.x>=g&&c.x<=h&&c.y>=i&&c.y<=j){if(Math.abs(b.x-a.x)<=d)return!0;var k=(b.y-a.y)/(b.x-a.x)*(c.x-a.x)+a.y;return Math.abs(k-c.y)<=d}return!1}},arrow:{render:function(a,b,c,d,e){var f=e.getCtx();if(d){var g=a;a=b,b=g}var h=new m(b.x-a.x,b.y-a.y);h.$scale(c/h.norm());var i=new m(b.x-h.x,b.y-h.y),j=new m(-h.y/2,h.x/2),k=i.add(j),l=i.$add(j.$scale(-1));f.beginPath(),f.moveTo(a.x,a.y),f.lineTo(b.x,b.y),f.stroke(),f.beginPath(),f.moveTo(k.x,k.y),f.lineTo(l.x,l.y),f.lineTo(b.x,b.y),f.closePath(),f.fill()},contains:function(a,b,c,d){return r.line.contains(a,b,c,d)}},hyperline:{render:function(a,b,c,d){function j(a,b){var c=a.x*b.y-a.y*b.x,d=c,e=a.squaredNorm(),f=b.squaredNorm();if(c==0)return{x:0,y:0,ratio:-1};var g=(a.y*f-b.y*e+a.y-b.y)/c,h=(b.x*e-a.x*f+b.x-a.x)/d,i=-g/2,j=-h/2,k=(g*g+h*h)/4-1;if(k<0)return{x:0,y:0,ratio:-1};var l=Math.sqrt(k),m={x:i,y:j,ratio:l>1e3?-1:l,a:g,b:h};return m}function i(a,b){return a<b?a+Math.PI>b?!1:!0:b+Math.PI>a?!0:!1}var e=d.getCtx(),f=j(a,b);if(f.a>1e3||f.b>1e3||f.ratio<0)e.beginPath(),e.moveTo(a.x*c,a.y*c),e.lineTo(b.x*c,b.y*c),e.stroke();else{var g=Math.atan2(b.y-f.y,b.x-f.x),h=Math.atan2(a.y-f.y,a.x-f.x),i=i(g,h);e.beginPath(),e.arc(f.x*c,f.y*c,f.ratio*c,g,h,i),e.stroke()}},contains:a.lambda(!1)}};o.Plot={initialize:function(a,b){this.viz=a,this.config=a.config,this.node=a.config.Node,this.edge=a.config.Edge,this.animation=new d,this.nodeTypes=new b.Plot.NodeTypes,this.edgeTypes=new b.Plot.EdgeTypes,this.labels=a.labels},nodeHelper:q,edgeHelper:r,Interpolator:{map:{border:"color",color:"color",width:"number",height:"number",dim:"number",alpha:"number",lineWidth:"number",angularWidth:"number",span:"number",valueArray:"array-number",dimArray:"array-number"},canvas:{globalAlpha:"number",fillStyle:"color",strokeStyle:"color",lineWidth:"number",shadowBlur:"number",shadowColor:"color",shadowOffsetX:"number",shadowOffsetY:"number",miterLimit:"number"},label:{size:"number",color:"color"},compute:function(a,b,c){return a+(b-a)*c},moebius:function(a,b,c,d){var e=d.scale(-c);if(e.norm()<1){var f=e.x,g=e.y,h=a.startPos.getc().moebiusTransformation(e);a.pos.setc(h.x,h.y),e.x=f,e.y=g}},linear:function(a,b,c){var d=a.startPos.getc(!0),e=a.endPos.getc(!0);a.pos.setc(this.compute(d.x,e.x,c),this.compute(d.y,e.y,c))},polar:function(a,b,c){var d=a.startPos.getp(!0),e=a.endPos.getp(),f=e.interpolate(d,c);a.pos.setp(f.theta,f.rho)},number:function(a,b,c,d,e){var f=a[d](b,"start"),g=a[d](b,"end");a[e](b,this.compute(f,g,c))},color:function(b,c,d,e,f){var g=a.hexToRgb(b[e](c,"start")),h=a.hexToRgb(b[e](c,"end")),i=this.compute,j=a.rgbToHex([parseInt(i(g[0],h[0],d)),parseInt(i(g[1],h[1],d)),parseInt(i(g[2],h[2],d))]);b[f](c,j)},"array-number":function(a,b,c,d,e){var f=a[d](b,"start"),g=a[d](b,"end"),h=[];for(var i=0,j=f.length;i<j;i++){var k=f[i],l=g[i];if(k.length){for(var m=0,n=k.length,o=[];m<n;m++)o.push(this.compute(k[m],l[m],c));h.push(o)}else h.push(this.compute(k,l,c))}a[e](b,h)},node:function(a,b,c,d,e,f){d=this[d];if(b){var g=b.length;for(var h=0;h<g;h++){var i=b[h];this[d[i]](a,i,c,e,f)}}else for(var i in d)this[d[i]](a,i,c,e,f)},edge:function(a,b,c,d,e,f){var g=a.adjacencies;for(var h in g)this.node(g[h],b,c,d,e,f)},"node-property":function(a,b,c){this.node(a,b,c,"map","getData","setData")},"edge-property":function(a,b,c){this.edge(a,b,c,"map","getData","setData")},"label-property":function(a,b,c){this.node(a,b,c,"label","getLabelData","setLabelData")},"node-style":function(a,b,c){this.node(a,b,c,"canvas","getCanvasStyle","setCanvasStyle")},"edge-style":function(a,b,c){this.edge(a,b,c,"canvas","getCanvasStyle","setCanvasStyle")}},sequence:function(b){var c=this;b=a.merge({condition:a.lambda(!1),step:a.empty,onComplete:a.empty,duration:200},b||{});var d=setInterval(function(){b.condition()?b.step():(clearInterval(d),b.onComplete()),c.viz.refresh(!0)},b.duration)},prepare:function(b){var c=this.viz.graph,d={"node-property":{getter:"getData",setter:"setData"},"edge-property":{getter:"getData",setter:"setData"},"node-style":{getter:"getCanvasStyle",setter:"setCanvasStyle"},"edge-style":{getter:"getCanvasStyle",setter:"setCanvasStyle"}},e={};if(a.type(b)=="array")for(var f=0,g=b.length;f<g;f++){var h=b[f].split(":");e[h.shift()]=h}else for(var i in b)i=="position"?e[b.position]=[]:e[i]=a.splat(b[i]);return c.eachNode(function(b){b.startPos.set(b.pos),a.each(["node-property","node-style"],function(a){if(a in e){var c=e[a];for(var f=0,g=c.length;f<g;f++)b[d[a].setter](c[f],b[d[a].getter](c[f]),"start")}}),a.each(["edge-property","edge-style"],function(a){if(a in e){var c=e[a];b.eachAdjacency(function(b){for(var e=0,f=c.length;e<f;e++)b[d[a].setter](c[e],b[d[a].getter](c[e]),"start")})}})}),e},animate:function(b,c){b=a.merge(this.viz.config,b||{});var d=this,e=this.viz,f=e.graph,g=this.Interpolator,h=b.type==="nodefx"?this.nodeFxAnimation:this.animation,i=this.prepare(b.modes);b.hideLabels&&this.labels.hideLabels(!0),h.setOptions(a.extend(b,{$animating:!1,compute:function(a){f.eachNode(function(b){for(var d in i)g[d](b,i[d],a,c)}),d.plot(b,this.$animating,a),this.$animating=!0},complete:function(){b.hideLabels&&d.labels.hideLabels(!1),d.plot(b),b.onComplete()}})).start()},nodeFx:function(b){var c=this.viz,d=c.graph,e=this.nodeFxAnimation,f=a.merge(this.viz.config,{elements:{id:!1,properties:{}},reposition:!1});b=a.merge(f,b||{},{onBeforeCompute:a.empty,onAfterCompute:a.empty}),e.stopTimer();var g=b.elements.properties;if(!b.elements.id)d.eachNode(function(a){for(var b in g)a.setData(b,g[b],"end")});else{var h=a.splat(b.elements.id);a.each(h,function(a){var b=d.getNode(a);if(b)for(var c in g)b.setData(c,g[c],"end")})}var i=[];for(var j in g)i.push(j);var k=["node-property:"+i.join(":")];b.reposition&&(k.push("linear"),c.compute("end")),this.animate(a.merge(b,{modes:k,type:"nodefx"}))},plot:function(a,b){var c=this.viz,d=c.graph,e=c.canvas,f=c.root,g=this,h=e.getCtx(),i=Math.min,a=a||this.viz.controller;a.clearCanvas&&e.clear();var j=d.getNode(f);if(!j)return;var k=!!j.visited;d.eachNode(function(c){var d=c.getData("alpha");c.eachAdjacency(function(d){var f=d.nodeTo;!!f.visited===k&&c.drawn&&f.drawn&&(!b&&a.onBeforePlotLine(d),g.plotLine(d,e,b),!b&&a.onAfterPlotLine(d))}),c.drawn&&(!b&&a.onBeforePlotNode(c),g.plotNode(c,e,b),!b&&a.onAfterPlotNode(c)),!g.labelsHidden&&a.withLabels&&(c.drawn&&d>=.95?g.labels.plotLabel(e,c,a):g.labels.hideLabel(c,!1)),c.visited=!k})},plotTree:function(a,b,c){var d=this,e=this.viz,f=e.canvas,g=this.config,h=f.getCtx(),i=a.getData("alpha");a.eachSubnode(function(e){if(b.plotSubtree(a,e)&&e.exist&&e.drawn){var g=a.getAdjacency(e.id);!c&&b.onBeforePlotLine(g),d.plotLine(g,f,c),!c&&b.onAfterPlotLine(g),d.plotTree(e,b,c)}}),a.drawn?(!c&&b.onBeforePlotNode(a),this.plotNode(a,f,c),!c&&b.onAfterPlotNode(a),!b.hideLabels&&b.withLabels&&i>=.95?this.labels.plotLabel(f,a,b):this.labels.hideLabel(a,!1)):this.labels.hideLabel(a,!0)},plotNode:function(a,b,c){var d=a.getData("type"),e=this.node.CanvasStyles;if(d!="none"){var f=a.getData("lineWidth"),g=a.getData("color"),h=a.getData("alpha"),i=b.getCtx();i.save(),i.lineWidth=f,i.fillStyle=i.strokeStyle=g,i.globalAlpha=h;for(var j in e)i[j]=a.getCanvasStyle(j);this.nodeTypes[d].render.call(this,a,b,c),i.restore()}},plotLine:function(a,b,c){var d=a.getData("type"),e=this.edge.CanvasStyles;if(d!="none"){var f=a.getData("lineWidth"),g=a.getData("color"),h=b.getCtx(),i=a.nodeFrom,j=a.nodeTo;h.save(),h.lineWidth=f,h.fillStyle=h.strokeStyle=g,h.globalAlpha=Math.min(i.getData("alpha"),j.getData("alpha"),a.getData("alpha"));for(var k in e)h[k]=a.getCanvasStyle(k);this.edgeTypes[d].render.call(this,a,b,c),h.restore()}}},o.Plot3D=a.merge(o.Plot,{Interpolator:{linear:function(a,b,c){var d=a.startPos.getc(!0),e=a.endPos.getc(!0);a.pos.setc(this.compute(d.x,e.x,c),this.compute(d.y,e.y,c),this.compute(d.z,e.z,c))}},plotNode:function(a,b){if(a.getData("type")=="none")return;this.plotElement(a,b,{getAlpha:function(){return a.getData("alpha")}})},plotLine:function(a,b){if(a.getData("type")=="none")return;this.plotElement(a,b,{getAlpha:function(){return Math.min(a.nodeFrom.getData("alpha"),a.nodeTo.getData("alpha"),a.getData("alpha"))}})},plotElement:function(b,c,d){var e=c.getCtx(),f=new Matrix4,g=c.config.Scene.Lighting,h=c.canvases[0],i=h.program,j=h.camera;b.geometry||(b.geometry=new(O3D[b.getData("type")])),b.geometry.update(b);if(!b.webGLVertexBuffer){var k=[],l=[],m=[],n=0,o=b.geometry;for(var p=0,q=o.vertices,r=o.faces,s=r.length;p<s;p++){var t=r[p],u=q[t.a],v=q[t.b],w=q[t.c],x=t.d?q[t.d]:!1,y=t.normal;k.push(u.x,u.y,u.z),k.push(v.x,v.y,v.z),k.push(w.x,w.y,w.z),x&&k.push(x.x,x.y,x.z),m.push(y.x,y.y,y.z),m.push(y.x,y.y,y.z),m.push(y.x,y.y,y.z),x&&m.push(y.x,y.y,y.z),l.push(n,n+1,n+2),x?(l.push(n,n+2,n+3),n+=4):n+=3}b.webGLVertexBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,b.webGLVertexBuffer),e.bufferData(e.ARRAY_BUFFER,new Float32Array(k),e.STATIC_DRAW),b.webGLFaceBuffer=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,b.webGLFaceBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(l),e.STATIC_DRAW),b.webGLFaceCount=l.length,b.webGLNormalBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,b.webGLNormalBuffer),e.bufferData(e.ARRAY_BUFFER,new Float32Array(m),e.STATIC_DRAW)}f.multiply(j.matrix,b.geometry.matrix),e.uniformMatrix4fv(i.viewMatrix,!1,f.flatten()),e.uniformMatrix4fv(i.projectionMatrix,!1,j.projectionMatrix.flatten());var z=Matrix4.makeInvert(f);z.$transpose(),e.uniformMatrix4fv(i.normalMatrix,!1,z.flatten());var A=a.hexToRgb(b.getData("color"));A.push(d.getAlpha()),e.uniform4f(i.color,A[0]/255,A[1]/255,A[2]/255,A[3]),e.uniform1i(i.enableLighting,g.enable);if(g.enable){if(g.ambient){var B=g.ambient;e.uniform3f(i.ambientColor,B[0],B[1],B[2])}if(g.directional){var C=g.directional,A=C.color,D=C.direction,E=(new Vector3(D.x,D.y,D.z)).normalize().$scale(-1);e.uniform3f(i.lightingDirection,E.x,E.y,E.z),e.uniform3f(i.directionalColor,A[0],A[1],A[2])}}e.bindBuffer(e.ARRAY_BUFFER,b.webGLVertexBuffer),e.vertexAttribPointer(i.position,3,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,b.webGLNormalBuffer),e.vertexAttribPointer(i.normal,3,e.FLOAT,!1,0,0),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,b.webGLFaceBuffer),e.drawElements(e.TRIANGLES,b.webGLFaceCount,e.UNSIGNED_SHORT,0)}}),o.Label={},o.Label.Native=new b({initialize:function(a){this.viz=a},plotLabel:function(a,b,c){var d=a.getCtx(),e=b.pos.getc(!0);d.font=b.getLabelData("style")+" "+b.getLabelData("size")+"px "+b.getLabelData("family"),d.textAlign=b.getLabelData("textAlign"),d.fillStyle=d.strokeStyle=b.getLabelData("color"),d.textBaseline=b.getLabelData("textBaseline"),this.renderLabel(a,b,c)},renderLabel:function(a,b,c){var d=a.getCtx(),e=b.pos.getc(!0);d.fillText(b.name,e.x,e.y+b.getData("height")/2)},hideLabel:a.empty,hideLabels:a.empty}),o.Label.DOM=new b({labelsHidden:!1,labelContainer:!1,labels:{},getLabelContainer:function(){return this.labelContainer?this.labelContainer:this.labelContainer=document.getElementById(this.viz.config.labelContainer)},getLabel:function(a){return a in this.labels&&this.labels[a]!=null?this.labels[a]:this.labels[a]=document.getElementById(a)},hideLabels:function(a){var b=this.getLabelContainer();a?b.style.display="none":b.style.display="",this.labelsHidden=a},clearLabels:function(a){for(var b in this.labels)if(a||!this.viz.graph.hasNode(b))this.disposeLabel(b),delete this.labels[b]},disposeLabel:function(a){var b=this.getLabel(a);b&&b.parentNode&&b.parentNode.removeChild(b)},hideLabel:function(b,c){b=a.splat(b);var d=c?"":"none",e,f=this;a.each(b,function(a){var b=f.getLabel(a.id);b&&(b.style.display=d)})},fitsInCanvas:function(a,b){var c=b.getSize();return a.x>=c.width||a.x<0||a.y>=c.height||a.y<0?!1:!0}}),o.Label.HTML=new b({Implements:o.Label.DOM,plotLabel:function(a,b,c){var d=b.id,e=this.getLabel(d);if(!e&&!(e=document.getElementById(d))){e=document.createElement("div");var f=this.getLabelContainer();e.id=d,e.className="node",e.style.position="absolute",c.onCreateLabel(e,b),f.appendChild(e),this.labels[b.id]=e}this.placeLabel(e,b,c)}}),o.Label.SVG=new b({Implements:o.Label.DOM,plotLabel:function(a,b,c){var d=b.id,e=this.getLabel(d);if(!e&&!(e=document.getElementById(d))){var f="http://www.w3.org/2000/svg";e=document.createElementNS(f,"svg:text");var g=document.createElementNS(f,"svg:tspan");e.appendChild(g);var h=this.getLabelContainer();e.setAttribute("id",d),e.setAttribute("class","node"),h.appendChild(e),c.onCreateLabel(e,b),this.labels[b.id]=e}this.placeLabel(e,b,c)}}),o.Geom=new b({initialize:function(a){this.viz=a,this.config=a.config,this.node=a.config.Node,this.edge=a.config.Edge},translate:function(b,c){c=a.splat(c),this.viz.graph.eachNode(function(d){a.each(c,function(a){d.getPos(a).$add(b)})})},setRightLevelToShow:function(b,c,d){var e=this.getRightLevelToShow(b,c),f=this.viz.labels,g=a.merge({execShow:!0,execHide:!0,onHide:a.empty,onShow:a.empty},d||{});b.eachLevel(0,this.config.levelsToShow,function(a){var c=a._depth-b._depth;c>e?(g.onHide(a),g.execHide&&(a.drawn=!1,a.exist=!1,f.hideLabel(a,!1))):(g.onShow(a),g.execShow&&(a.exist=!0))}),b.drawn=!0},getRightLevelToShow:function(a,b){var c=this.config,d=c.levelsToShow,e=c.constrained;if(!e)return d;while(!this.treeFitsInCanvas(a,b,d)&&d>1)d--;return d}});var s={construct:function(b){var c=a.type(b)=="array",d=new o(this.graphOptions,this.config.Node,this.config.Edge,this.config.Label);return c?function(b,c){var d=function(a){for(var d=0,e=c.length;d<e;d++)if(c[d].id==a)return c[d];var f={id:a,name:a};return b.addNode(f)};for(var e=0,f=c.length;e<f;e++){b.addNode(c[e]);var g=c[e].adjacencies;if(g)for(var h=0,i=g.length;h<i;h++){var j=g[h],k={};typeof g[h]!="string"&&(k=a.merge(j.data,{}),j=j.nodeTo),b.addAdjacence(c[e],d(j),k)}}}(d,b):function(a,b){a.addNode(b);if(b.children)for(var c=0,d=b.children;c<d.length;c++)a.addAdjacence(b,d[c]),arguments.callee(a,d[c])}(d,b),d},loadJSON:function(b,c){this.json=b,this.labels&&this.labels.clearLabels&&this.labels.clearLabels(!0),this.graph=this.construct(b),a.type(b)!="array"?this.root=b.id:this.root=b[c?c:0].id},toJSON:function(a){a=a||"tree";if(a=="tree"){var b={},c=this.graph.getNode(this.root),b=function e(a){var b={};b.id=a.id,b.name=a.name,b.data=a.data;var c=[];return a.eachSubnode(function(a){c.push(e(a))}),b.children=c,b}(c);return b}var b=[],d=!!this.graph.getNode(this.root).visited;return this.graph.eachNode(function(a){var c={};c.id=a.id,c.name=a.name,c.data=a.data;var e=[];a.eachAdjacency(function(a){var b=a.nodeTo;if(!!b.visited===d){var c={};c.nodeTo=b.id,c.data=a.data,e.push(c)}}),c.adjacencies=e,b.push(c),a.visited=!d}),b}},t=$jit.Layouts={},u={label:null,compute:function(b,c,d){this.initializeLabel(d);var e=this.label,f=e.style;b.eachNode(function(b){var c=b.getData("autoWidth"),d=b.getData("autoHeight");if(c||d){delete b.data.$width,delete b.data.$height,delete b.data.$dim;var g=b.getData("width"),h=b.getData("height");f.width=c?"auto":g+"px",f.height=d?"auto":h+"px",e.innerHTML=b.name;var i=e.offsetWidth,j=e.offsetHeight,k=b.getData("type");if(a.indexOf(["circle","square","triangle","star"],k)===-1)b.setData("width",i),b.setData("height",j);else{var l=i>j?i:j;b.setData("width",l),b.setData("height",l),b.setData("dim",l)}}})},initializeLabel:function(a){this.label||(this.label=document.createElement("div"),document.body.appendChild(this.label)),this.setLabelStyles(a)},setLabelStyles:function(b){a.extend(this.label.style,{visibility:"hidden",position:"absolute",width:"auto",height:"auto"}),this.label.className="jit-autoadjust-label"}};t.Tree=function(){function d(a,b,c,d,e){var f=b.Node,g=b.multitree;if(f.overridable){var h=-1,i=-1;return a.eachNode(function(a){if(a._depth==c&&(!g||"$orn"in a.data&&a.data.$orn==d)){var b=a.getData("width",e),f=a.getData("height",e);h=h<b?b:h,i=i<f?f:i}}),{width:h<0?f.width:h,height:i<0?f.height:i}}return f}function e(a,b,c,d){var e=d=="left"||d=="right"?"y":"x";a.getPos(b)[e]+=c}function f(b,d){var e=[];return a.each(b,function(a){a=c.call(a),a[0]+=d,a[1]+=d,e.push(a)}),e}function g(a,b){if(a.length==0)return b;if(b.length==0)return a;var c=a.shift(),d=b.shift();return[[c[0],d[1]]].concat(g(a,b))}function h(a,b){b=b||[];if(a.length==0)return b;var c=a.pop();return h(a,g(c,b))}function i(a,b,c,d,e){if(a.length<=e||b.length<=e)return 0;var f=a[e][1],g=b[e][0];return Math.max(i(a,b,c,d,++e)+c,f-g+d)}function j(a,b,c){function d(a,e,h){if(e.length<=h)return[];var j=e[h],k=i(a,j,b,c,0);return[k].concat(d(g(a,f(j,k)),e,++h))}return d([],a,0)}function k(a,b,d){function e(a,c,h){if(c.length<=h)return[];var j=c[h],k=-i(j,a,b,d,0);return[k].concat(e(g(f(j,k),a),c,++h))}a=c.call(a);var h=e([],a.reverse(),0);return h.reverse()}function l(a,b,c,d){var e=j(a,b,c),f=k(a,b,c);d=="left"?f=e:d=="right"&&(e=f);for(var g=0,h=[];g<e.length;g++)h[g]=(e[g]+f[g])/2;return h}function m(a,b,c,g,i){function w(b,k,m){var n=b.getData(r,c),q=k||b.getData(s,c),x=[],y=[],z=!1,A=q+g.levelDistance;b.eachSubnode(function(b){if(b.exist&&(!j||"$orn"in b.data&&b.data.$orn==i)){z||(z=d(a,g,b._depth,i,c));var e=w(b,z[s],m+A);x.push(e.tree),y.push(e.extent)}});var B=l(y,u,t,v);for(var C=0,D=[],E=[];C<x.length;C++)e(x[C],c,B[C],i),E.push(f(y[C],B[C]));var F=[[-n/2,n/2]].concat(h(E));return b.getPos(c)[o]=0,i=="top"||i=="left"?b.getPos(c)[p]=m:b.getPos(c)[p]=-m,{tree:b,extent:F}}var j=g.multitree,k=["x","y"],m=["width","height"],n=+(i=="left"||i=="right"),o=k[n],p=k[1-n],q=g.Node,r=m[n],s=m[1-n],t=g.siblingOffset,u=g.subtreeOffset,v=g.align;w(b,!1,0)}var c=Array.prototype.slice;return new b({compute:function(b,c){var d=b||"start",e=this.graph.getNode(this.root);a.extend(e,{drawn:!0,exist:!0,selected:!0}),u.compute(this.graph,d,this.config),(!!c||!("_depth"in e))&&this.graph.computeLevels(this.root,0,"ignore"),this.computePositions(e,d)},computePositions:function(b,c){var d=this.config,e=d.multitree,f=d.align,g=f!=="center"&&d.indent,h=d.orientation,i=e?["top","right","bottom","left"]:[h],j=this;a.each(i,function(a){m(j.graph,b,c,j.config,a,c);var d=["x","y"][+(a=="left"||a=="right")];(function h(b){b.eachSubnode(function(i){i.exist&&(!e||"$orn"in i.data&&i.data.$orn==a)&&(i.getPos(c)[d]+=b.getPos(c)[d],g&&(i.getPos(c)[d]+=f=="left"?g:-g),h(i))})})(b)})}})}(),$jit.ST=function(){function d(a){a=a||this.clickedNode;if(!this.config.constrained)return[];var b=this.geom,d=this.graph,e=this.canvas,f=a._depth,g=[];d.eachNode(function(b){b.exist&&!b.selected&&(b.isDescendantOf(a.id)?b._depth<=f&&g.push(b):g.push(b))});var h=b.getRightLevelToShow(a,e);a.eachLevel(h,h,function(a){a.exist&&!a.selected&&g.push(a)});for(var i=0;i<c.length;i++){var j=this.graph.getNode(c[i]);j.isDescendantOf(a.id)||g.push(j)}return g}function f(a){var b=[],c=this.config;return a=a||this.clickedNode,this.clickedNode.eachLevel(0,c.levelsToShow,function(a){!c.multitree||"$orn"in a.data||!a.anySubnode(function(a){return a.exist&&!a.drawn})?a.drawn&&!a.anySubnode("drawn")&&b.push(a):b.push(a)}),b}var c=[];return new b({Implements:[s,i,t.Tree],initialize:function(b){var c=$jit.ST,d={levelsToShow:2,levelDistance:30,constrained:!0,Node:{type:"rectangle"},duration:700,offsetX:0,offsetY:0};this.controller=this.config=a.merge(e("Canvas","Fx","Tree","Node","Edge","Controller","Tips","NodeStyles","Events","Navigation","Label"),d,b);var f=this.config;f.useCanvas?(this.canvas=f.useCanvas,this.config.labelContainer=this.canvas.id+"-label"):(f.background&&(f.background=a.merge({type:"Circles"},f.background)),this.canvas=new j(this,f),this.config.labelContainer=(typeof f.injectInto=="string"?f.injectInto:f.injectInto.id)+"-label"),this.graphOptions={klass:m},this.graph=new o(this.graphOptions,this.config.Node,this.config.Edge),this.labels=new c.Label[f.Label.type](this),this.fx=new c.Plot(this,c),this.op=new c.Op(this),this.group=new c.Group(this),this.geom=new c.Geom(this),this.clickedNode=null,this.initializeExtras()},plot:function(){this.fx.plot(this.controller)},switchPosition:function(a,b,c){var d=this.geom,e=this.fx,f=this;e.busy||(e.busy=!0,this.contract({onComplete:function(){d.switchOrientation(a),f.compute("end",!1),e.busy=!1,b=="animate"?f.onClick(f.clickedNode.id,c):b=="replot"&&f.select(f.clickedNode.id,c)}},a))},switchAlignment:function(a,b,c){this.config.align=a,b=="animate"?this.select(this.clickedNode.id,c):b=="replot"&&this.onClick(this.clickedNode.id,c)},addNodeInPath:function(a){c.push(a),this.select(this.clickedNode&&this.clickedNode.id||this.root)},clearNodesInPath:function(a){c.length=0,this.select(this.clickedNode&&this.clickedNode.id||this.root)},refresh:function(){this.reposition(),this.select(this.clickedNode&&this.clickedNode.id||this.root)},reposition:function(){this.graph.computeLevels(this.root,0,"ignore"),this.geom.setRightLevelToShow(this.clickedNode,this.canvas),this.graph.eachNode(function(a){a.exist&&(a.drawn=!0)}),this.compute("end")},requestNodes:function(b,c){var d=a.merge(this.controller,c),e=this.config.levelsToShow;if(d.request){var f=[],g=b._depth;b.eachLevel(0,e,function(a){a.drawn&&!a.anySubnode()&&(f.push(a),a._level=e-(a._depth-g))}),this.group.requestNodes(f,d)}else d.onComplete()},contract:function(b,c){var e=this.config.orientation,f=this.geom,g=this.group;c&&f.switchOrientation(c);var h=d.call(this);c&&f.switchOrientation(e),g.contract(h,a.merge(this.controller,b))},move:function(b,c){this.compute("end",!1);var d=c.Move,e={x:d.offsetX,y:d.offsetY};d.enable&&this.geom.translate(b.endPos.add(e).$scale(-1),"end"),this.fx.animate(a.merge(this.controller,{modes:["linear"]},c))},expand:function(b,c){var d=f.call(this,b);this.group.expand(d,a.merge(this.controller,c))},selectPath:function(b){function e(b){if(b==null||b.selected)return;b.selected=!0,a.each(d.group.getSiblings([b])[b.id],function(a){a.exist=!0,a.drawn=!0});var c=b.getParents();c=c.length>0?c[0]:null,e(c)}var d=this;this.graph.eachNode(function(a){a.selected=!1});for(var f=0,g=[b.id].concat(c);f<g.length;f++)e(this.graph.getNode(g[f]))},setRoot:function(a,b,c){function h(){if(this.config.multitree&&g.data.$orn){var b=g.data.$orn,h={left:"right",right:"left",top:"bottom",bottom:"top"}[b];f.data.$orn=h,function i(b){b.eachSubnode(function(b){b.id!=a&&(b.data.$orn=h,i(b))})}(f),delete g.data.$orn}this.root=a,this.clickedNode=g,this.graph.computeLevels(this.root,0,"ignore"),this.geom.setRightLevelToShow(g,e,{execHide:!1,onShow:function(a){a.drawn||(a.drawn=!0,a.setData("alpha",1,"end"),a.setData("alpha",0),a.pos.setc(g.pos.x,g.pos.y))}}),this.compute("end"),this.busy=!0,this.fx.animate({modes:["linear","node-property:alpha"],onComplete:function(){d.busy=!1,d.onClick(a,{onComplete:function(){c&&c.onComplete()}})}})}if(this.busy)return;this.busy=!0;var d=this,e=this.canvas,f=this.graph.getNode(this.root),g=this.graph.getNode(a);delete f.data.$orns,b=="animate"?(h.call(this),d.selectPath(g)):b=="replot"&&(h.call(this),this.select(this.root))},addSubtree:function(b,c,d){c=="replot"?this.op.sum(b,a.extend({type:"replot"},d||{})):c=="animate"&&this.op.sum(b,a.extend({type:"fade:seq"},d||{}))},removeSubtree:function(b,c,d,e){var f=this.graph.getNode(b),g=[];f.eachLevel(+!c,!1,function(a){g.push(a.id)}),d=="replot"?this.op.removeNode(g,a.extend({type:"replot"},e||{})):d=="animate"&&this.op.removeNode(g,a.extend({type:"fade:seq"},e||{}))},select:function(b,c){var e=this.group,g=this.geom,h=this.graph.getNode(b),i=this.canvas,j=this.graph.getNode(this.root),k=a.merge(this.controller,c),l=this;k.onBeforeCompute(h),this.selectPath(h),this.clickedNode=h,this.requestNodes(h,{onComplete:function(){e.hide(e.prepare(d.call(l)),k),g.setRightLevelToShow(h,i),l.compute("current"),l.graph.eachNode(function(a){var b=a.pos.getc(!0);a.startPos.setc(b.x,b.y),a.endPos.setc(b.x,b.y),a.visited=!1});var a={x:k.offsetX,y:k.offsetY};l.geom.translate(h.endPos.add(a).$scale(-1),["start","current","end"]),e.show(f.call(l)),l.plot(),k.onAfterCompute(l.clickedNode),k.onComplete()}})},onClick:function(b,c){var d=this.canvas,e=this,f=this.geom,g=this.config,h={Move:{enable:!0,offsetX:g.offsetX||0,offsetY:g.offsetY||0},setRightLevelToShowConfig:!1,onBeforeRequest:a.empty,onBeforeContract:a.empty,onBeforeMove:a.empty,onBeforeExpand:a.empty},i=a.merge(this.controller,h,c);if(!this.busy){this.busy=!0;var j=this.graph.getNode(b);this.selectPath(j,this.clickedNode),this.clickedNode=j,i.onBeforeCompute(j),i.onBeforeRequest(j),this.requestNodes(j,{onComplete:function(){i.onBeforeContract(j),e.contract({onComplete:function(){f.setRightLevelToShow(j,d,i.setRightLevelToShowConfig),i.onBeforeMove(j),e.move(j,{Move:i.Move,onComplete:function(){i.onBeforeExpand(j),e.expand(j,{onComplete:function(){e.busy=!1,i.onAfterCompute(b),i.onComplete()}})}})}})}})}}})}(),$jit.ST.$extend=!0,$jit.ST.Op=new b({Implements:o.Op}),$jit.ST.Group=new b({initialize:function(a){this.viz=a,this.canvas=a.canvas,this.config=a.config,this.animation=new d,this.nodes=null},requestNodes:function(a,b){var c=0,d=a.length,e={},f=function(){b.onComplete()},g=this.viz;d==0&&f();for(var h=0;h<d;h++)e[a[h].id]=a[h],b.request(a[h].id,a[h]._level,{onComplete:function(a,b){b&&b.children&&(b.id=a,g.op.sum(b,{type:"nothing"})),++c==d&&(g.graph.computeLevels(g.root,0),f())}})},contract:function(b,c){var d=this.viz,e=this;b=this.prepare(b),this.animation.setOptions(a.merge(c,{$animating:!1,compute:function(a){a==1&&(a=.99),e.plotStep(1-a,c,this.$animating),this.$animating="contract"},complete:function(){e.hide(b,c)}})).start()},hide:function(b,c){var d=this.viz;for(var e=0;e<b.length;e++)b[e].eachLevel(1,!1,function(b){b.exist&&a.extend(b,{drawn:!1,exist:!1})});c.onComplete()},expand:function(b,c){var d=this;this.show(b),this.animation.setOptions(a.merge(c,{$animating:!1,compute:function(a){d.plotStep(a,c,this.$animating),this.$animating="expand"},complete:function(){d.plotStep(undefined,c,!1),c.onComplete()}})).start()},show:function(b){var c=this.config;this.prepare(b),a.each(b,function(a){if(c.multitree&&!("$orn"in a.data)){delete a.data.$orns;var b=" ";a.eachSubnode(function(a){"$orn"in a.data&&b.indexOf(a.data.$orn)<0&&a.exist&&!a.drawn&&(b+=a.data.$orn+" ")}),a.data.$orns=b}a.eachLevel(0,c.levelsToShow,function(a){a.exist&&(a.drawn=!0)})})},prepare:function(a){return this.nodes=this.getNodesWithChildren(a),this.nodes},getNodesWithChildren:function(a){var b=[],c=this.config,d=this.viz.root;a.sort(function(a,b){return(a._depth<=b._depth)-(a._depth>=b._depth)});for(var e=0;e<a.length;e++)if(a[e].anySubnode("exist")){for(var f=e+1,g=!1;!g&&f<a.length;f++)if(!c.multitree||"$orn"in a[f].data)g=g||a[e].isDescendantOf(a[f].id);g||b.push(a[e])}return b},plotStep:function(b,c,d){var e=this.viz,f=this.config,g=e.canvas,h=g.getCtx(),i=this.nodes,j,k,l={};for(j=0;j<i.length;j++){k=i[j],l[k.id]=[];var m=f.multitree&&!("$orn"in k.data),n=m&&k.data.$orns;k.eachSubgraph(function(a){m&&n&&n.indexOf(a.data.$orn)>0&&a.drawn?(a.drawn=!1,l[k.id].push(a)):(!m||!n)&&a.drawn&&(a.drawn=!1,l[k.id].push(a))}),k.drawn=!0}i.length>0&&e.fx.plot();for(j in l)a.each(l[j],function(a){a.drawn=!0});for(j=0;j<i.length;j++)k=i[j],h.save(),e.fx.plotSubtree(k,c,b,d),h.restore()},getSiblings:function(b){var c={};return a.each(b,function(a){var b=a.getParents();if(b.length==0)c[a.id]=[a];else{var d=[];b[0].eachSubnode(function(a){d.push(a)}),c[a.id]=d}}),c}}),$jit.ST.Geom=new b({Implements:o.Geom,switchOrientation:function(a){this.config.orientation=a},dispatch:function(){var a=Array.prototype.slice.call(arguments),b=a.shift(),c=a.length,d=function(a){return typeof a=="function"?a():a};if(c==2)return b=="top"||b=="bottom"?d(a[0]):d(a[1]);if(c==4)switch(b){case"top":return d(a[0]);case"right":return d(a[1]);case"bottom":return d(a[2]);case"left":return d(a[3])}return undefined},getSize:function(a,b){var c=a.data,d=this.config,e=d.siblingOffset,f=d.multitree&&"$orn"in c&&c.$orn||d.orientation,g=a.getData("width")+e,h=a.getData("height")+e;return b?this.dispatch(f,g,h):this.dispatch(f,h,g)},getTreeBaseSize:function(a,b,c){var d=this.getSize(a,!0),e=0,f=this;return c(b,a)?d:b===0?0:(a.eachSubnode(function(a){e+=f.getTreeBaseSize(a,b-1,c)}),(d>e?d:e)+this.config.subtreeOffset)},getEdge:function(a,b,c){var d=function(b,c){return function(){return a.pos.add(new m(b,c))}},e=this.node,f=a.getData("width"),g=a.getData("height");if(b=="begin"){if(e.align=="center")return this.dispatch(c,d(0,g/2),d(-f/2,0),d(0,-g/2),d(f/2,0));if(e.align=="left")return this.dispatch(c,d(0,g),d(0,0),d(0,0),d(f,0));if(e.align=="right")return this.dispatch(c,d(0,0),d(-f,0),d(0,-g),d(0,0));throw"align: not implemented"}if(b=="end"){if(e.align=="center")return this.dispatch(c,d(0,-g/2),d(f/2,0),d(0,g/2),d(-f/2,0));if(e.align=="left")return this.dispatch(c,d(0,0),d(f,0),d(0,g),d(0,0));if(e.align=="right")return this.dispatch(c,d(0,-g),d(0,0),d(0,0),d(-f,0));throw"align: not implemented"}},getScaledTreePosition:function(a,b){var c=this.node,d=a.getData("width"),e=a.getData("height"),f=this.config.multitree&&"$orn"in a.data&&a.data.$orn||this.config.orientation,g=function(c,d){return function(){return a.pos.add(new m(c,d)).$scale(1-b)}};if(c.align=="left")return this.dispatch(f,g(0,e),g(0,0),g(0,0),g(d,0));if(c.align=="center")return this.dispatch(f,g(0,e/2),g(-d/2,0),g(0,-e/2),g(d/2,0));if(c.align=="right")return this.dispatch(f,g(0,0),g(-d,0),g(0,-e),g(0,0));throw"align: not implemented"},treeFitsInCanvas:function(a,b,c){var d=b.getSize(),e=this.config.multitree&&"$orn"in a.data&&a.data.$orn||this.config.orientation,f=this.dispatch(e,d.width,d.height),g=this.getTreeBaseSize(a,c,function(a,b){return a===0||!b.anySubnode()});return g<f}}),$jit.ST.Plot=new b({Implements:o.Plot,plotSubtree:function(b,c,d,e){var f=this.viz,g=f.canvas,h=f.config;d=Math.min(Math.max(.001,d),1);if(d>=0){b.drawn=!1;var i=g.getCtx(),j=f.geom.getScaledTreePosition(b,d);i.translate(j.x,j.y),i.scale(d,d)}this.plotTree(b,a.merge(c,{withLabels:!0,hideLabels:!!d,plotSubtree:function(a,c){var d=h.multitree&&!("$orn"in b.data),e=d&&b.getData("orns");return!d||e.indexOf(b.getData("orn"))>-1}}),e),d>=0&&(b.drawn=!0)},getAlignedPos:function(a,b,c){var d=this.node,e,f;if(d.align=="center")e={x:a.x-b/2,y:a.y-c/2};else if(d.align=="left")f=this.config.orientation,f=="bottom"||f=="top"?e={x:a.x-b/2,y:a.y}:e={x:a.x,y:a.y-c/2};else{if(d.align!="right")throw"align: not implemented";f=this.config.orientation,f=="bottom"||f=="top"?e={x:a.x-b/2,y:a.y-c}:e={x:a.x-b,y:a.y-c/2}}return e},getOrientation:function(a){var b=this.config,c=b.orientation;if(b.multitree){var d=a.nodeFrom,e=a.nodeTo;c="$orn"in d.data&&d.data.$orn||"$orn"in e.data&&e.data.$orn}return c}}),$jit.ST.Label={},$jit.ST.Label.Native=new b({Implements:o.Label.Native,renderLabel:function(a,b,c){var d=a.getCtx(),e=b.pos.getc(!0),f=b.getData("width"),g=b.getData("height"),h=this.viz.fx.getAlignedPos(e,f,g);d.fillText(b.name,h.x+f/2,h.y+g/2)}}),$jit.ST.Label.DOM=new b({Implements:o.Label.DOM,placeLabel:function(a,b,c){var d=b.pos.getc(!0),e=this.viz.config,f=e.Node,g=this.viz.canvas,h=b.getData("width"),i=b.getData("height"),j=g.getSize(),k,l,m=g.translateOffsetX,n=g.translateOffsetY,o=g.scaleOffsetX,p=g.scaleOffsetY,q=d.x*o+m,r=d.y*p+n;if(f.align=="center")k={x:Math.round(q-h/2+j.width/2),y:Math.round(r-i/2+j.height/2)};else if(f.align=="left")l=e.orientation,l=="bottom"||l=="top"?k={x:Math.round(q-h/2+j.width/2),y:Math.round(r+j.height/2)}:k={x:Math.round(q+j.width/2),y:Math.round(r-i/2+j.height/2)};else{if(f.align!="right")throw"align: not implemented";l=e.orientation,l=="bottom"||l=="top"?k={x:Math.round(q-h/2+j.width/2),y:Math.round(r-i+j.height/2)}:k={x:Math.round(q-h+j.width/2),y:Math.round(r-i/2+j.height/2)}}var s=a.style;s.left=k.x+"px",s.top=k.y+"px",s.display=this.fitsInCanvas(k,g)?"":"none",c.onPlaceLabel(a,b)}}),$jit.ST.Label.SVG=new b({Implements:[$jit.ST.Label.DOM,o.Label.SVG],initialize:function(a){this.viz=a}}),$jit.ST.Label.HTML=new b({Implements:[$jit.ST.Label.DOM,o.Label.HTML],initialize:function(a){this.viz=a}}),$jit.ST.Plot.NodeTypes=new b({none:{render:a.empty,contains:a.lambda(!1)},circle:{render:function(a,b){var c=a.getData("dim"),d=this.getAlignedPos(a.pos.getc(!0),c,c),e=c/2;this.nodeHelper.circle.render("fill",{x:d.x+e,y:d.y+e},e,b)},contains:function(a,b){var c=a.getData("dim"),d=this.getAlignedPos(a.pos.getc(!0),c,c),e=c/2;this.nodeHelper.circle.contains({x:d.x+e,y:d.y+e},b,e)}},square:{render:function(a,b){var c=a.getData("dim"),d=c/2,e=this.getAlignedPos(a.pos.getc(!0),c,c);this.nodeHelper.square.render("fill",{x:e.x+d,y:e.y+d},d,b)},contains:function(a,b){var c=a.getData("dim"),d=this.getAlignedPos(a.pos.getc(!0),c,c),e=c/2;this.nodeHelper.square.contains({x:d.x+e,y:d.y+e},b,e)}},ellipse:{render:function(a,b){var c=a.getData("width"),d=a.getData("height"),e=this.getAlignedPos(a.pos.getc(!0),c,d);this.nodeHelper.ellipse.render("fill",{x:e.x+c/2,y:e.y+d/2},c,d,b)},contains:function(a,b){var c=a.getData("width"),d=a.getData("height"),e=this.getAlignedPos(a.pos.getc(!0),c,d);this.nodeHelper.ellipse.contains({x:e.x+c/2,y:e.y+d/2},b,c,d)}},rectangle:{render:function(a,b){var c=a.getData("width"),d=a.getData("height"),e=this.getAlignedPos(a.pos.getc(!0),c,d);this.nodeHelper.rectangle.render("fill",{x:e.x+c/2,y:e.y+d/2},c,d,b)},contains:function(a,b){var c=a.getData("width"),d=a.getData("height"),e=this.getAlignedPos(a.pos.getc(!0),c,d);this.nodeHelper.rectangle.contains({x:e.x+c/2,y:e.y+d/2},b,c,d)}}}),$jit.ST.Plot.EdgeTypes=new b({none:a.empty,line:{render:function(a,b){var c=this.getOrientation(a),d=a.nodeFrom,e=a.nodeTo,f=d._depth<e._depth,g=this.viz.geom.getEdge(f?d:e,"begin",c),h=this.viz.geom.getEdge(f?e:d,"end",c);this.edgeHelper.line.render(g,h,b)},contains:function(a,b){var c=this.getOrientation(a),d=a.nodeFrom,e=a.nodeTo,f=d._depth<e._depth,g=this.viz.geom.getEdge(f?d:e,"begin",c),h=this.viz.geom.getEdge(f?e:d,"end",c);return this.edgeHelper.line.contains(g,h,b,this.edge.epsilon)}},arrow:{render:function(a,b){var c=this.getOrientation(a),d=a.nodeFrom,e=a.nodeTo,f=a.getData("dim"),g=this.viz.geom.getEdge(d,"begin",c),h=this.viz.geom.getEdge(e,"end",c),i=a.data.$direction,j=i&&i.length>1&&i[0]!=d.id;this.edgeHelper.arrow.render(g,h,f,j,b)},contains:function(a,b){var c=this.getOrientation(a),d=a.nodeFrom,e=a.nodeTo,f=d._depth<e._depth,g=this.viz.geom.getEdge(f?d:e,"begin",c),h=this.viz.geom.getEdge(f?e:d,"end",c);return this.edgeHelper.arrow.contains(g,h,b,this.edge.epsilon)}},"quadratic:begin":{render:function(a,b){var c=this.getOrientation(a),d=a.nodeFrom,e=a.nodeTo,f=d._depth<e._depth,g=this.viz.geom.getEdge(f?d:e,"begin",c),h=this.viz.geom.getEdge(f?e:d,"end",c),i=a.getData("dim"),j=b.getCtx();j.beginPath(),j.moveTo(g.x,g.y);switch(c){case"left":j.quadraticCurveTo(g.x+i,g.y,h.x,h.y);break;case"right":j.quadraticCurveTo(g.x-i,g.y,h.x,h.y);break;case"top":j.quadraticCurveTo(g.x,g.y+i,h.x,h.y);break;case"bottom":j.quadraticCurveTo(g.x,g.y-i,h.x,h.y)}j.stroke()}},"quadratic:end":{render:function(a,b){var c=this.getOrientation(a),d=a.nodeFrom,e=a.nodeTo,f=d._depth<e._depth,g=this.viz.geom.getEdge(f?d:e,"begin",c),h=this.viz.geom.getEdge(f?e:d,"end",c),i=a.getData("dim"),j=b.getCtx();j.beginPath(),j.moveTo(g.x,g.y);switch(c){case"left":j.quadraticCurveTo(h.x-i,h.y,h.x,h.y);break;case"right":j.quadraticCurveTo(h.x+i,h.y,h.x,h.y);break;case"top":j.quadraticCurveTo(h.x,h.y-i,h.x,h.y);break;case"bottom":j.quadraticCurveTo(h.x,h.y+i,h.x,h.y)}j.stroke()}},bezier:{render:function(a,b){var c=this.getOrientation(a),d=a.nodeFrom,e=a.nodeTo,f=d._depth<e._depth,g=this.viz.geom.getEdge(f?d:e,"begin",c),h=this.viz.geom.getEdge(f?e:d,"end",c),i=a.getData("dim"),j=b.getCtx();j.beginPath(),j.moveTo(g.x,g.y);switch(c){case"left":j.bezierCurveTo(g.x+i,g.y,h.x-i,h.y,h.x,h.y);break;case"right":j.bezierCurveTo(g.x-i,g.y,h.x+i,h.y,h.x,h.y);break;case"top":j.bezierCurveTo(g.x,g.y+i,h.x,h.y-i,h.x,h.y);break;case"bottom":j.bezierCurveTo(g.x,g.y-i,h.x,h.y+i,h.x,h.y)}j.stroke()}}}),$jit.ST.Plot.NodeTypes.implement({"areachart-stacked":{render:function(b,c){var d=b.pos.getc(!0),e=b.getData("width"),f=b.getData("height"),g=this.getAlignedPos(d,e,f),h=g.x,i=g.y,j=b.getData("stringArray"),k=b.getData("dimArray"),l=b.getData("valueArray"),m=a.reduce(l,function(a,b){return a+b[0]},0),n=a.reduce(l,function(a,b){return a+b[1]},0),o=b.getData("colorArray"),p=o.length,q=b.getData("config"),r=b.getData("gradient"),s=q.showLabels,t=q.showAggregates,u=q.Label,v=b.getData("prev"),w=c.getCtx(),x=b.getData("border");if(o&&k&&j){for(var y=0,z=k.length,A=0,B=0,C=0;y<z;y++){w.fillStyle=w.strokeStyle=o[y%p],w.save();if(r&&(k[y][0]>0||k[y][1]>0)){var D=A+k[y][0],E=B+k[y][1],F=Math.atan((E-D)/e),G=55,H=w.createLinearGradient(h+e/2,i-(D+E)/2,h+e/2+G*Math.sin(F),i-(D+E)/2+G*Math.cos(F)),I=a.rgbToHex(a.map(a.hexToRgb(o[y%p].slice(1)),function(a){return a*.85>>0}));H.addColorStop(0,o[y%p]),H.addColorStop(1,I),w.fillStyle=H}w.beginPath(),w.moveTo(h,i-A),w.lineTo(h+e,i-B),w.lineTo(h+e,i-B-k[y][1]),w.lineTo(h,i-A-k[y][0]),w.lineTo(h,i-A),w.fill(),w.restore();if(x){var J=x.name==j[y],K=J?.7:.8,I=a.rgbToHex(a.map(a.hexToRgb(o[y%p].slice(1)),function(a){return a*K>>0}));w.strokeStyle=I,w.lineWidth=J?4:1,w.save(),w.beginPath(),x.index===0?(w.moveTo(h,i-A),w.lineTo(h,i-A-k[y][0])):(w.moveTo(h+e,i-B),w.lineTo(h+e,i-B-k[y][1])),w.stroke(),w.restore()}A+=k[y][0]||0,B+=k[y][1]||0,k[y][0]>0&&(C+=l[y][0]||0)}if(v&&u.type=="Native"){w.save(),w.beginPath(),w.fillStyle=w.strokeStyle=u.color,w.font=u.style+" "+u.size+"px "+u.family,w.textAlign="center",w.textBaseline="middle";var L=t(b.name,m,n,b,C);L!==!1&&w.fillText(L!==!0?L:C,h,i-A-q.labelOffset-u.size/2,e),s(b.name,m,n,b)&&w.fillText(b.name,h,i+u.size/2+q.labelOffset),w.restore()}}},contains:function(a,b){var c=a.pos.getc(!0),d=a.getData("width"),e=a.getData("height"),f=this.getAlignedPos(c,d,e),g=f.x,h=f.y,i=a.getData("dimArray"),j=b.x-g;if(b.x<g||b.x>g+d||b.y>h||b.y<h-e)return!1;for(var k=0,l=i.length,m=h,n=h;k<l;k++){var o=i[k];m-=o[0],n-=o[1];var p=m+(n-m)*j/d;if(b.y>=p){var q=+(j>d/2);return{name:a.getData("stringArray")[k],color:a.getData("colorArray")[k],value:a.getData("valueArray")[k][q],index:q}}}return!1}}}),$jit.AreaChart=new b({st:null,colors:["#416D9C","#70A35E","#EBB056","#C74243","#83548B","#909291","#557EAA"],selected:{},busy:!1,initialize:function(b){this.controller=this.config=a.merge(e("Canvas","Margin","Label","AreaChart"),{Label:{type:"Native"}},b);var c=this.config.showLabels,d=a.type(c),f=this.config.showAggregates,g=a.type(f);this.config.showLabels=d=="function"?c:a.lambda(c),this.config.showAggregates=g=="function"?f:a.lambda(f),this.initializeViz()},initializeViz:function(){var b=this.config,c=this,d=b.type.split(":")[0],e={},f=new $jit.ST({injectInto:b.injectInto,width:b.width,height:b.height,orientation:"bottom",levelDistance:0,siblingOffset:0,subtreeOffset:0,withLabels:b.Label.type!="Native",useCanvas:b.useCanvas,Label:{type:b.Label.type},Node:{overridable:!0,type:"areachart-"+d,align:"left",width:1,height:1},Edge:{type:"none"},Tips:{enable:b.Tips.enable,type:"Native",force:!0,onShow:function(a,c,d){var e=d;b.Tips.onShow(a,e,c)}},Events:{enable:!0,type:"Native",onClick:function(a,d,e){if(!b.filterOnClick&&!b.Events.enable)return;var f=d.getContains();f&&b.filterOnClick&&c.filter(f.name),b.Events.enable&&b.Events.onClick(f,d,e)},onRightClick:function(a,d,e){if(!b.restoreOnRightClick)return;c.restore()},onMouseMove:function(a,d,e){if(!b.selectOnHover)return;if(a){var f=d.getContains();c.select(a.id,f.name,f.index)}else c.select(!1,!1,!1)}},onCreateLabel:function(c,d){var f=b.Label,g=d.getData("valueArray"),h=a.reduce(g,function(a,b){return a+b[0]},0),i=a.reduce(g,function(a,b){return a+b[1]},0);if(d.getData("prev")){var j={wrapper:document.createElement("div"),aggregate:document.createElement("div"),label:document.createElement("div")},k=j.wrapper,l=j.label,m=j.aggregate,n=k.style,o=l.style,p=m.style;e[d.id]=j,k.appendChild(l),k.appendChild(m),b.showLabels(d.name,h,i,d)||(l.style.display="none"),b.showAggregates(d.name,h,i,d)||(m.style.display="none"),n.position="relative",n.overflow="visible",n.fontSize=f.size+"px",n.fontFamily=f.family,n.color=f.color,n.textAlign="center",p.position=o.position="absolute",c.style.width=d.getData("width")+"px",c.style.height=d.getData("height")+"px",l.innerHTML=d.name,c.appendChild(k)}},onPlaceLabel:function(c,d){if(!d.getData("prev"))return;var f=e[d.id],g=f.wrapper.style,h=f.label.style,i=f.aggregate.style,j=d.getData("width"),k=d.getData("height"),l=d.getData("dimArray"),m=d.getData("valueArray"),n=a.reduce(m,function(a,b){return a+b[0]},0),o=a.reduce(m,function(a,b){return a+b[1]},0),p=parseInt(g.fontSize,10),q=c.style;if(l&&m){b.showLabels(d.name,n,o,d)?h.display="":h.display="none";var r=b.showAggregates(d.name,n,o,d);r!==!1?i.display="":i.display="none",g.width=i.width=h.width=c.style.width=j+"px",i.left=h.left=-j/2+"px";for(var s=0,t=m.length,u=0,v=0;s<t;s++)l[s][0]>0&&(u+=m[s][0],v+=l[s][0]);i.top=-p-b.labelOffset+"px",h.top=b.labelOffset+v+"px",c.style.top=parseInt(c.style.top,10)-v+"px",c.style.height=g.height=v+"px",f.aggregate.innerHTML=r!==!0?r:u}}}),g=f.canvas.getSize(),h=b.Margin;f.config.offsetY=-g.height/2+h.bottom+(b.showLabels&&b.labelOffset+b.Label.size),f.config.offsetX=(h.right-h.left)/2,this.delegate=f,this.canvas=this.delegate.canvas},loadJSON:function(b){var c=a.time(),d=[],e=this.delegate,f=a.splat(b.label),g=a.splat(b.color||this.colors),h=this.config,i=!!h.type.split(":")[1],j=h.animate;for(var k=0,l=b.values,m=l.length;k<m-1;k++){var n=l[k],o=l[k-1],p=l[k+1],q=a.splat(l[k].values),r=a.splat(l[k+1].values),s=a.zip(q,r),t=0,u=0;d.push({id:c+n.label,name:n.label,data:{value:s,$valueArray:s,$colorArray:g,$stringArray:f,$next:p.label,$prev:o?o.label:!1,$config:h,$gradient:i},children:[]})}var v={id:c+"$root",name:"",data:{$type:"none",$width:1,$height:1},children:d};e.loadJSON(v),this.normalizeDims(),e.compute(),e.select(e.root),j&&e.fx.animate({modes:["node-property:height:dimArray"],duration:1500})},updateJSON:function(b,c){if(this.busy)return;this.busy=!0;var d=this.delegate,e=d.graph,f=b.label&&a.splat(b.label),g=b.values,h=this.config.animate,i=this,j={};for(var k=0,l=g.length;k<l;k++)j[g[k].label]=g[k];e.eachNode(function(b){var c=j[b.name],d=b.getData("stringArray"),e=b.getData("valueArray"),g=b.getData("next");c&&(c.values=a.splat(c.values),a.each(e,function(a,b){a[0]=c.values[b],f&&(d[b]=f[b])}),b.setData("valueArray",e)),g&&(c=j[g],c&&a.each(e,function(a,b){a[1]=c.values[b]}))}),this.normalizeDims(),d.compute(),d.select(d.root),h&&d.fx.animate({modes:["node-property:height:dimArray"],duration:1500,onComplete:function(){i.busy=!1,c&&c.onComplete()}})},filter:function(b,c){if(this.busy)return;this.busy=!0,this.config.Tips.enable&&this.delegate.tips.hide(),this.select(!1,!1,!1);var d=a.splat(b),e=this.delegate.graph.getNode(this.delegate.root),f=this;this.normalizeDims(),e.eachAdjacency(function(b){var c=b.nodeTo,e=c.getData("dimArray","end"),f=c.getData("stringArray");c.setData("dimArray",a.map(e,function(b,c){return a.indexOf(d,f[c])>-1?b:[0,0]}),"end")}),this.delegate.fx.animate({modes:["node-property:dimArray"],duration:1500,onComplete:function(){f.busy=!1,c&&c.onComplete()}})},restore:function(a){if(this.busy)return;this.busy=!0,this.config.Tips.enable&&this.delegate.tips.hide(),this.select(!1,!1,!1),this.normalizeDims();var b=this;this.delegate.fx.animate({modes:["node-property:height:dimArray"],duration:1500,onComplete:function(){b.busy=!1,a&&a.onComplete()}})},select:function(a,b,c){if(!this.config.selectOnHover)return;var d=this.selected;if(d.id!=a||d.name!=b||d.index!=c){d.id=a,d.name=b,d.index=c,this.delegate.graph.eachNode(function(a){a.setData("border",!1)});if(a){var e=this.delegate.graph.getNode(a);e.setData("border",d);var f=c===0?"prev":"next";f=e.getData(f),f&&(e=this.delegate.graph.getByName(f),e&&e.setData("border",{name:b,index:1-c}))}this.delegate.plot()}},getLegend:function(){var b={},c;this.delegate.graph.getNode(this.delegate.root).eachAdjacency(function(a){c=a.nodeTo});var d=c.getData("colorArray"),e=d.length;return a.each(c.getData("stringArray"),function(a,c){b[a]=d[c%e]}),b},getMaxValue:function(){var b=0;return this.delegate.graph.eachNode(function(c){var d=c.getData("valueArray"),e=0,f=0;a.each(d,function(a){e+=+a[0],f+=+a[1]});var g=f>e?f:e;b=b>g?b:g}),b},normalizeDims:function(){var b=this.delegate.graph.getNode(this.delegate.root),c=0;b.eachAdjacency(function(){c++});var d=this.getMaxValue()||1,e=this.delegate.canvas.getSize(),f=this.config,g=f.Margin,h=f.labelOffset+f.Label.size,i=(e.width-(g.left+g.right))/c,j=f.animate,k=e.height-(g.top+g.bottom)-(f.showAggregates&&h)-(f.showLabels&&h);this.delegate.graph.eachNode(function(b){var c=0,e=0,f=[];a.each(b.getData("valueArray"),function(a){c+=+a[0],e+=+a[1],f.push([0,0])});var g=e>c?e:c;b.setData("width",i);if(j){b.setData("height",g*k/d,"end"),b.setData("dimArray",a.map(b.getData("valueArray"),function(a){return[a[0]*k/d,a[1]*k/d]}),"end");var h=b.getData("dimArray");h||b.setData("dimArray",f)}else b.setData("height",g*k/d),b.setData("dimArray",a.map(b.getData("valueArray"),function(a){return[a[0]*k/d,a[1]*k/d]}))})}}),e.BarChart={$extend:!0,animate:!0,type:"stacked",labelOffset:3,barsOffset:0,hoveredColor:"#9fd4ff",orientation:"horizontal",showAggregates:!0,showLabels:!0,Tips:{enable:!1,onShow:a.empty,onHide:a.empty},Events:{enable:!1,onClick:a.empty}},$jit.ST.Plot.NodeTypes.implement({"barchart-stacked":{render:function(b,c){var d=b.pos.getc(!0),e=b.getData("width"),f=b.getData("height"),g=this.getAlignedPos(d,e,f),h=g.x,i=g.y,j=b.getData("dimArray"),k=b.getData("valueArray"),l=b.getData("colorArray"),m=l.length,n=b.getData("stringArray"),o=c.getCtx(),p={},q=b.getData("border"),r=b.getData("gradient"),s=b.getData("config"),t=s.orientation=="horizontal",u=s.showAggregates,v=s.showLabels,w=s.Label;if(l&&j&&n){for(var x=0,y=j.length,z=0,A=0;x<y;x++){o.fillStyle=o.strokeStyle=l[x%m];if(r){var B;t?B=o.createLinearGradient(h+z+j[x]/2,i,h+z+j[x]/2,i+f):B=o.createLinearGradient(h,i-z-j[x]/2,h+e,i-z-j[x]/2);var C=a.rgbToHex(a.map(a.hexToRgb(l[x%m].slice(1)),function(a){return a*.5>>0}));B.addColorStop(0,C),B.addColorStop(.5,l[x%m]),B.addColorStop(1,C),o.fillStyle=B}t?o.fillRect(h+z,i,j[x],f):o.fillRect(h,i-z-j[x],e,j[x]),q&&q.name==n[x]&&(p.acum=z,p.dimValue=j[x]),z+=j[x]||0,A+=k[x]||0}q&&(o.save(),o.lineWidth=2,o.strokeStyle=q.color,t?o.strokeRect(h+p.acum+1,i+1,p.dimValue-2,f-2):o.strokeRect(h+1,i-p.acum-p.dimValue+1,e-2,p.dimValue-2),o.restore());if(w.type=="Native"){o.save(),o.fillStyle=o.strokeStyle=w.color,o.font=w.style+" "+w.size+"px "+w.family,o.textBaseline="middle";var D=u(b.name,A,b);D!==!1&&(D=D!==!0?D:A,t?(o.textAlign="right",o.fillText(D,h+z-s.labelOffset,i+f/2)):(o.textAlign="center",o.fillText(D,h+e/2,i-f-w.size/2-s.labelOffset))),v(b.name,A,b)&&(t?(o.textAlign="center",o.translate(h-s.labelOffset-w.size/2,i+f/2),o.rotate(Math.PI/2),o.fillText(b.name,0,0)):(o.textAlign="center",o.fillText(b.name,h+e/2,i+w.size/2+s.labelOffset))),o.restore()}}},contains:function(a,b){var c=a.pos.getc(!0),d=a.getData("width"),e=a.getData("height"),f=this.getAlignedPos(c,d,e),g=f.x,h=f.y,i=a.getData("dimArray"),j=a.getData("config"),k=b.x-g,l=j.orientation=="horizontal";if(l){if(b.x<g||b.x>g+d||b.y>h+e||b.y<h)return!1}else if(b.x<g||b.x>g+d||b.y>h||b.y<h-e)return!1;for(var m=0,n=i.length,o=l?g:h;m<n;m++){var p=i[m];if(l){o+=p;var q=o;if(b.x<=q)return{name:a.getData("stringArray")[m],color:a.getData("colorArray")[m],value:a.getData("valueArray")[m],label:a.name}}else{o-=p;var q=o;if(b.y>=q)return{name:a.getData("stringArray")[m],color:a.getData("colorArray")[m],value:a.getData("valueArray")[m],label:a.name}}}return!1}},"barchart-grouped":{render:function(b,c){var d=b.pos.getc(!0),e=b.getData("width"),f=b.getData("height"),g=this.getAlignedPos(d,e,f),h=g.x,i=g.y,j=b.getData("dimArray"),k=b.getData("valueArray"),l=k.length,m=b.getData("colorArray"),n=m.length,o=b.getData("stringArray"),p=c.getCtx(),q={},r=b.getData("border"),s=b.getData("gradient"),t=b.getData("config"),u=t.orientation=="horizontal",v=t.showAggregates,w=t.showLabels,x=t.Label,y=(u?f:e)/l;if(m&&j&&o){for(var z=0,A=l,B=0,C=0;z<A;z++){p.fillStyle=p.strokeStyle=m[z%n];if(s){var D;u?D=p.createLinearGradient(h+j[z]/2,i+y*z,h+j[z]/2,i+y*(z+1)):D=p.createLinearGradient(h+y*z,i-j[z]/2,h+y*(z+1),i-j[z]/2);var E=a.rgbToHex(a.map(a.hexToRgb(m[z%n].slice(1)),function(a){return a*.5>>0}));D.addColorStop(0,E),D.addColorStop(.5,m[z%n]),D.addColorStop(1,E),p.fillStyle=D}u?p.fillRect(h,i+y*z,j[z],y):p.fillRect(h+y*z,i-j[z],y,j[z]),r&&r.name==o[z]&&(q.acum=y*z,q.dimValue=j[z]),B+=j[z]||0,C+=k[z]||0}r&&(p.save(),p.lineWidth=2,p.strokeStyle=r.color,u?p.strokeRect(h+1,i+q.acum+1,q.dimValue-2,y-2):p.strokeRect(h+q.acum+1,i-q.dimValue+1,y-2,q.dimValue-2),p.restore());if(x.type=="Native"){p.save(),p.fillStyle=p.strokeStyle=x.color,p.font=x.style+" "+x.size+"px "+x.family,p.textBaseline="middle";var F=v(b.name,C,b);F!==!1&&(F=F!==!0?F:C,u?(p.textAlign="right",p.fillText(F,h+Math.max.apply(null,j)-t.labelOffset,i+f/2)):(p.textAlign="center",p.fillText(F,h+e/2,i-Math.max.apply(null,j)-x.size/2-t.labelOffset))),w(b.name,C,b)&&(u?(p.textAlign="center",p.translate(h-t.labelOffset-x.size/2,i+f/2),p.rotate(Math.PI/2),p.fillText(b.name,0,0)):(p.textAlign="center",p.fillText(b.name,h+e/2,i+x.size/2+t.labelOffset))),p.restore()}}},contains:function(a,b){var c=a.pos.getc(!0),d=a.getData("width"),e=a.getData("height"),f=this.getAlignedPos(c,d,e),g=f.x,h=f.y,i=a.getData("dimArray"),j=i.length,k=a.getData("config"),l=b.x-g,m=k.orientation=="horizontal",n=(m?e:d)/j;if(m){if(b.x<g||b.x>g+d||b.y>h+e||b.y<h)return!1}else if(b.x<g||b.x>g+d||b.y>h||b.y<h-e)return!1;for(var o=0,p=i.length;o<p;o++){var q=i[o];if(m){var r=h+n*o;if(b.x<=g+q&&b.y>=r&&b.y<=r+n)return{name:a.getData("stringArray")[o],color:a.getData("colorArray")[o],value:a.getData("valueArray")[o],label:a.name}}else{var r=g+n*o;if(b.x>=r&&b.x<=r+n&&b.y>=h-q)return{name:a.getData("stringArray")[o],color:a.getData("colorArray")[o],value:a.getData("valueArray")[o],label:a.name}}}return!1}}}),$jit.BarChart=new b({st:null,colors:["#416D9C","#70A35E","#EBB056","#C74243","#83548B","#909291","#557EAA"],selected:{},busy:!1,initialize:function(b){this.controller=this.config=a.merge(e("Canvas","Margin","Label","BarChart"),{Label:{type:"Native"}},b);var c=this.config.showLabels,d=a.type(c),f=this.config.showAggregates,g=a.type(f);this.config.showLabels=d=="function"?c:a.lambda(c),this.config.showAggregates=g=="function"?f:a.lambda(f),this.initializeViz()},initializeViz:function(){var b=this.config,c=this,d=b.type.split(":")[0],e=b.orientation=="horizontal",f={},g=new $jit.ST({injectInto:b.injectInto,width:b.width,height:b.height,orientation:e?"left":"bottom",levelDistance:0,siblingOffset:b.barsOffset,subtreeOffset:0,withLabels:b.Label.type!="Native",useCanvas:b.useCanvas,Label:{type:b.Label.type},Node:{overridable:!0,type:"barchart-"+d,align:"left",width:1,height:1},Edge:{type:"none"},Tips:{enable:b.Tips.enable,type:"Native",force:!0,onShow:function(a,c,d){var e=d;b.Tips.onShow(a,e,c)}},Events:{enable:!0,type:"Native",onClick:function(a,c,d){if(!b.Events.enable)return;var e=c.getContains();b.Events.onClick(e,c,d)},onMouseMove:function(a,d,e){if(!b.hoveredColor)return;if(a){var f=d.getContains();c.select(a.id,f.name,f.index)}else c.select(!1,!1,!1)}},onCreateLabel:function(c,d){var e=b.Label,g=d.getData("valueArray"),h=a.reduce(g,function(a,b){return a+b},0),i={wrapper:document.createElement("div"),aggregate:document.createElement("div"),label:document.createElement("div")},j=i.wrapper,k=i.label,l=i.aggregate,m=j.style,n=k.style,o=l.style;f[d.id]=i,j.appendChild(k),j.appendChild(l),b.showLabels(d.name,h,d)||(n.display="none"),b.showAggregates(d.name,h,d)||(o.display="none"),m.position="relative",m.overflow="visible",m.fontSize=e.size+"px",m.fontFamily=e.family,m.color=e.color,m.textAlign="center",o.position=n.position="absolute",c.style.width=d.getData("width")+"px",c.style.height=d.getData("height")+"px",o.left=n.left="0px",k.innerHTML=d.name,c.appendChild(j)},onPlaceLabel:function(a,c){if(!f[c.id])return;var d=f[c.id],e=d.wrapper.style,g=d.label.style,h=d.aggregate.style,i=b.type.split(":")[0]=="grouped",j=b.orientation=="horizontal",k=c.getData("dimArray"),l=c.getData("valueArray"),m=i&&j?Math.max.apply(null,k):c.getData("width"),n=i&&!j?Math.max.apply(null,k):c.getData("height"),o=parseInt(e.fontSize,10),p=a.style;if(k&&l){e.width=h.width=g.width=a.style.width=m+"px";for(var q=0,r=l.length,s=0;q<r;q++)k[q]>0&&(s+=l[q]);b.showLabels(c.name,s,c)?g.display="":g.display="none";var t=b.showAggregates(c.name,s,c);t!==!1?h.display="":h.display="none",b.orientation=="horizontal"?(h.textAlign="right",g.textAlign="left",g.textIndex=h.textIndent=b.labelOffset+"px",h.top=g.top=(n-o)/2+"px",a.style.height=e.height=n+"px"):(h.top=-o-b.labelOffset+"px",g.top=b.labelOffset+n+"px",a.style.top=parseInt(a.style.top,10)-n+"px",a.style.height=e.height=n+"px"),d.aggregate.innerHTML=t!==!0?t:s}}}),h=g.canvas.getSize(),i=b.Margin;e?(g.config.offsetX=h.width/2-i.left-(b.showLabels&&b.labelOffset+b.Label.size),g.config.offsetY=(i.bottom-i.top)/2):(g.config.offsetY=-h.height/2+i.bottom+(b.showLabels&&b.labelOffset+b.Label.size),g.config.offsetX=(i.right-i.left)/2),this.delegate=g,this.canvas=this.delegate.canvas},loadJSON:function(b){if(this.busy)return;this.busy=!0;var c=a.time(),d=[],e=this.delegate,f=a.splat(b.label),g=a.splat(b.color||this.colors),h=this.config,i=!!h.type.split(":")[1],j=h.animate,k=h.orientation=="horizontal",l=this;for(var m=0,n=b.values,o=n.length;m<o;m++){var p=n[m],q=a.splat(n[m].values),r=0;d.push({id:c+p.label,name:p.label,data:{value:q,$valueArray:q,$colorArray:g,$stringArray:f,$gradient:i,$config:h},children:[]})}var s={id:c+"$root",name:"",data:{$type:"none",$width:1,$height:1},children:d};e.loadJSON(s),this.normalizeDims(),e.compute(),e.select(e.root),j?k?e.fx.animate({modes:["node-property:width:dimArray"],duration:1500,onComplete:function(){l.busy=!1}}):e.fx.animate({modes:["node-property:height:dimArray"],duration:1500,onComplete:function(){l.busy=!1}}):this.busy=!1},updateJSON:function(b,c){if(this.busy)return;this.busy=!0,this.select(!1,!1,!1);var d=this.delegate,e=d.graph,f=b.values,g=this.config.animate,h=this,i=this.config.orientation=="horizontal";a.each(f,function(c){var d=e.getByName(c.label);d&&(d.setData("valueArray",a.splat(c.values)),b.label&&d.setData("stringArray",a.splat(b.label)))}),this.normalizeDims(),d.compute(),d.select(d.root),g&&(i?d.fx.animate({modes:["node-property:width:dimArray"],duration:1500,onComplete:function(){h.busy=!1,c&&c.onComplete()}}):d.fx.animate({modes:["node-property:height:dimArray"],duration:1500,onComplete:function(){h.busy=!1,c&&c.onComplete()}}))},select:function(a,b){if(!this.config.hoveredColor)return;var c=this.selected;if(c.id!=a||c.name!=b)c.id=a,c.name=b,c.color=this.config.hoveredColor,this.delegate.graph.eachNode(function(b){a==b.id?b.setData("border",c):b.setData("border",!1)}),this.delegate.plot()},getLegend:function(){var b={},c;this.delegate.graph.getNode(this.delegate.root).eachAdjacency(function(a){c=a.nodeTo});var d=c.getData("colorArray"),e=d.length;return a.each(c.getData("stringArray"),function(a,c){b[a]=d[c%e]}),b},getMaxValue:function(){var b=0,c=this.config.type.split(":")[0]=="stacked";return this.delegate.graph.eachNode(function(d){var e=d.getData("valueArray"),f=0;if(!e)return;c?a.each(e,function(a){f+=+a}):f=Math.max.apply(null,e),b=b>f?b:f}),b},setBarType:function(a){this.config.type=a,this.delegate.config.Node.type="barchart-"+a.split(":")[0]},normalizeDims:function(){var b=this.delegate.graph.getNode(this.delegate.root),c=0;b.eachAdjacency(function(){c++});var d=this.getMaxValue()||1,e=this.delegate.canvas.getSize(),f=this.config,g=f.Margin,h=g.left+g.right,i=g.top+g.bottom,j=f.orientation=="horizontal",k=(e[j?"height":"width"]-(j?i:h)-(c-1)*f.barsOffset)/c,l=f.animate,m=e[j?"width":"height"]-(j?h:i)-(!j&&f.showAggregates&&f.Label.size+f.labelOffset)-(f.showLabels&&f.Label.size+f.labelOffset),n=j?"height":"width",o=j?"width":"height";this.delegate.graph.eachNode(function(b){var c=0,e=[];a.each(b.getData("valueArray"),function(a){c+=+a,e.push(0)}),b.setData(n,k);if(l){b.setData(o,c*m/d,"end"),b.setData("dimArray",a.map(b.getData("valueArray"),function(a){return a*m/d}),"end");var f=b.getData("dimArray");f||b.setData("dimArray",e)}else b.setData(o,c*m/d),b.setData("dimArray",a.map(b.getData("valueArray"),function(a){return a*m/d}))})}}),e.PieChart={$extend:!0,animate:!0,offset:25,sliceOffset:0,labelOffset:3,type:"stacked",hoveredColor:"#9fd4ff",Events:{enable:!1,onClick:a.empty},Tips:{enable:!1,onShow:a.empty,onHide:a.empty},showLabels:!0,resizeLabels:!1,updateHeights:!1},t.Radial=new b({compute:function(b){var c=a.splat(b||["current","start","end"]);u.compute(this.graph,c,this.config),this.graph.computeLevels(this.root,0,"ignore");var d=this.createLevelDistanceFunc();this.computeAngularWidths(c),this.computePositions(c,d)},computePositions:function(a,b){var c=a,d=this.graph,e=d.getNode(this.root),f=this.parent,g=this.config;for(var h=0,i=c.length;h<i;h++){var j=c[h];e.setPos(l(0,0),j),e.setData("span",Math.PI*2,j)}e.angleSpan={begin:0,end:2*Math.PI},d.eachBFS(this.root,function(a){var d=a.angleSpan.end-a.angleSpan.begin,e=a.angleSpan.begin,g=b(a),h=0,i=[],j={};a.eachSubnode(function(a){h+=a._treeAngularWidth;for(var b=0,d=c.length;b<d;b++){var e=c[b],f=a.getData("dim",e);j[e]=e in j?f>j[e]?f:j[e]:f}i.push(a)},"ignore"),f&&f.id==a.id&&i.length>0&&i[0].dist&&i.sort(function(a,b){return(a.dist>=b.dist)-(a.dist<=b.dist)});for(var k=0,m=i.length;k<m;k++){var n=i[k];if(!n._flag){var o=n._treeAngularWidth/h*d,p=e+o/2;for(var q=0,r=c.length;q<r;q++){var s=c[q];n.setPos(l(p,g),s),n.setData("span",o,s),n.setData("dim-quotient",n.getData("dim",s)/j[s],s)}n.angleSpan={begin:e,end:e+o},e+=o}}},"ignore")},setAngularWidthForNodes:function(a){this.graph.eachBFS(this.root,function(b,c){var d=b.getData("angularWidth",a[0])||5;b._angularWidth=d/c},"ignore")},setSubtreesAngularWidth:function(){var a=this;this.graph.eachNode(function(b){a.setSubtreeAngularWidth(b)},"ignore")},setSubtreeAngularWidth:function(a){var b=this,c=a._angularWidth,d=0;a.eachSubnode(function(a){b.setSubtreeAngularWidth(a),d+=a._treeAngularWidth},"ignore"),a._treeAngularWidth=Math.max(c,d)},computeAngularWidths:function(a){this.setAngularWidthForNodes(a),this.setSubtreesAngularWidth()}}),$jit.Sunburst=new b({Implements:[s,i,t.Radial],initialize:function(b){var c=$jit.Sunburst,d={interpolation:"linear",levelDistance:100,Node:{type:"multipie",height:0},Edge:{type:"none"},Label:{textAlign:"start",textBaseline:"middle"}};this.controller=this.config=a.merge(e("Canvas","Node","Edge","Fx","Tips","NodeStyles","Events","Navigation","Controller","Label"),d,b);var f=this.config;f.useCanvas?(this.canvas=f.useCanvas,this.config.labelContainer=this.canvas.id+"-label"):(f.background&&(f.background=a.merge({type:"Circles"},f.background)),this.canvas=new j(this,f),this.config.labelContainer=(typeof f.injectInto=="string"?f.injectInto:f.injectInto.id)+"-label"),this.graphOptions={klass:k,Node:{selected:!1,exist:!0,drawn:!0}},this.graph=new o(this.graphOptions,this.config.Node,this.config.Edge),this.labels=new c.Label[f.Label.type](this),this.fx=new c.Plot(this,c),this.op=new c.Op(this),this.json=null,this.root=null,this.rotated=null,this.busy=!1,this.initializeExtras()},createLevelDistanceFunc:function(){var a=this.config.levelDistance;return function(b){return(b._depth+1)*a}},refresh:function(){this.compute(),this.plot()},reposition:function(){this.compute("end")},rotate:function(a,b,c){var d=a.getPos(c.property||"current").getp(!0).theta;this.rotated=a,this.rotateAngle(-d,b,c)},rotateAngle:function(b,c,d){var e=this,f=a.merge(this.config,d||{},{modes:["polar"]}),g=d.property||(c==="animate"?"end":"current");c==="animate"&&this.fx.animation.pause(),this.graph.eachNode(function(a){var c=a.getPos(g);c.theta+=b,c.theta<0&&(c.theta+=Math.PI*2)}),c=="animate"?this.fx.animate(f):c=="replot"&&(this.fx.plot(),this.busy=!1)},plot:function(){this.fx.plot()}}),$jit.Sunburst.$extend=!0,function(c){c.Op=new b({Implements:o.Op}),c.Plot=new b({Implements:o.Plot}),c.Label={},c.Label.Native=new b({Implements:o.Label.Native,initialize:function(a){this.viz=a,this.label=a.config.Label,this.config=a.config},renderLabel:function(a,b,c){var d=b.getData("span");if(d<Math.PI/2&&Math.tan(d)*this.config.levelDistance*b._depth<10)return;var e=a.getCtx(),f=e.measureText(b.name);if(b.id==this.viz.root)var g=-f.width/2,h=0,i=0,j=0;else{var k=5,j=c.levelDistance-k,l=b.pos.clone();l.rho+=k;var m=l.getp(!0),n=l.getc(!0),g=n.x,h=n.y,o=Math.PI,p=m.theta>o/2&&m.theta<3*o/2,i=p?m.theta+o:m.theta;p?(g-=Math.abs(Math.cos(m.theta)*f.width),h+=Math.sin(m.theta)*f.width):b.id==this.viz.root&&(g-=f.width/2)}e.save(),e.translate(g,h),e.rotate(i),e.fillText(b.name,0,0),e.restore()}}),c.Label.SVG=new b({Implements:o.Label.SVG,initialize:function(a){this.viz=a},placeLabel:function(a,b,c){var d=b.pos.getc(!0),e=this.viz,f=this.viz.canvas,g=f.getSize(),h={x:Math.round(d.x+g.width/2),y:Math.round(d.y+g.height/2)};a.setAttribute("x",h.x),a.setAttribute("y",h.y);var i=a.getBBox();if(i){var j=a.getAttribute("x"),k=a.getAttribute("y"),l=b.pos.getp(!0),m=Math.PI,n=l.theta>m/2&&l.theta<3*m/2;n?(a.setAttribute("x",j-i.width),a.setAttribute("y",k-i.height)):b.id==e.root&&a.setAttribute("x",j-i.width/2);var o=n?l.theta+m:l.theta;b._depth&&a.setAttribute("transform","rotate("+o*360/(2*m)+" "+j+" "+k+")")}c.onPlaceLabel(a,b)}}),c.Label.HTML=new b({Implements:o.Label.HTML,initialize:function(a){this.viz=a},placeLabel:function(a,b,c){var d=b.pos.clone(),e=this.viz.canvas,f=b.getData("height"),g=(f||b._depth==0?f:this.viz.config.levelDistance)/2,h=e.getSize();d.rho+=g,d=d.getc(!0);var i={x:Math.round(d.x+h.width/2),y:Math.round(d.y+h.height/2)},j=a.style;j.left=i.x+"px",j.top=i.y+"px",j.display=this.fitsInCanvas(i,e)?"":"none",c.onPlaceLabel(a,b)}}),c.Plot.NodeTypes=new b({none:{render:a.empty,contains:a.lambda(!1),anglecontains:function(a,b){var c=a.getData("span")/2,d=a.pos.theta,e=d-c,f=d+c;e<0&&(e+=Math.PI*2);var g=Math.atan2(b.y,b.x);return g<0&&(g+=Math.PI*2),e>f?g>e&&g<=Math.PI*2||g<f:g>e&&g<f}},pie:{render:function(a,b){var c=a.getData("span")/2,d=a.pos.theta,e=d-c,f=d+c,g=a.pos.getp(!0),h=new k(g.rho,e),i=h.getc(!0);h.theta=f;var j=h.getc(!0),l=b.getCtx();l.beginPath(),l.moveTo(0,0),l.lineTo(i.x,i.y),l.moveTo(0,0),l.lineTo(j.x,j.y),l.moveTo(0,0),l.arc(0,0,g.rho*a.getData("dim-quotient"),e,f,!1),l.fill()},contains:function(a,b){if(this.nodeTypes.none.anglecontains.call(this,a,b)){var c=Math.sqrt(b.x*b.x+b.y*b.y),d=this.config.levelDistance,e=a._depth;return c<=d*e}return!1}},multipie:{render:function(a,b){var c=a.getData("height"),d=c?c:this.config.levelDistance,e=a.getData("span")/2,f=a.pos.theta,g=f-e,h=f+e,i=a.pos.getp(!0),j=new k(i.rho,g),l=j.getc(!0);j.theta=h;var m=j.getc(!0);j.rho+=d;var n=j.getc(!0);j.theta=g;var o=j.getc(!0),p=b.getCtx();p.moveTo(0,0),p.beginPath(),p.arc(0,0,i.rho,g,h,!1),p.arc(0,0,i.rho+d,h,g,!0),p.moveTo(l.x,l.y),p.lineTo(o.x,o.y),p.moveTo(m.x,m.y),p.lineTo(n.x,n.y),p.fill(),a.collapsed&&(p.save(),p.lineWidth=2,p.moveTo(0,0),p.beginPath(),p.arc(0,0,i.rho+d+5,h-.01,g+.01,!0),p.stroke(),p.restore())},contains:function(a,b){if(this.nodeTypes.none.anglecontains.call(this,a,b)){var c=Math.sqrt(b.x*b.x+b.y*b.y),d=a.getData("height"),e=d?d:this.config.levelDistance,f=this.config.levelDistance,g=a._depth;return c>=f*g&&c<=f*g+e}return!1}},"gradient-multipie":{render:function(b,c){var d=c.getCtx(),e=b.getData("height"),f=e?e:this.config.levelDistance,g=d.createRadialGradient(0,0,b.getPos().rho,0,0,b.getPos().rho+f),h=a.hexToRgb(b.getData("color")),i=[];a.each(h,function(a){i.push(parseInt(a*.5,10))});var j=a.rgbToHex(i);g.addColorStop(0,j),g.addColorStop(1,b.getData("color")),d.fillStyle=g,this.nodeTypes.multipie.render.call(this,b,c)},contains:function(a,b){return this.nodeTypes.multipie.contains.call(this,a,b)}},"gradient-pie":{render:function(b,c){var d=c.getCtx(),e=d.createRadialGradient(0,0,0,0,0,b.getPos().rho),f=a.hexToRgb(b.getData("color")),g=[];a.each(f,function(a){g.push(parseInt(a*.5,10))});var h=a.rgbToHex(g);e.addColorStop(1,h),e.addColorStop(0,b.getData("color")),d.fillStyle=e,this.nodeTypes.pie.render.call(this,b,c)},contains:function(a,b){return this.nodeTypes.pie.contains.call(this,a,b)}}}),c.Plot.EdgeTypes=new b({none:a.empty,line:{render:function(a,b){var c=a.nodeFrom.pos.getc(!0),d=a.nodeTo.pos.getc(!0);this.edgeHelper.line.render(c,d,b)},contains:function(a,b){var c=a.nodeFrom.pos.getc(!0),d=a.nodeTo.pos.getc(!0);return this.edgeHelper.line.contains(c,d,b,this.edge.epsilon)}},arrow:{render:function(a,b){var c=a.nodeFrom.pos.getc(!0),d=a.nodeTo.pos.getc(!0),e=a.getData("dim"),f=a.data.$direction,g=f&&f.length>1&&f[0]!=a.nodeFrom.id;this.edgeHelper.arrow.render(c,d,e,g,b)},contains:function(a,b){var c=a.nodeFrom.pos.getc(!0),d=a.nodeTo.pos.getc(!0);return this.edgeHelper.arrow.contains(c,d,b,this.edge.epsilon)}},hyperline:{render:function(a,b){var c=a.nodeFrom.pos.getc(),d=a.nodeTo.pos.getc(),e=Math.max(c.norm(),d.norm());this.edgeHelper.hyperline.render(c.$scale(1/e),d.$scale(1/e),e,b)},contains:a.lambda(!1)}})}($jit.Sunburst),$jit.Sunburst.Plot.NodeTypes.implement({"piechart-stacked":{render:function(b,c){var d=b.pos.getp(!0),e=b.getData("dimArray"),f=b.getData("valueArray"),g=b.getData("colorArray"),h=g.length,i=b.getData("stringArray"),j=b.getData("span")/2,l=b.pos.theta,m=l-j,n=l+j,o=new k,p=c.getCtx(),q={},r=b.getData("gradient"),s=b.getData("border"),t=b.getData("config"),u=t.showLabels,v=t.resizeLabels,w=t.Label,x=t.sliceOffset*Math.cos((m+n)/2),y=t.sliceOffset*Math.sin((m+n)/2);if(g&&e&&i){for(var z=0,A=e.length,B=0,C=0;z<A;z++){var D=e[z],E=g[z%h];if(D<=0)continue;p.fillStyle=p.strokeStyle=E;if(r&&D){var F=p.createRadialGradient(x,y,B+t.sliceOffset,x,y,B+D+t.sliceOffset),G=a.hexToRgb(E),H=a.map(G,function(a){return a*.8>>0}),I=a.rgbToHex(H);F.addColorStop(0,E),F.addColorStop(.5,E),F.addColorStop(1,I),p.fillStyle=F}o.rho=B+t.sliceOffset,o.theta=m;var J=o.getc(!0);o.theta=n;var K=o.getc(!0);o.rho+=D;var L=o.getc(!0);o.theta=m;var M=o.getc(!0);p.beginPath(),p.arc(x,y,B+.01,m,n,!1),p.arc(x,y,B+D+.01,n,m,!0),p.fill(),s&&s.name==i[z]&&(q.acum=B,q.dimValue=e[z],q.begin=m,q.end=n),B+=D||0,C+=f[z]||0}if(s){p.save(),p.globalCompositeOperation="source-over",p.lineWidth=2,p.strokeStyle=s.color;var N=m<n?1:-1;p.beginPath(),p.arc(x,y,q.acum+.01+1,q.begin,q.end,!1),p.arc(x,y,q.acum+q.dimValue+.01-1,q.end,q.begin,!0),p.closePath(),p.stroke(),p.restore()}if(u&&w.type=="Native"){p.save(),p.fillStyle=p.strokeStyle=w.color;var O=v?b.getData("normalizedDim"):1,P=w.size*O>>0;P=P<+v?+v:P,p.font=w.style+" "+P+"px "+w.family,p.textBaseline="middle",p.textAlign="center",o.rho=B+t.labelOffset+t.sliceOffset,o.theta=b.pos.theta;var Q=o.getc(!0);p.fillText(b.name,Q.x,Q.y),p.restore()}}},contains:function(a,b){if(this.nodeTypes.none.anglecontains.call(this,a,b)){var c=Math.sqrt(b.x*b.x+b.y*b.y),d=this.config.levelDistance,e=a._depth,f=a.getData("config");if(c<=d*e+f.sliceOffset){var g=a.getData("dimArray");for(var h=0,i=g.length,j=f.sliceOffset;h<i;h++){var k=g[h];if(c>=j&&c<=j+k)return{name:a.getData("stringArray")[h],color:a.getData("colorArray")[h],value:a.getData("valueArray")[h],label:a.name};j+=k}}return!1}return!1}}}),$jit.PieChart=new b({sb:null,colors:["#416D9C","#70A35E","#EBB056","#C74243","#83548B","#909291","#557EAA"],selected:{},busy:!1,initialize:function(b){this.controller=this.config=a.merge(e("Canvas","PieChart","Label"),{Label:{type:"Native"}},b),this.initializeViz()},initializeViz:function(){var a=this.config,b=this,c=a.type.split(":")[0],d=new $jit.Sunburst({injectInto:a.injectInto,width:a.width,height:a.height,useCanvas:a.useCanvas,withLabels:a.Label.type!="Native",Label:{type:a.Label.type},Node:{overridable:!0,type:"piechart-"+c,width:1,height:1},Edge:{type:"none"},Tips:{enable:a.Tips.enable,type:"Native",force:!0,onShow:function(b,c,d){var e=d;a.Tips.onShow(b,e,c)}},Events:{enable:!0,type:"Native",onClick:function(b,c,d){if(!a.Events.enable)return;var e=c.getContains();a.Events.onClick(e,c,d)},onMouseMove:function(c,d,e){if(!a.hoveredColor)return;if(c){var f=d.getContains();b.select(c.id,f.name,f.index)}else b.select(!1,!1,!1)}},onCreateLabel:function(b,c){var d=a.Label;if(a.showLabels){var e=b.style;e.fontSize=d.size+"px",e.fontFamily=d.family,e.color=d.color,e.textAlign="center",b.innerHTML=c.name}},onPlaceLabel:function(c,d){if(!a.showLabels)return;var e=d.pos.getp(!0),f=d.getData("dimArray"),g=d.getData("span")/2,h=d.pos.theta,i=h-g,j=h+g,l=new k,m=a.showLabels,n=a.resizeLabels,o=a.Label;if(f){for(var p=0,q=f.length,r=0;p<q;p++)r+=f[p];var s=n?d.getData("normalizedDim"):1,t=o.size*s>>0;t=t<+n?+n:t,c.style.fontSize=t+"px",l.rho=r+a.labelOffset+a.sliceOffset,l.theta=(i+j)/2;var e=l.getc(!0),u=b.canvas.getSize(),v={x:Math.round(e.x+u.width/2),y:Math.round(e.y+u.height/2)};c.style.left=v.x+"px",c.style.top=v.y+"px"}}}),e=d.canvas.getSize(),f=Math.min;d.config.levelDistance=f(e.width,e.height)/2-a.offset-a.sliceOffset,this.delegate=d,this.canvas=this.delegate.canvas,this.canvas.getCtx().globalCompositeOperation="lighter"},loadJSON:function(b){var c=a.time(),d=[],e=this.delegate,f=a.splat(b.label),g=f.length,h=a.splat(b.color||this.colors),i=h.length,j=this.config,k=!!j.type.split(":")[1],l=j.animate,m=g==1;for(var n=0,o=b.values,p=o.length;n<p;n++){var q=o[n],r=a.splat(q.values);d.push({id:c+q.label,name:q.label,data:{value:r,$valueArray:r,$colorArray:m?a.splat(h[n%i]):h,$stringArray:f,$gradient:k,$config:j,$angularWidth:a.reduce(r,function(a,b){return a+b})},children:[]})}var s={id:c+"$root",name:"",data:{$type:"none",$width:1,$height:1},children:d};e.loadJSON(s),this.normalizeDims(),e.refresh(),l&&e.fx.animate({modes:["node-property:dimArray"],duration:1500})},updateJSON:function(b,c){if(this.busy)return;this.busy=!0;var d=this.delegate,e=d.graph,f=b.values,g=this.config.animate,h=this;a.each(f,function(c){var d=e.getByName(c.label),f=a.splat(c.values);d&&(d.setData("valueArray",f),d.setData("angularWidth",a.reduce(f,function(a,b){return a+b})),b.label&&d.setData("stringArray",a.splat(b.label)))}),this.normalizeDims(),g?(d.compute("end"),d.fx.animate({modes:["node-property:dimArray:span","linear"],duration:1500,onComplete:function(){h.busy=!1,c&&c.onComplete()}})):d.refresh()},select:function(a,b){if(!this.config.hoveredColor)return;var c=this.selected;if(c.id!=a||c.name!=b)c.id=a,c.name=b,c.color=this.config.hoveredColor,this.delegate.graph.eachNode(function(b){a==b.id?b.setData("border",c):b.setData("border",!1)}),this.delegate.plot()},getLegend:function(){var b={},c;this.delegate.graph.getNode(this.delegate.root).eachAdjacency(function(a){c=a.nodeTo});var d=c.getData("colorArray"),e=d.length;return a.each(c.getData("stringArray"),function(a,c){b[a]=d[c%e]}),b},getMaxValue:function(){var b=0;return this.delegate.graph.eachNode(function(c){var d=c.getData("valueArray"),e=0;a.each(d,function(a){e+=+a}),b=b>e?b:e}),b},normalizeDims:function(){var b=this.delegate.graph.getNode(this.delegate.root),c=0;b.eachAdjacency(function(){c++});var d=this.getMaxValue()||1,e=this.config,f=e.animate,g=this.delegate.config.levelDistance;this.delegate.graph.eachNode(function(b){var c=0,h=[];a.each(b.getData("valueArray"),function(a){c+=+a,h.push(1)});var i=h.length==1&&!e.updateHeights;if(f){b.setData("dimArray",a.map(b.getData("valueArray"),function(a){return i?g:a*g/d}),"end");var j=b.getData("dimArray");j||b.setData("dimArray",h)}else b.setData("dimArray",a.map(b.getData("valueArray"),function(a){return i?g:a*g/d}));b.setData("normalizedDim",c/d)})}}),t.TM={},t.TM.SliceAndDice=new b({compute:function(a){var b=this.graph.getNode(this.clickedNode&&this.clickedNode.id||this.root);this.controller.onBeforeCompute(b);var c=this.canvas.getSize(),d=this.config,e=c.width,f=c.height;this.graph.computeLevels(this.root,0,"ignore"),b.getPos(a).setc(-e/2,-f/2),b.setData("width",e,a),b.setData("height",f+d.titleHeight,a),this.computePositions(b,b,this.layout.orientation,a),this.controller.onAfterCompute(b)},computePositions:function(a,b,c,d){var e=0;a.eachSubnode(function(a){e+=a.getData("area",d)});var f=this.config,g=f.offset,h=a.getData("width",d),i=Math.max(a.getData("height",d)-f.titleHeight,0),j=a==b?1:b.getData("area",d)/e,k,l,m,n,o,p,q,r=c=="h";r?(c="v",k=i,l=h*j,m="height",n="y",o="x",p=f.titleHeight,q=0):(c="h",k=i*j,l=h,m="width",n="x",o="y",p=0,q=f.titleHeight);var s=b.getPos(d);b.setData("width",l,d),b.setData("height",k,d);var t=0,u=this;b.eachSubnode(function(a){var e=a.getPos(d);e[n]=t+s[n]+p,e[o]=s[o]+q,u.computePositions(b,a,c,d),t+=a.getData(m,d)})}}),t.TM.Area={compute:function(a){a=a||"current";var b=this.graph.getNode(this.clickedNode&&this.clickedNode.id||this.root);this.controller.onBeforeCompute(b);var c=this.config,d=this.canvas.getSize(),e=d.width,f=d.height,g=c.offset,h=e-g,i=f-g;this.graph.computeLevels(this.root,0,"ignore"),b.getPos(a).setc(-e/2,-f/2),b.setData("width",e,a),b.setData("height",f,a);var j={top:-f/2+c.titleHeight,left:-e/2,width:h,height:i-c.titleHeight};this.computePositions(b,j,a),this.controller.onAfterCompute(b)},computeDim:function(a,b,c,d,e,f){if(a.length+b.length==1){var g=a.length==1?a:b;this.layoutLast(g,c,d,f);return}a.length>=2&&b.length==0&&(b=[a.shift()]);if(a.length==0){b.length>0&&this.layoutRow(b,c,d,f);return}var h=a[0];if(e(b,c)>=e([h].concat(b),c))this.computeDim(a.slice(1),b.concat([h]),c,d,e,f);else{var i=this.layoutRow(b,c,d,f);this.computeDim(a,[],i.dim,i,e,f)}},worstAspectRatio:function(a,b){if(!a||a.length==0)return Number.MAX_VALUE;var c=0,d=0,e=Number.MAX_VALUE;for(var f=0,g=a.length;f<g;f++){var h=a[f]._area;c+=h,e=e<h?e:h,d=d>h?d:h}var i=b*b,j=c*c;return Math.max(i*d/j,j/(i*e))},avgAspectRatio:function(a,b){if(!a||a.length==0)return Number.MAX_VALUE;var c=0;for(var d=0,e=a.length;d<e;d++){var f=a[d]._area,g=f/b;c+=b>g?b/g:g/b}return c/e},layoutLast:function(a,b,c,d){var e=a[0];e.getPos(d).setc(c.left,c.top),e.setData("width",c.width,d),e.setData("height",c.height,d)}},t.TM.Squarified=new b({Implements:t.TM.Area,computePositions:function(a,b,c){var d=this.config,e=Math.max;b.width>=b.height?this.layout.orientation="h":this.layout.orientation="v";var f=a.getSubnodes([1,1],"ignore");if(f.length>0){this.processChildrenLayout(a,f,b,c);for(var g=0,h=f.length;g<h;g++){var i=f[g],j=d.offset,k=e(i.getData("height",c)-j-d.titleHeight,0),l=e(i.getData("width",c)-j,0),m=i.getPos(c);b={width:l,height:k,top:m.y+d.titleHeight,left:m.x},this.computePositions(i,b,c)}}},processChildrenLayout:function(a,b,c,d){var e=c.width*c.height,f,g=b.length,h=0,i=[];for(f=0;f<g;f++)i[f]=parseFloat(b[f].getData("area",d)),h+=i[f];for(f=0;f<g;f++)b[f]._area=e*i[f]/h;var j=this.layout.horizontal()?c.height:c.width;b.sort(function(a,b){var c=b._area-a._area;return c?c:b.id==a.id?0:b.id<a.id?1:-1});var k=[b[0]],l=b.slice(1);this.squarify(l,k,j,c,d)},squarify:function(a,b,c,d,e){this.computeDim(a,b,c,d,this.worstAspectRatio,e)},layoutRow:function(a,b,c,d){return this.layout.horizontal()?this.layoutV(a,b,c,d):this.layoutH(a,b,c,d)},layoutV:function(b,c,d,e){var f=0,g=function(a){return a};a.each(b,function(a){f+=a._area});var h=g(f/c),i=0;for(var j=0,k=b.length;j<k;j++){var l=g(b[j]._area/h),m=b[j];m.getPos(e).setc(d.left,d.top+i),m.setData("width",h,e),m.setData("height",l,e),i+=l}var n={height:d.height,width:d.width-h,top:d.top,left:d.left+h};return n.dim=Math.min(n.width,n.height),n.dim!=n.height&&this.layout.change(),n},layoutH:function(b,c,d,e){var f=0;a.each(b,function(a){f+=a._area});var g=f/c,h=d.top,i=0;for(var j=0,k=b.length;j<k;j++){var l=b[j],c=l._area/g;l.getPos(e).setc(d.left+i,h),l.setData("width",c,e),l.setData("height",g,e),i+=c}var m={height:d.height-g,width:d.width,top:d.top+g,left:d.left};return m.dim=Math.min(m.width,m.height),m.dim!=m.width&&this.layout.change(),m}}),t.TM.Strip=new b({Implements:t.TM.Area,computePositions:function(a,b,c){var d=a.getSubnodes([1,1],"ignore"),e=this.config,f=Math.max;if(d.length>0){this.processChildrenLayout(a,d,b,c);for(var g=0,h=d.length;g<h;g++){var i=d[g],j=e.offset,k=f(i.getData("height",c)-j-e.titleHeight,0),l=f(i.getData("width",c)-j,0),m=i.getPos(c);b={width:l,height:k,top:m.y+e.titleHeight,left:m.x},this.computePositions(i,b,c)}}},processChildrenLayout:function(a,b,c,d){var e=c.width*c.height,f,g=b.length,h=0,i=[];for(f=0;f<g;f++)i[f]=+b[f].getData("area",d),h+=i[f];for(f=0;f<g;f++)b[f]._area=e*i[f]/h;var j=this.layout.horizontal()?c.width:c.height,k=[b[0]],l=b.slice(1);this.stripify(l,k,j,c,d)},stripify:function(a,b,c,d,e){this.computeDim(a,b,c,d,this.avgAspectRatio,e)},layoutRow:function(a,b,c,d){return this.layout.horizontal()?this.layoutH(a,b,c,d):this.layoutV(a,b,c,d)},layoutV:function(b,c,d,e){var f=0;a.each(b,function(a){f+=a._area});var g=f/c,h=0;for(var i=0,j=b.length;i<j;i++){var k=b[i],l=k._area/g;k.getPos(e).setc(d.left,d.top+(c-l-h)),k.setData("width",g,e),k.setData("height",l,e),h+=l}return{height:d.height,width:d.width-g,top:d.top,left:d.left+g,dim:c}},layoutH:function(b,c,d,e){var f=0;a.each(b,function(a){f+=a._area});var g=f/c,h=d.height-g,i=0;for(var j=0,k=b.length;j<k;j++){var l=b[j],m=l._area/g;l.getPos(e).setc(d.left+i,d.top+h),l.setData("width",m,e),l.setData("height",g,e),i+=m}return{height:d.height-g,width:d.width,top:d.top,left:d.left,dim:c}}}),t.Icicle=new b({compute:function(a){a=a||"current";var b=this.graph.getNode(this.root),c=this.config,d=this.canvas.getSize(),e=d.width,f=d.height,g=c.offset,h=c.constrained?c.levelsToShow:Number.MAX_VALUE;this.controller.onBeforeCompute(b),o.Util.computeLevels(this.graph,b.id,0,"ignore");var i=0;o.Util.eachLevel(b,0,!1,function(a,b){b>i&&(i=b)});var j=this.graph.getNode(this.clickedNode&&this.clickedNode.id||b.id),k=Math.min(i,h-1),l=j._depth;this.layout.horizontal()?this.computeSubtree(j,-e/2,-f/2,e/(k+1),f,l,k,a):this.computeSubtree(j,-e/2,-f/2,e,f/(k+1),l,k,a)},computeSubtree:function(b,c,d,e,f,g,h,i){b.getPos(i).setc(c,d),b.setData("width",e,i),b.setData("height",f,i);var j,k=0,l=0,m=o.Util.getSubnodes(b,[1,1],"ignore");if(!m.length)return;a.each(m,function(a){l+=a.getData("dim")});for(var n=0,p=m.length;n<p;n++)this.layout.horizontal()?(j=f*m[n].getData("dim")/l,this.computeSubtree(m[n],c+e,d,e,j,g,h,i),d+=j):(j=e*m[n].getData("dim")/l,this.computeSubtree(m[n],c,d+f,j,f,g,h,i),c+=j)}}),$jit.Icicle=new b({Implements:[s,i,t.Icicle],layout:{orientation:"h",vertical:function(){return this.orientation=="v"},horizontal:function(){return this.orientation=="h"},change:function(){this.orientation=this.vertical()?"h":"v"}},initialize:function(b){var c={animate:!1,orientation:"h",offset:2,levelsToShow:Number.MAX_VALUE,constrained:!1,Node:{type:"rectangle",overridable:!0},Edge:{type:"none"},Label:{type:"Native"},duration:700,fps:45},d=e("Canvas","Node","Edge","Fx","Tips","NodeStyles","Events","Navigation","Controller","Label");this.controller=this.config=a.merge(d,c,b),this.layout.orientation=this.config.orientation;var f=this.config;f.useCanvas?(this.canvas=f.useCanvas,this.config.labelContainer=this.canvas.id+"-label"):(this.canvas=new j(this,f),this.config.labelContainer=(typeof f.injectInto=="string"?f.injectInto:f.injectInto.id)+"-label"),this.graphOptions={klass:m,Node:{selected:!1,exist:!0,drawn:!0}},this.graph=new o(this.graphOptions,this.config.Node,this.config.Edge,this.config.Label),this.labels=new $jit.Icicle.Label[this.config.Label.type](this),this.fx=new $jit.Icicle.Plot(this,$jit.Icicle),this.op=new $jit.Icicle.Op(this),this.group=new $jit.Icicle.Group(this),this.clickedNode=null,this.initializeExtras()},refresh:function(){var a=this.config.Label.type;if(a!="Native"){var b=this;this.graph.eachNode(function(a){b.labels.hideLabel(a,!1)})}this.compute(),this.plot()},plot:function(){this.fx.plot(this.config)},enter:function(a){if(this.busy)return;this.busy=!0;var b=this,c=this.config,d={onComplete:function(){c.request&&b.compute(),c.animate?(b.graph.nodeList.setDataset(["current","end"],{alpha:[1,0]}),o.Util.eachSubgraph(a,function(a){a.setData("alpha",1,"end")},"ignore"),b.fx.animate({duration:500,modes:["node-property:alpha"],onComplete:function(){b.clickedNode=a,b.compute("end"),b.fx.animate({modes:["linear","node-property:width:height"],duration:1e3,onComplete:function(){b.busy=!1,b.clickedNode=a}})}})):(b.clickedNode=a,b.busy=!1,b.refresh())}};c.request?this.requestNodes(clickedNode,d):d.onComplete()},out:function(){if(this.busy)return;var a=this,b=o.Util,c=this.config,d=this.graph,e=b.getParents(d.getNode(this.clickedNode&&this.clickedNode.id||this.root)),f=e[0],g=f,h=this.clickedNode;this.busy=!0,this.events.hoveredNode=!1;if(!f){this.busy=!1;return}callback={onComplete:function(){a.clickedNode=f,c.request?a.requestNodes(f,{onComplete:function(){a.compute(),a.plot(),a.busy=!1}}):(a.compute(),a.plot(),a.busy=!1)}},c.animate?(this.clickedNode=g,this.compute("end"),this.clickedNode=h,this.fx.animate({modes:["linear","node-property:width:height"],duration:1e3,onComplete:function(){a.clickedNode=g,d.nodeList.setDataset(["current","end"],{alpha:[0,1]}),b.eachSubgraph(h,function(a){a.setData("alpha",1)},"ignore"),a.fx.animate({duration:500,modes:["node-property:alpha"],onComplete:function(){callback.onComplete()}})}})):callback.onComplete()},requestNodes:function(b,c){var d=a.merge(this.controller,c),e=this.config.constrained?this.config.levelsToShow:Number.MAX_VALUE;if(d.request){var f=[],g=b._depth;o.Util.eachLevel(b,0,e,function(a){a.drawn&&!o.Util.anySubnode(a)&&(f.push(a),a._level=a._depth-g,this.config.constrained&&(a._level=e-a._level))}),this.group.requestNodes(f,d)}else d.onComplete()}}),$jit.Icicle.Op=new b({Implements:o.Op}),$jit.Icicle.Group=new b({initialize:function(a){this.viz=a,this.canvas=a.canvas,this.config=a.config},requestNodes:function(a,b){var c=0,d=a.length,e={},f=function(){b.onComplete()},g=this.viz;d==0&&f();for(var h=0;h<d;h++)e[a[h].id]=a[h],b.request(a[h].id,a[h]._level,{onComplete:function(a,b){b&&b.children&&(b.id=a,g.op.sum(b,{type:"nothing"})),++c==d&&(o.Util.computeLevels(g.graph,g.root,0),f())}})}}),$jit.Icicle.Plot=new b({Implements:o.Plot,plot:function(b,c){b=b||this.viz.controller;var d=this.viz,e=d.graph,f=e.getNode(d.clickedNode&&d.clickedNode.id||d.root),g=f._depth;d.canvas.clear(),this.plotTree(f,a.merge(b,{withLabels:!0,hideLabels:!1,plotSubtree:function(a,b){return!d.config.constrained||b._depth-g<d.config.levelsToShow}}),c)}}),$jit.Icicle.Label={},$jit.Icicle.Label.Native=new b({Implements:o.Label.Native,renderLabel:function(a,b,c){var d=a.getCtx(),e=b.getData("width"),f=b.getData("height"),g=b.getLabelData("size"),h=d.measureText(b.name);if(f<g*1.5||e<h.width)return;var i=b.pos.getc(!0);d.fillText(b.name,i.x+e/2,i.y+f/2)}}),$jit.Icicle.Label.SVG=new b({Implements:o.Label.SVG,initialize:function(a){this.viz=a},placeLabel:function(a,b,c){var d=b.pos.getc(!0),e=this.viz.canvas,f=e.getSize(),g={x:Math.round(d.x+f.width/2),y:Math.round(d.y+f.height/2)};a.setAttribute("x",g.x),a.setAttribute("y",g.y),c.onPlaceLabel(a,b)}}),$jit.Icicle.Label.HTML=new b({Implements:o.Label.HTML,initialize:function(a){this.viz=a},placeLabel:function(a,b,c){var d=b.pos.getc(!0),e=this.viz.canvas,f=e.getSize(),g={x:Math.round(d.x+f.width/2),y:Math.round(d.y+f.height/2)},h=a.style;h.left=g.x+"px",h.top=g.y+"px",h.display="",c.onPlaceLabel(a,b)}}),$jit.Icicle.Plot.NodeTypes=new b({none:{render:a.empty},rectangle:{render:function(b,c,d){var e=this.viz.config,f=e.offset,g=b.getData("width"),h=b.getData("height"),i=b.getData("border"),j=b.pos.getc(!0),k=j.x+f/2,l=j.y+f/2,m=c.getCtx();if(g-f<2||h-f<2)return;if(e.cushion){var n=b.getData("color"),o=m.createRadialGradient(k+(g-f)/2,l+(h-f)/2,1,k+(g-f)/2,l+(h-f)/2,g<h?h:g),p=a.rgbToHex(a.map(a.hexToRgb(n),function(a){return a*.3>>0}));o.addColorStop(0,n),o.addColorStop(1,p),m.fillStyle=o}i&&(m.strokeStyle=i,m.lineWidth=3),m.fillRect(k,l,Math.max(0,g-f),Math.max(0,h-f)),i&&m.strokeRect(j.x,j.y,g,h)},contains:function(a,b){if(this.viz.clickedNode&&!$jit.Graph.Util.isDescendantOf(a,this.viz.clickedNode.id))return!1;var c=a.pos.getc(!0),d=a.getData("width"),e=a.getData("height");return this.nodeHelper.rectangle.contains({x:c.x+d/2,y:c.y+e/2},b,d,e)}}}),$jit.Icicle.Plot.EdgeTypes=new b({none:a.empty}),t.ForceDirected=new b({getOptions:function(a){var b=this.canvas.getSize(),c=b.width,d=b.height,e=0;this.graph.eachNode(function(a){e++});var f=c*d/e,g=Math.sqrt(f),h=this.config.levelDistance;return{width:c,height:d,tstart:c*.1,nodef:function(a){return f/(a||1)},edgef:function(a){return g*(a-h)}}},compute:function(b,c){var d=a.splat(b||["current","start","end"]),e=this.getOptions();u.compute(this.graph,d,this.config),this.graph.computeLevels(this.root,0,"ignore"),this.graph.eachNode(function(b){a.each(d,function(c){var f=b.getPos(c);f.equals(m.KER)&&(f.x=e.width/5*(Math.random()-.5),f.y=e.height/5*(Math.random()-.5)),b.disp={},a.each(d,function(a){b.disp[a]=n(0,0)})})}),this.computePositions(d,e,c)},computePositions:function(a,b,c){var d=this.config.iterations,e=0,f=this;if(c)(function g(){for(var h=c.iter,i=0;i<h;i++){b.t=b.tstart,d&&(b.t*=1-e++/(d-1)),f.computePositionStep(a,b);if(d&&e>=d){c.onComplete();return}}c.onStep(Math.round(e/(d-1)*100)),setTimeout(g,1)})();else for(;e<d;e++)b.t=b.tstart*(1-e/(d-1)),this.computePositionStep(a,b)},computePositionStep:function(b,c){var d=this.graph,e=Math.min,f=Math.max,g=n(0,0);d.eachNode(function(e){a.each(b,function(a){e.disp[a].x=0,e.disp[a].y=0}),d.eachNode(function(d){d.id!=e.id&&a.each(b,function(a){var b=e.getPos(a),f=d.getPos(a);g.x=b.x-f.x,g.y=b.y-f.y;var h=g.norm()||1;e.disp[a].$add(g.$scale(c.nodef(h)/h))})})});var h=!!d.getNode(this.root).visited;d.eachNode(function(d){d.eachAdjacency(function(e){var f=e.nodeTo;!!f.visited===h&&a.each(b,function(a){var b=d.getPos(a),e=f.getPos(a);g.x=b.x-e.x,g.y=b.y-e.y;var h=g.norm()||1;d.disp[a].$add(g.$scale(-c.edgef(h)/h)),f.disp[a].$add(g.$scale(-1))})}),d.visited=!h});var i=c.t,j=c.width/2,k=c.height/2;d.eachNode(function(c){a.each(b,function(a){var b=c.disp[a],d=b.norm()||1,a=c.getPos(a);a.$add(n(b.x*e(Math.abs(b.x),i)/d,b.y*e(Math.abs(b.y),i)/d)),a.x=e(j,f(-j,a.x)),a.y=e(k,f(-k,a.y))})})}}),$jit.ForceDirected=new b({Implements:[s,i,t.ForceDirected],initialize:function(b){var c=$jit.ForceDirected,d={iterations:50,levelDistance:50};this.controller=this.config=a.merge(e("Canvas","Node","Edge","Fx","Tips","NodeStyles","Events","Navigation","Controller","Label"),d,b);var f=this.config;f.useCanvas?(this.canvas=f.useCanvas,this.config.labelContainer=this.canvas.id+"-label"):(f.background&&(f.background=a.merge({type:"Circles"},f.background)),this.canvas=new j(this,f),this.config.labelContainer=(typeof f.injectInto=="string"?f.injectInto:f.injectInto.id)+"-label"),this.graphOptions={klass:m,Node:{selected:!1,exist:!0,drawn:!0}},this.graph=new o(this.graphOptions,this.config.Node,this.config.Edge),this.labels=new c.Label[f.Label.type](this),this.fx=new c.Plot(this,c),this.op=new c.Op(this),this.json=null,this.busy=!1,this.initializeExtras()},refresh:function(){this.compute(),this.plot()},reposition:function(){this.compute("end")},computeIncremental:function(b){b=a.merge({iter:20,property:"end",onStep:a.empty,onComplete:a.empty},b||{}),this.config.onBeforeCompute(this.graph.getNode(this.root)),this.compute(b.property,b)},plot:function(){this.fx.plot()},animate:function(b){this.fx.animate(a.merge({modes:["linear"]},b||{}))}}),$jit.ForceDirected.$extend=!0,function(c){c.Op=new b({Implements:o.Op}),c.Plot=new b({Implements:o.Plot}),c.Label={},c.Label.Native=new b({Implements:o.Label.Native}),c.Label.SVG=new b({Implements:o.Label.SVG,initialize:function(a){this.viz=a},placeLabel:function(a,b,c){var d=b.pos.getc(!0),e=this.viz.canvas,f=e.translateOffsetX,g=e.translateOffsetY,h=e.scaleOffsetX,i=e.scaleOffsetY,j=e.getSize(),k={x:Math.round(d.x*h+f+j.width/2),y:Math.round(d.y*i+g+j.height/2)};a.setAttribute("x",k.x),a.setAttribute("y",k.y),c.onPlaceLabel(a,b)}}),c.Label.HTML=new b({Implements:o.Label.HTML,initialize:function(a){this.viz=a},placeLabel:function(a,b,c){var d=b.pos.getc(!0),e=this.viz.canvas,f=e.translateOffsetX,g=e.translateOffsetY,h=e.scaleOffsetX,i=e.scaleOffsetY,j=e.getSize(),k={x:Math.round(d.x*h+f+j.width/2),y:Math.round(d.y*i+g+j.height/2)},l=a.style;l.left=k.x+"px",l.top=k.y+"px",l.display=this.fitsInCanvas(k,e)?"":"none",c.onPlaceLabel(a,b)}}),c.Plot.NodeTypes=new b({none:{render:a.empty,contains:a.lambda(!1)},circle:{render:function(a,b){var c=a.pos.getc(!0),d=a.getData("dim");this.nodeHelper.circle.render("fill",c,d,b)},contains:function(a,b){var c=a.pos.getc(!0),d=a.getData("dim");return this.nodeHelper.circle.contains(c,b,d)}},ellipse:{render:function(a,b){var c=a.pos.getc(!0),d=a.getData("width"),e=a.getData("height");this.nodeHelper.ellipse.render("fill",c,d,e,b)},contains:function(a,b){var c=a.pos.getc(!0),d=a.getData("width"),e=a.getData("height");return this.nodeHelper.ellipse.contains(c,b,d,e)}},square:{render:function(a,b){var c=a.pos.getc(!0),d=a.getData("dim");this.nodeHelper.square.render("fill",c,d,b)},contains:function(a,b){var c=a.pos.getc(!0),d=a.getData("dim");return this.nodeHelper.square.contains(c,b,d)}},rectangle:{render:function(a,b){var c=a.pos.getc(!0),d=a.getData("width"),e=a.getData("height");this.nodeHelper.rectangle.render("fill",c,d,e,b)},contains:function(a,b){var c=a.pos.getc(!0),d=a.getData("width"),e=a.getData("height");return this.nodeHelper.rectangle.contains(c,b,d,e)}},triangle:{render:function(a,b){var c=a.pos.getc(!0),d=a.getData("dim");this.nodeHelper.triangle.render("fill",c,d,b)},contains:function(a,b){var c=a.pos.getc(!0),d=a.getData("dim");return this.nodeHelper.triangle.contains(c,b,d)}},star:{render:function(a,b){var c=a.pos.getc(!0),d=a.getData("dim");this.nodeHelper.star.render("fill",c,d,b)},contains:function(a,b){var c=a.pos.getc(!0),d=a.getData("dim");return this.nodeHelper.star.contains(c,b,d)}}}),c.Plot.EdgeTypes=new b({none:a.empty,line:{render:function(a,b){var c=a.nodeFrom.pos.getc(!0),d=a.nodeTo.pos.getc(!0);this.edgeHelper.line.render(c,d,b)},contains:function(a,b){var c=a.nodeFrom.pos.getc(!0),d=a.nodeTo.pos.getc(!0);return this.edgeHelper.line.contains(c,d,b,this.edge.epsilon)}},arrow:{render:function(a,b){var c=a.nodeFrom.pos.getc(!0),d=a.nodeTo.pos.getc(!0),e=a.getData("dim"),f=a.data.$direction,g=f&&f.length>1&&f[0]!=a.nodeFrom.id;this.edgeHelper.arrow.render(c,d,e,g,b)},contains:function(a,b){var c=a.nodeFrom.pos.getc(!0),d=a.nodeTo.pos.getc(!0);return this.edgeHelper.arrow.contains(c,d,b,this.edge.epsilon)}}})}($jit.ForceDirected),$jit.TM={};var v=$jit.TM;$jit.TM.$extend=!0,v.Base={layout:{orientation:"h",vertical:function(){return this.orientation=="v"},horizontal:function(){return this.orientation=="h"},change:function(){this.orientation=this.vertical()?"h":"v"}},initialize:function(b){var c={orientation:"h",titleHeight:13,offset:2,levelsToShow:0,constrained:!1,animate:!1,Node:{type:"rectangle",overridable:!0,width:3,height:3,color:"#444"},Label:{textAlign:"center",textBaseline:"top"},Edge:{type:"none"},duration:700,fps:45};this.controller=this.config=a.merge(e("Canvas","Node","Edge","Fx","Controller","Tips","NodeStyles","Events","Navigation","Label"),c,b),this.layout.orientation=this.config.orientation;var d=this.config;d.useCanvas?(this.canvas=d.useCanvas,this.config.labelContainer=this.canvas.id+"-label"):(d.background&&(d.background=a.merge({type:"Circles"},d.background)),this.canvas=new j(this,d),this.config.labelContainer=(typeof d.injectInto=="string"?d.injectInto:d.injectInto.id)+"-label"),this.graphOptions={klass:m,Node:{selected:!1,exist:!0,drawn:!0}},this.graph=new o(this.graphOptions,this.config.Node,this.config.Edge),this.labels=new v.Label[d.Label.type](this),this.fx=new v.Plot(this),this.op=new v.Op(this),this.group=new v.Group(this),this.geom=new v.Geom(this),this.clickedNode=null,this.busy=!1,this.initializeExtras()},refresh:function(){if(this.busy)return;this.busy=!0;var b=this;if(this.config.animate)this.compute("end"),this.config.levelsToShow>0&&this.geom.setRightLevelToShow(this.graph.getNode(this.clickedNode&&this.clickedNode.id||this.root)),this.fx.animate(a.merge(this.config,{modes:["linear","node-property:width:height"],onComplete:function(){b.busy=!1}}));else{var c=this.config.Label.type;if(c!="Native"){var b=this;this.graph.eachNode(function(a){b.labels.hideLabel(a,!1)})}this.busy=!1,this.compute(),this.config.levelsToShow>0&&this.geom.setRightLevelToShow(this.graph.getNode(this.clickedNode&&this.clickedNode.id||this.root)),this.plot()}},plot:function(){this.fx.plot()},leaf:function(a){return a.getSubnodes([1,1],"ignore").length==0},enter:function(a){if(this.busy)return;this.busy=!0;var b=this,c=this.config,d=this.graph,e=a,f=this.clickedNode,g={onComplete:function(){c.levelsToShow>0&&b.geom.setRightLevelToShow(a),(c.levelsToShow>0||c.request)&&b.compute(),c.animate?(d.nodeList.setData("alpha",0,"end"),a.eachSubgraph(function(a){a.setData("alpha",1,"end")},"ignore"),b.fx.animate({duration:500,modes:["node-property:alpha"],onComplete:function(){b.clickedNode=e,b.compute("end"),b.clickedNode=f,b.fx.animate({modes:["linear","node-property:width:height"],duration:1e3,onComplete:function(){b.busy=!1,b.clickedNode=e}})}})):(b.busy=!1,b.clickedNode=a,b.refresh())}};c.request?this.requestNodes(e,g):g.onComplete()},out:function(){if(this.busy)return;this.busy=!0,this.events.hoveredNode=!1;var a=this,b=this.config,c=this.graph,d=c.getNode(this.clickedNode&&this.clickedNode.id||this.root).getParents(),e=d[0],f=e,g=this.clickedNode;if(!e){this.busy=!1;return}callback={onComplete:function(){a.clickedNode=e,b.request?a.requestNodes(e,{onComplete:function(){a.compute(),a.plot(),a.busy=!1}}):(a.compute(),a.plot(),a.busy=!1)}},b.levelsToShow>0&&this.geom.setRightLevelToShow(e),b.animate?(this.clickedNode=f,this.compute("end"),this.clickedNode=g,this.fx.animate({modes:["linear","node-property:width:height"],duration:1e3,onComplete:function(){a.clickedNode=f,c.eachNode(function(a){a.setDataset(["current","end"],{alpha:[0,1]})},"ignore"),g.eachSubgraph(function(a){a.setData("alpha",1)},"ignore"),a.fx.animate({duration:500,modes:["node-property:alpha"],onComplete:function(){callback.onComplete()}})}})):callback.onComplete()},requestNodes:function(b,c){var d=a.merge(this.controller,c),e=this.config.levelsToShow;if(d.request){var f=[],g=b._depth;b.eachLevel(0,e,function(a){var b=e-(a._depth-g);a.drawn&&!a.anySubnode()&&b>0&&(f.push(a),a._level=b)}),this.group.requestNodes(f,d)}else d.onComplete()},reposition:function(){this.compute("end")}},v.Op=new b({Implements:o.Op,initialize:function(a){this.viz=a}}),v.Geom=new b({Implements:o.Geom,getRightLevelToShow:function(){return this.viz.config.levelsToShow},setRightLevelToShow:function(a){var b=this.getRightLevelToShow(),c=this.viz.labels;a.eachLevel(0,b+1,function(d){var e=d._depth-a._depth;e>b?(d.drawn=!1,d.exist=!1,d.ignore=!0,c.hideLabel(d,!1)):(d.drawn=!0,d.exist=!0,delete d.ignore)}),a.drawn=!0,delete a.ignore}}),v.Group=new b({initialize:function(a){this.viz=a,this.canvas=a.canvas,this.config=a.config},requestNodes:function(a,b){var c=0,d=a.length,e={},f=function(){b.onComplete()},g=this.viz;d==0&&f();for(var h=0;h<d;h++)e[a[h].id]=a[h],b.request(a[h].id,a[h]._level,{onComplete:function(a,b){b&&b.children&&(b.id=a,g.op.sum(b,{type:"nothing"})),++c==d&&(g.graph.computeLevels(g.root,0),f())}})}}),v.Plot=new b({Implements:o.Plot,initialize:function(a){this.viz=a,this.config=a.config,this.node=this.config.Node,this.edge=this.config.Edge,this.animation=new d,this.nodeTypes=new v.Plot.NodeTypes,this.edgeTypes=new v.Plot.EdgeTypes,this.labels=a.labels},plot:function(b,c){var d=this.viz,e=d.graph;d.canvas.clear(),this.plotTree(e.getNode(d.clickedNode&&d.clickedNode.id||d.root),a.merge(d.config,b||{},{withLabels:!0,hideLabels:!1,plotSubtree:function(a,b){return a.anySubnode("exist")}}),c)}}),v.Label={},v.Label.Native=new b({Implements:o.Label.Native,initialize:function(a){this.config=a.config,this.leaf=a.leaf},renderLabel:function(a,b,c){if(!this.leaf(b)&&!this.config.titleHeight)return;var d=b.pos.getc(!0),e=a.getCtx(),f=b.getData("width"),g=b.getData("height"),h=d.x+f/2,i=d.y;e.fillText(b.name,h,i,f)}}),v.Label.SVG=new b({Implements:o.Label.SVG,initialize:function(a){this.viz=a,this.leaf=a.leaf,this.config=a.config},placeLabel:function(a,b,c){var d=b.pos.getc(!0),e=this.viz.canvas,f=e.translateOffsetX,g=e.translateOffsetY,h=e.scaleOffsetX,i=e.scaleOffsetY,j=e.getSize(),k={x:Math.round(d.x*h+f+j.width/2),y:Math.round(d.y*i+g+j.height/2)};a.setAttribute("x",k.x),a.setAttribute("y",k.y),!this.leaf(b)&&!this.config.titleHeight&&(a.style.display="none"),c.onPlaceLabel(a,b)}}),v.Label.HTML=new b({Implements:o.Label.HTML,initialize:function(a){this.viz=a,this.leaf=a.leaf,this.config=a.config},placeLabel:function(a,b,c){var d=b.pos.getc(!0),e=this.viz.canvas,f=e.translateOffsetX,g=e.translateOffsetY,h=e.scaleOffsetX,i=e.scaleOffsetY,j=e.getSize(),k={x:Math.round(d.x*h+f+j.width/2),y:Math.round(d.y*i+g+j.height/2)},l=a.style;l.left=k.x+"px",l.top=k.y+"px",l.width=b.getData("width")*h+"px",l.height=b.getData("height")*i+"px",l.zIndex=b._depth*100,l.display="",!this.leaf(b)&&!this.config.titleHeight&&(a.style.display="none"),c.onPlaceLabel(a,b)}}),v.Plot.NodeTypes=new b({none:{render:a.empty},rectangle:{render:function(b,c,d){var e=this.viz.leaf(b),f=this.config,g=f.offset,h=f.titleHeight,i=b.pos.getc(!0),j=b.getData("width"),k=b.getData("height"),l=b.getData("border"),m=c.getCtx(),n=i.x+g/2,o=i.y+g/2;if(j<=g||k<=g)return;if(e){if(f.cushion){var p=m.createRadialGradient(n+(j-g)/2,o+(k-g)/2,1,n+(j-g)/2,o+(k-g)/2,j<k?k:j),q=b.getData("color"),r=a.rgbToHex(a.map(a.hexToRgb(q),function(a){return a*.2>>0}));p.addColorStop(0,q),p.addColorStop(1,r),m.fillStyle=p}m.fillRect(n,o,j-g,k-g),l&&(m.save(),m.strokeStyle=l,m.strokeRect(n,o,j-g,k-g),m.restore())}else h>0&&(m.fillRect(i.x+g/2,i.y+g/2,j-g,h-g),l&&(m.save(),m.strokeStyle=l,m.strokeRect(i.x+g/2,i.y+g/2,j-g,k-g),m.restore()))},contains:function(a,b){if(this.viz.clickedNode&&!a.isDescendantOf(this.viz.clickedNode.id)||a.ignore)return!1;var c=a.pos.getc(!0),d=a.getData("width"),e=this.viz.leaf(a),f=e?a.getData("height"):this.config.titleHeight;return this.nodeHelper.rectangle.contains({x:c.x+d/2,y:c.y+f/2},b,d,f)}}}),v.Plot.EdgeTypes=new b({none:a.empty}),v.SliceAndDice=new b({Implements:[s,i,v.Base,t.TM.SliceAndDice]}),v.Squarified=new b({Implements:[s,i,v.Base,t.TM.Squarified]}),v.Strip=new b({Implements:[s,i,v.Base,t.TM.Strip]}),$jit.RGraph=new b({Implements:[s,i,t.Radial],initialize:function(b){var c=$jit.RGraph,d={interpolation:"linear",levelDistance:100};this.controller=this.config=a.merge(e("Canvas","Node","Edge","Fx","Controller","Tips","NodeStyles","Events","Navigation","Label"),d,b);var f=this.config;f.useCanvas?(this.canvas=f.useCanvas,this.config.labelContainer=this.canvas.id+"-label"):(f.background&&(f.background=a.merge({type:"Circles"},f.background)),this.canvas=new j(this,f),this.config.labelContainer=(typeof f.injectInto=="string"?f.injectInto:f.injectInto.id)+"-label"),this.graphOptions={klass:k,Node:{selected:!1,exist:!0,drawn:!0}},this.graph=new o(this.graphOptions,this.config.Node,this.config.Edge),this.labels=new c.Label[f.Label.type](this),this.fx=new c.Plot(this,c),this.op=new c.Op(this),this.json=null,this.root=null,this.busy=!1,this.parent=!1,this.initializeExtras()},createLevelDistanceFunc:function(){var a=this.config.levelDistance;return function(b){return(b._depth+1)*a}},refresh:function(){this.compute(),this.plot()},reposition:function(){this.compute("end")},plot:function(){this.fx.plot()},getNodeAndParentAngle:function(a){var b=!1,c=this.graph.getNode(a),d=c.getParents(),e=d.length>0?d[0]:!1;if(e){var f=e.pos.getc(),g=c.pos.getc(),h=f.add(g.scale(-1));b=Math.atan2(h.y,h.x),b<0&&(b+=2*Math.PI)}return{parent:e,theta:b}},tagChildren:function(a,b){if(a.angleSpan){var c=[];a.eachAdjacency(function(a){c.push(a.nodeTo)},"ignore");var d=c.length;for(var e=0;e<d&&b!=c[e].id;e++);for(var f=(e+1)%d,g=0;b!=c[f].id;f=(f+1)%d)c[f].dist=g++}},onClick:function(b,c){if(this.root!=b&&!this.busy){this.busy=!0,this.root=b;var d=this;this.controller.onBeforeCompute(this.graph.getNode(b));var e=this.getNodeAndParentAngle(b);this.tagChildren(e.parent,b),this.parent=e.parent,this.compute("end");var f=e.theta-e.parent.endPos.theta;this.graph.eachNode(function(a){a.endPos.set(a.endPos.getp().add(l(f,0)))});var g=this.config.interpolation;c=a.merge({onComplete:a.empty},c||{}),this.fx.animate(a.merge({hideLabels:!0,modes:[g]},c,{onComplete:function(){d.busy=!1,c.onComplete()}}))}}}),$jit.RGraph.$extend=!0,function(c){c.Op=new b({Implements:o.Op}),c.Plot=new b({Implements:o.Plot}),c.Label={},c.Label.Native=new b({Implements:o.Label.Native}),c.Label.SVG=new b({Implements:o.Label.SVG,initialize:function(a){this.viz=a},placeLabel:function(a,b,c){var d=b.pos.getc(!0),e=this.viz.canvas,f=e.translateOffsetX,g=e.translateOffsetY,h=e.scaleOffsetX,i=e.scaleOffsetY,j=e.getSize(),k={x:Math.round(d.x*h+f+j.width/2),y:Math.round(d.y*i+g+j.height/2)};a.setAttribute("x",k.x),a.setAttribute("y",k.y),c.onPlaceLabel(a,b)}}),c.Label.HTML=new b({Implements:o.Label.HTML,initialize:function(a){this.viz=a},placeLabel:function(a,b,c){var d=b.pos.getc(!0),e=this.viz.canvas,f=e.translateOffsetX,g=e.translateOffsetY,h=e.scaleOffsetX,i=e.scaleOffsetY,j=e.getSize(),k={x:Math.round(d.x*h+f+j.width/2),y:Math.round(d.y*i+g+j.height/2)},l=a.style;l.left=k.x+"px",l.top=k.y+"px",l.display=this.fitsInCanvas(k,e)?"":"none",c.onPlaceLabel(a,b)}}),c.Plot.NodeTypes=new b({none:{render:a.empty,contains:a.lambda(!1)},circle:{render:function(a,b){var c=a.pos.getc(!0),d=a.getData("dim");this.nodeHelper.circle.render("fill",c,d,b)},contains:function(a,b){var c=a.pos.getc(!0),d=a.getData("dim");return this.nodeHelper.circle.contains(c,b,d)}},ellipse:{render:function(a,b){var c=a.pos.getc(!0),d=a.getData("width"),e=a.getData("height");this.nodeHelper.ellipse.render("fill",c,d,e,b)},contains:function(a,b){var c=a.pos.getc(!0),d=a.getData("width"),e=a.getData("height");return this.nodeHelper.ellipse.contains(c,b,d,e)}},square:{render:function(a,b){var c=a.pos.getc(!0),d=a.getData("dim");this.nodeHelper.square.render("fill",c,d,b)},contains:function(a,b){var c=a.pos.getc(!0),d=a.getData("dim");return this.nodeHelper.square.contains(c,b,d)}},rectangle:{render:function(a,b){var c=a.pos.getc(!0),d=a.getData("width"),e=a.getData("height");this.nodeHelper.rectangle.render("fill",c,d,e,b)},contains:function(a,b){var c=a.pos.getc(!0),d=a.getData("width"),e=a.getData("height");return this.nodeHelper.rectangle.contains(c,b,d,e)}},triangle:{render:function(a,b){var c=a.pos.getc(!0),d=a.getData("dim");this.nodeHelper.triangle.render("fill",c,d,b)},contains:function(a,b){var c=a.pos.getc(!0),d=a.getData("dim");return this.nodeHelper.triangle.contains(c,b,d)}},star:{render:function(a,b){var c=a.pos.getc(!0),d=a.getData("dim");this.nodeHelper.star.render("fill",c,d,b)},contains:function(a,b){var c=a.pos.getc(!0),d=a.getData("dim");return this.nodeHelper.star.contains(c,b,d)}}}),c.Plot.EdgeTypes=new b({none:a.empty,line:{render:function(a,b){var c=a.nodeFrom.pos.getc(!0),d=a.nodeTo.pos.getc(!0);this.edgeHelper.line.render(c,d,b)},contains:function(a,b){var c=a.nodeFrom.pos.getc(!0),d=a.nodeTo.pos.getc(!0);return this.edgeHelper.line.contains(c,d,b,this.edge.epsilon)}},arrow:{render:function(a,b){var c=a.nodeFrom.pos.getc(!0),d=a.nodeTo.pos.getc(!0),e=a.getData("dim"),f=a.data.$direction,g=f&&f.length>1&&f[0]!=a.nodeFrom.id;this.edgeHelper.arrow.render(c,d,e,g,b)},contains:function(a,b){var c=a.nodeFrom.pos.getc(!0),d=a.nodeTo.pos.getc(!0);return this.edgeHelper.arrow.contains(c,d,b,this.edge.epsilon)}}})}($jit.RGraph),m.prototype.moebiusTransformation=function(a){var b=this.add(a),c=a.$conjugate().$prod(this);return c.x++,b.$div(c)},o.Util.moebiusTransformation=function(a,b,c,d,e){this.eachNode(a,function(a){for(var e=0;e<c.length;e++){var f=b[e].scale(-1),g=d?d:c[e];a.getPos(c[e]).set(a.getPos(g).getc().moebiusTransformation(f))}},e)},$jit.Hypertree=new b({Implements:[s,i,t.Radial],initialize:function(b){var c=$jit.Hypertree,d={radius:"auto",offset:0,Edge:{type:"hyperline"},duration:1500,fps:35};this.controller=this.config=a.merge(e("Canvas","Node","Edge","Fx","Tips","NodeStyles","Events","Navigation","Controller","Label"),d,b);var f=this.config;f.useCanvas?(this.canvas=f.useCanvas,this.config.labelContainer=this.canvas.id+"-label"):(f.background&&(f.background=a.merge({type:"Circles"},f.background)),this.canvas=new j(this,f),this.config.labelContainer=(typeof f.injectInto=="string"?f.injectInto:f.injectInto.id)+"-label"),this.graphOptions={klass:k,Node:{selected:!1,exist:!0,drawn:!0}},this.graph=new o(this.graphOptions,this.config.Node,this.config.Edge),this.labels=new c.Label[f.Label.type](this),this.fx=new c.Plot(this,c),this.op=new c.Op(this),this.json=null,this.root=null,this.busy=!1,this.initializeExtras()},createLevelDistanceFunc:function(){var a=this.getRadius(),b=0,c=Math.max,d=this.config;this.graph.eachNode(function(a){b=c(a._depth,b)},"ignore"),b++;var e=function(b){return function(c){c.scale=a;var e=c._depth+1,f=0,g=Math.pow;while(e)f+=g(b,e--);return f-d.offset}};for(var f=.51;f<=1;f+=.01){var g=(1-Math.pow(f,b))/(1-f);if(g>=2)return e(f-.01)}return e(.75)},getRadius:function(){var a=this.config.radius;if(a!=="auto")return a;var b=this.canvas.getSize();return Math.min(b.width,b.height)/2},refresh:function(a){a?(this.reposition(),this.graph.eachNode(function(a){a.startPos.rho=a.pos.rho=a.endPos.rho,a.startPos.theta=a.pos.theta=a.endPos.theta})):this.compute(),this.plot()},reposition:function(){this.compute("end");var a=this.graph.getNode(this.root).pos.getc().scale(-1);o.Util.moebiusTransformation(this.graph,[a],["end"],"end","ignore"),this.graph.eachNode(function(a){a.ignore&&(a.endPos.rho=a.pos.rho,a.endPos.theta=a.pos.theta)})},plot:function(){this.fx.plot()},onClick:function(a,b){var c=this.graph.getNode(a).pos.getc(!0);this.move(c,b)},move:function(b,c){var d=n(b.x,b.y);if(this.busy===!1&&d.norm()<1){this.busy=!0;var e=this.graph.getClosestNodeToPos(d),f=this;this.graph.computeLevels(e.id,0),this.controller.onBeforeCompute(e),c=a.merge({onComplete:a.empty},c||{}),this.fx.animate(a.merge({modes:["moebius"],hideLabels:!0},c,{onComplete:function(){f.busy=!1,c.onComplete()}}),d)}}}),$jit.Hypertree.$extend=!0,function(c){c.Op=new b({Implements:o.Op}),c.Plot=new b({Implements:o.Plot}),c.Label={},c.Label.Native=new b({Implements:o.Label.Native,initialize:function(a){this.viz=a},renderLabel:function(a,b,c){var d=a.getCtx(),e=b.pos.getc(!0),f=this.viz.getRadius();d.fillText(b.name,e.x*f,e.y*f)}}),c.Label.SVG=new b({Implements:o.Label.SVG,initialize:function(a){this.viz=a},placeLabel:function(a,b,c){var d=b.pos.getc(!0),e=this.viz.canvas,f=e.translateOffsetX,g=e.translateOffsetY,h=e.scaleOffsetX,i=e.scaleOffsetY,j=e.getSize(),k=this.viz.getRadius(),l={x:Math.round(d.x*h*k+f+j.width/2),y:Math.round(d.y*i*k+g+j.height/2)};a.setAttribute("x",l.x),a.setAttribute("y",l.y),c.onPlaceLabel(a,b)}}),c.Label.HTML=new b({Implements:o.Label.HTML,initialize:function(a){this.viz=a},placeLabel:function(a,b,c){var d=b.pos.getc(!0),e=this.viz.canvas,f=e.translateOffsetX,g=e.translateOffsetY,h=e.scaleOffsetX,i=e.scaleOffsetY,j=e.getSize(),k=this.viz.getRadius(),l={x:Math.round(d.x*h*k+f+j.width/2),y:Math.round(d.y*i*k+g+j.height/2)},m=a.style;m.left=l.x+"px",m.top=l.y+"px",m.display=this.fitsInCanvas(l,e)?"":"none",c.onPlaceLabel(a,b)}}),c.Plot.NodeTypes=new b({none:{render:a.empty,contains:a.lambda(!1)},circle:{render:function(a,b){var c=this.node,d=a.getData("dim"),e=a.pos.getc();d=c.transform?d*(1-e.squaredNorm()):d,e.$scale(a.scale),d>.2&&this.nodeHelper.circle.render("fill",e,d,b)},contains:function(a,b){var c=a.getData("dim"),d=a.pos.getc().$scale(a.scale);return this.nodeHelper.circle.contains(d,b,c)}},ellipse:{render:function(a,b){var c=a.pos.getc().$scale(a.scale),d=a.getData("width"),e=a.getData("height");this.nodeHelper.ellipse.render("fill",c,d,e,b)},contains:function(a,b){var c=a.getData("width"),d=a.getData("height"),e=a.pos.getc().$scale(a.scale);return this.nodeHelper.circle.contains(e,b,c,d)}},square:{render:function(a,b){var c=this.node,d=a.getData("dim"),e=a.pos.getc();d=c.transform?d*(1-e.squaredNorm()):d,e.$scale(a.scale),d>.2&&this.nodeHelper.square.render("fill",e,d,b)},contains:function(a,b){var c=a.getData("dim"),d=a.pos.getc().$scale(a.scale);return this.nodeHelper.square.contains(d,b,c)}},rectangle:{render:function(a,b){var c=this.node,d=a.getData("width"),e=a.getData("height"),f=a.pos.getc();d=c.transform?d*(1-f.squaredNorm()):d,e=c.transform?e*(1-f.squaredNorm()):e,f.$scale(a.scale),d>.2&&e>.2&&this.nodeHelper.rectangle.render("fill",f,d,e,b)},contains:function(a,b){var c=a.getData("width"),d=a.getData("height"),e=a.pos.getc().$scale(a.scale);return this.nodeHelper.rectangle.contains(e,b,c,d)}},triangle:{render:function(a,b){var c=this.node,d=a.getData("dim"),e=a.pos.getc();d=c.transform?d*(1-e.squaredNorm()):d,e.$scale(a.scale),d>.2&&this.nodeHelper.triangle.render("fill",e,d,b)},contains:function(a,b){var c=a.getData("dim"),d=a.pos.getc().$scale(a.scale);return this.nodeHelper.triangle.contains(d,b,c)}},star:{render:function(a,b){var c=this.node,d=a.getData("dim"),e=a.pos.getc();d=c.transform?d*(1-e.squaredNorm()):d,e.$scale(a.scale),d>.2&&this.nodeHelper.star.render("fill",e,d,b)},contains:function(a,b){var c=a.getData("dim"),d=a.pos.getc().$scale(a.scale);return this.nodeHelper.star.contains(d,b,c)}}}),c.Plot.EdgeTypes=new b({none:a.empty,line:{render:function(a,b){var c=a.nodeFrom.pos.getc(!0),d=a.nodeTo.pos.getc(!0),e=a.nodeFrom.scale;this.edgeHelper.line.render({x:c.x*e,y:c.y*e},{x:d.x*e,y:d.y*e},b)},contains:function(a,b){var c=a.nodeFrom.pos.getc(!0),d=a.nodeTo.pos.getc(!0),e=a.nodeFrom.scale;this.edgeHelper.line.contains({x:c.x*e,y:c.y*e},{x:d.x*e,y:d.y*e},b,this.edge.epsilon)}},arrow:{render:function(a,b){var c=a.nodeFrom.pos.getc(!0),d=a.nodeTo.pos.getc(!0),e=a.nodeFrom.scale,f=a.getData("dim"),g=a.data.$direction,h=g&&g.length>1&&g[0]!=a.nodeFrom.id;this.edgeHelper.arrow.render({x:c.x*e,y:c.y*e},{x:d.x*e,y:d.y*e},f,h,b)},contains:function(a,b){var c=a.nodeFrom.pos.getc(!0),d=a.nodeTo.pos.getc(!0),e=a.nodeFrom.scale;this.edgeHelper.arrow.contains({x:c.x*e,y:c.y*e},{x:d.x*e,y:d.y*e},b,this.edge.epsilon)}},hyperline:{render:function(a,b){var c=a.nodeFrom.pos.getc(),d=a.nodeTo.pos.getc(),e=this.viz.getRadius();this.edgeHelper.hyperline.render(c,d,e,b)},contains:a.lambda(!1)}})}($jit.Hypertree)}(),document.createElement("canvas").getContext||function(){function j(){return this.context_||(this.context_=new N(this))}function l(a,b,c){var d=k.call(arguments,2);return function(){return a.apply(b,d.concat(k.call(arguments)))}}function m(a){return String(a).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function n(a,b,c){a.namespaces[b]||a.namespaces.add(b,c,"#default#VML")}function o(a){n(a,"g_vml_","urn:schemas-microsoft-com:vml"),n(a,"g_o_","urn:schemas-microsoft-com:office:office");if(!a.styleSheets.ex_canvas_){var b=a.createStyleSheet();b.owningElement.id="ex_canvas_",b.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}"}}function q(a){var b=a.srcElement;switch(a.propertyName){case"width":b.getContext().clearRect(),b.style.width=b.attributes.width.nodeValue+"px",b.firstChild.style.width=b.clientWidth+"px";break;case"height":b.getContext().clearRect(),b.style.height=b.attributes.height.nodeValue+"px",b.firstChild.style.height=b.clientHeight+"px"}}function r(a){var b=a.srcElement;b.firstChild&&(b.firstChild.style.width=b.clientWidth+"px",b.firstChild.style.height=b.clientHeight+"px")}function v(){return[[1,0,0],[0,1,0],[0,0,1]]}function w(a,b){var c=v();for(var d=0;d<3;d++)for(var e=0;e<3;e++){var f=0;for(var g=0;g<3;g++)f+=a[d][g]*b[g][e];c[d][e]=f}return c}function x(a,b){b.fillStyle=a.fillStyle,b.lineCap=a.lineCap,b.lineJoin=a.lineJoin,b.lineWidth=a.lineWidth,b.miterLimit=a.miterLimit,b.shadowBlur=a.shadowBlur,b.shadowColor=a.shadowColor,b.shadowOffsetX=a.shadowOffsetX,b.shadowOffsetY=a.shadowOffsetY,b.strokeStyle=a.strokeStyle,b.globalAlpha=a.globalAlpha,b.font=a.font,b.textAlign=a.textAlign,b.textBaseline=a.textBaseline,b.arcScaleX_=a.arcScaleX_,b.arcScaleY_=a.arcScaleY_,b.lineScale_=a.lineScale_}function z(a){var b=a.indexOf("(",3),c=a.indexOf(")",b+1),d=a.substring(b+1,c).split(",");if(d.length!=4||a.charAt(3)!="a")d[3]=1;return d}function A(a){return parseFloat(a)/100}function B(a,b,c){return Math.min(c,Math.max(b,a))}function C(a){var b,c,d,e,f,g;e=parseFloat(a[0])/360%360,e<0&&e++,f=B(A(a[1]),0,1),g=B(A(a[2]),0,1);if(f==0)b=c=d=g;else{var h=g<.5?g*(1+f):g+f-g*f,i=2*g-h;b=D(i,h,e+1/3),c=D(i,h,e),d=D(i,h,e-1/3)}return"#"+s[Math.floor(b*255)]+s[Math.floor(c*255)]+s[Math.floor(d*255)]}function D(a,b,c){return c<0&&c++,c>1&&c--,6*c<1?a+(b-a)*6*c:2*c<1?b:3*c<2?a+(b-a)*(2/3-c)*6:a}function F(a){if(a in E)return E[a];var b,c=1;a=String(a);if(a.charAt(0)=="#")b=a;else if(/^rgb/.test(a)){var d=z(a),b="#",e;for(var f=0;f<3;f++)d[f].indexOf("%")!=-1?e=Math.floor(A(d[f])*255):e=+d[f],b+=s[B(e,0,255)];c=+d[3]}else if(/^hsl/.test(a)){var d=z(a);b=C(d),c=d[3]}else b=y[a]||a;return E[a]={color:b,alpha:c}}function I(a){if(H[a])return H[a];var b=document.createElement("div"),c=b.style;try{c.font=a}catch(d){}return H[a]={style:c.fontStyle||G.style,variant:c.fontVariant||G.variant,weight:c.fontWeight||G.weight,size:c.fontSize||G.size,family:c.fontFamily||G.family}}function J(a,b){var c={};for(var d in a)c[d]=a[d];var e=parseFloat(b.currentStyle.fontSize),f=parseFloat(a.size);return typeof a.size=="number"?c.size=a.size:a.size.indexOf("px")!=-1?c.size=f:a.size.indexOf("em")!=-1?c.size=e*f:a.size.indexOf("%")!=-1?c.size=e/100*f:a.size.indexOf("pt")!=-1?c.size=f/.75:c.size=e,c.size*=.981,c}function K(a){return a.style+" "+a.variant+" "+a.weight+" "+a.size+"px "+a.family}function M(a){return L[a]||"square"}function N(a){this.m_=v(),this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.strokeStyle="#000",this.fillStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=g*1,this.globalAlpha=1,this.font="10px sans-serif",this.textAlign="left",this.textBaseline="alphabetic",this.canvas=a;var b="width:"+a.clientWidth+"px;height:"+a.clientHeight+"px;overflow:hidden;position:absolute",c=a.ownerDocument.createElement("div");c.style.cssText=b,a.appendChild(c);var d=c.cloneNode(!1);d.style.backgroundColor="red",d.style.filter="alpha(opacity=0)",a.appendChild(d),this.element_=c,this.arcScaleX_=1,this.arcScaleY_=1,this.lineScale_=1}function P(a,b,c,d){a.currentPath_.push({type:"bezierCurveTo",cp1x:b.x,cp1y:b.y,cp2x:c.x,cp2y:c.y,x:d.x,y:d.y}),a.currentX_=d.x,a.currentY_=d.y}function Q(a,b){var c=F(a.strokeStyle),d=c.color,e=c.alpha*a.globalAlpha,f=a.lineScale_*a.lineWidth;f<1&&(e*=f),b.push("<g_vml_:stroke",' opacity="',e,'"',' joinstyle="',a.lineJoin,'"',' miterlimit="',a.miterLimit,'"',' endcap="',M(a.lineCap),'"',' weight="',f,'px"',' color="',d,'" />')}function R(b,c,d,e){var f=b.fillStyle,h=b.arcScaleX_,i=b.arcScaleY_,j=e.x-d.x,k=e.y-d.y;if(f instanceof V){var l=0,m={x:0,y:0},n=0,o=1;if(f.type_=="gradient"){var p=f.x0_/h,q=f.y0_/i,r=f.x1_/h,s=f.y1_/i,t=S(b,p,q),u=S(b,r,s),v=u.x-t.x,w=u.y-t.y;l=Math.atan2(v,w)*180/Math.PI,l<0&&(l+=360),l<1e-6&&(l=0)}else{var t=S(b,f.x0_,f.y0_);m={x:(t.x-d.x)/j,y:(t.y-d.y)/k},j/=h*g,k/=i*g;var x=a.max(j,k);n=2*f.r0_/x,o=2*f.r1_/x-n}var y=f.colors_;y.sort(function(a,b){return a.offset-b.offset});var z=y.length,A=y[0].color,B=y[z-1].color,C=y[0].alpha*b.globalAlpha,D=y[z-1].alpha*b.globalAlpha,E=[];for(var G=0;G<z;G++){var H=y[G];E.push(H.offset*o+n+" "+H.color)}c.push('<g_vml_:fill type="',f.type_,'"',' method="none" focus="100%"',' color="',A,'"',' color2="',B,'"',' colors="',E.join(","),'"',' opacity="',D,'"',' g_o_:opacity2="',C,'"',' angle="',l,'"',' focusposition="',m.x,",",m.y,'" />')}else if(f instanceof W){if(j&&k){var I=-d.x,J=-d.y;c.push("<g_vml_:fill",' position="',I/j*h*h,",",J/k*i*i,'"',' type="tile"',' src="',f.src_,'" />')}}else{var K=F(b.fillStyle),L=K.color,M=K.alpha*b.globalAlpha;c.push('<g_vml_:fill color="',L,'" opacity="',M,'" />')}}function S(a,b,c){var d=a.m_;return{x:g*(b*d[0][0]+c*d[1][0]+d[2][0])-h,y:g*(b*d[0][1]+c*d[1][1]+d[2][1])-h}}function T(a){return isFinite(a[0][0])&&isFinite(a[0][1])&&isFinite(a[1][0])&&isFinite(a[1][1])&&isFinite(a[2][0])&&isFinite(a[2][1])}function U(a,b,c){if(!T(b))return;a.m_=b;if(c){var d=b[0][0]*b[1][1]-b[0][1]*b[1][0];a.lineScale_=f(e(d))}}function V(a){this.type_=a,this.x0_=0,this.y0_=0,this.r0_=0,this.x1_=0,this.y1_=0,this.r1_=0,this.colors_=[]}function W(a,b){Y(a);switch(b){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=b;break;default:X("SYNTAX_ERR")}this.src_=a.src,this.width_=a.width,this.height_=a.height}function X(a){throw new Z(a)}function Y(a){(!a||a.nodeType!=1||a.tagName!="IMG")&&X("TYPE_MISMATCH_ERR"),a.readyState!="complete"&&X("INVALID_STATE_ERR")}function Z(a){this.code=this[a],this.message=a+": DOM Exception "+this.code}var a=Math,b=a.round,c=a.sin,d=a.cos,e=a.abs,f=a.sqrt,g=10,h=g/2,i=+navigator.userAgent.match(/MSIE ([\d.]+)?/)[1],k=Array.prototype.slice;o(document);var p={init:function(a){var b=a||document;b.createElement("canvas"),b.attachEvent("onreadystatechange",l(this.init_,this,b))},init_:function(a){var b=a.getElementsByTagName("canvas");for(var c=0;c<b.length;c++)this.initElement(b[c])},initElement:function(a){if(!a.getContext){a.getContext=j,o(a.ownerDocument),a.innerHTML="",a.attachEvent("onpropertychange",q),a.attachEvent("onresize",r);var b=a.attributes;b.width&&b.width.specified?a.style.width=b.width.nodeValue+"px":a.width=a.clientWidth,b.height&&b.height.specified?a.style.height=b.height.nodeValue+"px":a.height=a.clientHeight}return a}};p.init();var s=[];for(var t=0;t<16;t++)for(var u=0;u<16;u++)s[t*16+u]=t.toString(16)+u.toString(16);var y={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},E={},G={style:"normal",variant:"normal",weight:"normal",size:10,family:"sans-serif"},H={},L={butt:"flat",round:"round"},O=N.prototype;O.clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null),this.element_.innerHTML=""},O.beginPath=function(){this.currentPath_=[]},O.moveTo=function(a,b){var c=S(this,a,b);this.currentPath_.push({type:"moveTo",x:c.x,y:c.y}),this.currentX_=c.x,this.currentY_=c.y},O.lineTo=function(a,b){var c=S(this,a,b);this.currentPath_.push({type:"lineTo",x:c.x,y:c.y}),this.currentX_=c.x,this.currentY_=c.y},O.bezierCurveTo=function(a,b,c,d,e,f){var g=S(this,e,f),h=S(this,a,b),i=S(this,c,d);P(this,h,i,g)},O.quadraticCurveTo=function(a,b,c,d){var e=S(this,a,b),f=S(this,c,d),g={x:this.currentX_+2/3*(e.x-this.currentX_),y:this.currentY_+2/3*(e.y-this.currentY_)},h={x:g.x+(f.x-this.currentX_)/3,y:g.y+(f.y-this.currentY_)/3};P(this,g,h,f)},O.arc=function(a,b,e,f,i,j){e*=g;var k=j?"at":"wa",l=a+d(f)*e-h,m=b+c(f)*e-h,n=a+d(i)*e-h,o=b+c(i)*e-h;l==n&&!j&&(l+=.125);var p=S(this,a,b),q=S(this,l,m),r=S(this,n,o);this.currentPath_.push({type:k,x:p.x,y:p.y,radius:e,xStart:q.x,yStart:q.y,xEnd:r.x,yEnd:r.y})},O.rect=function(a,b,c,d){this.moveTo(a,b),this.lineTo(a+c,b),this.lineTo(a+c,b+d),this.lineTo(a,b+d),this.closePath()},O.strokeRect=function(a,b,c,d){var e=this.currentPath_;this.beginPath(),this.moveTo(a,b),this.lineTo(a+c,b),this.lineTo(a+c,b+d),this.lineTo(a,b+d),this.closePath(),this.stroke(),this.currentPath_=e},O.fillRect=function(a,b,c,d){var e=this.currentPath_;this.beginPath(),this.moveTo(a,b),this.lineTo(a+c,b),this.lineTo(a+c,b+d),this.lineTo(a,b+d),this.closePath(),this.fill(),this.currentPath_=e},O.createLinearGradient=function(a,b,c,d){var e=new V("gradient");return e.x0_=a,e.y0_=b,e.x1_=c,e.y1_=d,e},O.createRadialGradient=function(a,b,c,d,e,f){var g=new V("gradientradial");return g.x0_=a,g.y0_=b,g.r0_=c,g.x1_=d,g.y1_=e,g.r1_=f,g},O.drawImage=function(c,d){var e,f,h,i,j,k,l,m,n=c.runtimeStyle.width,o=c.runtimeStyle.height;c.runtimeStyle.width="auto",c.runtimeStyle.height="auto";var p=c.width,q=c.height;c.runtimeStyle.width=n,c.runtimeStyle.height=o;if(arguments.length==3)e=arguments[1],f=arguments[2],j=k=0,l=h=p,m=i=q;else if(arguments.length==5)e=arguments[1],f=arguments[2],h=arguments[3],i=arguments[4],j=k=0,l=p,m=q;else{if(arguments.length!=9)throw Error("Invalid number of arguments");j=arguments[1],k=arguments[2],l=arguments[3],m=arguments[4],e=arguments[5],f=arguments[6],h=arguments[7],i=arguments[8]}var r=S(this,e,f),s=l/2,t=m/2,u=[],v=10,w=10;u.push(" <g_vml_:group",' coordsize="',g*v,",",g*w,'"',' coordorigin="0,0"',' style="width:',v,"px;height:",w,"px;position:absolute;");if(this.m_[0][0]!=1||this.m_[0][1]||this.m_[1][1]!=1||this.m_[1][0]){var x=[];x.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",b(r.x/g),",","Dy=",b(r.y/g),"");var y=r,z=S(this,e+h,f),A=S(this,e,f+i),B=S(this,e+h,f+i);y.x=a.max(y.x,z.x,A.x,B.x),y.y=a.max(y.y,z.y,A.y,B.y),u.push("padding:0 ",b(y.x/g),"px ",b(y.y/g),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",x.join(""),", sizingmethod='clip');")}else u.push("top:",b(r.y/g),"px;left:",b(r.x/g),"px;");u.push(' ">','<g_vml_:image src="',c.src,'"',' style="width:',g*h,"px;"," height:",g*i,'px"',' cropleft="',j/p,'"',' croptop="',k/q,'"',' cropright="',(p-j-l)/p,'"',' cropbottom="',(q-k-m)/q,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",u.join(""))},O.stroke=function(a){var c=[],d=!1,e=10,f=10;c.push("<g_vml_:shape",' filled="',!!a,'"',' style="position:absolute;width:',e,"px;height:",f,'px;"',' coordorigin="0,0"',' coordsize="',g*e,",",g*f,'"',' stroked="',!a,'"',' path="');var h=!1,i={x:null,y:null},j={x:null,y:null};for(var k=0;k<this.currentPath_.length;k++){var l=this.currentPath_[k],m;switch(l.type){case"moveTo":m=l,c.push(" m ",b(l.x),",",b(l.y));break;case"lineTo":c.push(" l ",b(l.x),",",b(l.y));break;case"close":c.push(" x "),l=null;break;case"bezierCurveTo":c.push(" c ",b(l.cp1x),",",b(l.cp1y),",",b(l.cp2x),",",b(l.cp2y),",",b(l.x),",",b(l.y));break;case"at":case"wa":c.push(" ",l.type," ",b(l.x-this.arcScaleX_*l.radius),",",b(l.y-this.arcScaleY_*l.radius)," ",b(l.x+this.arcScaleX_*l.radius),",",b(l.y+this.arcScaleY_*l.radius)," ",b(l.xStart),",",b(l.yStart)," ",b(l.xEnd),",",b(l.yEnd))}if(l){if(i.x==null||l.x<i.x)i.x=l.x;if(j.x==null||l.x>j.x)j.x=l.x;if(i.y==null||l.y<i.y)i.y=l.y;if(j.y==null||l.y>j.y)j.y=l.y}}c.push(' ">'),a?R(this,c,i,j):Q(this,c),c.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",c.join(""))},O.fill=function(){this.stroke(!0)},O.closePath=function(){this.currentPath_.push({type:"close"})},O.save=function(){var a={};x(this,a),this.aStack_.push(a),this.mStack_.push(this.m_),this.m_=w(v(),this.m_)},O.restore=function(){this.aStack_.length&&(x(this.aStack_.pop(),this),this.m_=this.mStack_.pop())},O.translate=function(a,b){var c=[[1,0,0],[0,1,0],[a,b,1]];U(this,w(c,this.m_),!1)},O.rotate=function(a){var b=d(a),e=c(a),f=[[b,e,0],[-e,b,0],[0,0,1]];U(this,w(f,this.m_),!1)},O.scale=function(a,b){this.arcScaleX_*=a,this.arcScaleY_*=b;var c=[[a,0,0],[0,b,0],[0,0,1]];U(this,w(c,this.m_),!0)},O.transform=function(a,b,c,d,e,f){var g=[[a,b,0],[c,d,0],[e,f,1]];U(this,w(g,this.m_),!0)},O.setTransform=function(a,b,c,d,e,f){var g=[[a,b,0],[c,d,0],[e,f,1]];U(this,g,!0)},O.drawText_=function(a,c,d,e,f){var h=this.m_,i=1e3,j=0,k=i,l={x:0,y:0},n=[],o=J(I(this.font),this.element_),p=K(o),q=this.element_.currentStyle,r=this.textAlign.toLowerCase();switch(r){case"left":case"center":case"right":break;case"end":r=q.direction=="ltr"?"right":"left";break;case"start":r=q.direction=="rtl"?"right":"left";break;default:r="left"}switch(this.textBaseline){case"hanging":case"top":l.y=o.size/1.75;break;case"middle":break;default:case null:case"alphabetic":case"ideographic":case"bottom":l.y=-o.size/2.25}switch(r){case"right":j=i,k=.05;break;case"center":j=k=i/2}var s=S(this,c+l.x,d+l.y);n.push('<g_vml_:line from="',-j,' 0" to="',k,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!f,'" stroked="',!!f,'" style="position:absolute;width:1px;height:1px;">'),f?Q(this,n):R(this,n,{x:-j,y:0},{x:k,y:o.size});var t=h[0][0].toFixed(3)+","+h[1][0].toFixed(3)+","+h[0][1].toFixed(3)+","+h[1][1].toFixed(3)+",0,0",u=b(s.x/g)+","+b(s.y/g);n.push('<g_vml_:skew on="t" matrix="',t,'" ',' offset="',u,'" origin="',j,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',m(a),'" style="v-text-align:',r,";font:",m(p),'" /></g_vml_:line>'),this.element_.insertAdjacentHTML("beforeEnd",n.join(""))},O.fillText=function(a,b,c,d){this.drawText_(a,b,c,d,!1)},O.strokeText=function(a,b,c,d){this.drawText_(a,b,c,d,!0)},O.measureText=function(a){if(!this.textMeasureEl_){var b='<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>';this.element_.insertAdjacentHTML("beforeEnd",b),this.textMeasureEl_=this.element_.lastChild}var c=this.element_.ownerDocument;return this.textMeasureEl_.innerHTML="",this.textMeasureEl_.style.font=this.font,this.textMeasureEl_.appendChild(c.createTextNode(a)),{width:this.textMeasureEl_.offsetWidth}},O.clip=function(){},O.arcTo=function(){},O.createPattern=function(a,b){return new W(a,b)},V.prototype.addColorStop=function(a,b){b=F(b),this.colors_.push({offset:a,color:b.color,alpha:b.alpha})};var $=Z.prototype=new Error;$.INDEX_SIZE_ERR=1,$.DOMSTRING_SIZE_ERR=2,$.HIERARCHY_REQUEST_ERR=3,$.WRONG_DOCUMENT_ERR=4,$.INVALID_CHARACTER_ERR=5,$.NO_DATA_ALLOWED_ERR=6,$.NO_MODIFICATION_ALLOWED_ERR=7,$.NOT_FOUND_ERR=8,$.NOT_SUPPORTED_ERR=9,$.INUSE_ATTRIBUTE_ERR=10,$.INVALID_STATE_ERR=11,$.SYNTAX_ERR=12,$.INVALID_MODIFICATION_ERR=13,$.NAMESPACE_ERR=14,$.INVALID_ACCESS_ERR=15,$.VALIDATION_ERR=16,$.TYPE_MISMATCH_ERR=17,G_vmlCanvasManager=p,CanvasRenderingContext2D=N,CanvasGradient=V,CanvasPattern=W,DOMException=Z}(),jQuery.startHourChange=function(){$("#move select[name=tuesdayStartHour]").val($("#move select[name=mondayStartHour]").val()),$("#move select[name=wednesdayStartHour]").val($("#move select[name=mondayStartHour]").val()),$("#move select[name=thursdayStartHour]").val($("#move select[name=mondayStartHour]").val()),$("#move select[name=fridayStartHour]").val($("#move select[name=mondayStartHour]").val())},jQuery.startMinuteChange=function(){$("#move select[name=tuesdayStartMinute]").val($("#move select[name=mondayStartMinute]").val()),$("#move select[name=wednesdayStartMinute]").val($("#move select[name=mondayStartMinute]").val()),$("#move select[name=thursdayStartMinute]").val($("#move select[name=mondayStartMinute]").val()),$("#move select[name=fridayStartMinute]").val($("#move select[name=mondayStartMinute]").val())},jQuery.endHourChange=function(){$("#move select[name=tuesdayEndHour]").val($("#move select[name=mondayEndHour]").val()),$("#move select[name=wednesdayEndHour]").val($("#move select[name=mondayEndHour]").val()),$("#move select[name=thursdayEndHour]").val($("#move select[name=mondayEndHour]").val()),$("#move select[name=fridayEndHour]").val($("#move select[name=mondayEndHour]").val()),$("#move select[name=mondayEndHour]").val()=="24"?($("#move select[name=tuesdayEndMinute]").attr("disabled",!0),$("#move select[name=wednesdayEndMinute]").attr("disabled",!0),$("#move select[name=thursdayEndMinute]").attr("disabled",!0),$("#move select[name=fridayEndMinute]").attr("disabled",!0)):($("#move select[name=tuesdayEndMinute]").attr("disabled",!1),$("#move select[name=wednesdayEndMinute]").attr("disabled",!1),$("#move select[name=thursdayEndMinute]").attr("disabled",!1),$("#move select[name=fridayEndMinute]").attr("disabled",!1))},jQuery.endMinuteChange=function(){$("#move select[name=tuesdayEndHour]").val()!="24"&&$("#move select[name=tuesdayEndMinute]").val($("#move select[name=mondayEndMinute]").val()),$("#move select[name=wednesdayEndHour]").val()!="24"&&$("#move select[name=wednesdayEndMinute]").val($("#move select[name=mondayEndMinute]").val()),$("#move select[name=thursdayEndHour]").val()!="24"&&$("#move select[name=thursdayEndMinute]").val($("#move select[name=mondayEndMinute]").val()),$("#move select[name=fridayEndHour]").val()!="24"&&$("#move select[name=fridayEndMinute]").val($("#move select[name=mondayEndMinute]").val())},jQuery.endHourCheck=function(a){$("#move select[name="+a+"EndHour]").val()=="24"?($("#move select[name="+a+"EndMinute]").attr("disabled",!0),$("#move select[name="+a+"EndMinute]").val(0),a=="monday"&&$.endMinuteChange()):$("#move select[name="+a+"EndMinute]").attr("disabled",!1)},jQuery.sendAttMail=function(){var a="page=emailQuote",b=$.getAjaxResponse("GET","/login/popUp.jsp",a),c=($(window).height()-400)/2+$(window).scrollTop()+"px",d=($(window).width()-540)/2+$(window).scrollLeft()+"px";$.showPopUpDiv(b,c,d,"5000","472")},jQuery.showbtns=function(){$(function(){$("#updatebtn").button().click(function(){}).next().button({text:!1,icons:{primary:"ui-icon-triangle-1-s"}}),$("#rerun").button().click(function(){}),$("#download").button().click(function(){}),$("#select").button().click(function(){}).parent().buttonset()})},jQuery.generatePopUp=function(){var a=Msgbean(reportmsg.nodata_msg);if($("#form1 input[name=notavailable]").val()!=null&&$("#form1 input[name=notavailable]").val()==1)return alert(a),!0;var b=$("#generate").position(),c="pagename=generatereport&width=315&arrowpos=287",d=$.getAjaxResponse("GET","/jsp/includes/divPopUp.jsp",c),e=b.left-300,f=b.top+12;$.showPopUpDiv(d,f,e,"5000","330")},jQuery.getAjaxResponseWithCSRF=function(a,b,c){if(c==null||c=="undefined")c="";return typeof CSRFParamName!="undefined"&&!(c.indexOf(CSRFParamName)>=0)&&(c=c+"&"+CSRFParamName+"="+CSRFParamValue),$.getAjaxResponse("POST",b,c)},jQuery.getAsyncPostAjaxResponse=function(a,b,c){var d=$.ajax({url:b,type:"POST",data:c,cache:!1,async:!0,success:function(b){a.call(this,b)}}).responseText;return d},jQuery.getAjaxResponse=function(a,b,c){var d=$.ajax({url:b,type:a,data:c,cache:!1,async:!1,success:function(a){}}).responseText;return d},jQuery.getPostAjaxResponseWithoutCSRF=function(a,b){var c=$("#"+b).serialize();return $.getAjaxResponse("POST",a,c)},jQuery.getPostAjaxResponse=function(a,b){var c=$("#"+b).serialize();return $.getAjaxResponseWithCSRF("POST",a,c)},jQuery.removeCSRFParam=function(){$('input[type="hidden"][name="'+CSRFParamName+'"]').remove()},jQuery.getAjaxResponseFromDiv=function(a,b,c){$("#"+c).load(""+a+" #"+b)},jQuery.showDiv=function(a,b,c){b!=undefined&&b>0?c!=undefined&&c=="true"?$("#"+a).slideDown(b):$("#"+a).show(b):$("#"+a).show()},jQuery.toggleDiv=function(a){$("#"+a).toggle()},jQuery.hideDiv=function(a,b,c){b!=undefined&&b>0?c!=undefined&&c=="true"?$("#"+a).slideUp(b):$("#"+a).hide(b):$("#"+a).hide()},jQuery.fadeOutDiv=function(a,b){$("#"+a).fadeOut(b)},jQuery.hideAllExcept=function(a,b){if(a!=undefined){var c=a.split(",");for(i=0;i<c.length;i++){var d=c[i];d!=undefined&&d!=b&&$.hideDiv(d),d!=undefined&&d==b&&$.showDiv(b)}}},jQuery.addClass=function(a,b){if(a!=undefined){var c=a.split(",");for(i=0;i<c.length;i++){var d=c[i];d!=undefined&&$("#"+d).addClass(b)}}},jQuery.removeClass=function(a,b){if(a!=undefined){var c=a.split(",");for(i=0;i<c.length;i++){var d=c[i];d!=undefined&&$("#"+d).removeClass(b)}}},jQuery.showAllDivs=function(a){var b=a.split(",");for(i=0;i<b.length;i++){var c=b[i];c!=undefined&&$.showDiv(c)}},jQuery.hideAllDivs=function(a){var b=a.split(",");for(i=0;i<b.length;i++){var c=b[i];c!=undefined&&$.hideDiv(c)}},jQuery.clearAllExcept=function(a,b){var c=a.split(",");for(i=0;i<c.length;i++){var d=c[i];d!=undefined&&d!=b&&$.clearDiv(d)}},jQuery.getActiveDiv=function(a){var b=a.split(",");for(i=0;i<b.length;i++){var c=b[i];if(c!=undefined){var d=$("#"+c).attr("style");if(d.match("block")||d=="")return c}}return""},jQuery.clearDiv=function(a){$("#"+a).html("")},jQuery.isExists=function(a,b){return jQuery("#"+a).is(b)},jQuery.enableDrag=function(a){$("#"+a).draggable({addClasses:"false",scroll:"false",enabled:"true",snap:"false"})},jQuery.isVisible=function(a){return $("#"+a).is(":visible")?!0:!1},jQuery.disableDrag=function(a){$("#"+a).draggable("destroy")},jQuery.mouseDownEvents=function(a,b,c,d){var e=$("#"+d).offset(),f=$("#"+d).width(),g=$("#"+d).height(),h=e.left,i=e.top;$.isVisible(d)&&(b<h||b>=h+f||c<i||c>=i+g)&&$.hideDropDownDiv()},jQuery.getBrowser=function(){var a="";return $.browser.mozilla?a="Mozilla":$.browser.opera?a="Opera":$.browser.msie?a="IE":$.browser.safari&&(a="Safari"),a+" "+$.browser.version},jQuery.updateBrowserSettings=function(){var a=GetSwfVer(),b=$.getBrowser(),c="method=updateBrowserDetails&flash="+a+"&browser="+b,d=$.getAjaxResponseWithCSRF("POST","/tools/general/simpleTest.do",c)},jQuery.showToolTip=function(a,b,c){var d=$(window).height(),e=$(window).width(),f=$("#"+b).html(),g=$("#"+b).outerWidth(),h=$("#"+a).width(),i=$("#"+a).offset(),j=i.left,k=i.top,l=j-15,m=k+35,n="";if(c){var o=18,p=e/2;g>e?(l=10,o=j+h/2):j<p&&g<p?l+=5:j<p&&g>p?l+=5:j>p&&g+j>e&&(l=j-g+h+20,o=g-(20+h/2)),n=n+'<div style="margin-left:'+o+'px;padding-bottom:10px;" class="tooltip-pointer"><div class="tooltip-pointer-up"><div class="tooltip-pointer-up-inner"></div></div></div>'}else g>e&&(l=10,m=k+30);n=n+'<div class="tooltip"><b class="tooltipdiv1"></b><b class="tooltipdiv2"></b><b class="tooltipdiv3"></b><b class="tooltipdiv4"></b><div class="tooltipboxcontent"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td valign="middle" height="32" class="labeltd">'+f+'</td></tr></tbody></table></div><b class="tooltipdiv4tooltipdiv"></b><b class="tooltipdiv3tooltipdiv"></b><b class="tooltipdiv2tooltipdiv"></b><b class="tooltipdiv1tooltipdiv"></b></div>';var q='<table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td>'+n+"</td></tr></tbody></table>";$.showToolTipDiv(q,m,l,"100")},jQuery.hideToolTip=function(){$.hideDiv("ToolTipFloatingDiv")},jQuery.showToolTipDiv=function(a,b,c,d){$.isExists("ToolTipFloatingDiv","div")||$("body").first().append("<div id='ToolTipFloatingDiv'></div>"),a!=undefined&&a.length>0&&$("#ToolTipFloatingDiv").html(a),$("#ToolTipFloatingDiv").css({position:"absolute",zIndex:""+d,top:""+b,left:""+c,"float":"right"}),$.showDiv("ToolTipFloatingDiv")},jQuery.hidePopUpDiv=function(){$.hideDiv("popUpFloatingDiv")},jQuery.showModalDiv=function(a,b,c){a!=null&&($("body").first().append("<div id='popUpFloatingDiv' style='overflow: hidden;background-color:#000000'></div>"),$("#popUpFloatingDiv").html(a),c!=null&&b!=null?$("#popUpFloatingDiv").modal({closeHTML:"<a class='modalCloseImg' title='"+beanmsg.close+"'></a>",containerCss:{height:b,width:c},overlayClose:!1}):$("#popUpFloatingDiv").modal({closeHTML:"<a class='modalCloseImg' title='"+beanmsg.close+"'></a>",overlayClose:!1}))},jQuery.showPopUpResponse=function(a,b,c,d,e){$.isExists("popUpFloatingDiv","div")||$("body").first().append("<div id='popUpFloatingDiv'></div>");try{a!==undefined&&a.length>0&&$("#popUpFloatingDiv").html(a)}catch(f){}$("#popUpFloatingDiv").css({position:"absolute",zIndex:""+d,top:""+b,left:""+c,"float":"right",width:""+e}),$.showDiv("popUpFloatingDiv")},jQuery.showPopUpDiv=function(a,b,c,d,e){$.isExists("popUpFloatingDiv","div")||$("body").first().append("<div id='popUpFloatingDiv'></div>"),a!=undefined&&a.length>0&&$("#popUpFloatingDiv").html(a),$("#popUpFloatingDiv").css({position:"absolute",zIndex:""+d,top:""+b,left:""+c,"float":"right",width:""+e}),$.showDiv("popUpFloatingDiv")},jQuery.hideDropDownDiv=function(){$.hideDiv("DialogFloatingDiv")},jQuery.showDropDownDiv=function(a,b,c,d,e,f){$.isExists("DialogFloatingDiv","div")||$("body").first().append("<div id='DialogFloatingDiv'></div>"),a!=undefined&&a.length>0&&$("#DialogFloatingDiv").html(a),$("#DialogFloatingDiv").css({position:"absolute",zIndex:""+d,top:""+b,left:""+c,overflow:"auto",width:""+e,height:""+f}),$.showDiv("DialogFloatingDiv")},jQuery.hideOnEsc=function(){$.hideDiv("popUpFloatingDiv"),$.hideDiv("ToolTipFloatingDiv"),$.hideDiv("DialogFloatingDiv"),$.hideDiv("customPeriod"),$.hideDiv("outputDiv"),$("#emailTest").popover("hide"),$("#smsTest").popover("hide"),$("#imButton").popover("hide"),$("#twitterbtn").popover("hide"),document.getElementById("uname")!=null&&(document.getElementById("uname").className="nor-link-logo-a")},jQuery.updateResoultionInfo=function(){var a=$(window).height(),b=$(window).width(),c=$.getAjaxResponseWithCSRF("POST","/login/status.do","execute=updateSettings&w="+b+"&h="+a)},jQuery.setTitle=function(a,b){$("#"+a).attr("title",$("#"+b).html())},jQuery.updateToMaintenance=function(a,b,c,d,e){if(confirm(beanmsg.update_downtime_maintenance)){var f=$.getAjaxResponse("GET","/home/CreateTest.do","execute=updateToMaintenance&urlid="+b+"&downtime="+a),g=getValue(f,"ax_updateToMaintenance");if(g=="success"&&d=="detailspage")$.showDetails(b,c,!0,e);else if(g=="success"&&d=="availPopUpReport"){var h="../login/status.do?execute=showDowntimeDetails&urlid="+b+"&period="+c;if(c==50){var i=$("#actualStartTrigger").val(),j=$("#actualEndTrigger").val();h=h+"&startDate="+i+"&endDate="+j}location.href=h}}},jQuery.deleteDowntime=function(a,b,c,d,e){if(confirm(beanmsg.del_downtime)){var f=$.getAjaxResponse("GET","/home/CreateTest.do","execute=deleteDowntime&urlid="+b+"&downtime="+a),g=getValue(f,"ax_deleteDowntime");if(g=="success"&&d=="detailspage")$.showDetails(b,c,!0,e);else if(g=="success"&&d=="availPopUpReport"){var h="../login/status.do?execute=showDowntimeDetails&urlid="+b+"&period="+c;if(c==50){var i=$("#actualStartTrigger").val(),j=$("#actualEndTrigger").val();h=h+"&startDate="+i+"&endDate="+j}location.href=h}}},jQuery.deleteMaintenanceDowntime=function(a,b,c,d,e){if(confirm(beanmsg.del_maintenance_downtime)){var f=$.getAjaxResponse("GET","/home/CreateTest.do","execute=deleteDowntime&urlid="+b+"&downtime="+a),g=getValue(f,"ax_deleteDowntime");if(g=="success"&&d=="detailspage")$.showDetails(b,c,!0,e);else if(g=="success"&&d=="availPopUpReport"){var h="../login/status.do?execute=showDowntimeDetails&urlid="+b+"&period="+c;if(c==50){var i=$("#actualStartTrigger").val(),j=$("#actualEndTrigger").val();h=h+"&startDate="+i+"&endDate="+j}location.href=h}}},jQuery.deleteLocationDowntime=function(a,b,c){if(confirm(beanmsg.del_downtime)){var d=$.getAjaxResponse("GET","/home/CreateTest.do","execute=deleteDowntime&urlid="+b+"&downtime="+a+"&locid="+c),e=getValue(d,"ax_deleteDowntime");e=="success"&&$.hideDiv(a)}},jQuery.commonTabHide=function(a){$.menuTabHiding($("#commonTabLists").html(),a)},jQuery.commonParentTabHide=function(a,b,c){$.parentMenuTabHiding(b,a,c)},jQuery.parentMenuTabHiding=function(a,b,c){var d=a.split(",");for(i=0;i<d.length;i++){var e=d[i];e!=undefined&&(e==b?(c.$("#li"+e+" a").first().css({color:"#000000","font-weight":"bold"}),c.$("#li"+e).addClass("tab2selected")):(c.$("#li"+e+" a").first().css({color:"#0c7dbe","font-weight":"normal"}),c.$("#li"+e).removeClass("tab2selected")))}},jQuery.showParentTabDetails=function(a,b,c,d){var e="execute=showPerf&urlid="+a+"&period="+b+"&selectedTab="+c;if(b==50){var f=d.$("#actualStartTrigger").val(),g=d.$("#actualEndTrigger").val();e=e+"&startdate="+f+"&enddate="+g}var h=$.getAjaxResponse("GET","/home/CreateTest.do",e),i=$(h).find("div[id='confmonitordetailsdiv']");i[0]!=undefined&&d.$("#customdateheaderDiv").html(i[0].innerHTML);var j=$(h).filter("div#tabContentDiv").html();j!=undefined&&d.$("#tabdetailsDiv").html(j);var k=$(h).filter("div#commonTabLists").html();k!=undefined&&d.$("#commonTabLists").html(k);var l=getValue(h,"ax_availability"),m=getValue(h,"ax_displayname"),n=getValue(h,"ax_monitortype");d.$("#detailsPageMononitorFrm input[name=monitorDisplayName]").val(m),d.$("#detailsPageMononitorFrm input[name=perfmonitortype]").val(n);var o='<span class="AvailableText">'+statusmsg.available_msg+"</span></c:if>";l=="7"?o='<span class="MaintenanceText">'+statusmsg.maintenace_msg+"</span></c:if>":l=="0"?o='<span class="UnAvailableText">'+statusmsg.unavailable_msg+"</span></c:if>":l=="2"&&(o='<span class="TroubleText">'+statusmsg.trouble_msg+"</span></c:if>");var p='<span class="URLText">'+m+" - </span>"+o;d.$("#perfStatusDiv").html(p),d.$("#customdatedetailsDiv").html(h),d.$("#popUpFloatingDiv").hide(),d.$("#perfperiod").val(b),d.$("#perfmonitorid").val(a),d.$("#selectedTab").val(c),d.$("#customdatedetailsDiv").show(),d.$("#customPeriod").hide(),c!="null"&&c!=null&&c!=undefined&&$.commonParentTabHide(c,k,d),showcustomizedtooltipsforparent(d)},jQuery.showTabDetails=function(a,b,c,d){document.getElementById("pollnowstatusDiv").style.display=="block"?(document.getElementById("pollnowstatusDiv").style.display="none",$("label[for='detailsPeriod_Month']").removeClass("ui-state-active"),$("label[for='detailsPeriod_Week']").removeClass("ui-state-active"),$("label[for='detailsPeriod_Today']").addClass("ui-state-active")):$("#detailsloadingDiv").html($("#cogwheelLoadingDiv").html()),$.showDiv("detailsloadingDiv");var e=document.location.search;if(b=="tab"){var f=b;b=document.getElementById("periodValue").value}var g="";e.search("showPerf2")!==-1?g="execute=showPerf2&urlid="+a+"&period="+b+"&selectedTab="+c:e.search("showPerf3")!==-1?g="execute=showPerf3&urlid="+a+"&period="+b+"&selectedTab="+c:d!=null?g="execute=showPerf&urlid="+a+"&period="+b+"&selectedTab="+c+"&childid="+d:g="execute=showPerf&urlid="+a+"&period="+b+"&selectedTab="+c;if(b==50){var h=$("#actualStartTrigger").val(),i=$("#actualEndTrigger").val();g=g+"&startdate="+h+"&enddate="+i}var j=$.getAjaxResponse("GET","/home/CreateTest.do",g),k=$(j).find("div[id='confmonitordetailsdiv']");k[0]!=undefined&&$("#customdateheaderDiv").html(k[0].innerHTML);var l=getValue(j,"ax_availability"),m=getValue(j,"ax_displayname"),n=getValue(j,"ax_monitortype"),o=getValue(j,"ax_probedownmsg");$("#detailsPageMononitorFrm input[name=monitorDisplayName]").val(m),$("#detailsPageMononitorFrm input[name=perfmonitortype]").val(n);var p='<span class="AvailableText">'+statusmsg.available_msg+"</span></c:if>";if(l=="7")p='<span class="MaintenanceText">'+statusmsg.maintenace_msg+"</span></c:if>";else if(l=="0")p='<span class="UnAvailableText">'+statusmsg.unavailable_msg+"</span></c:if>";else if(l=="2")p='<span class="TroubleText">'+statusmsg.trouble_msg+"</span></c:if>";else if(l=="9"){var q=$("#configerrtxt").html();p='<span class="TroubleText">'+q+"</span></c:if>"}else if(l=="10"){var q=$("#configerrtxt").html();p='<span class="UnAvailableText">'+q+"</span></c:if>"}var r='<span class="URLText">'+m+" - </span>"+p;o!==undefined&&o!==""&&(r=r+'<br><span class="UnAvailableText">'+o+"</span>"),$("#perfStatusDiv").html(r),$("#customdatedetailsDiv").html(j),$.hideDiv("popUpFloatingDiv"),$("#perfperiod").val(b),$("#perfmonitorid").val(a),$("#selectedTab").val(c),$.showDiv("customdatedetailsDiv"),$.hideDiv("detailsloadingDiv"),$.hideDiv("customPeriod"),c!="null"&&c!=null&&c!=undefined&&$.commonTabHide(c),showcustomizedtooltips(),f=="tab"&&b!=3&&b!=11?$.checkDiv($("label[for='detailsPeriod_Month']").text(),b):(b==3||b==11)&&$("label[for='detailsPeriod_Month']").removeClass("ui-state-active"),b!=50&&f!="tab"&&$.checkDiv("Select",b),document.getElementById("periodValue").value=b,document.getElementById("periodLabel").value=$("label[for='detailsPeriod_Month']").text();try{$.updateBrowserSettings()}catch(s){}if(n!=undefined&&n=="REALBROWSER"||document.getElementById("mygaltop")!=null&&document.getElementById("mygaltop")!=undefined)try{$("div#mygaltop").slideView({toolTip:!0,ttOpacity:.5}),$.hideDiv("mygaltop-loading"),$("#mygaltop").slideDown(1e3),setTimeout(function(){var a=document.getElementsByClassName("ldrgif");for(var b=0;b<a.length;b++)a[b].style.display="none"},100)}catch(s){}},jQuery.showDetails=function(a,b,c,d){$("#detailsloadingDiv").html($("#cogwheelLoadingDiv").html()),$.showDiv("detailsloadingDiv"),$(".nodatabox").remove();var e="execute=showPerf&urlid="+a+"&period="+b;if(b==50){var f=$("#actualStartTrigger").val(),g=$("#actualEndTrigger").val();e=e+"&startdate="+f+"&enddate="+g}d!=undefined&&d=="true"&&(e+="&p1=SR");var h=$.getAjaxResponse("GET","/home/CreateTest.do",e),i=getValue(h,"ax_availability"),j=getValue(h,"ax_displayname"),k=getValue(h,"ax_monitortype");$("#detailsPageMononitorFrm input[name=monitorDisplayName]").val(j),$("#detailsPageMononitorFrm input[name=perfmonitortype]").val(k);var l='<span class="AvailableText">'+statusmsg.available_msg+"</span></c:if>";i=="7"?l='<span class="MaintenanceText">'+statusmsg.maintenace_msg+"</span></c:if>":i=="0"?l='<span class="UnAvailableText">'+statusmsg.unavailable_msg+"</span></c:if>":i=="2"&&(l='<span class="TroubleText">'+statusmsg.trouble_msg+"</span></c:if>");var m='<span class="URLText">'+j+" - </span>"+l;$("#perfStatusDiv").html(m),$("#customdatedetailsDiv").html(h),$.hideDiv("popUpFloatingDiv"),$("#perfperiod").val(b),$("#perfmonitorid").val(a),$.showDiv("customdatedetailsDiv"),$.hideDiv("detailsloadingDiv"),$.hideDiv("customPeriod"),(b==3||b==11)&&$("label[for='detailsPeriod_Month']").removeClass("ui-state-active"),b!=50&&$.checkDiv("Select",b);if(k!=undefined&&k=="REALBROWSER"||document.getElementById("mygaltop")!=null&&document.getElementById("mygaltop")!=undefined)try{$("div#mygaltop").slideView({toolTip:!0,ttOpacity:.5}),$.hideDiv("mygaltop-loading"),$("#mygaltop").slideDown(1e3),setTimeout(function(){var a=document.getElementsByClassName("ldrgif");for(var b=0;b<a.length;b++)a[b].style.display="none"},100)}catch(n){}},jQuery.sendReportByEMail=function(a,b,c){$.sendReportByEMail(a,b,c,!1,null,null,null)},jQuery.sendFusionByEMail=function(a,b,c){var d="",e="",f="";c==50&&(e=$("#reportform input[name=startdate]").val(),f=$("#reportform input[name=enddate]").val());var g=document.getElementById("reportform").locationId.value;d="/home/reportsinfo.do?execute=showApdexReport&urlid="+a+"&period="+c+"&startdate="+e+"&enddate="+f+"&reporttype=email&locid="+g+"&emailid=";if(d.length>5){var h=$("#reportform input[name=username]").val(),i="pagename=emailreport&width=315&arrowpos=250&url="+d+"&email="+encodeURIComponent(h);i=i+"&isApdex="+!0;var j=$.getAjaxResponse("GET","/jsp/includes/divPopUp.jsp",i),k=$("#EmailThisReportDivId").position(),l=0,m=0;l=k.left-240+"px",m=k.top+15+"px",$.showPopUpDiv(j,m,l,"5000","330")}$.hideDiv("loading")},jQuery.sendReportByEMail=function(a,b,c,d,e,f,g,h){$.showDiv("loading");if(d=="true"||d==1){ExportCharts("JPG");return}var h=2,i="";if(c!=undefined&&c=="perfDetailspage"){var j=null,k=null;h=$("#perfperiod").val(),h==50&&(j=$("#startTrigger").val(),k=$("#endTrigger").val()),i="/home/CreateTest.do?execute=sendReport&urlid="+a+"&period="+h+"&startDate="+j+"&endDate="+k+"&emailid=";if(d=="true"||d==1){var l=$("#aaa select[name=selectedUrlLocation]").val();l!==undefined&&l!==""&&(i="/home/CreateTest.do?execute=sendReport&urlid="+a+"&period="+h+"&startDate="+j+"&endDate="+k+"&locid="+l+"&emailid=")}}if(i.length>5){var m="pagename=emailreport&width=315&arrowpos=250&url="+i+"&email="+encodeURIComponent(b),n=$.getAjaxResponse("GET","/jsp/includes/divPopUp.jsp",m),o=$("#EmailThisReportDivId").position(),p=o.left-240,q=o.top-33;$.showPopUpDiv(n,q,p,"5000","330")}$.hideDiv("loading")},jQuery.reloadshowReport=function(){var a=$("#currentreportType").html();$.showReport(a)},jQuery.fnSendReportByMail=function(){var a=$("#permission").val(),b=$("#currentreportType").html();$.sendReportEmail(b,null,null,null,null,a)},jQuery.urlHashReplace=function(a){window.location.hash=a},jQuery.showReportChanges=function(a,b){a!=null&&($("#newperiodlbl").val($("#"+a).html()),$("#newperiodval").val(a),$("#newdtlbl").val(b)),$("#timelbl").html($("#newperiodlbl").val());var c="",d="";$("#newperiodval").val()==50?(hideDiv("holderdiv"),showDiv("customdtdiv"),c=$("#reportform input[name=startdate]").val(),d=$("#reportform input[name=enddate]").val()):(hideDiv("customdtdiv"),showDiv("holderdiv")),$("#testdiv").html($("#newdtlbl").val()),closeDialog()},jQuery.showbusyReport=function(a,b){var c=$("#newperiodval").val();c!=null&&c.indexOf("BH")==-1&&(c="BH"+c),$("#"+c).length<=0&&(c=a,$("#newperiodlbl").val($("#"+c).html()),$("#newperiodval").val(c),$("#newdtlbl").val(b)),$.showReport("BusyHourReport")},jQuery.showReport=function(a){var b=$("#newperiodval").val();b&&b.indexOf("BH")!==-1&&(b=b.slice(2,b.length));if($("#reportform").length==0){$.urlHashReplace(a),$.menuTabHiding($("#reportTabLists").html(),a);return}if(a!="logreport"&&$("#reportform input[id=monlist]").val()<1){$.hideAllDivs("reportform,reportsContent"),$.showAllDivs("nodataDiv"),$.urlHashReplace(a),$.menuTabHiding($("#reportTabLists").html(),a);return}$.showAllDivs("reportsContent"),$("#reportsContent").html("<img src='/images/zoho-busy.gif' style='padding-top:20px;padding-bottom:20px;'/>"),$("#timelbl").html($("#newperiodlbl").val());var c="",d="";$("#newperiodval").val()==50?(hideDiv("holderdiv"),showDiv("customdtdiv"),c=$("#reportform input[name=startdate]").val(),d=$("#reportform input[name=enddate]").val()):(hideDiv("customdtdiv"),showDiv("holderdiv")),$("#testdiv").html($("#newdtlbl").val());var e=$("#reportform input[name=statuskeys]").val(),f=b,g=0,h=$("#reportform select[name=monitor]").val();$.showDiv("loadingg");var i="../home/reportsinfo.do",j="",k="",l=" disp_label,disp_name,allmonitors,monitorgroups,allmonitorsincludingssl,both_monitor_n_groups,label_mon_group,label_mon,label_group,time_from,time_to,report_period,segment_by,cal_from,cal_to,show_report,business_period,buisness_segments,trend_period,trendreportperiods,dropMenuactions1,both_monitor_n_groups_summary,allmonitorsexcludingmsexchange";$.urlHashReplace(a),$.showDiv("makePublicDiv");if(a=="summaryReport")document.getElementById("both_monitor_n_groups_summary")!=null&&(g=$("#reportform select[name=report_Mon_GroupId_Summary]").val()),g.match("MO_")?(m=g.split("_"),j="execute=showSummaryReport&urlid="+m[1]+"&summaryReport=true"):g.match("INFRA_")?(m=g.split("_"),j="execute=showSummaryReportForMSExchange&groupid="+m[1]+"&summaryReport=true"):j="execute=showSummaryReport&monitorgroupid="+g+"&summaryReport=true",$.hideAllDivs(l),$.showAllDivs("disp_label,disp_name,label_mon_group,both_monitor_n_groups_summary,time_from,cal_from,time_to,cal_to,show_report,dropMenuactions");else if(a=="LocationDownReport")j="execute=outageReport&urlid="+h,$.hideAllDivs(l),$.showAllDivs("disp_label,disp_name,label_mon,allmonitors,time_from,cal_from,time_to,cal_to,show_report,dropMenuactions");else if(a=="outageReport")document.getElementById("both_monitor_n_groups")!=null&&(g=$("#reportform select[name=report_Mon_GroupId]").val()),g.match("MO_")?(m=g.split("_"),j="execute=OutageReportForAllMonitors&urlid="+m[1]):j="execute=OutageReportForAllMonitors&monitorgroupid="+g,$.hideAllDivs(l),$.showAllDivs("disp_label,disp_name,label_mon_group,both_monitor_n_groups,time_from,cal_from,time_to,cal_to,show_report,dropMenuactions");else if(a=="ResponseReport"){var m="",n="",o="";document.getElementById("both_monitor_n_groups")!=null&&(g=$("#reportform select[name=report_Mon_GroupId]").val());if(g.match("MO_")){m=g.split("_"),o="showResponseReport";if(m[2]=="SERVER"||m[2]=="MSEXCHANGE")o="showResponseReportForServerMonitor";j="execute="+o+"&urlid="+m[1]+"&isUrl=false&period="+f+"&startdate="+c+"&enddate="+d}else j="execute=ResponsetimeReport&monitorgroupid="+g+"&period="+f+"&startdate="+c+"&enddate="+d+"&param="+e+"&reportstab=true";j+="&showResponseHeading=false",$.hideAllDivs(l),$.showAllDivs("disp_label,disp_name,label_mon_group,both_monitor_n_groups,time_from,cal_from,time_to,cal_to,show_report,dropMenuactions")}else if(a=="trendReport"){var p="disp_name,monitorgroups,time_from,cal_from,time_to,cal_to,trend_period,trendreportperiods,show_report,dropMenuactions";document.getElementById("monitorgroups")!=null&&(p="disp_label,label_group,"+p,g=$("#reportform select[name=reportGroupId]").val());var q=$("#reportform select[name=trendReportperiod]").val();j="execute=trendReport&trendperiod="+q+"&monitorgroupid="+g,$.hideAllDivs(l),$.showAllDivs(p)}else if(a=="BusyHourReport"){var r=$("#reportform select[name=businessReportSegments]").val(),s=$("#reportform select[name=busy_monitor]").val();c="",d="",j="execute=businessReport&businessperiod="+r+"&urlid="+s,l+=",dropMenuactions",$.hideAllDivs(l),$.showAllDivs("disp_label,disp_name,label_mon,allmonitorsexcludingmsexchange,report_period,business_period,segment_by,buisness_segments,show_report,dropMenuactions1")}else a=="logreport"&&(h=$("#reportform select[name=monitor1]").val(),j="execute=LogReport&urlid="+h,$.showAllDivs("reportform"),l+=",nodataDiv,makePublicDiv",$.hideAllDivs(l),$.showAllDivs("disp_label,disp_name,label_mon,allmonitorsincludingssl,time_from,cal_from,time_to,cal_to,show_report,dropMenuactions"));$("#currentreportType").html(a),a!="ResponseReport"&&(j=j+"&period="+f+"&startdate="+c+"&enddate="+d+"&param="+e+"&reportstab=true"),k=$.getAjaxResponse("GET",i,j),$("#reportsContent").html(k),$.hideDiv("loadingg"),$.menuTabHiding($("#reportTabLists").html(),a)},jQuery.sendReportEmail=function(a,b,c,d,e,f){var g=!1,h=document.getElementById("timeReport").value;h!=null&&h!=""&&(b=h);var i="";b!=null&&b!=""&&(i="&rsptime="+b);var j=Msgbean(reportmsg.nodata_msg),k=$("#form1 input[name=notavailable]").val()!=null&&$("#form1 input[name=notavailable]").val()==1;if(k)return alert(j),!0;var l="",m=$("#newperiodval").val();m.indexOf("BH")!=-1&&(m=m.slice(2,m.length));var n=0,o=$("#reportform input[name=username]").val(),p=null,q="",r="";m==50&&(q=$("#reportform input[name=startdate]").val(),r=$("#reportform input[name=enddate]").val());var s=$("#EmailThisDiVId").position(),t=$("#reportform input[name=urlid]").val()!=null;if(a=="summaryReport"){g=!0,document.getElementById("both_monitor_n_groups_summary")!=null&&(p=$("#reportform select[name=report_Mon_GroupId_Summary]").val());if(p==null||p==undefined)return alert(j),!0;if(p!=null)if(p.match("INFRA_")){var u=p.split("_");l="/home/reportsinfo.do?execute=showSummaryReportForMSExchange&urlid="+u[1]+"&groupid="+u[1]+i+"&startdate="+q+"&enddate="+r+"&period="+m+"&reporttype=email&emailid="}else if(p.match("MO_")){var u=p.split("_");l="/home/reportsinfo.do?execute=showSummaryReport&urlid="+u[1]+i+"&startdate="+q+"&enddate="+r+"&period="+m+"&emailid="}else l="/home/reportsinfo.do?execute=showSummaryReport&monitorgroupid="+p+i+"&startdate="+q+"&enddate="+r+"&period="+m+"&emailid=";else l="/home/reportsinfo.do?execute=showSummaryReport&startdate="+q+"&enddate="+r+"&period="+m+i+"&emailid="}else if(a=="LocationDownReport"){g=!0;if(t)p=e;else{document.getElementById("allmonitors")!=null&&(p=$("#reportform select[name=monitor]").val());if(p==null||p==undefined)return alert(j),!0;var v=document.getElementById("reportform"),p=v.monitor.value}var w=$("#downtimeData").val();l="/home/reportsinfo.do?execute=outageReport&reportdata="+w+"&urlid="+p+i+"&startdate="+q+"&enddate="+r+"&period="+m+"&emailid="}else if(a=="outageReport"){g=!0;var n="0";t?(p=e,l="/home/reportsinfo.do?execute=OutageReportForAllMonitors&period="+m+i+"&startdate="+q+"&enddate="+r+"&urlid="+p+"&emailid="):(document.getElementById("both_monitor_n_groups")!=null&&(n=$("#reportform select[name=report_Mon_GroupId]").val()),n.match("MO_")?(u=n.split("_"),l="/home/reportsinfo.do?execute=OutageReportForAllMonitors&period="+m+i+"&startdate="+q+"&enddate="+r+"&urlid="+u[1]+"&emailid="):l="/home/reportsinfo.do?execute=OutageReportForAllMonitors&period="+m+i+"&startdate="+q+"&enddate="+r+"&monitorgroupid="+n+"&emailid=")}else if(a=="trendReport"){g=!0;var x=parseInt($("#trendreport input[name=currentpage]").val()),y=parseInt($("#trendreport input[name=maximumpage]").val());if(x>y){msg=Msgbean(reportmsg.report_pages,y,y),alert(msg);return}var z=$("#reportform select[name=trendReportperiod]").val();document.getElementById("monitorgroups")!=null&&(n=$("#reportform select[name=reportGroupId]").val()),l="/home/reportsinfo.do?execute=trendReport&trendperiod="+z+"&period="+m+i+"&startdate="+q+"&enddate="+r+"&monitorgroupid="+n+"&page="+x+"&emailid="}else if(a=="ResponseReport"){if(d==null||d==""||d==undefined)d="";i=i+"&reportName="+d,g=!0;var u="",A="";document.getElementById("both_monitor_n_groups")!=null&&(n=$("#reportform select[name=report_Mon_GroupId]").val());if(n.match("MO_")){u=n.split("_"),A="showResponseReport";if(u[2]=="SERVER"||u[2]=="MSEXCHANGE")A="showResponseReportForServerMonitor";l="/home/reportsinfo.do?execute="+A+"&urlid="+u[1]+"&period="+m+i+"&startdate="+q+"&enddate="+r+"&isUrl=false&reporttype=email&emailid="}else l="/home/reportsinfo.do?execute=ResponsetimeReport&period="+m+i+"&startdate="+q+"&monitorgroupid="+n+"&enddate="+r+"&reporttype=email&emailid="}else if(a=="BusyHourReport"){g=!0,document.getElementById("allmonitors")!=null&&(p=$("#reportform select[name=busy_monitor]").val());if(p==null||p==undefined)return alert(j),!0;var B=$("#reportform select[name=businessReportSegments]").val();q="",r="",l="/home/reportsinfo.do?execute=businessReport&reportdata="+w+"&period="+m+i+"&businessperiod="+B+"&startdate="+q+"&enddate="+r+"&urlid="+p+"&emailid="}else if(a=="logreport"){var x=parseInt($("#logreport input[name=gotopage]").val()),y=parseInt($("#logreport input[name=maximumpage]").val()),C=parseInt($("#logreport input[name=pagelimitvalue]").val());document.getElementById("allmonitorsincludingssl")!=null&&(p=$("#reportform select[name=monitor1]").val());var t=$("#reportform input[name=urlid]").val()!=null;t&&(p=e);if((p==null||p==undefined||isNaN(x)||isNaN(y))&&!t)return alert(j),!0;if(x>y){msg=Msgbean(reportmsg.report_pages,y,y),alert(msg);return}l="/home/reportsinfo.do?execute=LogReport&period="+m+i+"&startdate="+q+"&enddate="+r+"&pagecount="+x+"&pagelimit="+C+"&urlid="+p+"&emailid="}else if(a=="detailsResponseTimeReport"){if(d==null||d==""||d==undefined)d="";i=i+"&reportName="+d,o=$("#responseForm input[name=username]").val();var D=$("#responseForm input[name=urlid]").val();m==50&&(q=$("#responseForm input[name=startdate]").val(),r=$("#responseForm input[name=enddate]").val());var E=$("#responseForm input[name=locid]").val(),F=$("#responseForm input[name=mtype]").val();if(F=="URL-SEQ"){var G=$("#responseForm input[name=stepid]").val();G>0&&(i=i+"&stepid="+G)}F=="SERVER"||F=="MSEXCHANGE"?l="/home/reportsinfo.do?execute=showResponseReportForServerMonitor&urlid="+D+"&period="+m+i+"&startdate="+q+"&enddate="+r+"&isUrl=false&mtype="+F+"&reporttype=email&locid="+E:l="/home/reportsinfo.do?execute=showResponseReport&urlid="+D+"&period="+m+i+"&startdate="+q+"&enddate="+r+"&isUrl=false&mtype="+F+"&reporttype=email&locid="+E;var H="";if(F=="SERVER"){var I=$("input[name='cpuMetric']"),J=$("input[name='memoryMetric']"),K=$("input[name='diskMetric']");$.each(I,function(a,b){b.checked&&(H=H+"&reportAtt="+b.value)}),$.each(J,function(a,b){b.checked&&(H=H+"&reportAtt="+b.value)}),$.each(K,function(a,b){b.checked&&(H=H+"&reportAtt="+b.value)})}var L=$("#responseForm select[name=reportAttribute]").val();F=="SERVER"?H!=undefined&&H!=""?l+=H:L!=undefined?l=l+"&reportAtt="+L:c!=undefined&&(l=l+"&reportAtt="+c):L!=undefined?l=l+"&reportAtt="+L:c!=undefined&&(l=l+"&reportAtt="+c),l+="&emailid="}else a=="availabilityreport"&&(p=$("#reportform input[name=urlid]").val(),l="../login/status.do?execute=showDowntimeDetails&urlid="+p+"&isUrl=false&period="+m+"&emailid=");if(l.length>5)if(g){g=!1;var M="url="+l+"&email="+encodeURIComponent(o),N=$.getAjaxResponseWithCSRF("POST","/home/reportsinfo.do?execute=emailReport&"+M),O=s.left-500+"px",P=s.top+25+"px";$.showPopUpDiv(N,P,O,"5000","350")}else{var M="pagename=emailreport&width=315&arrowpos=287&url="+l+"&email="+encodeURIComponent(o),N=$.getAjaxResponse("GET","/jsp/includes/divPopUp.jsp",M),O=s.left-300+"px",P=s.top+12+"px";$.showPopUpDiv(N,P,O,"5000","330")}},jQuery.showMobileFormat=function(){var a="pagename=mobilenoFormat&width=400",b=$.getAjaxResponseWithCSRF("POST","/jsp/includes/divPopUp.jsp",a),c=($(window).height()-400)/2+$(window).scrollTop()+"px",d=($(window).width()-540)/2+$(window).scrollLeft()+"px";$.showPopUpDiv(b,c,d,"1","415")},jQuery.tryDemoAccounts=function(a){var b="pagename=trydemoaccounts&width=400&edition="+a,c=$.getAjaxResponseWithCSRF("POST","/jsp/includes/divPopUp.jsp",b),d=$("#Upgrade_Options").position(),e=d.top-150,f=d.left-445;$.showPopUpDiv(c,e,f,"5000","415")},jQuery.showMonitorConfig=function(a){var b="pagename=showmonitorConfig&width=430&arrowpos=340";a!=null&&(b=b+"&urlid="+a);var c=$.getAjaxResponse("GET","/home/CreateTest.do","execute=showMonitorConfiguration&urlid="+a),d=$("#ShowConfigDetLink").position(),e=d.top+20,f=d.left-320;$.hideDiv("actionsDiv"),$.showPopUpDiv(c,e,f,"5000","445")},jQuery.showTestEmail=function(){var a=$("#addContactForm input[name=toemail]").val();if(!validateEmail(a))return!1;var b="page=testemail&email="+encodeURIComponent(a),c=$.getAjaxResponseWithCSRF("POST","/jsp/includes/dialogDiv1.jsp",b),d=($(window).height()-400)/2+$(window).scrollTop()+"px",e=($(window).width()-540)/2+$(window).scrollLeft()+"px";$.showPopUpDiv(c,d,e,"5000","472")},jQuery.sendTestEmail=function(){var a=document.getElementsByName("message")[0].value;if(a==null||a==""||trimString(a).length<1)return alert(beanmsg.empty_email_message),!1;var b=$.getPostAjaxResponseWithoutCSRF("/home/Notifications.do","testEmail"),c=getValue(b,"ax_errormsg"),d=getValue(b,"ax_status");$.hidePopUpDiv();var e=$("#addContactForm input[name=toemail]").position(),f=c.length*11;c.length<15&&(f+=70);var g=e.top-56,h=($(window).width()-540)/2+$(window).scrollLeft()+"px";$.showPopUpDiv($.getStatusMsg(d,c),g,h,"1",f),$.fadeOutDiv("popUpFloatingDiv",4e3)},jQuery.toolsEmailSend=function(a,b,c){var d="checkurl="+encodeURIComponent(a)+"&link="+encodeURIComponent(b)+"&mon_type="+c,e=$.getAjaxResponse("POST","/login/tools-emailsend.jsp",d),f=($(window).height()-400)/2+$(window).scrollTop()+"px",g=($(window).width()-540)/2+$(window).scrollLeft()+"px";$.blurBg(),$.showPopUpDiv(e,f,g,"5000","600")},jQuery.blurBg=function(){$(document).ready(function(){$("#blur-bg-tools-email").css({opacity:"0.7"}).fadeIn("slow"),$(document).keypress(function(a){a.keyCode==27&&$("#blur-bg-tools-email").fadeOut("slow")}),$("#blur-bg-tools-email").click(function(){$("#blur-bg-tools-email").fadeOut("slow"),$.hidePopUpDiv()})})},jQuery.hidePopUpDivToolsEmailSend=function(){$.hidePopUpDiv(),$("#blur-bg-tools-email").fadeOut("slow")},jQuery.showProviders=function(){var a=$("#providerdiv").position(),b=$("#providerdiv").width(),c=$("#addContactForm input[name=callerid]").val(),d=$("#addContactForm input[name=smsprovider]").val();c.length==0&&(c="0"),d.length==0&&(d="1");var e="pagename=providers&width=230&arrowpos=162&call="+c+"&sms="+d,f=$.getAjaxResponseWithCSRF("POST","/jsp/includes/divPopUp.jsp?",e),g=a.left-120,h=a.top+15;$.showPopUpDiv(f,h,g,"5000","245")},jQuery.chosenProvider=function(){var a=$("#sendtestSMS select[name=callProviderId]").val(),b=$("#sendtestSMS select[name=smsProviderId]").val();$("#addContactForm input[name=callerid]").val(a),$("#addContactForm input[name=smsprovider]").val(b),$("#smsTest").popover("hide")},jQuery.sendTestSMS=function(a){if(a!=null){$("#loading").show(),$("#sendtestSMS input[name=function]").val(a);var b=$("#sendtestSMS input[name=credits]").val(),c=$("#sendtestSMS input[name=cc]").val();if(c!=1&&b==1&&a=="call"){$("#loading").hide(),$("#errordiv").css("display","block"),$("#errordiv").addClass("emailerror"),$("#errordiv").html(beanmsg.credits_call),$.fadeOutDiv("errordiv",4e3);return}var d=$.getPostAjaxResponseWithoutCSRF("/home/Notifications.do?","sendtestSMS"),e=getValue(d,"ax_errormsg"),f=getValue(d,"ax_status"),b=getValue(d,"ax_credits");$("#addContactForm input[name=credits]").val(b),$("#sendtestSMS input[name=credits]").val(b),$("#loading").hide(),$("#errordiv").css("display","block"),f==="success"?($("#errordiv").removeClass("emailerror"),$("#errordiv").addClass("emailsuccess")):($("#errordiv").removeClass("emailsuccess"),$("#errordiv").addClass("emailerror")),$("#errordiv").html(e),$.fadeOutDiv("errordiv",4e3)}else{$.showDiv("loading"),a!=null&&$("#sendtestSMS input[name=function]").val(a);var d=$.getPostAjaxResponseWithoutCSRF("/home/Notifications.do?","sendtestSMS"),e=getValue(d,"ax_errormsg"),f=getValue(d,"ax_status");$.hideDiv("loading");var g=$("#addContactForm input[name=number]").position(),h=e.length*11;e.length<15&&(h+=70);var i=g.top-6,j=($(window).width()-540)/2+$(window).scrollLeft()+"px";$.showPopUpDiv($.getStatusMsg(f,e),i,j,"1",h),$.fadeOutDiv("popUpFloatingDiv",4e3)}},jQuery.changeBuddyId=function(a){$("#imAccountValue").html($("#provider"+a).val()),$("#providername").html($("#providertype"+a).val()),$("#chatProviderId").val(a)},jQuery.keyUpFunction=function(){var a=$("#configured").val();if(a.search("@")!=-1){var b=a.split("@");b[1].search("yahoo")!=-1||b[1].search("rocket")!=-1||b[1].search("ymail")!=-1?($("#chatProviderId").val("1"),$("#imAccountValue").html($("#provider1").val()),$("#providername").html($("#providertype1").val())):b[1].search("gmail")!=-1||b[1].search("googlemail")!=-1?($("#chatProviderId").val("0"),$("#imAccountValue").html($("#provider0").val()),$("#providername").html($("#providertype0").val())):b[1].search("hotmail")!=-1||b[1].search("live")!=-1||b[1].search("outlook")!=-1?($("#chatProviderId").val("2"),$("#imAccountValue").html($("#provider2").val()),$("#providername").html($("#providertype2").val())):($("#chatProviderId").val("-1"),$("#isReseller").val()=="true"?$("#imAccountValue").html(imMsg.reseller_default):$("#imAccountValue").html(imMsg.default_id));if(b[1].search("\\.")!=-1){var c=b[1].split("."),d=["yahoo","rocketmail","ymail","gmail","googlemail","hotmail","live","outlook"];$.inArray(c[0],d)==-1&&($("#newProvider").css("display","block"),$("#imAccountValue").html($("#provider0").val()),$("#chatProviderId").val("0"))}}else a.length==0?($("#chatProviderId").val("-1"),$("#imAccountNew").css("display","block"),$("#imAccountAdded").css("display","none"),$("#newProvider").css("display","none"),$("#time_zone_menu").css("display","none")):($("#chatProviderId").val("-1"),$("#isReseller").val()=="true"?$("#imAccountValue").html(imMsg.reseller_default):$("#imAccountValue").html(imMsg.default_id),$("#newProvider").css("display","none"),$("#time_zone_menu").css("display","none"))},jQuery.sendPin=function(a,b){var c=0;$("#addContactForm input[name=contactid]").val()!=null&&(c=$("#addContactForm input[name=contactid]").val());var d="",e="",f="";if(b=="contact")d=$("#addContactForm input[name=chatSelection]").val(),e=$("#addContactForm input[name=imUsername]").val();else{$.keyUpFunction(),d=$("#chatProviderId").val(),e=$("#configured").val();var f=trimString($("#verifytext").val());if(e.length==0){$("#msgdiv").html(imMsg.add_user),$("#msgdiv").css("display","block"),$("#msgdiv").css("color","#FF0000"),$.fadeOutDiv("msgdiv",4e3),$("#configured").select();return}if(e.search("@")==-1){$("#configured").select(),$("#msgdiv").html(imMsg.add_provider),$("#msgdiv").css("color","#FF0000"),$("#msgdiv").css("display","block"),$.fadeOutDiv("msgdiv",4e3);return}var g=e.split("@")[1].split(".")}if(d.length>0&&d!=-1){var h="";if(a!="change"){var i="execute=handleChatSubscriptions&contactid="+c+"&imProvider="+d+"&imUsername="+e+"&operation="+a+"&verifytext="+f;h=$.getAjaxResponse("POST","/home/Notifications.do",i)}if(a=="sendpin"){$("#verifytext").val(""),$("#sendpin").css("display","none"),$("#verifytext").css("display","block"),$("#verifypin").css("display","block"),$("#resendpin").css("display","block"),$("#changeaccount").css("display","block"),$("#addContactForm input[name=imNotVerified]").val(!0),$("#verifytext").val(""),$("#verifytext").focus(),$("#configured").attr("disabled","disabled"),$("#verifyPinString").css("display","none"),$("#changeaccount").css("display","block"),$("#addContactForm input[name=imUsername]").val(e),$("#addContactForm input[name=chatSelection]").val(d),$("#addContactForm input[name=imSubscribed]").val(!1),$("#newProvider").css("display","none"),$("#time_zone_menu").css("display","none");var j=getValue(h,"ax_successmsg"),k=getValue(h,"ax_success");k=="true"?$("#msgdiv").css("color","#28a001"):$("#msgdiv").css("color","#FF0000"),$("#msgdiv").html(j),$("#msgdiv").css("display","block"),$.fadeOutDiv("msgdiv",4e3)}else if(a=="change"||a=="delete"){if(a=="delete"&&!confirm(imMsg.confirm_delete))return;a=="delete"&&($("#imButton").popover("hide"),$("#modifylink").popover("hide")),$("#sendpin").css("display","block"),$("#verifytext").css("display","none"),$("#resendpin").css("display","none"),$("#verifypin").css("display","none"),$("#changeaccount").css("display","none"),$("#configured").val(""),$("#configured").removeAttr("disabled"),$("#verifyPinString").css("display","block"),$("#addContactForm input[name=imUsername]").val(""),$("#addContactForm input[name=chatSelection]").val(""),$("#addContactForm input[name=imSubscribed]").val(!1),$("#addContactForm input[name=imNotVerified]").val(!1),$("#addContactForm input[name=imButton]").val(imMsg.add_account),$("#alertType_4").prop("checked",!1),$.removeAlertTypes("4"),b=="contact"&&($("#deletecase").css("display","block"),$("#addedcase").css("display","none"))}else if(a=="verify"){var l=getValue(h,"ax_verified");if(l=="true"){$("#imButton").popover("hide"),$("#modifylink").popover("hide"),$("#addContactForm input[name=imUsername]").val(e),$("#addContactForm input[name=chatSelection]").val(d),$("#addContactForm input[name=imSubscribed]").val(!0),$("#imVal").html(e),$("#deletecase").css("display","none"),$("#addedcase").css("display","block"),$("#addContactForm input[name=imNotVerified]").val(!1),$("#alertType_4").prop("checked",!0),$.selectAlertTypes("4"),d==0?$("#chatSel").attr("src","/images/gmail.png"):d==1?$("#chatSel").attr("src","/images/yahoo.png"):d==2&&$("#chatSel").attr("src","/images/msn.png");if($("#popup").val()!="true"){var m=imMsg.pin_verfied,n=$("#imVal").position(),o=n.left,p=n.top-20,q=m.length*11;$("#msgdiv").html(m),$("#msgdiv").css("color","#28a001"),$("#msgdiv").css("display","block"),$.fadeOutDiv("msgdiv",6e3)}}else $.removeAlertTypes("4"),$("#addContactForm input[name=imNotVerified]").val(!0),$("#verifytext").val(""),$("#msgdiv").html(imMsg.correct_pin),$("#msgdiv").css("color","#FF0000"),$("#msgdiv").css("display","block"),$.fadeOutDiv("msgdiv",4e3)}else if(a=="resendpin"){$("#verifytext").val("");var j=getValue(h,"ax_successmsg"),k=getValue(h,"ax_success");k=="true"?$("#msgdiv").css("color","#28a001"):$("#msgdiv").css("color","#FF0000"),$("#msgdiv").html(j),$("#msgdiv").css("display","block"),$.fadeOutDiv("msgdiv",4e3)}}else $("#msgdiv").html(imMsg.check_providers),$("#msgdiv").css("color","#FF0000"),$("#msgdiv").css("display","block"),$.fadeOutDiv("msgdiv",4e3)},jQuery.subscription=function(a){var b=0;$("#addContactForm input[name=contactid]").val()!=null&&(b=$("#addContactForm input[name=contactid]").val());var c=!1;a=="imButton"&&(c=!0);var d="";$("#addContactForm input[name=imUsername]").val()!=null&&(d=$("#addContactForm input[name=imUsername]").val());var e=!1;$("#addContactForm input[name=popupindication]").val()!=null&&$("#addContactForm input[name=popupindication]").val()=="true"&&(e=!0);var f="execute=initiateChatSubscriptions&contactid="+b+"&tempDelete="+c+"&formValue="+d+"&popup="+e,g=$.getAjaxResponse("POST","/home/Notifications.do",f),h='<img src="/images/close-icon.gif" align="right" valign="middle" title="close" style="cursor:pointer" onclick="$.closePopUp(\''+a+"')\">";$("#"+a).attr("data-original-title",'<table width="100%"><tr><td width="50%">'+imMsg.header_msg+'</td><td width="45%">&nbsp;</td><td width="5%">'+h+"</td></tr></table>"),$("#"+a).attr("data-content",g),$("#"+a).popover("show"),$("#addContactForm input[name=imNotVerified]").val()=="true"?($("#verifytext").val(""),$("#sendpin").css("display","none"),$("#verifytext").css("display","block"),$("#verifypin").css("display","block"),$("#resendpin").css("display","block"),$("#changeaccount").css("display","block"),$("#addContactForm input[name=imNotVerified]").val(!0),$("#verifytext").val(""),$("#verifytext").focus(),$("#verifyPinString").css("display","none"),$("#configured").attr("disabled","disabled"),$("#changeaccount").css("display","block"),$("#addContactForm input[name=imUsername]").val(configuredName),$("#addContactForm input[name=chatSelection]").val(chatId),$("#addContactForm input[name=imSubscribed]").val(!1)):$("#configured").is(":disabled")||($("#configured").focus(),$("#configured").select())},jQuery.OnDelete=function(a,b,c){a=="true"?$("#"+c).val("true"):$("#"+c).val("false")},jQuery.onWholeClick=function(a,b){b!=undefined&&b=="onDeleteGroup"+a?$("#onDeleteGroup"+a).val()!=undefined&&$("#onDeleteGroup"+a).val()=="true"?$.deleteContactGroup(a):$.showEditContactGroup(a):b!=undefined&&b=="onDelete"+a?$("#onDelete"+a).val()!=undefined&&$("#onDelete"+a).val()=="true"?$.deleteContact(a):$.showEditContactForm(a):b!=undefined&&b=="onDeleteTemplate"+a?$("#onDeleteTemplate"+a).val()!=undefined&&$("#onDeleteTemplate"+a).val()=="true"?$.deleteTemplate(a):$.showEditTemplateForm(a):b!=undefined&&b=="onDeleteAction"+a?$("#onDeleteAction"+a).val()!=undefined&&$("#onDeleteAction"+a).val()=="true"?$.deleteActions(a):$.showEditActionsForm(a):b!=undefined&&b=="onDeleteSla"+a?$("#onDeleteSla"+a).val()!=undefined&&$("#onDeleteSla"+a).val()=="true"?deleteSla(a):editSla(a):b!=undefined&&b=="onDeleteBusiness"+a?$("#onDeleteBusiness"+a).val()!=undefined&&$("#onDeleteBusiness"+a).val()=="true"?deleteBusinessHours(a):editBusinessHours(a):b!=undefined&&b=="onDeleteMaintenance"+a?$("#onDeleteMaintenance"+a).val()!=undefined&&$("#onDeleteMaintenance"+a).val()=="true"?deleteMaintenance(a,$("#currentStat"+a).val()):editMaintenance(a,$("#currentStat"+a).val()):b!=undefined&&b=="onDeleteUptime"+a?$("#onDeleteUptime"+a).val()!=undefined&&$("#onDeleteUptime"+a).val()=="true"?$.deleteUptimeBtn(a,$("#displayname"+a).val()):($("#copyUptime"+a).val()==undefined||$("#copyUptime"+a).val()!="true")&&$.addUptimeBtn(a,!1):b!=undefined&&b=="onDeleteSchedule"+a?$("#onDeleteSchedule"+a).val()!=undefined&&$("#onDeleteSchedule"+a).val()=="true"?$.deleteScheduledReports(a):$("#reportStat"+a).val()!=undefined&&$("#reportStat"+a).val()=="true"?$("#visibleBlock"+a).val()!=undefined&&$("#visibleBlock"+a).val()=="suspend"?$.suspendScheduledReports(a):$.activateScheduledReports(a):$.editScheduledReports(a,!1):b!=undefined&&b=="onDeletePortSLA"+a?$("#onDeletePortSLA"+a).val()!=undefined&&$("#onDeletePortSLA"+a).val()=="true"?$.deletestatusview(a,"sla",$("#slaname"+a).val()):$.editSLAView(a,!1):b!=undefined&&b=="onDeletePortPublic"+a?$("#onDeletePortPublic"+a).val()!=undefined&&$("#onDeletePortPublic"+a).val()=="true"?$.deletestatusview(a,"report",$("#pubname"+a).val()):($("#copyPublic"+a).val()==undefined||$("#copyPublic"+a).val()!="true")&&$.editReportView(a):b!=undefined&&b=="onDeleteStatus"+a?$("#onDeleteStatus"+a).val()!=undefined&&$("#onDeleteStatus"+a).val()=="true"?$.deletestatusview(a,"status",$("#statusname"+a).val()):($("#copyStatus"+a).val()==undefined||$("#copyStatus"+a).val()!="true")&&$.editStatusView(a,!1,"status",$("#statusname"+a).val(),"status"):b!=undefined&&b=="onDeleteSubUser"+a&&($("#onDeleteSubUser"+a).val()!=undefined&&$("#onDeleteSubUser"+a).val()=="true"?deleteUser(a):$("#onActivateSubUser"+a).val()!=undefined&&$("#onActivateSubUser"+a).val()=="true"?activateUser(a):editUser(a))},jQuery.closePopUp=function(a){$("#"+a).popover("toggle")},jQuery.updatePaymentMode=function(){var a="method=showUpdatePaymentMode",b=$.getAjaxResponse("POST","/home/pkgbilling.do",a),c=($(window).height()-400)/2+$(window).scrollTop()+"px",d=($(window).width()-540)/2+$(window).scrollLeft()+"px";$.showPopUpDiv(b,c,d,"1","472")},jQuery.showAvailableLocations=function(a,b){var c="price="+a;b!=undefined&&(c="price="+a+"&lang="+b);var d=$.getAjaxResponseWithCSRF("POST","/login/locations.jsp",c),e=$("#upgradeAvailableLocations").position(),f=e.left-220,g=e.top+12;$.showPopUpDiv(d,g,f,"5000","300")},jQuery.importBulkUrls=function(a){var b="pagename=importurls&width=835&monitorType="+a,c=$.getAjaxResponse("POST","/jsp/includes/divPopUp.jsp",b),d=$("#importBulkUrlsId").position(),e=d.left-750,f=d.top-10;$.showPopUpDiv(c,f,e,"50","850")},jQuery.showSlaColourPicker=function(a,b){var c="pagename=slacolourpicker&width=225&key="+a+"&divid="+b,d=$.getAjaxResponse("POST","/jsp/includes/divPopUp.jsp",c),e=0;b!=null&&b!=""||b!=undefined?e=$("#"+b).position():e=$("#SlaTargetColorPosition"+a).position();var f=e.left,g=e.top+12;$.showPopUpDiv(d,g,f,"5000","240")},jQuery.showDownDescription=function(a,b,c,d,e){var f="execute=showDowntimeDescription&downtime="+c+"&urlid="+b+"&ref="+e;d=="desc"&&(f="execute=showDowntimeDescription&downtime="+c+"&urlid="+b+"&ref="+e+"&action=");var g=($(window).height()-400)/2+$(window).scrollTop()+"px",h=($(window).width()-540)/2+$(window).scrollLeft()+"px",i=$.getAjaxResponse("GET","/login/status.do",f);$.showPopUpDiv(i,g,h,"5000","472")},jQuery.updateDowntimeReason=function(){var a=$.getPostAjaxResponse("/home/reportsinfo.do","editDowntimeReason"),b=getValue(a,"ax_downtimereason"),c=getValue(a,"ax_description"),d=getValue(a,"ax_downtime"),e="showdownReason_"+d;b==""&&(b="&nbsp;"),c==""&&(c="&nbsp;"),$("#3_"+e).html(b),$("#11_"+e).html(b),$("#13_"+e).html(b),$("#"+e).html(b),$("#rcareason").html(c),$.hideDiv("popUpFloatingDiv")},jQuery.getStatusMsg=function(a,b){var c='<table border="0" cellspacing="2" cellpadding="2"><tr><td><img src="/images/spacer.gif" class="sladownImg"/></td><td align="left"><span class="failureMsg">'+b+"</span></td></tr></table>";a=="success"&&(c='<table border="0" cellspacing="2" cellpadding="2"><tr><td><img src="/images/spacer.gif" class="slaupImg"/></td><td align="left"><span class="successMsg">'+b+"</span></td></tr></table>");var d="<div>";return d+='<div><b class="wtop"><b class="r1"></b><b class="r2"></b><b class="r3"></b><b class="r4"></b></b></div>',d+='<div class="wcenter">',d+='<div><b class="mtop"><b class="r2"></b><b class="r3"></b><b class="r4"></b></b></div>',d=d+'<div class="white">'+c+"</div>",d+='<div><b class="mbottom"><b class="r4"></b><b class="r3"></b><b class="r2"></b></b></div>',d+="</div>",d+='<div><b class="wbottom"><b class="r4"></b><b class="r3"></b><b class="r2"></b><b class="r1"></b></b></div>',d+="</div>",d},jQuery.changePassword=function(){var a=$("#changepasswd input[name=opassword]").val(),b=$("#changepasswd input[name=npassword]").val(),c=$("#changepasswd input[name=cpassword]").val();if(trimString(a).length<5)return alert(accountmsg.old_pwd_empty),$("#changepasswd input[name=opassword]").select(),!1;if(trimString(b).length<6)return alert(accountmsg.pwd_min_length),$("#changepasswd input[name=npassword]").select(),!1;if(b!=c)return alert(beanmsg.pwdnotmatch),$("#changepasswd input[name=cpassword]").select(),!1;var d=$.getPostAjaxResponse("/home/accountinfo.do","changepasswd"),e=getValue(d,"ax_errormsg"),f=getValue(d,"ax_status"),g=e.length*11;e.length<15&&(g+=70);var h=$("#changepasswd input[name=submitChangePassword]").position(),i=h.left+$("#changepasswd input[name=submitChangePassword]").width()+25,j=h.top-6;$.showPopUpDiv($.getStatusMsg(f,e),j,i,"1",g),$("#changepasswd input[name=opassword]").val(""),$("#changepasswd input[name=npassword]").val(""),$("#changepasswd input[name=cpassword]").val(""),$.fadeOutDiv("popUpFloatingDiv",3e3)},jQuery.updateReportMailSettings=function(){var a=$("#reportemails textarea[name=emailid]").val().trim(),b=a.length,c=a.lastIndexOf(",")+1;b>0&&b==c&&(a=a.substring(0,b-1));var d="";if(a!=""){var e=a.split(",");for(i=0;i<e.length;i++){if(!validateEmail(e[i])){$("#reportemails textarea[name=emailid]").select();return}d=d+e[i]+" "}}$.showDiv("editemail"),$.hideDiv("cancelemail");var f=$.getPostAjaxResponse("/home/accountinfo.do","reportemails"),g=getValue(f,"ax_errormsg"),h=getValue(f,"ax_status");d=trimString(d),d==""&&(d=reportmsg.no_contacts_selected),$("#reportemails input[name=email]").val(d),$("#normal").html(d),$.showDiv("normal"),$.hideDiv("fld"),$.showDiv("normal");var j=g.length*11;g.length<15&&(j+=70);var k=$("#reportemails input[name=submitReportEmails]").position(),l=k.left+$("#reportemails input[name=submitReportEmails]").width()+25,m=k.top-6;$.showPopUpDiv($.getStatusMsg(h,g),m,l,"1",j),$.fadeOutDiv("popUpFloatingDiv",2500)},jQuery.updateAccountSetings=function(){var a=$("#acctsettings input[name=loginName]").val();a=trimString(a),$("#acctsettings input[name=loginName]").val(a);if(a.length<=3)$("#acctsettings input[name=loginName]").val();else if(validateEmail(a)&&!confirm("Are you sure to change the login Name?"))return;var b=$.getPostAjaxResponse("/home/accountinfo.do","acctsettings"),c=getValue(b,"ax_errormsg"),d=getValue(b,"ax_status"),e=getValue(b,"ax_locationhrefurl"),f=c.length*11;c.length<15&&(f+=70);var g=$("#acctsettings input[name=submitAccountSettings]").position(),h=g.left+$("#acctsettings input[name=submitAccountSettings]").width()+25,i=g.top-6;$.showPopUpDiv($.getStatusMsg(d,c),i,h,"1",f),$.fadeOutDiv("popUpFloatingDiv",4e3),$("#acctsettings input[name=loginName]").val(""),e!=undefined&&(e.indexOf("logout.do")==-1&&(e+="&tab=AccountGeneral"),location.href=e)},jQuery.updateSMSConditions=function(){var a=$("#updatesmsConditions input[name=upSmsSupported]").val(),b=$("#updatesmsConditions input[name=troubleSmsSupported]").val(),c=$.getPostAjaxResponse("/home/Notifications.do","updatesmsConditions"),d=getValue(c,"ax_errormsg"),e=getValue(c,"ax_status"),f=$("#updatesmsConditions input[name=upSmsSupported]").position(),g=d.length*11;d.length<15&&(g+=70);var h=f.top-6,i=($(window).width()-540)/2+$(window).scrollLeft()+"px";$.showPopUpDiv($.getStatusMsg(e,d),h,i,"1",g),$.fadeOutDiv("popUpFloatingDiv",1500)},jQuery.menuTabHiding=function(a,b){var c=a.split(",");for(i=0;i<c.length;i++){var d=c[i];d!=undefined&&(d==b?($("#li"+d+" a").first().css({color:"#000000","font-weight":"bold"}),$("#li"+d).addClass("tab2selected")):($("#li"+d+" a").first().css({color:"#0c7dbe","font-weight":"normal"}),$("#li"+d).removeClass("tab2selected")))}},jQuery.alertsTabHide=function(a){$.menuTabHiding($("#alertsTabLists").html(),a),a!=undefined&&a=="alertssent"&&(a="contacts"),$.hideAllExcept($("#RS_alertids").html(),"RS_"+a)},jQuery.showAddContactGroup=function(a){$("#imButton").popover("hide"),$("#modifylink").popover("hide");if(a!=undefined&&a=="popup"){var b=$.getAjaxResponse("POST","/home/Notifications.do","execute=showContactGroupForm&popup=popup"),c=$("#add_contactGrouplink").position(),d=c.top-220,e=c.left+10;$.showPopUpDiv(b,d,e,"1","815")}else{var b=$.getAjaxResponse("POST","/home/Notifications.do","execute=showContactGroupForm");$("#AlertsTabContent").html(b),$.alertsTabHide("groups")}},jQuery.showEditContactGroup=function(a,b){$("#imButton").popover("hide"),$("#modifylink").popover("hide");if(b!=undefined&&b=="popup"){var c=$.getAjaxResponse("POST","/home/Notifications.do","execute=showContactGroupForm&groupid="+a+"&popup=popup");$.showPopUpDiv(c,750,250,"1","815")}else{var c=$.getAjaxResponse("POST","/home/Notifications.do","execute=showContactGroupForm&groupid="+a);$("#AlertsTabContent").html(c)}},jQuery.deleteContactGroup=function(a){if(confirm(contactmsg.del_contactgroup)){var b=$.getAjaxResponseWithCSRF("POST","/home/Notifications.do","execute=deleteContactGroup&groupid="+a);if(b.indexOf("Unauthorized")!=-1)$("#AlertsTabContent").html(b);else{var c=getValue(b,"ax_deleteStatus"),d="<span class='errormessage'>";c=="success"?(d+=contactmsg["contact.group.delete.success"],$.hideDiv("tr"+a)):c=="inUse"&&(d+=contactmsg.last_onecontactgroup),d+="</span>";var e=document.getElementById("showMsgs");e.innerHTML=d,e.style.display=="none"&&$.showDiv("showMsgs"),$.fadeOutDiv("showMsgs",1e4)}}},jQuery.addContactGroup=function(a){$("#imButton").popover("hide"),$("#modifylink").popover("hide");var b=$("#addContactGroupForm input[name=displayname]").val();if(document.getElementById("editGroupdisp")!=null){var c=document.getElementById("editGroupdisp");b=c.options[c.selectedIndex].text}if(trimString(b).length<1){alert(beanmsg.dispnameempty),$("#addContactForm input[name=displayname]").select();return}var d=$("#addContactGroupForm input[name=contacts]").is(":checked");if(!d){alert(contactmsg.atleast_onecontact);return}var e="/home/Notifications.do";a!=undefined&&a=="popup"&&(e="/home/Notifications.do?popup=popup"),document.getElementById("editGroupdisp")!=null&&(e="/home/Notifications.do?displayname="+b);var f=$.getPostAjaxResponse(e,"addContactGroupForm"),g=getValue(f,"ax_popup");if(g!=undefined&&g=="popup"){var h=getValue(f,"ax_groupid"),i=getValue(f,"ax_displayname"),j='<input type="checkbox" id="actions" value="'+h+'" name="actions" checked="checked">'+i,k=$("#monitorcontactstbl tr:last td:first").html(),l=$("#monitorcontactstbl tr:last td:nth-child(2)").html(),m=$("#monitorcontactstbl tr:last td:nth-child(3)").html(),n=$("#monitorcontactstbl tr:last td:last").html();k.length>10&&l.length<10?$("#monitorcontactstbl tr:last td:nth-child(2)").html(j):l.length>10&&m.length<10?$("#monitorcontactstbl tr:last td:nth-child(3)").html(j):m.length>10&&n.length<10?$("#monitorcontactstbl tr:last td:last").html(j):n.length>10&&$("#monitorcontactstbl tr:last").after('<tr><td width="25%" class="bodytext2">'+j+'</td><td class="bodytext2" width="25%">&nbsp;</td><td class="bodytext2" width="25%">&nbsp;</td><td class="bodytext2" width="25%">&nbsp;</td></tr>')}else document.getElementById("AlertsTabContent").innerHTML=f;var o=getValue(f,"ax_alertstatus"),p=getValue(f,"ax_errormsg"),q=$(window).height()/2+$(window).scrollTop()+"px",r=($(window).width()-400)/2+$(window).scrollLeft()+"px",s=p.length*11;$.showPopUpDiv($.getStatusMsg(o,p),q,r,"1",s),$.fadeOutDiv("popUpFloatingDiv",3500)},jQuery.showEditContactGroups=function(){$("#imButton").popover("hide"),$("#modifylink").popover("hide");var a=$.getAjaxResponse("POST","/home/Notifications.do","execute=showContactGroups&popup=popup");$.showPopUpDiv(a,750,250,"1","815")},jQuery.showContactGroups=function(){$("#imButton").popover("hide"),$("#modifylink").popover("hide");var a=$.getAjaxResponse("POST","/home/Notifications.do","execute=showContactGroups");$("#AlertsTabContent").html(a),$.alertsTabHide("groups")},jQuery.showAddContactForm=function(a){$("#imButton").popover("hide"),$("#modifylink").popover("hide");if(a!=undefined&&a=="popup"){var b=$.getAjaxResponse("POST","/home/Notifications.do","execute=showContactForm&popup=popup");$.showPopUpDiv(b,450,250,"1","815")}else{var b=$.getAjaxResponse("POST","/home/Notifications.do","execute=showContactForm");$("#AlertsTabContent").html(b),$.alertsTabHide("contacts")}},jQuery.showEditContactForm=function(a){$("#imButton").popover("hide"),$("#modifylink").popover("hide");var b=$.getAjaxResponse("POST","/home/Notifications.do","execute=showContactForm&contactid="+a);$("#AlertsTabContent").html(b)},jQuery.deleteContact=function(a){if(confirm(contactmsg.del_contact)){var b=$.getAjaxResponseWithCSRF("POST","/home/Notifications.do","execute=deleteContact&contactid="+a);if(b.indexOf("Unauthorized")!=-1)$("#AlertsTabContent").html(b);else{var c=getValue(b,"ax_deleteStatus"),d="<span class='errormessage'>";c=="success"?(d+=contactmsg["contact.delete.success"],$.hideDiv("tr"+a)):c=="inUse"&&(d+=contactmsg.last_onecontact),d+="</span>";var e=document.getElementById("showMsgs");e.innerHTML=d,e.style.display=="none"&&$.showDiv("showMsgs"),$.fadeOutDiv("showMsgs",1e4)}}},jQuery.showAccessPermissions=function(){var a=$("#addContactForm input[name=toemail]").val(),b=$.getAjaxResponse("GET","/home/iamActions.do?email="+encodeURIComponent(a),"execute=allowSubuserAddition");b=="true"?($("#noaccess").hide(),$("#access_content_div").hide()):$("#noaccess").show()},jQuery.addContact=function(a){try{var b=$("#slider").rangeSlider("values");b.min!==undefined&&$("#sliderMin").val(b.min),b.max!==undefined&&$("#sliderMax").val(b.max)}catch(c){}var d=$("#addContactForm input[name=displayname]").val(),e=$("#addContactForm input[name=toemail]").val(),f=$("#addContactForm input[name=imUsername]").val();if(trimString(d).length<1){alert(beanmsg.dispnameempty),$("#addContactForm input[name=displayname]").select();return}var g=$("#addContactForm input[name=imSubscribed]").val();if(g=="true"){if(f==""||f.length==0){alert(beanmsg.usernameempty),$("#addContactForm input[name=imUsername]").select();return}if(!validateEmail(f)){$("#addContactForm input[name=imUsername]").select();return}}if(!validateEmail(e)){$("#addContactForm input[name=toemail]").select();return}var h=$("#addContactForm input[name=number]").val();if(h!=""&&isNaN(h)){alert(beanmsg.invalidsmsno),$("#addContactForm input[name=number]").select();return}var i=$("#selContactGroups :selected").length;if(i===0){alert(alerttypemsg.select_contact_group);return}if($("#level_1").is(":checked")){var j=$("#monitorGroups :selected").length;if(j===0){alert(alerttypemsg.select_monitor_group);return}}$("#emailTest").popover("hide"),$("#smsTest").popover("hide"),$("#imButton").popover("hide"),$("#modifylink").popover("hide"),$("#twitterbtn").popover("hide");var k=$("#contact_execute").val();if(k==="addContact"){var l=$.isContactExists();if(l)return}if(k==="addContact"&&$("#subUserCreationSupported").val()==="true"){var l=$.isUserExists();if(l)return}var m="/home/Notifications.do";a!=undefined&&a=="popup"&&(m="/home/Notifications.do?popup=popup");var n=$.getPostAjaxResponse(m,"addContactForm"),o=getValue(n,"ax_popup"),p=getValue(n,"ax_group");if(p==="updateGrpProblem"){var q=getValue(n,"ax_errormsg");if(q!==null){alert(q);return}}if(o===undefined||o!=="true")document.getElementById("AlertsTabContent").innerHTML=n;var r=getValue(n,"ax_alertstatus"),s=getValue(n,"ax_errormsg"),t=$(window).height()/2+$(window).scrollTop()+"px",u=($(window).width()-400)/2+$(window).scrollLeft()+"px";if(r!==undefined||s!==undefined){var v=s.length*11;s.length>50&&(v=s.length*4),$.showPopUpDiv($.getStatusMsg(r,s),t,u,"1",v),$.fadeOutDiv("popUpFloatingDiv",7e3)}},jQuery.goBack=function(){history.back()},jQuery.showContacts=function(){$("#imButton").popover("hide"),$("#modifylink").popover("hide");var a=$.getAjaxResponse("POST","/home/Notifications.do","execute=showContacts");$("#AlertsTabContent").html(a),$.alertsTabHide("contacts")},jQuery.showActions=function(){$("#imButton").popover("hide"),$("#modifylink").popover("hide");var a=$.getAjaxResponse("POST","/home/Notifications.do","execute=showActions");$("#AlertsTabContent").html(a),$.alertsTabHide("actions")},jQuery.addActions=function(a,b){if(trimString(a.actionName.value).length<1){alert(beanmsg.actionnameempty),a.actionName.select();return}if(trimString(a.url.value).length<8){alert(beanmsg.urlempty),a.url.select();return}var c=document.getElementById("actionPostDiv").style.display;if(c!="none"&&trimString(a.requestParam.value).length<=0){alert(beanmsg["custom.params.empty"]),a.requestParam.select();return}if(!checkUrl(a.url.value)){a.url.select();return}if(a.timeout.value==""){alert(beanmsg.timeoutempty),a.timeout.select();return}if(isNaN(a.timeout.value)){alert(beanmsg.invalid_timeout),a.timeout.select();return}if(b!=undefined&&b=="popup")Showloading("addActionMsgs"),a.appendChild(getnewFormElement("hidden","popup","popup")),importxmlForForm(a,"fnPostActionAdd");else{var d=$.getPostAjaxResponse("/home/Notifications.do?popup="+b,"addActionForm");$("#AlertsTabContent").html(d),$.alertsTabHide("actions");var e=getValue(d,"ax_alertstatus");if(e=="success"){var f=getValue(d,"ax_errormsg"),g=$(window).height()/2+$(window).scrollTop()+"px",h=($(window).width()-400)/2+$(window).scrollLeft()+"px",i=f.length*11;$.showPopUpDiv($.getStatusMsg(e,f),g,h,"1",i),$.fadeOutDiv("popUpFloatingDiv",3500)}}},jQuery.showaddActionsForm=function(a){$("#imButton").popover("hide"),$("#modifylink").popover("hide");if(a!=undefined&&a=="popup"){var b=$.getAjaxResponse("GET","/home/Notifications.do","execute=showAddActionForm&popup=popup"),c=$(window).height()/2+$(window).scrollTop()+"px",d=($(window).width()-500)/2+$(window).scrollLeft()+"px";$.showPopUpDiv(b,c,d,"1","600")}else{var b=$.getAjaxResponse("GET","/home/Notifications.do","execute=showAddActionForm&popup=");$("#AlertsTabContent").html(b),$.alertsTabHide("actions")}},jQuery.deleteActions=function(a){if(confirm(beanmsg.confirm_del_action)){var b=$.getAjaxResponseWithCSRF("POST","/home/Notifications.do","execute=deleteAction&actionid="+a);if(b.indexOf("Unauthorized")!=-1)$("#AlertsTabContent").html(b);else{var c=getValue(b,"ax_deleteStatus"),d=getValue(b,"ax_listStatus"),e="<span class='errormessage'>";c=="success"?($.hideDiv("tr"+a),e+=beanmsg.delactionsuccess):c=="inUse"?e+=beanmsg.delactionassc:c=="failed"&&(e+=beanmsg.delactionfailed),d=="nolist"&&$.showaddActionsForm(),e+="</span>";var f=document.getElementById("showMsgs");f.innerHTML=e,f.style.display=="none"&&$.showDiv("showMsgs"),$.fadeOutDiv("showMsgs",1e4)}}},jQuery.showEditActionsForm=function(a){$("#imButton").popover("hide"),$("#modifylink").popover("hide");var b=$.getAjaxResponse("POST","/home/Notifications.do","execute=showAddActionForm&actionid="+a);$("#AlertsTabContent").html(b)},jQuery.showAddTemplateForm=function(a){$("#imButton").popover("hide"),$("#modifylink").popover("hide");if(a!=undefined&&a=="popup"){var b=$.getAjaxResponse("POST","/home/Notifications.do","execute=showTemplateForm&popup=popup"),c=$("#add_templatelink").position(),d=c.top-50,e=c.left+10;$.showPopUpDiv(b,d,e,"1","615")}else{var b=$.getAjaxResponse("POST","/home/Notifications.do","execute=showTemplateForm");$("#AlertsTabContent").html(b),$.alertsTabHide("alerttemplate")}},jQuery.showEditTemplateForm=function(a){$("#imButton").popover("hide"),$("#modifylink").popover("hide");var b=$.getAjaxResponse("POST","/home/Notifications.do","execute=showTemplateForm&templateid="+a);$("#AlertsTabContent").html(b)},jQuery.deleteTemplate=function(a){if(confirm(contactmsg.del_template)){var b=$.getAjaxResponseWithCSRF("POST","/home/Notifications.do","execute=deleteTemplate&templateid="+a);if(b.indexOf("Unauthorized")!=-1)$("#AlertsTabContent").html(b);else{var c=getValue(b,"ax_deleteStatus");c=="success"?$.hideDiv("tr"+a):c=="successWithEmptyList"&&$.showAddTemplateForm()}}},jQuery.addTemplate=function(a){var b=$("#addTemplateForm input[name=displayname]").val();if(trimString(b).length<1){alert(beanmsg.dispnameempty),$("#addTemplateForm input[name=displayname]").select();return}var c=$("#addTemplateForm input[name=templateSubject]").val();if(trimString(c).length<1){alert(templatemsg.temp_sub_empty),$("#addTemplateForm input[name=templateSubject]").select();return}var d="/home/Notifications.do";a!=undefined&&a=="popup"&&(d="/home/Notifications.do?popup=popup");var e=$.getPostAjaxResponse(d,"addTemplateForm"),f=getValue(e,"ax_popup");if(f!=undefined&&f=="popup"){var g=getValue(e,"ax_templateid"),h=getValue(e,"ax_templateName");$("#templateid").append('<option value="'+g+'" selected="selected">'+h+"</option>")}else $("#AlertsTabContent").html(e);var i=getValue(e,"ax_alertstatus"),j=getValue(e,"ax_errormsg"),k=$(window).height()/2+$(window).scrollTop()+"px",l=($(window).width()-400)/2+$(window).scrollLeft()+"px",m=j.length*11;$.showPopUpDiv($.getStatusMsg(i,j),k,l,"1",m),$.fadeOutDiv("popUpFloatingDiv",3500)},jQuery.showTemplates=function(){$("#imButton").popover("hide"),$("#modifylink").popover("hide");var a=$.getAjaxResponse("POST","/home/Notifications.do","execute=showTemplates");$("#AlertsTabContent").html(a),$.alertsTabHide("alerttemplate")},jQuery.showAlertsSend=function(a){if(a===undefined||a==="")a="1";location.href="/home/Notifications.do?execute=showAlertsList&period="+a},jQuery.showExecutedActionsList=function(a){a==undefined&&(a="2"),location.href="/home/Notifications.do?execute=showExecutedActionsList&period="+a},jQuery.showPagerDutyConfig=function(){$("#imButton").popover("hide"),$("#modifylink").popover("hide"),period="2";var a=$.getAjaxResponse("POST","/home/Notifications.do","execute=showPagerDutyConfig");$("#AlertsTabContent").html(a),$.alertsTabHide("pagerduty")},jQuery.disConnectPagerDuty=function(){var a=$.getAjaxResponseWithCSRF("POST","/home/Notifications.do","execute=disConnectPagerDuty"),b=getValue(a,"ax_Status");b=="success"&&($.hideDiv("connect"),$.showDiv("disConnect"),$.hideDiv("connectHeading"),$.showDiv("disConnectHeading"),$.hideDiv("messageSettingsDiv"))},jQuery.savePagerDutyEmail=function(){email=document.getElementById("pagerDutyEmail").value;if(!validateEmail(email))return;var a=$.getAjaxResponseWithCSRF("POST","/home/Notifications.do","execute=savePagerDutyEmail&email="+email);status=getValue(a,"ax_Status"),message="",status=="success"?(message=beanmsg.PagerDutyEmailSaved,document.getElementById("mailConfiguredDiv").style.display="block",document.getElementById("pagerDutyEmail1").value=email,document.getElementById("mailUnConfiguredDiv").style.display="none"):message=beanmsg.PagerDutyEmailSavingFailed,$.hidePopUpDiv();var b=$("#pagerDutyForm input[id=pagerDutyEmail1]").position(),c=message.length*11;message.length<15&&(c+=70);var d=b.top-56,e=($(window).width()-540)/2+$(window).scrollLeft()+"px";$.showPopUpDiv($.getStatusMsg(status,message),d,e,"1",c),$.fadeOutDiv("popUpFloatingDiv",4e3)},jQuery.removePagerDutyEmail=function(){var a=$.getAjaxResponseWithCSRF("POST","/home/Notifications.do","execute=savePagerDutyEmail&email=");status=getValue(a,"ax_Status"),message="",status=="success"?(message=beanmsg.PagerDutyEmailRemoved,document.getElementById("mailConfiguredDiv").style.display="none",document.getElementById("pagerDutyEmail").value="",document.getElementById("mailUnConfiguredDiv").style.display="block"):message=beanmsg.PagerDutyEmailRemovingFailed,$.hidePopUpDiv();var b=$("#pagerDutyForm input[id=pagerDutyEmail]").position(),c=message.length*11;message.length<15&&(c+=70);var d=b.top-56,e=($(window).width()-540)/2+$(window).scrollLeft()+"px";$.showPopUpDiv($.getStatusMsg(status,message),d,e,"1",c),$.fadeOutDiv("popUpFloatingDiv",4e3)},jQuery.savePagerDutyTemplate=function(){template=document.getElementById("pagerDutyTemplate").value;if(template==null||template==""||trimString(template).length<1){alert(beanmsg.PagerDutyMessageEmpty);return}var a=$.getAjaxResponseWithCSRF("POST","/home/Notifications.do","execute=savePagerDutyTemplate&template="+template);status=getValue(a,"ax_Status"),message="",status=="success"?message=beanmsg.PagerDutyMessageSaved:message=beanmsg.PagerDutyMessageSavingFailed,$.hidePopUpDiv();var b=$("#pagerDutyForm input[name=pagerDutyTemplate]").position(),c=message.length*11;message.length<15&&(c+=70);var d=b.top-56,e=($(window).width()-540)/2+$(window).scrollLeft()+"px";$.showPopUpDiv($.getStatusMsg(status,message),d,e,"1",c),$.fadeOutDiv("popUpFloatingDiv",4e3)},jQuery.sendPagerDutyTestAlert=function(){$.hidePopUpDiv();var a="<div>";a+='<div><b class="wtop"><b class="r1"></b><b class="r2"></b><b class="r3"></b><b class="r4"></b></b></div>',a+='<div class="wcenter">',a+='<div><b class="mtop"><b class="r2"></b><b class="r3"></b><b class="r4"></b></b></div>',a+='<div class="white"><table border="0" cellspacing="2" cellpadding="2"><tr><td>&nbsp;</td><td align="left"><span class="successMsg"><img src="/images/loadingAnimation.gif"></span></td></tr></table></div>',a+='<div><b class="mbottom"><b class="r4"></b><b class="r3"></b><b class="r2"></b></b></div>',a+="</div>",a+='<div><b class="wbottom"><b class="r4"></b><b class="r3"></b><b class="r2"></b><b class="r1"></b></b></div>',a+="</div>";var b=$("#pagerDutyForm input[id=triggerTestAlert]").position(),c=260,d=b.top-56,e=($(window).width()-540)/2+$(window).scrollLeft()+"px";$.showPopUpDiv(a,d,e,"1",c);var f=$.getAjaxResponseWithCSRF("POST","/home/Notifications.do","execute=sendPagerDutyTestAlert");status=getValue(f,"ax_Status"),message="",status=="success"?message=beanmsg.PagerDutyTestSuccess:message=beanmsg.PagerDutyTestFailed,$.hidePopUpDiv(),b=$("#pagerDutyForm input[id=triggerTestAlert]").position(),c=message.length*11,message.length<15&&(c+=70),d=b.top-56,e=($(window).width()-540)/2+$(window).scrollLeft()+"px",$.showPopUpDiv($.getStatusMsg(status,message),d,e,"1",c),$.fadeOutDiv("popUpFloatingDiv",4e3)},jQuery.savePagerDutyTroubleAlert=function(){var a=$.getAjaxResponseWithCSRF("POST","/home/Notifications.do","execute=savePagerDutyTroubleAlert&alert="+document.getElementById("pagerDutyTroubleAlert").checked);status=getValue(a,"ax_Status"),message="",status=="success"?message=beanmsg.PagerDutyTroubleAlertSuccess:message=beanmsg.PagerDutyTroubleAlertFailed;var b=$("#pagerDutyForm input[name= pagerDutyTroubleAlert]").position(),c=message.length*11;message.length<15&&(c+=70);var d=b.top-56,e=($(window).width()-540)/2+$(window).scrollLeft()+"px";$.showPopUpDiv($.getStatusMsg(status,message),d,e,"1",c),$.fadeOutDiv("popUpFloatingDiv",4e3)},jQuery.showAddScheduledReports=function(){showDiv("RS_Reports"),hideDiv("RS_MReport"),hideDiv("RS_CReport"),hideDiv("RS_RSetting");var a=$.getAjaxResponseWithCSRF("POST","/home/scheduleReport.do","execute=showscheduledReports");$("#userarea").html(a)},jQuery.editScheduledReports=function(a){var b=$.getAjaxResponseWithCSRF("POST","/home/scheduleReport.do","execute=showscheduledReports&reportid="+a);$("#userarea").html(b)},jQuery.addScheduledReports=function(a,b){var c=a.displayname.value;if(trimString(c).length<1){alert(beanmsg.displayname_check),a.displayname.select();return}var d=a.reportType.value,e="1";for(i=0;i<a.reportFormat.length;i++)a.reportFormat[i].checked&&(e=a.reportFormat[i].value);var f="grp",g="";if(d=="3"||d=="5")f="sel",d=="5"?g=$("#busyMonList").val():g=$("#downMonList").val();else{for(i=0;i<a.monRadio.length;i++)a.monRadio[i].checked&&(f=a.monRadio[i].value);if(f=="grp")for(j=0;j<a.activeGroup.options.length;j++)j==0?g=a.activeGroup.options[j].value:g=g+","+a.activeGroup.options[j].value;else if(f=="all")g="0";else for(j=0;j<a.suspendurls.options.length;j++)j==0?g=a.suspendurls.options[j].value:g=g+","+a.suspendurls.options[j].value}if(g=="")return alert(beanmsg.nothingSelected),!1;var h="2";for(i=0;i<a.scheduleReportFrequency.length;i++)a.scheduleReportFrequency[i].checked&&(h=a.scheduleReportFrequency[i].value);var k="0",l="";h=="1"?l=a.dailyReportTime.value:h=="2"?(k=a.weeklyReportDay.value,l=a.weeklyReportTime.value):(k=a.monthlyReportDay.value,l=a.monthlyReportTime.value);var m="",n=0;if(a.contactGroups.checked)n=1,m=a.contactGroups.value;else for(i=0;i<a.contactGroups.length;i++)a.contactGroups[i].checked&&(n==0?(m=a.contactGroups[i].value,n++):m=m+","+a.contactGroups[i].value);if(n==0){alert(beanmsg1.contact_group);return}g=f+"-"+g;var o=$.getAjaxResponseWithCSRF("POST","/home/scheduleReport.do","execute=addScheduledReports&displayname="+c+"&reportType="+d+"&selectedId="+g+"&reportFormat="+e+"&scheduleReportFrequency="+h+"&reportTime="+l+"&reportDay="+k+"&contactGroups="+m+"&reportid="+a.reportid.value);b=="popup"?($.hidePopUpDiv(),document.getElementById("msgs").innerHTML='<div class="SuccessMsgDiv">'+beanmsg1.add_schedule_msg+"</div>",startHideFade("msgs",.005)):(showDiv("RS_Reports"),hideDiv("RS_MReport"),hideDiv("RS_CReport"),hideDiv("RS_RSetting"),$("#userarea").html(o))},jQuery.deleteScheduledReports=function(a){if(confirm(schreportmsg.del_report)){var b=$.getAjaxResponseWithCSRF("POST","/home/scheduleReport.do","execute=deleteScheduledReports&reportid="+a),c=getValue(b,"ax_deleteStatus");c=="success"?$.hideDiv("tr"+a):c=="successWithEmptyList"?$.showAddScheduledReports():b.indexOf("Unauthorized")!=-1&&($("#scheduled_Reports_List").html(b),$.hideDiv("scheduled_Reports"),$.showDiv("scheduled_Reports_List"))}},jQuery.suspendScheduledReports=function(a){var b=$.getAjaxResponseWithCSRF("POST","/home/scheduleReport.do","execute=suspendScheduledReports&reportid="+a);$("#scheduled_Reports_List").html(b),$.hideDiv("scheduled_Reports"),$.showDiv("scheduled_Reports_List")},jQuery.activateScheduledReports=function(a){var b=$.getAjaxResponseWithCSRF("POST","/home/scheduleReport.do","execute=activateScheduledReports&reportid="+a);$("#scheduled_Reports_List").html(b),$.hideDiv("scheduled_Reports"),$.showDiv("scheduled_Reports_List")},jQuery.getTwitterUrl=function(){$("#addContactForm input[name=execute]").val("getTwitterUrl");var a=$.getPostAjaxResponseWithoutCSRF("/home/Notifications.do","addContactForm"),b=getValue(a,"ax_twitterurl");b!=undefined&&(location.href=b)},jQuery.getResellerTwitterUrl=function(){var a=$.getPostAjaxResponseWithoutCSRF("/home/Reseller.do?execute=getTwitterUrl","reseller_settings");alert(a);var b=getValue(a,"ax_twitterurl");b!=undefined&&(location.href=b)},jQuery.updateBillingContacts=function(){var a=$.getPostAjaxResponse("/home/accountinfo.do","updateBillingContactFrm"),b=getValue(a,"ax_Status"),c=getValue(a,"ax_errormsg"),d=$("#updateBillingContactFrm select[name=contactid]").position(),e=c.length*11;c.length<15&&(e+=70);var f=d.top-20,g=d.left+200;$.showPopUpDiv($.getStatusMsg(b,c),f,g,"1",e),$.fadeOutDiv("popUpFloatingDiv",1500)},jQuery.isUserExists=function(a){var b=$("#addContactForm input[name=toemail]").val(),c=$("#contactid").val();if(!validateEmail(b)){$("#addContactForm input[name=toemail]").select();return}var d="&type=checksubuser";c!==undefined&&c.length>0&&(d="&type=editContact&cid="+c);var e=$.getAjaxResponse("GET","../login/UserAction.do?execute=checkUser&name="+encodeURIComponent(b)+d),f=getValue(e,"ax_errormsg");if(f!=="success"){var g=getValue(e,"ax_errorreason");return f==="User Exists"?($.showDiv("emailErrorDiv"),$("#addContactForm input[name=toemail]").focus(),!0):($("#subUserErrorDiv").html(g),$.showDiv("subUserErrorDiv"),!0)}$.hideDiv("subUserErrorDiv"),a!==undefined&&$.enableUser(a)},jQuery.isContactExists=function(a){var b=$("#addContactForm input[name=toemail]").val(),c=$("#contactid").val();if(!validateEmail(b)){$("#addContactForm input[name=toemail]").select();return}var d=$.getAjaxResponse("GET","../login/UserAction.do?execute=checkContactPresent&name="+encodeURIComponent(b)),e=getValue(d,"ax_errormsg");if(e!=="success"){var f=getValue(d,"ax_errorreason");return e==="Contact Exists"?($.showDiv("emailErrorDiv"),$("#addContactForm input[name=toemail]").focus(),!0):($("#subUserErrorDiv").html(f),$.showDiv("subUserErrorDiv"),!0)}$.hideDiv("subUserErrorDiv"),a!==undefined&&$.enableUser(a)},jQuery.enableUser=function(a){a?$("#subUserCreationSupported").val("true"):$("#subUserCreationSupported").val("false")},$(window).resize(function(){var a=window.location.href;a.indexOf(newclient_path)==-1&&$.updateResoultionInfo()}),$(window).unload(function(){}),jQuery.showConfHelpPopup1=function(a,b){width="250",content="<div style='margin-left:20px;padding-bottom:10px;' class='tooltip-pointer'><div class='tooltip-pointer-up'><div class='tooltip-pointer-up-inner'></div></div></div><div class='tooltip'><b class='tooltipdiv1'></b><b class='tooltipdiv2'></b><b class='tooltipdiv3'></b><b class='tooltipdiv4'></b><div class='tooltipboxcontent' style='padding-right:0px;'><table width='99%' cellspacing='0' cellpadding='0' border='0'><tbody><tr><td width='100%' align='right' style='padding-right:0px'><a href='javascript:void(0);' onClick='$.hidePopUpDiv();' title='close'><img src='/images/close-sandal.png' border='0' alt='close' align='right'/></a></td></tr><tr><td valign='middle' height='32' class='labeltd'>"+b+"</td></tr></tbody></table></div><b class='tooltipdiv4tooltipdiv'></b><b class='tooltipdiv3tooltipdiv'></b><b class='tooltipdiv2tooltipdiv'></b><b class='tooltipdiv1tooltipdiv'></b></div>";var c=$("#"+a).position(),d=c.top+30,e=c.left-10;$.showPopUpDiv(content,d,e,"1",width)},jQuery.showConfHelpPopup=function(a,b){width="200",b.length>30&&b.length<70?width="300":b.length>70&&(width="500"),content="<div style='margin-left:20px;padding-bottom:10px;' class='tooltip-pointer'><div class='tooltip-pointer-up'><div class='tooltip-pointer-up-inner'></div></div></div><div class='tooltip'><b class='tooltipdiv1'></b><b class='tooltipdiv2'></b><b class='tooltipdiv3'></b><b class='tooltipdiv4'></b><div class='tooltipboxcontent' style='padding-right:0px;'><table width='99%' cellspacing='0' cellpadding='0' border='0'><tbody><tr><td width='100%' align='right' style='padding-right:0px'><a href='javascript:void(0);' onClick='$.hidePopUpDiv();' title='close'><img src='/images/close-sandal.png' border='0' alt='close' align='right'/></a></td></tr><tr><td valign='middle' height='32' class='labeltd'>"+b+"</td></tr></tbody></table></div><b class='tooltipdiv4tooltipdiv'></b><b class='tooltipdiv3tooltipdiv'></b><b class='tooltipdiv2tooltipdiv'></b><b class='tooltipdiv1tooltipdiv'></b></div>";var c=$("#"+a).position(),d=c.top+30,e=c.left-10;$.showPopUpDiv(content,d,e,"1",width)},jQuery.showDownloadHelp=function(a,b){uploadChecked=document.getElementById(a).checked,downloadChecked=document.getElementById(b).checked,!uploadChecked&&downloadChecked&&$.showConfHelpPopup(b,beanmsg.ftpDownloadfileHelp)},jQuery.registerWebAppForm=function(a){var b="pagename=webAppemailsend&width=580";a!=null&&a=="realBrowserRequest"&&(b="pagename=realBrowserSupportRequest&width=580");var c=$.getAjaxResponse("GET","/jsp/includes/divPopUp.jsp",b),d=($(window).height()-400)/2+$(window).scrollTop()+"px",e=($(window).width()-540)/2+$(window).scrollLeft()+"px";$.showPopUpDiv(c,d,e,"5000","595")},jQuery.showStatusView=function(a){var b="execute=getStatusView&reportView="+a,c=$.getAjaxResponse("POST","/home/CreateTest.do",b);$("#IntegrationTab").html(c),$.alertsTabHide("groups")},jQuery.editStatusView=function(a){var b="execute=editStatusView&viewid="+a,c=$.getAjaxResponse("POST","/home/CreateTest.do",b);$("#IntegrationTab").html(c),$.alertsTabHide("groups")},jQuery.showSLAView=function(a){var b="execute=getSlaView&reportView="+a,c=$.getAjaxResponse("POST","/home/CreateTest.do",b);$("#IntegrationTab").html(c),$.alertsTabHide("actions")},jQuery.editSLAView=function(a){var b="execute=editSlaView&viewid="+a,c=$.getAjaxResponse("POST","/home/CreateTest.do",b);$("#IntegrationTab").html(c),$.alertsTabHide("actions")},jQuery.showUpTimeButton=function(){var a=$.getAjaxResponse("POST","/home/UptimeButton.do","execute=showUptimeButtons");$("#IntegrationTab").html(a),$.alertsTabHide("alerttemplate")},jQuery.deletestatusview=function(a,b,c){b=="null"&&b==""&&(b="status");var d=window.confirm(beanmsg["portal.delete.confirm"].replace("element",c));if(d){var e=$.getAjaxResponseWithCSRF("POST","/home/CreateTest.do","execute=deleteStatusView&viewid="+a+"&viewType="+b),f=getValue(e,"ax_success");f=="success"&&$("#"+a).remove();if(b=="sla")$.alertsTabHide("actions");else if(b=="report")$.showReportView("1"),$.alertsTabHide("pblicReport");else if(b=="status"){var g=$("#statustbl > tbody > tr").length;g==0&&$.showStatusView("1"),$.alertsTabHide("groups")}else $.alertsTabHide("groups")}},jQuery.deleteUptimeBtn=function(a,b){if(confirm(beanmsg["uptime.delete.confirm"].replace("element",b))){var c=$.getAjaxResponseWithCSRF("POST","/home/UptimeButton.do","execute=deleteUptimeButton&urlid="+a);$("#IntegrationTab").html(c),$.alertsTabHide("alerttemplate")}},jQuery.addUptimeBtn=function(a,b){var c="execute=addUptimeButton";b?c="execute=addUptimeButton":c="execute=editUptimeButton",a!=""&&(c=c+"&urlid="+a),document.getElementById("perf")&&(c+="&perf=true");var d="";a!=""?d=$.getAjaxResponse("POST","/home/UptimeButton.do",c):d=$.getAjaxResponseWithCSRF("POST","/home/UptimeButton.do",c),$("#IntegrationTab").html(d),$.alertsTabHide("alerttemplate")},jQuery.editDefaultStatus=function(a){if(a){var b=a.viewkey.value,c=a.rsptime,d=!1;c.checked&&(d="true");var e=$.getAjaxResponseWithCSRF("POST","/home/CreateTest.do","execute=editDefalutStatus&viewid="+b+"&rsptime="+d);$("#IntegrationTab").html(e)}else{var e=$.getAjaxResponseWithCSRF("POST","/home/CreateTest.do","execute=editDefalutStatus");$("#IntegrationTab").html(e)}$.alertsTabHide("groups")},jQuery.exportOptions=function(){var a=Msgbean(reportmsg.nodata_msg);if($("#form1 input[name=notavailable]").val()!=null&&$("#form1 input[name=notavailable]").val()==1)return alert(a),!0;var b=$("#exportholderdiv").position();document.getElementById("cont").style.height="50px";var c=b.left-document.body.scrollLeft,d=b.top+23-document.body.scrollTop;showDialog(document.getElementById("cont").innerHTML,"position=absolute,closeButton=no,closeOnBodyClick=yes,left="+c+",top="+d)},jQuery.showDetailspageactions=function(a){a===undefined&&(a=0);var b="detailsactionsdiv",c=$("#"+b).offset();document.getElementById("actionsDiv").style.height="50px";var d=c.left-(a==undefined?0:a),e=c.top+23-document.body.scrollTop;showDialog(document.getElementById("actionsDiv").innerHTML,"position=absolute,closeButton=no,closeOnBodyClick=yes,left="+d+",top="+e)},jQuery.detailsPeriod=function(a,b,c){var d=a,e=$("#dtbuttonDiv").width(),f=$("#historyDiv").width(),g=$("#"+d).offset(),h=$("#historyDiv").css("margin-left");document.getElementById(b).style.height="50px";var i=f,j=g.top+22-document.body.scrollTop,k=$.getBrowser();c?d=="customdtdiv"?k.indexOf("IE")!=-1?(e=$("#"+a).width()+1,i=$("#detailsPeriod_Today").width()+$("#detailsPeriod_Week").width()+67,h=0):(e=$("#"+a).width()+1,i=$("#customdtdiv").offset().left-$("#detailsPeriod_Today").width()-$("#detailsPeriod_Week").width()):k.indexOf("IE")!=-1&&(i=0,h=0):d=="customdtdiv"&&(k.indexOf("IE")!=-1?(e=$("#"+a).width()+1,i=$("#customdtdiv").offset().left-$("#detailsPeriod_Today").width()-7):(e=$("#"+a).width()+1,i=$("#customdtdiv").offset().left-$("#detailsPeriod_Today").width()-$("#detailsPeriod_Week").width())),document.getElementById("dropMenuactions").style.width=e,$("#"+b).css("padding-left",i),$("#"+b).css("margin-left",h),$.showDiv(b)},jQuery.checkDiv=function(a,b){if(b==50)$.hideDiv("periodDropDownOptions"),$.showDiv("customdtdiv"),$.showDiv("customdatebutton");else{var c=$("#detailsPeriod_Month");$("label[for='detailsPeriod_Month']").html(c).append("<span class='ui-button-text' ><span style='padding-right:5px;'>"+a+'</span><img border="0" vspace="1" src="/images/customperiodarrow.gif"/></span>'),$("label[for='detailsPeriod_Month']").addClass("ui-button"),$("label[for='detailsPeriod_Month']").addClass("ui-widget"),$("label[for='detailsPeriod_Month']").addClass("ui-state-default"),$("label[for='detailsPeriod_Month']").addClass("ui-button-text-only"),b==3||b==11?$("label[for='detailsPeriod_Month']").removeClass("ui-state-active"):($("label[for='detailsPeriod_Today']").removeClass("ui-state-active"),$("label[for='detailsPeriod_Week']").removeClass("ui-state-active"),$("label[for='detailsPeriod_Month']").addClass("ui-state-active")),$("#detailsPeriod_Month").addClass("ui-helper-hidden-accessible"),$.hideDiv("customdtdiv"),$.hideDiv("customdatebutton"),$.showDiv("periodDropDownOptions")}},jQuery.hidedropdownDiv=function(){document.getElementById("setHideValue").value=="true"&&$.hideDiv("customPeriod")},jQuery.sendRCAReportByEMail=function(a,b,c,d,e,f){$.showDiv("loading");var g="";c!=undefined&&c=="RCA"&&(g="/home/CreateTest.do?execute=sendReport&urlid="+a+"&dt="+d+"&cs="+e+"&nameserver="+f+"&fp=RCA&emailid=");if(g.length>5){var h="pagename=emailreport&width=315&arrowpos=250&url="+g+"&email="+encodeURIComponent(b),i=$.getAjaxResponse("GET","/jsp/includes/divPopUp.jsp",h),j=$("#EmailThisReportDivId").position(),k=j.left-240,l=j.top-33;$.showPopUpDiv(i,l,k,"5000","330")}$.hideDiv("loading")},jQuery.sendRCAReportAsPDF=function(a,b,c,d){var e="execute=ExportRCAAsPDF&mid="+a+"&dt="+b+"&cs="+c+"&nameserver="+d;location.href="/home/CreateTest.do?"+e},jQuery.showWhitelistDiv=function(){var a=$.getAjaxResponse("POST","/login/location_whitelistips.jsp"),b=$("#whitelist_IPs").position(),c=b.left-300,d=b.top+15;$.showPopUpDiv(a,d,c,"5000","450")},jQuery.showReportView=function(a){var b="execute=getPublicView&reportView="+a,c=$.getAjaxResponse("POST","/home/CreateTest.do",b);$("#IntegrationTab").html(c),$.alertsTabHide("pblicReport")},jQuery.editReportView=function(a){var b="execute=editPublicView&viewid="+a,c=$.getAjaxResponse("POST","/home/CreateTest.do",b);$("#IntegrationTab").html(c),$.alertsTabHide("pblicReport")},jQuery.addPublicReport=function(){var a=$("#currentreportType").html(),b="0",c=null;"trendReport"==a?(c=$("#reportform select[name=reportGroupId]").val(),a="6",b=$("#reportform select[name=trendReportperiod]").val(),(c==null||c==undefined)&&b!=null&&b!=undefined&&b!="0"&&(c="0")):"BusyHourReport"==a?(c=$("#reportform select[name=busy_monitor]").val(),a="5",b=$("#reportform select[name=businessReportSegments]").val()):"outageReport"==a?(c=$("#reportform select[name=report_Mon_GroupId]").val(),a="4"):"LocationDownReport"==a?(c=$("#reportform select[name=monitor]").val(),a="3"):"ResponseReport"==a?(c=$("#reportform select[name=report_Mon_GroupId]").val(),a="2"):(c=$("#reportform select[name=report_Mon_GroupId_Summary]").val(),a="1",c.match("INFRA_")&&(a="7"));if(c==null||c==undefined)return alert(Msgbean(reportmsg.nodata_msg)),!0;var d=$("#newperiodval").val();d.indexOf("BH")!=-1&&(d=d.slice(2,d.length));if(d==null||d==""||d==undefined||d=="50")d="2";var e="execute=getPopupPublicView&viewReportID="+c+"&report="+a+"&period="+d+"&segment="+b,f=$.getAjaxResponse("POST","/home/CreateTest.do",e),g=$("#makePublicDiv").position(),h=g.top+25,i=g.left-720;$.showPopUpDiv(f,h,i,"5000","820")},jQuery.showPageDiv=function(a,b,c,d){var e=d+"content",f=d+"PrevImg",g=d+"PrevImgDis",h=d+"NextImg",i=d+"NextImgDis",j="#"+d+"PagingText",k,l,m,n;for(n=1;n<=a;n++){var o=e+"_"+n,p=document.getElementById(o).style.display;p=="block"&&(k=n,b=="prev"?(k=n-1,m=e+"_"+k):b=="next"?(k=n+1,m=e+"_"+k):m=e+"_"+k),$.hideDiv(o)}var q=k*10,r=q-9;k==1&&($.showDiv(g),$.hideDiv(f)),k<a&&($.showDiv(h),$.hideDiv(i)),k!=1&&($.showDiv(f),$.hideDiv(g));if(k==a){$.showDiv(i),$.hideDiv(h);var l=q-c;q-=l}var s=r+" - "+q+" of "+c;$(j).text(s),$.showDiv(m)},jQuery.addParams=function(a,b){return a!=""?a=a+","+encodeURIComponent(b):a=encodeURIComponent(b),a},jQuery.selectGroup=function(a){a.id=="allid"?($("#monRadioall").attr("checked",!0),$("#montr").css("display","none"),$("#grptr").css("display","none")):a.id=="grpid"?($("#monRadioGroup").attr("checked",!0),$("#montr").css("display","none"),$("#grptr").toggle()):($("#monRadiourls").attr("checked",!0),$("#grptr").css("display","none"),$("#montr").toggle())},jQuery.revertCustomizeReport=function(a){param="",a=="true"&&(param="fromStatus=true");var b=$.getAjaxResponseWithCSRF("POST","/home/reportsinfo.do?execute=deleteCustomizedReport",param);a=="true"?$("#reportSettingDiv").html(b):location.href="../home/reportsinfo.do?execute=showCustomizeReport"},jQuery.showMonitorChanges=function(a,b){showDiv("urlidholderdiv");var c="#getGeneralForm input[name=monlabel]";$(c).val(b),$("#urliddiv").attr("title",b);if(b.length>25)var b=b.substr(0,25)+"...";$("#urliddiv").html(b),$("#getGeneralForm input[name=monid]").val(a),closeDialog()},jQuery.showEventTypeChanges=function(a,b){showDiv("eventlogholderdiv"),$("#eventtypediv").html(b),$("#getGeneralForm input[name=eventtype]").val(a),closeDialog()},jQuery.showToolsReportChanges=function(a,b){a!=null&&($("#toolsnewperiodlbl").val($("#"+a).html()),$("#toolsnewperiodval").val(a),$("#toolsnewdtlbl").val(b)),$("#toolstimelbl").html($("#toolsnewperiodlbl").val());var c="",d="";$("#toolsnewperiodval").val()==50?(hideDiv("holderdiv"),showDiv("toolscustomdtdiv"),c=$("#getGeneralForm input[name=startdate]").val(),d=$("#getGeneralForm input[name=enddate]").val()):(hideDiv("toolscustomdtdiv"),showDiv("holderdiv")),$("#toolstestdiv").html($("#toolsnewdtlbl").val()),closeDialog()},jQuery.showAllMessages=function(){var a=$.getAjaxResponse("GET","/home/Notifications.do","execute=showAllMessages"),b=$("#messagesLink").position(),c=b.top+22;$.showPopUpDiv(a,c,250,"1","815")},jQuery.markAsReadMessages=function(){var a=$("#showAllMessagessForm").serialize(),b=$.getAjaxResponseWithCSRF("POST","/home/Notifications.do","execute=markAsReadMessages&"+a);showHomeTab()},jQuery.deleteMessages=function(){var a=$("#showAllMessagessForm").serialize(),b=$.getAjaxResponseWithCSRF("POST","/home/Notifications.do","execute=deleteMessages&"+a);showHomeTab()};var reqwmiCnt=0;jQuery.getAgentRequestWMI=function(a,b){if(reqwmiCnt<25){var c=$.getAjaxResponseWithCSRF("POST",a,b);c.indexOf("<div class='output'></div>")!=-1?($("#result").html(c),$.showDiv("result")):setTimeout(function(){$.getAgentRequestWMI(a,b)},2e3),reqwmiCnt++}else $.hideDiv("result")},jQuery.deleteOutageRptDowntime=function(a,b,c,d){if(confirm(beanmsg.del_downtime)){var e=$.getAjaxResponse("GET","/home/CreateTest.do","execute=deleteDowntime&urlid="+b+"&downtime="+a),f=getValue(e,"ax_deleteDowntime");f=="success"&&(document.getElementById(b).rows.length==1?$.hideDiv(c):$.hideDiv(d))}},jQuery.showStatus=function(){$.showDiv("chart_tr"),$.hideDiv("apdex_tr"),$.showDiv("throughput_td"),$("#gstatus").removeClass("BlueBoldText"),$("#gstatus").addClass("GrayBoldText"),$("#astatus").removeClass("GrayBoldText"),$("#astatus").addClass("BlueBoldText")},jQuery.showSlaTabView=function(a,b){a!=null&&$("#slareportform input[name=slaType]").val(a),b!=null&&$("#slareportform input[name=pageno]").val(b);var c=$("#slareportform input[name=slaType]").val();qs="execute=showSLAReport",$("#slaReportFilter").css("display")=="block"&&(qs+="&reportdiv=show"),$.showDiv("cogwheelLoadingDiv"),$("input[name=s247pname]").remove();var d=$.getPostAjaxResponseWithoutCSRF("/home/SlaReport.do?"+qs,"slareportform");$.hideDiv("cogwheelLoadingDiv"),$("#SLAdiv").html(d),$("#slaReportFilter").css("display")=="block"&&$.showDiv("slaReportFilter"),$.SLATabHide(c)},jQuery.changeSLAPeriod=function(){var a=$("#slareportform select[name=predefinedperiod]").val();a=="50"?$.showDiv("slashowCalendar"):$.showSlaTabView()},jQuery.changePageforSLA=function(a,b,c){if(a=="prev"){if(b==1)return!1;$("#slareportform input[name=pageno]").val(b-1)}a=="next"&&$("#slareportform input[name=pageno]").val(b+1),$.showSlaTabView()},jQuery.SLATabHide=function(a){$.menuTabHiding($("#alertsTabLists").html(),a),$.hideAllExcept($("#RS_Slaids").html(),"RS_"+a)},jQuery.getCookie=function(a){var b,c,d,e=document.cookie.split(";");for(b=0;b<e.length;b++){c=e[b].substr(0,e[b].indexOf("=")),d=e[b].substr(e[b].indexOf("=")+1),c=c.replace(/^\s+|\s+$/g,"");if(c==a)return unescape(d)}},jQuery.serverMonitortype=function(a){var b={};if(a==1)return $("#slinux").hasClass("linuximgclicked")&&($("#linuxmonitor").hide(0),$("#slinux").addClass("linuximg").removeClass("linuximgclicked"),$("#swindows").hasClass("windowsimg")?$("#swindows").addClass("windowsimgclicked").removeClass("windowsimg"):$("#swindows").addClass("windowsimg").removeClass("windowsimgclicked")),$("#windowsmonitor").slideDown(1e3),$("#linuxmonitor").hide(),!1;if(a==2)return $("#swindows").hasClass("windowsimgclicked")&&($("#windowsdiv").hide(0),$("#swindows").addClass("windowsimg").removeClass("windowsimgclicked"),$("#slinux").hasClass("linuximg")?$("#slinux").addClass("linuximgclicked").removeClass("linuximg"):$("#slinux").addClass("linuximg").removeClass("linuximgclicked")),$("#userarea").remove(),$("#windowsmonitor").hide(),$("#linuxmonitor").slideDown(1e3),!1},jQuery.pushToGoogle=function(a,b){try{a=="LinuxMonitoring"&&b=="Linux"?dataLayer.push({event:"GAEvent",eventCategory:"LinuxMonitoring",eventAction:"click",eventLabel:"Linux"}):a=="WindowsMonitoring"&&b=="Windows"?dataLayer.push({event:"GAEvent",eventCategory:"WindowsMonitoring",eventAction:"click",eventLabel:"Windows"}):a=="Linux32Installation"?dataLayer.push({event:"GAEvent",eventCategory:"Linux32Installation",eventAction:"copy",eventLabel:"Linux32"}):a=="Linux64Installation"?dataLayer.push({event:"GAEvent",eventCategory:"Linux64Installation",eventAction:"copy",eventLabel:"Linux64"}):a=="LinuxProxyInstallation"?dataLayer.push({event:"GAEvent",eventCategory:"LinuxProxyInstallation",eventAction:"copy",eventLabel:"LinuxProxy"}):a=="Linux32Download"?dataLayer.push({event:"GAEvent",eventCategory:"Linux32Download",eventAction:"copy",eventLabel:"Linux32Download"}):a=="Linux64Download"?dataLayer.push({event:"GAEvent",eventCategory:"Linux64Download",eventAction:"copy",eventLabel:"Linux64Download"}):a=="WindowsDownload"&&dataLayer.push({event:"GAEvent",eventCategory:"Linux64Download",eventAction:"click",eventLabel:"WindowsDownload"})}catch(c){}},jQuery.downloadProbe=function(a){if(a=="")return;a=="windows"?($("#step2windows").show(),$("#step2linux").hide()):a=="linux"&&($("#step2linux").show(),$("#step2windows").hide())},jQuery.probeType=function(a){a==1?($("#linux").hide(),$("#windows").show()):a==2&&($("#windows").hide(),$("#linux").show())},jQuery.updateProbeData=function(){closeDialog();var a=$("#probename").val(),b=$.getAjaxResponseWithCSRF("POST","/home/CreateTest.do","execute=addProbe&probename="+a);$("#linuxmonitor").html(b),$.showDiv("linuxmonitor")};var editMonitorVar;jQuery.changeMonitorMode=function(a){if(a!=""){var b=$("select[name=confConfig(monitoringMode)]").closest("tr").attr("id");opener!=null&&(b=$("select[name=confConfig(monitoringMode)]",opener.document).closest("tr").attr("id"));var c;b!=null&&b.match("^row")&&(b=b.substring(3,b.length),c=parseInt(b));var d="#row"+(c+3),e="#row"+(c+4),f="#row"+(c+5);if(a=="0")opener!=null?($("#addmonitorform input[name=confConfig(port)]",opener.document).val("23"),$(d,opener.document).hide(),$(f,opener.document).hide(),$(e,opener.document).show()):(editMonitorVar||$("#addmonitorform input[name=confConfig(port)]").val("23"),$(d).hide(),$(f).hide(),$(e).show());else if(a=="1"||a=="2")opener!=null?($("#addmonitorform input[name=confConfig(port)]",opener.document).val("22"),$(d,opener.document).show(),$(f,opener.document).hide(),$(e,opener.document).show()):(editMonitorVar||$("#addmonitorform input[name=confConfig(port)]").val("22"),$(d).show(),$("#publickey").is(":checked")?($(f).show(),$(e).hide()):($(f).hide(),$(e).show()))}else{var b=$("select[name=confConfig(monitoringMode)]").closest("tr").attr("id"),c;b!=null&&b.match("^row")&&(b=b.substring(3,b.length),c=parseInt(b));var d="#row"+(c+3),e="#row"+(c+4),f="#row"+(c+5);a=="0"?($(d).hide(),$(f).hide(),$(e).show()):a=="1"&&($(d).show(),$("#publickey").is(":checked")?($(f).show(),$(e).hide()):($(f).hide(),$(e).show()))}},jQuery.changePublicKeyMode=function(){var a=$("#publickey").closest("tr").attr("id");if(a!=null&&a.match("^row")){a=a.substring(3,a.length);var b=parseInt(a),c="#row"+(b+1),d="#row"+(b+2);$("#publickey").is(":checked")?($(c).hide(),$(d).show(),$("#sshKey").val(""),$("confConfig(sshKey)").val("")):($(d).hide(),$(c).show(),$("#password").val(""),$("confConfig(password)").val(""))}},jQuery.listAllKeys=function(a,b){var c=document.getElementById(a),d=findPosX(c)+575;navigator.appName=="Microsoft Internet Explorer"&&(d+=10);var e=findPosY(c)-25,f=e+c.offsetHeight-document.body.scrollTop+2;showDialog(document.getElementById(b).innerHTML,"width=300,position=absolute,closeButton=no,closeOnBodyClick=no,left="+d+",top="+f)},jQuery.selectPvtKey=function(a){$("#sshKey").val(a),closeDialog()},jQuery.addNewPvtKey=function(a,b){var c="pagename=probeinstallation&width=510&arrowpos=&linuxkey=addkey",d=$.getAjaxResponseWithCSRF("GET","/jsp/includes/divPopUp.jsp",c),e=$(window).width()/3,f=$(window).height()/3;$.showPopUpDiv(d,f,e,"5000","525")},jQuery.addKeysToList=function(){var a=$("input[name=neyKeyName]").val(),b=$("textarea#neyKeyValue").val(),c=$.getAjaxResponseWithCSRF("POST","/home/CreateTest.do","execute=addKey&key="+a+"&value="+b);$("#sshKey").val(b),closeDialog()};var probeinstallationcount=0;jQuery.getWMIRequest=function(a,b){var c=$.getAjaxResponseWithCSRF("POST",a,b);c.indexOf('<table id="linuxsteps" width="100%">')!=-1?($("#linuxmonitor").html(c),alert("Probe added successfully!!"),$("#linuxmonitor",opener.document).html(c),window.close()):probeinstallationcount<2&&(opener!=null?(window.opener.setTimeout(function(){window.opener.$.getWMIRequest(a,b)},100),window.opener.probeinstallationcount++):(setTimeout(function(){$.getWMIRequest(a,b)},1e3),probeinstallationcount++))},jQuery.addlinuxmonitor=function(){var a="/home/CreateTest.do",b="execute=addLinuxMonitor",c=$("select[name=confConfig(monitoringMode)]").val(),d=$("select[name=groupid]").val(),e=$("select[name=probeid]").val(),f=$("#publickey").is(":checked"),g=$("input[name=confConfig(hostname)]").val(),h="LINUX";b=b+"&monitoringMode="+c+"&probeid="+e+"&publickey="+f+"&ipaddress="+g+"&subtype="+h,d!=undefined&&(b=b+"&groupid="+d);var i=document.getElementsByTagName("validation-params");for(var j=0;j<i.length;j++)idName=i[j].getAttribute("paramId"),elementId=document.getElementById(idName),elementValue=elementId.value,b=b+"&"+idName+"="+elementValue;var k=$.getAjaxResponseWithCSRF("POST",a,b);$("#showdata").html(k)},jQuery.validateLinuxMon=function(){var a=validateConfForm();if(!a)return!1;$("#ip").val($("#hostname").val()),$.addlinuxmonitor()},jQuery.openProbeDownload=function(){$("#monitorconfiglabeltr").hide(),$("#monitorconfigdatatr").hide(),$("#probedownloadlabeltr").show(),$("#probedownloaddatatr").show()},jQuery.openMonitorConfig=function(){confirm("Are you sure to quit probe download?")&&($("#monitorconfiglabeltr").show(),$("#monitorconfigdatatr").show(),$("#probedownloadlabeltr").hide(),$("#probedownloaddatatr").hide())};var reqCnt=0;jQuery.ismonitoradded=function(a,b){if(reqCnt<20){var c=$.getAjaxResponseWithCSRF("POST",a,b);c.indexOf('<DIV id="tempUserArea" style="display:none"></DIV>')!=-1?window.location.href="/home/client/Welcome.do":setTimeout(function(){$.ismonitoradded(a,b)},2e3),reqCnt++}else $.hideDiv("processing"),$.hideDiv("result"),$.showDiv("failedMsg")},jQuery.probeupgrade=function(a,b){var c=!0;b=="false"&&(c=!1);if(c){var d="/home/CreateTest.do",e="execute=probeupgrade&urlId="+a,f=$.getAjaxResponseWithCSRF("POST",d,e);alert("Upgrade Request has been initiated.The Probe will be upgraded in a few minutes.")}else alert("Already Upgrade request sent")},jQuery.enableprobedownstatus=function(a){var b;a==null?b="#probes":typeof a.target=="undefined"?b="#"+a.srcElement.id:b="#"+a.target.id;var c=$(b).attr("checked")?!0:!1,d=document.getElementsByName("probes");for(var e=0;e<d.length;e++)if(d[e].value>1e3){var f="#probes"+d[e].value,g=$(f).attr("checked")?!0:!1,h=document.getElementById("primaryLocationId").value;if(g||h>1e3){c=!0;break}}c?($("#probeStatusIncluded").attr("checked",!0),$("#probeProxyCheckBox").show()):($("#probeStatusIncluded").attr("checked",!1),$("#probeProxyCheckBox").hide()),changetoOnlyprobe(document.getElementById("probeStatusIncluded"))},jQuery.showAddProbeForm=function(a){if(a!=undefined&&a=="popup"){var b=$.getAjaxResponseWithCSRF("POST","/home/Notifications.do","execute=showProbeForm&popup=popup");$.showPopUpDiv(b,475,250,"1","815")}else{var b=$.getAjaxResponseWithCSRF("POST","/home/Notifications.do","execute=showProbeForm&popup=popup");$.showPopUpDiv(b,100,250,"1","815")}},jQuery.showAddMobileProbeForm=function(a){if(a!=undefined&&a=="popup"){var b=$.getAjaxResponseWithCSRF("POST","/home/Notifications.do","execute=showMobileProbeForm&popup=popup");$.showPopUpDiv(b,475,250,"1","815")}else{var b=$.getAjaxResponseWithCSRF("POST","/home/Notifications.do","execute=showMobileProbeForm&popup=popup");$.showPopUpDiv(b,100,250,"1","815")}},jQuery.loadRealBrowserTransactions=function(a){response=$.getAjaxResponse("POST","/home/CreateTest.do","execute=showRealBrowserTransactions&mId="+a),document.getElementById("RealBrowserTransactions").innerHTML=response},jQuery.showHideRealBrowserStepDetails=function(a,b){currentState=document.getElementById("assert_"+b).style.display;if(currentState!="none"){document.getElementById("assert_img_"+b).src="/images/expand_alt.png",$("#assert_"+b).slideUp(500);return}response=$.getAjaxResponse("POST","/home/CreateTest.do","execute=showRealBrowserStepDetails&mId="+a+"&sId="+b);var c=getValue(response,"ax_textToBePresent"),d=getValue(response,"ax_textNotToBePresent"),e=getValue(response,"ax_textToBePresentStatus"),f=getValue(response,"ax_textNotToBePresentStatus");document.getElementById("step_details_step_name_"+b).value=document.getElementById("displayValue-"+b).innerHTML,document.getElementById("step_details_step_url_"+b).value=document.getElementById("step_url_"+b).value,document.getElementById("availabilityString_"+b).value=c,document.getElementById("unAvailabilityString_"+b).value=d,document.getElementById("availabilityAlertOption_"+b).value=e,document.getElementById("unAvailabilityAlertOption_"+b).value=f,document.getElementById("assert_img_"+b).src="/images/collapse_alt.png",$("#assert_"+b).slideDown(500)},jQuery.saveRealBrowserStepDetails=function(a,b,c){var d=document.getElementById(c+"_typeIdentifiers").value,e=[],f,g,h;if(d!=="undefined"&&d!=="null"&&d!==""){var i=JSON.parse(document.getElementById(c+"_typeIdentifiers").value);for(j in i){f=i[j],g=document.getElementById(f+"_"+c).value;if(f.match(/^open/)&&!g.match(/(http|https):\/\//))return alert("Append the protocol as http or https"),document.getElementById(f+"_"+c).focus(),!1;if(g==="undefined"||g==="null"||g==="")return alert("Input field can not be empty"),document.getElementById(f+"_"+c).focus(),!1;h=document.getElementById(f+"_"+c).type,e.push({type:h,identifier:f,value:g})}}stepName=document.getElementById("step_details_step_name_"+c).value;if(stepName==null||stepName==""||trimString(stepName).length<1)return alert("Enter valid display name"),document.getElementById("step_details_step_name_"+c).focus(),!1;stepURL=document.getElementById("step_details_step_url_"+c).value;if(stepURL==null||stepURL==""||trimString(stepURL).length<1)return alert("Enter valid URL"),document.getElementById("step_details_step_url_"+c).focus(),!1;var k=document.createElement("form");k.setAttribute("id","saveRealBrowserStepDetailsForm"),k.setAttribute("method","post"),k.setAttribute("action","/home/CreateTest.do"),k.appendChild(getnewFormElement("hidden","execute","saveRealBrowserStepDetails")),k.appendChild(getnewFormElement("hidden","monitorid",a)),k.appendChild(getnewFormElement("hidden","scriptId",b)),k.appendChild(getnewFormElement("hidden","stepId",c)),k.appendChild(getnewFormElement("hidden","availabilityString",document.getElementById("availabilityString_"+c).value)),k.appendChild(getnewFormElement("hidden","unAvailabilityString",document.getElementById("unAvailabilityString_"+c).value)),k.appendChild(getnewFormElement("hidden","availabilityAlertOption",document.getElementById("availabilityAlertOption_"+c).value)),k.appendChild(getnewFormElement("hidden","unAvailabilityAlertOption",document.getElementById("unAvailabilityAlertOption_"+c).value)),k.appendChild(getnewFormElement("hidden","stepName",stepName)),k.appendChild(getnewFormElement("hidden","stepURL",document.getElementById("step_details_step_url_"+c).value)),k.appendChild(getnewFormElement("hidden","json_data",JSON.stringify(e))),document.body.appendChild(k),document.getElementById("RealBrowserTransactions").innerHTML="<table align='center' cellspacing='0' cellpadding='0'><tr><td width='100%'><img src='/images/loadingAnimation.gif'></td></tr></table>",response=$.getPostAjaxResponse("/home/CreateTest.do","saveRealBrowserStepDetailsForm"),document.getElementsByTagName("BODY")[0].removeChild(document.getElementById("saveRealBrowserStepDetailsForm")),document.getElementById("RealBrowserTransactions").innerHTML=response,$.showHideRealBrowserStepDetails(a,c)},jQuery.selectimg=function(a){var b=$(a).attr("id");b=="layout0"?$(a).hasClass("imgselect")||($("#layout1").removeClass("imgselect"),$(a).addClass("imgselect"),$("#old_radio").attr("checked","checked"),$("#usersOption").attr("checked",!1),$("#socialOption").attr("checked",!1),$.hideDiv("userRow"),$.hideDiv("socialRow")):$(a).hasClass("imgselect")||($("#layout0").removeClass("imgselect"),$(a).addClass("imgselect"),$("#new_radio").attr("checked","checked"),$("#usersOption").attr("checked",!0),$("#socialOption").attr("checked",!0),$.showDiv("userRow"),$.showDiv("socialRow"))},jQuery.showstatusconfig=function(a,b){$("#layout1").removeClass("imgselect"),$("#layout2").removeClass("imgselect"),$("#layout3").removeClass("imgselect"),$(b).addClass("imgselect"),a==2?($.showDiv("statusconfdiv"),$.hideDiv("oldstatusconfdiv"),$("#moreOption").attr("checked",!1),$.hideDiv("periodrow"),$.hideDiv("spacerow"),$("#typeRadio3").attr("checked","checked")):($.hideDiv("statusconfdiv"),$.showDiv("oldstatusconfdiv"),$("#chk_NOC").attr("checked",!1),$("#chk_maintenance").attr("checked",!1),$("#chk_history").attr("checked",!1),$("#chk_performance").attr("checked",!1),$.showDiv("periodrow"),$.showDiv("spacerow"),a==0?$("#typeRadio1").attr("checked","checked"):$("#typeRadio2").attr("checked","checked"))},jQuery.showStatusPerf=function(a,b,c){var d=beanmsg.loadingdata;$("#sign_up").html("<div id='status_loading' style='margin: 100px auto;font: normal 18px sans-serif;color:  #000'>"+d+"</div>"),url="/login/status.do";var e=$(window).width(),f="execute=statusPerfMetrics&urlid="+a+"&docache=false&rsptime="+b+"&ws="+e;$("#sign_up").lightbox_me({centered:!1,onLoad:function(){var a=$.getAjaxResponse("POST",url,f);$("#sign_up").html(a)}}),$("table tr:nth-child(even)").addClass("stripe")},jQuery.showAllNOCMessages=function(a,b,c){var d=$.getAjaxResponse("GET","/login/status.do","execute=showNocComments&urlid="+a+"&sp=true&downtime="+b);$("#"+c).attr("data-content",d),$("#"+c).popover("show")},jQuery.showdownToolTip=function(a,b,c,d,e,f){var g=$("#"+a).attr("data-original-title"),h=g.length;h<=0&&(g=$.getAjaxResponse("POST","/login/status.do","execute=showDownList&urlid="+d+"&starttime="+e+"&endtime="+f),$("#"+a).attr("data-original-title",g))},jQuery.hidedownToolTip=function(a){$("#"+a).tooltip("hide")},jQuery.hideNOCCommentdialog=function(){var a=$("#prevcomments").val();$(".popover").remove(),a!=undefined&&$("#"+a).attr("data-content")!=undefined&&$("#"+a).popover("destroy")},jQuery.showNOCCommentdialog=function(a,b,c,d,e,f,g){$(".popover").remove();var h=$("#prevcomments").val(),i=$("#fromDashboard").val();$("#"+h).attr("data-content")!=undefined&&$("#"+h).popover("destroy"),$("#prevcomments").val(a);var j="";c!=undefined&&c!=null&&c!=""&&(j=j+"&downtime="+c),d!=undefined&&d!=null&&d!=""&&(j=j+"&lcmt="+d),e!=null&&e!=""&&(j=j+"&bulkcmt="+e),f!=null&&f!=""&&(j=j+"&RO="+!0),g!=null&&g!=""&&(j=j+"&public="+!0);var k=$.getAjaxResponse("POST","/login/status.do","execute=showNocComments&urlid="+b+j);$("#"+a).attr("data-content",k);var l=$(window).height(),m=$("#"+a).offset().top,n=$("#"+a).height(),o=!1;l>m+400&&(o=!0,$("#"+a).attr("data-placement","bottom")),i!=null&&i!=undefined&&i=="true"&&o&&$("#"+a).popover({template:'<div class="popover"><div class="arrow" style="left:6%"></div><div class="popover-inner"><h3 class="popover-title" ></h3><div class="popover-content"><p></p></div></div></div>'}),$("#"+a).popover("show");var p=$("#"+a).attr("data-placement");if(p!="top"&&p!="bottom"){var q=$(".popover").offset().top,r=m+n/2-q;$(".arrow").css({top:+r+"px"})}},jQuery.addNocComments=function(a,b,c){var d=$("#urlid").val(),e=$("#comments").val();e=trimString(e);var f="";a=="public"&&(f="&chk=1"),b=="true"&&(f=f+"&lcmt="+b),c!=null&&c!=-1&&(f=f+"&dt="+c),msg=beanmsg.addComments,msg=trimString(msg);var g=d,h="";if(e!=""&&e!=msg){var i=0;$('input[name="chkdown"]:checked').each(function(){g=g+","+this.value,i++}),f=f+"&customurls="+g;var j="execute=addNocComments&urlid="+d+"&comments="+encodeURIComponent(e)+"&isfromadd=true"+f;h=$.getAjaxResponseWithCSRF("POST","/home/reportsinfo.do",j),$("#comments").val(""),$.hideDiv("toggleMondiv");var k=$("#prevcomments").val(),l=$("#"+k).attr("data-placement");if(l!="top"&&l!="bottom"){var m=$("#"+k).offset().top,n=$("#"+k).height(),o=$(".popover").offset().top,p=m+n/2-o;$(".arrow").css({top:+p+"px"})}$("#ComOptMenu").hide(),$("#Commentdiv").html(h);if(e.length>0){var q=e;e.length>30&&(q=e.substr(0,30)+"..."),$("#cmt_"+k).html(encodeHtml(q))}}return e},jQuery.showCommentTypeInDialog=function(){$("#commentTypediv").toggle()},jQuery.cleartxt=function(a,b){$("#"+a).val()==b&&$("#"+a).val("")},jQuery.closeComments=function(){$.hidePopUpDiv()},jQuery.showDashboardView=function(){var a=$.getAjaxResponse("POST","/home/reportsinfo.do","execute=getDashboardView");$("#IntegrationTab").html(a),$.alertsTabHide("contacts")},jQuery.showAddDashboardView=function(){var a=$.getAjaxResponse("POST","/home/reportsinfo.do","execute=showDashboardForm");$("#IntegrationTab").html(a),$.alertsTabHide("contacts")},jQuery.editDashboardView=function(a,b,c){var d=$.getAjaxResponse("POST","/home/reportsinfo.do","execute=showDashboardForm&viewid="+a+"&layout="+c+"&displayName="+b);$("#IntegrationTab").html(d),$.alertsTabHide("contacts")},jQuery.generateDashboard=function(a){var b="",c=$("#viewid").val();for(i=0;i<a.mongroups.length;i++)a.mongroups[i].checked&&(b=a.mongroups[i].value);if(b==="1"){monList=document.getElementById("groupMonList").value;if(monList==""||monList==null||monList==undefined)return alert(beanmsg.nothingSelected),!1}else if($('input[name="chklist"]:checked').length==0)return alert(beanmsg.selecturl),!1;var d=$.getPostAjaxResponse("/home/reportsinfo.do","dashboardform");viewid=getValue(d,"ax_viewid"),permalink=getValue(d,"ax_url"),iframeUrl=getValue(d,"ax_iframeUrl"),$.showDiv("permalinktr"),$.showDiv("iframetr"),$("#viewid").val(viewid),$("#permalink").val(permalink),$("#publicurl").val(iframeUrl);if(c>0){var e=getValue(d,"ax_statusmsg"),f=getValue(d,"ax_status"),g=e.length*11;e.length<15&&(g+=70);var h=$("#cancel").position(),j=h.left+$("#cancel").width()+25,k=h.top-6;$.showPopUpDiv($.getStatusMsg(f,e),k,j,"1",g),$.fadeOutDiv("popUpFloatingDiv",5e3)}},jQuery.deleteDashboardView=function(a,b){var c=window.confirm(beanmsg["portal.delete.confirm"].replace("element",b));if(c){var d=$.getAjaxResponseWithCSRF("POST","/home/reportsinfo.do","execute=deleteDashboardView&id="+a);$("#IntegrationTab").html(d),$.alertsTabHide("contacts")}},jQuery.showRptSettings=function(a){a.id=="rpt2"?($.showDiv("reportSettingDiv"),$.showDiv("uploadSuccesOption")):$.hideDiv("reportSettingDiv")},jQuery.showLocationStats=function(a,b){var c=$("#"+a).html(),d=$("#prevtooltip").val();d!=undefined&&d!=null&&$("#"+d).popover("hide"),$("#prevtooltip").val(b),$("#"+b).attr("data-content",c),$("#"+b).popover("show")},jQuery.hideLocationStats=function(a){$("#"+a).popover("hide")},jQuery.showRptSettingDiv=function(a){var b=$(a).attr("id"),c=$("#rptimg").attr("src");b=="Rptshowicon"?$("#rptimg").attr("src","../images/icon_hide.gif"):$("#rptimg").attr("src","../images/icon_show.gif"),$.toggleDiv("settingstr")},jQuery.showAdvSettingDiv=function(a){var b=$("#advimg").attr("src");b.indexOf("show")>=0?$("#advimg").attr("src","../images/icon_hide.gif"):$("#advimg").attr("src","../images/icon_show.gif"),$.toggleDiv("settingstr")},jQuery.changeUrl=function(a){var b=$(a).attr("id"),c=$("#domainName").val(),d=$("#urlpath").val(),e=c,f="ns",g="https://";if(d!=null&&d!=undefined&&d!=""){var h=c.length;c.substring(h-1,h)=="/"?e=c+f:e=c+"/"+f,d.substring(0,1)=="/"?e+=d:e=e+"/"+d}var i="";c!=null&&c!=undefined&&c!=""&&(i=g+e),$("#cnamepath").val(i)},jQuery.changebg=function(a){$("#noc_tr_"+a).css("background-color","#f2f6f8"),$.showDiv("span_"+a)},jQuery.clearbg=function(a){$("#noc_tr_"+a).css("background-color","#FFFFFF"),$.hideDiv("span_"+a)},jQuery.openedit=function(a,b){var c=$("#txt_"+a).html();if(document.getElementById("txt_area")!=null){$("#txt_area").remove();var d=$("#prev_id").val();$.showDiv("noc_tr_"+d)}$("#prev_id").val(a),$("#edittxt_"+a).append("<textarea id='txt_area' rows='3' cols='45' style='width:354px; margin:3px 0 0 6px;' onkeypress='$.commentsubmit(event,"+a+","+b+")'>"+c+"</textarea>"),$.hideDiv("noc_tr_"+a),$.showDiv("txtareatr_"+a)},jQuery.commentsubmit=function(a,b,c){if(a.keyCode==13){var d=$("#urlid").val(),e=$("#txt_area").val();e=trimString(e);if(e!=""){var f="execute=updateNocComments&urlid="+d+"&comments="+encodeURIComponent(e)+"&ut="+c,g=$.getAjaxResponseWithCSRF("POST","/home/reportsinfo.do",f),h=getValue(g,"ax_status"),i=getValue(g,"ax_comment");h=="success"&&$("#txt_"+b).html(encodeHtml(i)),$.showDiv("noc_tr_"+b),$.hideDiv("txtareatr_"+b);if(b==1&&i.length>0){var j=i;i.length>30&&(j=i.substr(0,30)+"...");var k=$("#prevcomments").val();$("#cmt_"+k).html(decodeURIComponent(j))}}}},jQuery.deleteComment=function(a,b){var c=$("#urlid").val(),d="execute=deleteNocComments&urlid="+c+"&ut="+b,e=$.getAjaxResponseWithCSRF("POST","/home/reportsinfo.do",d),f=getValue(e,"ax_status");f=="success"&&$("#noc_tr_"+a).remove()},jQuery.togglechkbox=function(a){$("#"+a).is(":checked")?$("#"+a).attr("checked",!1):$("#"+a).attr("checked",!0)},jQuery.showToolTipwithClose=function(a,b,c){var d=$(window).height(),e=$(window).width(),f=$("#"+b).html(),g=$("#"+b).outerWidth(),h=$("#"+a).width(),i=$("#"+a).offset(),j=i.left,k=i.top,l=j-15,m=k+35,n="";if(c){var o=18,p=e/2;g>e?(l=10,o=j+h/2):j<p&&g<p?l+=5:j<p&&g>p?l+=5:j>p&&g+j>e&&(l=j-g+h+20,o=g-(20+h/2)),n=n+'<div style="margin-left:'+o+'px;padding-bottom:10px;" class="tooltip-pointer"><div class="tooltip-pointer-up"><div class="tooltip-pointer-up-inner"></div></div></div>'}else g>e&&(l=10,m=k+30);n=n+'<div class="tooltip"><b class="tooltipdiv1"></b><b class="tooltipdiv2"></b><b class="tooltipdiv3"></b><b class="tooltipdiv4"></b><div class="tooltipboxcontent"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td  align="right" style="padding-right:0px"><a title="close" onclick="$.hideToolTip();" href="javascript:void(0);"><img border="0" align="right" alt="close" src="/images/close-sandal.png"></a></td></tr><tr><td valign="middle" height="32" class="labeltd">'+f+'</td></tr></tbody></table></div><b class="tooltipdiv4tooltipdiv"></b><b class="tooltipdiv3tooltipdiv"></b><b class="tooltipdiv2tooltipdiv"></b><b class="tooltipdiv1tooltipdiv"></b></div>';var q='<table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td>'+n+"</td></tr></tbody></table>";$.showToolTipDiv(q,m,l,"100")},jQuery.checkMon=function(a){$("#chk"+a).is(":checked")?$("#sp"+a).attr("class","chkbox_act"):$("#sp"+a).attr("class","chkbox_none")},jQuery.showHistory=function(a){var b=$("#isloggedIn").val(),c=parseInt($("#page").val()),d=$("#idKey").val();a=="true"?c+=1:c-=1,showDiv("loading"),hideDiv("actualData");if(b=="true")var e="execute=getHistoryDataforStatusView&page="+c+"&id="+d,f=$.getAjaxResponse("POST","/home/CreateTest.do",e);if(b=="false")var e="execute=showHistoryDataforStatusView&page="+c+"&id="+d,f=$.getAjaxResponse("POST","/login/status.do",e);$("#history_div").html(f)},jQuery.showstatuslinks=function(a,b,c){var d="execute=getPublicLinks&id="+a+"&frompage="+b;c!=undefined&&(d="execute=getPublicLinks&id="+a+"&frompage="+b+"&type="+c);var e=$.getAjaxResponse("POST","/home/reportsinfo.do",d);$("#statusdiv").html(e)},$.fn.doesExist=function(){return jQuery(this).length>0},jQuery.openfile=function(){$("#rptFile").trigger("click")},jQuery.showVisitors=function(a){var b=$("#url-"+a.id).html();b==null&&(b="No Users Visited");var c=$("#prevvisitor").val();c!=undefined&&c!=null&&c!=a.id&&$("#"+c).popover("hide"),$("#prevvisitor").val(a.id),$("#"+a.id).attr("data-content",b),$("#"+a.id).popover("toggle")},jQuery.hideVisitors=function(a){$("#"+a.id).popover("hide")},jQuery.showbulkComments=function(){var a=$("#prevcomments").val(),b=$("#"+a).attr("data-placement"),c=$("#toggleMondiv").css("display");if(b!="top"&&b!="bottom"){var d=$("#"+a).offset().top,e=$("#"+a).height(),f=$(".popover").offset().top,g=d+e/2-f;$(".arrow").css({top:+g+"px"})}$("#toggleMondiv").slideToggle("slow")},jQuery.fnSelectService=function(){var a=$("#serviceid").val(),b="";a!=null&&a!=undefined&&(b="&sid="+a),response=$.getAjaxResponseWithCSRF("POST","/home/reportsinfo.do","execute=allLocationStatus&isrefresh=true"+b)},jQuery.toggleSocial=function(){var a=$("#socialth").index()+1;$("th:nth-child("+a+")").toggle(),$("td:nth-child("+a+")").toggle(),$("#socialth").is(":hidden")||!$("#socialth").is(":visible")?($("#social").val("false"),$("#sociallink").html(dashboardmsg.show_social)):($("#social").val("true"),$("#sociallink").html(dashboardmsg.hide_social))},jQuery.movelist=function(a,b){$("#"+b).append($("#"+a).children()),$("#"+b+" option").attr("selected","selected")},jQuery.moveSelected=function(a,b){$("#"+a+" option:selected").appendTo("#"+b),$("#"+b+" option").attr("selected","selected")},jQuery.selectAllExcept=function(a){$("input[id*='_"+a+"']").each(function(a,b){var c=$(b).parent().attr("class");c==="chkbox"&&$(b).prop("checked",!0)})},jQuery.showdropMenu=function(a,b,c){$.stopEvents(c);var d=$("#commenttbl").offset().top,e=$(".popover").offset().top,f=$(".popover").offset().left,g=$("#commenttbl").offset().left,h=$("#commenttbl").height();tp=d-e+h-7,tp=Math.floor(tp);var i=0;$("#"+a).css("width",""),$("#"+a).css("top",tp+"px"),$("#"+a).css("left",g-f+"px"),$("#"+a).width($("#TComps").width()-3+"px"),$("#"+a).show()},jQuery.stopEvents=function(a){try{a||(a=window.event),a.stopPropagation?(a.preventDefault(),a.stopPropagation()):(a.cancelBubble=!0,a.returnValue=!1)}catch(b){}},jQuery.updateAccSettingsFrmHome=function(){var a=$("input[name=firstName]").val();if(a===""){alert(profilemsg.invalid_firstname),$("#firstName").select();return}if($("input[name=lastName]").val()===""){alert(profilemsg.invalid_lastname),$("#lastName").select();return}var b=$("input[name=number]").val();if(b!==""){var c=/^[0-9]+$/;if(!c.test(b)){alert(ccmsg.phoneno_invalid),$("#number").select();return}}var d=$("select[name=userRole]").val();if(d==="0"){alert(profilemsg.select_role);return}d=$("select[name=vertical]").val();if(d==="0"){alert(profilemsg.select_industry);return}var e=welcomepagemsgs.loading_msg,f=$("#updateAccSettingsFrmHome [id=updateAccSettingsFrmHomeBtn]").position(),g=f.left+$("#updateAccSettingsFrmHome [id=updateAccSettingsFrmHomeBtn]").width()+55,h=f.top-6;$.showPopUpDiv('<img src="/images/zoho-busy.gif">&nbsp;<span class="formtext">'+e+"</span>",h,g,"1",200);var i=$.getPostAjaxResponse("/home/accountinfo.do","updateAccSettingsFrmHome"),j=getValue(i,"ax_status"),k=getValue(i,"ax_locationhrefurl"),l=$("invokefrom").val();if(k!==undefined){var m=getValue(i,"ax_errormsg"),n=m.length*11;m.length<15&&(n+=70),$.showPopUpDiv($.getStatusMsg(j,m),h,g,"1",n),$.fadeOutDiv("popUpFloatingDiv",4e3),k+="&tab=AccountProfile",location.href=k}else $.hidePopUpDiv(),$("#userarea").html(i)},jQuery.openDashboard=function(){var a=$("body").css("width"),b="670";window.open("/home/reportsinfo.do?execute=allLocationStatus","new","scrollbars=yes,resizable=yes,width="+a+",height="+b+"'").focus()},jQuery.showAddMonitorForm=function(a,b){$(".popover").remove();var c="#content"+b,d="#addlink"+b;$(d).attr("data-content")!=undefined&&$(d).popover("destroy");var e='<img src="/images/status_down_icon.png" align="right" valign="middle" title="close" style="cursor:pointer" onclick="$.hideNOCCommentdialog();">',f='<table width="100%"><tr><td width="50%">'+a+'</td><td width="45%">&nbsp;</td><td width="5%"><img src="/images/status_down_icon.png" align="right" valign="middle" title="close" style="cursor:pointer" onclick="$.hideNOCCommentdialog();"></td></tr></table>',g=$(c).html();$(d).attr("data-placement","left"),$(d).attr("data-content",g),$(d).popover("show")},jQuery.showAddMonitortoProbe=function(a,b){$(".popover").remove(),hideAll(),hideDiv("rightPortelIntegration"),showDiv("rightBasicLayout"),showDiv("loadingg");var c="../home/CreateTest.do?execute=showUrlForm&addform=true&userarea=true&monitortype="+a+"&addmonprobeid="+b;getHtml(c,"postShowAddForm",a)},jQuery.showImg=function(a){var b="imgFile="+a,c=$.getAjaxResponse("GET","/jsp/showRealBrowserScreenShots.jsp",b);$("#basicModalContent").html(c),$("#basicModalContent").modal()},jQuery.getBlockDomains=function(a){$.hidePopUpDiv(),response=$.getAjaxResponse("GET","../home/CreateTest.do?execute=getBlockDomains");var b=$("#block_domains").position();if(a)var c=b.top-10,d=b.left+30;else var c=b.top+30,d=b.left-320;$.showPopUpDiv(response,c,d,"1","420")},jQuery.setBlockDomains=function(){var a="",b=document.getElementsByName("blockDomains");for(i=0;i<b.length;i++)b[i].value!=null&&b[i].value!="undefined"&&trimString(b[i].value).length>0&&(i==0?a=b[i].value:a=a+","+b[i].value);response=$.getAjaxResponseWithCSRF("GET","../home/CreateTest.do?execute=setBlockDomains","domains="+a),status=getValue(response,"ax_status");var c="";status=="success"?c="Updated successfully":c="Updation failed",position1=$("#block_domains").position(),width=c.length*11,c.length<15&&(width+=70),top_pad=position1.top+30,left_pad=position1.left-200,$.showPopUpDiv($.getStatusMsg(status,c),top_pad,left_pad,"1",width),$.fadeOutDiv("popUpFloatingDiv",1e3)},jQuery.addNewBlocKdomainRow=function(){var a=document.getElementById("blockDomainsTable"),b=a.insertRow(a.rows.length);b.setAttribute("id","blockDomainRow_"+a.rows.length);var c=b.insertCell(0);c.innerHTML="<td width='80%'><input style='margin-top:10px; width:290px;' name='blockDomains' type='text' value=''></td>";var d=b.insertCell(1);d.innerHTML="<a href='javascript:void(0)'  onclick='$.removeBlocKdomainRow(\""+a.rows.length+"\");'><img onclick='javascript:void(0);' src='/images/wrong.gif'></a>"},jQuery.removeBlocKdomainRow=function(a){var b=document.getElementById("blockDomainsTable"),c=b.rows.length;for(var d=0;d<c;d++){var e=b.rows[d];if(e.getAttribute("id")!=null&&e.getAttribute("id")!="undefined"&&e.getAttribute("id")=="blockDomainRow_"+a){b.deleteRow(d);return}}},jQuery.calculatePack=function(){var a=$.getPostAjaxResponseWithoutCSRF("../home/pkgbilling.do?method=calculatePack","packCalculator");$("#userarea").html(a)},jQuery.showPurchaseScreen=function(a){if(a=="alerts"&&$("#rptType").size()>0&&$("#rptType").val()==0)return alert(validationmsg.smspack_invalid),!1;$("body, html, #loading").scrollTop(0),$.showDiv("loading"),$.hideDiv("messagediv");var b=$.getPostAjaxResponseWithoutCSRF("../home/pkgbilling.do?method=showPurchaseScreen","packCalculator"),c=getValue(b,"ax_priceCalcTrasnsactionId"),d=getValue(b,"ax_paymentOption"),e=getValue(b,"ax_chargeAmount"),f=verifyNewClient();if(e!==undefined&&c!==undefined&&d!==undefined&&e<=0){var g=document.createElement("form");g.setAttribute("method","post"),g.setAttribute("id","paymentform"),g.setAttribute("action","/home/pkgbilling.do"),f!=null&&g.appendChild(getnewFormElement("hidden","nc","billing")),g.appendChild(getnewFormElement("hidden","method","paymentconfirmed")),g.appendChild(getnewFormElement("hidden","transactionId",c)),g.appendChild(getnewFormElement("hidden","paymentoption",d)),g.appendChild(getnewFormElement("hidden","fromAjax","true")),g.appendChild(getnewFormElement("hidden",CSRFParamName,CSRFParamValue)),document.body.appendChild(g);var b=$.getPostAjaxResponse(g.action,"paymentform"),h=getValue(b,"ax_errormsg"),i=getValue(b,"ax_redirectUrl");i!=undefined&&(window.location.href=i),h!=undefined&&h!=""&&($("#errordiv").html(h),$.hideDiv("loading"),$.showDiv("messagediv"))}else $.hideDiv("loading"),$("#userarea").html(b)},jQuery.cancelPackPurcahse=function(){var a="method=cancelCard&transactionId="+$("#paymentform input[name=transactionId]").val(),b=$.getAjaxResponseWithCSRF("POST","/home/pkgbilling.do",a);$("#userarea").html(b)},jQuery.showBuySMSForm=function(){var a=$.getPostAjaxResponseWithoutCSRF("../home/pkgbilling.do?method=showBuySMSForm");$("#userarea").html(a)},jQuery.showBuyAddOnForm=function(){var a=$.getPostAjaxResponseWithoutCSRF("../home/pkgbilling.do?method=showBuyAddOnForm");$("#userarea").html(a)},jQuery.showBuySubscriptionForm=function(){var a=$.getPostAjaxResponseWithoutCSRF("../home/pkgbilling.do?method=showBuySubscriptionForm");$("#userarea").html(a)},jQuery.highliteMapElements=function(){$("#mapDivId").css({position:"absolute"}).hide(),$(".map").attr("onMouseOut","$('#mapDivId').hide();"),$("area").each(function(a){var b=this.href,c=this.title;$("area").eq(a).bind("mouseover",function(a){$("#mapDivId").css({top:a.pageY-5,left:a.pageX-5}).show(),$("#mapDivId").attr("onclick",b),$("#mapDivId").attr("title",c),this.href="#",this.title=""}),$("area").eq(a).bind("mouseout",function(){this.href=b,this.title=c})})},jQuery.showNewTestEmail=function(){var a=$("#addContactForm input[name=toemail]").val();if(!validateEmail(a))return!1;var b="page=testemail&email="+encodeURIComponent(a),c=$.getAjaxResponseWithCSRF("POST","/jsp/includes/newTestEmail.jsp",b),d='<img src="/images/close-icon.gif" align="right" valign="middle" title="close" style="cursor:pointer" onclick="$.closePopUp(\'emailTest\')">';$("#emailTest").attr("data-original-title",'<table width="100%"><tr><td width="50%">Test Email</td><td width="45%">&nbsp;</td><td width="5%">'+d+"</td></tr></table>"),$("#emailTest").attr("data-content",c),$("#emailTest").popover("show")},jQuery.showNewTestSMS=function(){var a=$("#addContactForm input[name=number]").val(),b=$("#addContactForm select[name=countryCode]").val(),c=null,d=!1;$("#addContactForm select[name=notifier]").val()!==null&&(d=!0);if(a===""){alert(beanmsg.emptysmsno),$("#addContactForm input[name=number]").select();return}if(isNaN(a)){alert(beanmsg.invalidsmsno),$("#addContactForm input[name=number]").select();return}var e=b+a;if(e.length>19){alert(beanmsg.moreccdigits);return}var f=$("#addContactForm input[name=callerid]").val(),g=$("#addContactForm input[name=smsprovider]").val(),h=$("#addContactForm input[name=alerts]").val(),i=$("#addContactForm input[name=credits]").val();g===undefined&&f===undefined&&(h=!0,i=1);if(f===undefined||f!==null&&f.length===0)f="0";var j="";g!==undefined&&g!==null&&g.length>0&&(j="&smsid="+g);var k="page=testSMS&mobilenumber="+e+"&call="+d+"&callid="+f+j+"&credits="+i+"&alerts="+h+"&countrycode="+b,l=$.getAjaxResponse("POST","/jsp/includes/testSMS.jsp",k),m='<img src="/images/close-icon.gif" align="right" valign="middle" title="close" style="cursor:pointer" onclick="$.closePopUp(\'smsTest\')">';$("#smsTest").attr("data-original-title",'<table width="100%"><tr><td width="50%">Test Alert</td><td width="45%">&nbsp;</td><td width="5%">'+m+"</td></tr></table>"),$("#smsTest").attr("data-content",l),$("#smsTest").popover("show")},jQuery.showTwitterSettings=function(a,b){var c="execute=showTwitterForm";a!==null&&a!==undefined&&(c+="&uname="+a),b!==null&&b!==undefined&&(c+="&type="+b);var d=$.getAjaxResponse("POST","/home/Notifications.do",c),e='<img src="/images/close-icon.gif" align="right" valign="middle" title="close" style="cursor:pointer" onclick="$.closePopUp(\'twitterbtn\')">';$("#twitterbtn").attr("data-original-title",'<table width="100%"><tr><td width="50%"><b>Twitter Settings</b></td><td width="45%">&nbsp;</td><td width="5%">'+e+"</td></tr></table>"),$("#twitterbtn").attr("data-content",d),$("#twitterbtn").popover("show")},jQuery.showTwitterDiv=function(a,b,c){$.showDiv(a),$.hideDiv(b),c==="true"?($.hideDiv("submitbtntr"),$(".popover").css("top",parseInt($(".popover").css("top"))+42+"px")):($.showDiv("submitbtntr"),$(".popover").css("top",parseInt($(".popover").css("top"))-42+"px"))},jQuery.updateTwitterSettings=function(){var a=$("#twittername").val(),b=$("input[name='twitter_Type']:checked").val();a===""||a.length===0?($("#errordiv").css("display",""),$.fadeOutDiv("errordiv",4e3)):($("#twitterbtn").popover("hide"),$("#modtwitterbtn").popover("hide"),$("#alertType_5").prop("checked",!0),$("#twitterUserName").val(a),$("#twitterType").val(b),$("#twitterlbl").html("@"+a),$.hideDiv("configurediv"),$.showDiv("twitterlbl"),$.showDiv("modifytwitter"),$.selectAlertTypes("5"))},jQuery.modifyTwitterSettings=function(a){var b=$("#twitterUserName").val(),a=$("#twitterType").val(),c="execute=showTwitterForm&uname="+b+"&type="+a,d=$.getAjaxResponse("POST","/home/Notifications.do",c),e='<img src="/images/close-icon.gif" align="right" valign="middle" title="close" style="cursor:pointer" onclick="$.closePopUp(\'modtwitterbtn\')">';$("#modtwitterbtn").attr("data-original-title",'<table width="100%"><tr><td width="50%"><b>Twitter Settings</b></td><td width="45%">&nbsp;</td><td width="5%">'+e+"</td></tr></table>"),$("#modtwitterbtn").attr("data-content",d),$("#modtwitterbtn").popover("show")},jQuery.deleteTwitterSettings=function(){$("#twitterUserName").val(""),$("#twitterlbl").html(""),$.hideDiv("twitterlbl"),$.hideDiv("modifytwitter"),$.showDiv("configurediv"),$.removeAlertTypes("5")},jQuery.updateImage=function(){var a=$("#target").attr("src"),b=$("#previewImg").attr("style"),c=$("#fpath").val();$("#logo").attr("src",a),$("#logo").attr("style",b);var d=$.getPostAjaxResponse("/home/Notifications.do?execute=uploadImage","uploadForm"),e=getValue(d,"ax_blockid"),f=getValue(d,"ax_dfspath");$("#uploadedfilepath").val(f),$("#uploadedfilename").val(e),$.colorbox.close()},jQuery.showImageUpload=function(){function n(a){if(parseInt(a.w)>0){var b=l/a.w,c=m/a.h,d=a.x,e=a.y,f=a.x2,i=a.y2;try{d=Math.round(d),f=Math.round(f),e=Math.round(e),i=Math.round(i)}catch(j){}if(g===undefined||g===null)g=$("#target").css("width"),g.indexOf("px")!==-1&&(g=g.replace("px",""));if(h===undefined||h===null)h=$("#target").css("height"),h.indexOf("px")!==-1&&(h=h.replace("px",""));k.css({width:Math.round(b*g)+"px",height:Math.round(c*h)+"px",marginLeft:"-"+Math.round(b*a.x)+"px",marginTop:"-"+Math.round(c*a.y)+"px"}),$("#x1").val(d),$("#y1").val(e),$("#x2").val(f),$("#y2").val(i),$("#imgwidth").val(g),$("#imgheight").val(h)}}var a=$("#originalfilepath").val(),b=$("#logo").attr("src");a!==null&&a!==undefined&&a!==""&&(b=a);var c="fname="+b;x1=$("#x1").val(),y1=$("#y1").val(),x2=$("#x2").val(),y2=$("#y2").val();var d=!1;if(x1===null||x1===""||x1===undefined)x1="0",y1="0",x2="400",y2="400";var e=$.getAjaxResponse("POST","/home/Notifications.do?execute=showImageUpload",c);$.colorbox({closeButton:!1,html:e,scrolling:!1});var f,g,h,i=$("#preview-pane"),j=$("#preview-pane .preview-container"),k=$("#preview-pane .preview-container img"),l=j.width(),m=j.height();$("#target").Jcrop({setSelect:[x1,y1,x2,y2],onChange:n,onSelect:n,aspectRatio:l/m},function(){var a=this.getBounds();g=a[0],h=a[1],f=this,i.appendTo(f.ui.holder)})},jQuery.toggleContent=function(a,b,c,d){$("#"+b).toggle();var e=$("#"+b).css("display");e==="none"?($("#"+a).attr("src","../images/alerts-arrow-down.png"),$("#txtdiv").html(alerttypemsg.showtxt)):($("#"+a).attr("src","../images/alerts-arrow-up.png"),$("#txtdiv").html(alerttypemsg.hidetxt)),$("#"+b).css("display")!=="none"&&($("#slider").rangeSlider({bounds:{min:0,max:1440},defaultValues:{min:c,max:d},step:15,formatter:function(a){var b=Math.floor(a/60),c=a-b*60;return c=Math.floor(c),c=c<10?"0"+c:c,(b<10?"0"+b:b)+":"+(c===0?"00":c)}}),$("#slider").bind("valuesChanging",function(a,b){$("#sliderMin").val(b.values.min),$("#sliderMax").val(b.values.max)}))},jQuery.togglegrp=function(a){a==="1"?($.showDiv("tr_monitorgrp"),$.hideDiv("tr_monitors")):a==="2"?($.showDiv("tr_monitors"),$.hideDiv("tr_monitorgrp")):($.hideDiv("tr_monitorgrp"),$.hideDiv("tr_monitors"))},jQuery.showNewEditContactForm=function(a){$("#imButton").popover("hide"),$("#modifylink").popover("hide");var b=$.getAjaxResponseWithCSRF("POST","/home/Notifications.do","execute=showNewContactForm&contactid="+a);$("#AlertsTabContent").html(b)},jQuery.checksmsconfig=function(){var a=$("#addContactForm input[name=number]").val(),b=$("#alertType_2").prop("checked"),c=$("#alertType_3").prop("checked");if(isNaN(a)){alert(beanmsg.invalidsmsno),$("#addContactForm input[name=number]").select();return}a!==""?($("#alertType_2").prop("checked",!0),$("#alertType_3").prop("checked",!0),$.selectAlertTypes("2"),$.selectAlertTypes("3")):a===""&&(b===!0&&($("#alertType_2").prop("checked",!1),$.removeAlertTypes("2")),c===!0&&($("#alertType_3").prop("checked",!1),$.removeAlertTypes("3")))},jQuery.checkAlertConfig=function(a){var b=$("#alertType_"+a).prop("checked");if(a==="1")if(!b){var c=$("#addContactForm input[name=toemail]").val();if(!validateEmail(c)){$("#alertType_"+a).prop("checked",!0),$("#addContactForm input[name=toemail]").select();return}$.selectAlertTypes(a)}else $.removeAlertTypes(a);if(a==="2"||a==="3")if(!b){var d=$("#addContactForm input[name=number]").val();if(d===""){$("#alertType_"+a).prop("checked",!0),alert(beanmsg.emptysmsno),$("#addContactForm input[name=number]").select();return}if(isNaN(d)){$("#alertType_"+a).prop("checked",!0),alert(beanmsg.invalidsmsno),$("#addContactForm input[name=number]").select();return}$.selectAlertTypes(a)}else $.removeAlertTypes(a);if(a==="4"){var e=$("#addContactForm input[name=imSubscribed]").val();if(!b){if(e!=="true"){$("#alertType_"+a).prop("checked",!0),alert(imMsg.configure_im);return}var f=$("#addContactForm input[name=imUsername]").val();if(f===""||f.length===0){$("#alertType_"+a).prop("checked",!0),alert(beanmsg.usernameempty);return}if(!validateEmail(f)){$("#alertType_"+a).prop("checked",!0);return}$.selectAlertTypes(a)}else $.removeAlertTypes(a)}if(a==="5")if(!b){var g=$("#twitterlbl").html();if(g===null||g===undefined||g===""||g==="@"){$("#alertType_"+a).prop("checked",!0),alert(alerttypemsg.twitternoempty);return}$.selectAlertTypes(a)}else $.removeAlertTypes(a)},jQuery.selectAlertTypes=function(a){var b=[alerttypemsg.email_notify,alerttypemsg.sms_notify,alerttypemsg.call_notify,alerttypemsg.im_notify,alerttypemsg.twitter_notify];$("#downNotifyArr option[value='"+a+"']").prop("selected",!0);var c=$("#alertVal").val();c=c+","+a,$("#alertVal").val(c);var d=[];$.each(b,function(a,e){var f=a+1;c.indexOf(f)===-1&&d.push(b[a])}),$.setAlertValue(d)},jQuery.removeAlertTypes=function(a){var b=[alerttypemsg.email_notify,alerttypemsg.sms_notify,alerttypemsg.call_notify,alerttypemsg.im_notify,alerttypemsg.twitter_notify],c=$("#alertVal").val(),d=[],e=[],f=c.split(",").sort();$.each(f,function(b,c){c!==a&&d.push(c)}),c=d.join(),$.each(b,function(a,d){var f=a+1;c.indexOf(f)===-1&&e.push(b[a])}),$("#alertVal").val(d.join());var g=$("#downNotifyArr").val(),h=$("#upNotifyArr").val(),i=$("#troubleNotifyArr").val();g.indexOf(a)>=0&&$("#downNotifyArr option[value='"+a+"']").prop("selected",!1),h.indexOf(a)>=0&&$("#upNotifyArr option[value='"+a+"']").prop("selected",!1),i.indexOf(a)>=0&&$("#troubleNotifyArr option[value='"+a+"']").prop("selected",!1),$.setAlertValue(e)},jQuery.setAlertValue=function(a){var b=[alerttypemsg.email_notify,alerttypemsg.sms_notify,alerttypemsg.call_notify,alerttypemsg.im_notify,alerttypemsg.twitter_notify];$("#downalerts").tabSelect({tabElements:b,formElement:"#downNotifyArr",disabledElements:a}),$("#troublealerts").tabSelect({tabElements:b,formElement:"#troubleNotifyArr",disabledElements:a}),$("#upalerts").tabSelect({tabElements:b,formElement:"#upNotifyArr",disabledElements:a})},jQuery.gsAddMon=function(a){jsonObjectArray=[];var b=$("input[name=monitors]:checked").size();if(b<1){alert(gsmsg.sel_one);return}if(a!==""&&a!==undefined){var c=a.split(",");monitors={},monitors.dispName=c[0],monitors.host=c[1],monitors.type=c[2],jsonObjectArray.push(monitors)}else{if(b>$("input[name=maxcount]").val()){alert(gsmsg.max_count_exceeded);return}$("input[name=monitors]:checked").each(function(){var a=$(this).val();c=a.split(","),monitors={},monitors.dispName=c[0],monitors.host=c[1],monitors.type=c[2],jsonObjectArray.push(monitors)})}var d=$("input[name=url]").val(),e=$("input[name=domain]").val(),f=$("input[name=s247pname]").val();jsonObject={},jsonObject.monitors=jsonObjectArray;var g=JSON.stringify(jsonObject),h=document.createElement("form");h.setAttribute("id","gs3form"),h.setAttribute("method","post"),h.setAttribute("action","/gs.do"),h.appendChild(getnewFormElement("hidden","execute","addMonitors")),h.appendChild(getnewFormElement("hidden","monitors",g)),h.appendChild(getnewFormElement("hidden","domain",e)),h.appendChild(getnewFormElement("hidden","s247pname",f)),document.body.appendChild(h),h.submit()},jQuery.gsSkip=function(){var a=$("input[id=check-mon-0]").val();$.gsAddMon(a)},jQuery.resendConfirmMail=function(){var a=welcomepagemsgs.loading_msg,b=$('[id="resendlink"]'),c=b.position(),d=c.left+b.width()+55,e=c.top-6;$.showPopUpDiv('<img src="/images/preload1.gif">&nbsp;<span class="formtext" >'+a+"</span>",e,d,"1",200);var f=$.getAjaxResponse("GET","/login/UserAction.do?execute=sendConfirmationMail&ct="+Number(new Date)),g=getValue(f,"ax_mailsent"),h=getValue(f,"ax_ec");if(g!==""&&g!==undefined){$.fadeOutDiv("popUpFloatingDiv",10);var i=g.length*5;g.length<15&&(i+=70);var j='<span style="margin:15px 0 0;"><img src="/images/tick.gif">&nbsp;<span class="txt11\t bold">'+g+"</span></span>";$('[id="resendDiv"]').html(j),$.fadeOutDiv("resendDiv",4e3)}},jQuery.chkAccountConfirmation=function(){var a="from=GS",b=$.getAjaxResponse("GET","/login/UserAction.do?execute=checkConfirmedAccount",a),c=getValue(b,"ax_confirmed");if(c==="true")$.hideDiv("acConfirmDiv"),$.showDiv("addMonDiv");else{var d=welcomepagemsgs.loading_msg,e=$("#gs2 [id=gsConfirmBtn]").position(),f=e.left+$("#gs2 [id=gsConfirmBtn]").width()+55,g=e.top-6;$.showPopUpDiv('<div style="margin:15px 0 0;"><span class="err14">'+gsmsg.confirm_proceed+"</span></div>",g,f,"1",500),$.fadeOutDiv("popUpFloatingDiv",4e3)}},jQuery.gsAddMomonitor=function(){var a=welcomepagemsgs.loading_msg,b=$("#gs2 [id=addMonitorBtn]").position(),c=b.left+$("#gs2 [id=addMonitorBtn]").width()+55,d=b.top-6,e=$("input[name=weburl]").val();if(e===""){$.showPopUpDiv('<div style="margin:15px 0 0;"><span class="err14">'+beanmsg.invalid_url+"</span></div>",d,c,"1",200),$("#input[name=weburl]").select(),$.fadeOutDiv("popUpFloatingDiv",4e3);return}$.showPopUpDiv(" ",d,c,"1",200);var f=$.getPostAjaxResponseWithoutCSRF("/gs.do","gs2"),g=getValue(f,"ax_reason");g!==undefined?(g.length>50?($('[id="errordiv"]').html('<span class="err14">'+g+"</span>"),$.showDiv("errordiv"),$.fadeOutDiv("errordiv",4e3)):$.showPopUpDiv('<div style="margin:15px 0 0;"><span class="err14">'+g+"</span></div>",d,c,"1",200),$("input[name=weburl]").focus(),$.fadeOutDiv("popUpFloatingDiv",4e3)):($.hidePopUpDiv(),$("#userarea").html(f))},jQuery.closeColorbox=function(){$.colorbox.close()},jQuery.closePopOver=function(a){$("#"+a).popover("hide")},jQuery.sendNewTestEmail=function(){var a=document.getElementsByName("message")[0].value;if(a===null||a===""||trimString(a).length<1)return alert(beanmsg.empty_email_message),!1;$.showDiv("loading");var b=$.getPostAjaxResponseWithoutCSRF("/home/Notifications.do","testEmail"),c=getValue(b,"ax_errormsg"),d=getValue(b,"ax_status");$.hideDiv("loading"),$("#responsediv").removeClass("dispnone"),d==="success"?($("#responsediv").removeClass("emailerror"),$("#responsediv").addClass("emailsuccess")):($("#responsediv").removeClass("emailsuccess"),$("#responsediv").addClass("emailerror")),$("#responsediv").html(c),$("#responsediv").fadeOut(4e3,function(){$.closePopUp("emailTest")})},jQuery.enableVoiceMail=function(){var a=$("#addContactForm input[name=number]").val();if(a===""){alert(beanmsg.emptysmsno),$("#voicemail").prop("checked",!0),$("#addContactForm input[name=number]").select();return}if(isNaN(a)){alert(beanmsg.invalidsmsno),$("#voicemail").prop("checked",!0),$("#addContactForm input[name=number]").select();return}var b=$("#alertType_3").prop("checked");if(!b){alert(alertmsg.voicemail),$("#voicemail").prop("checked",!0),$("#alertType_3").focus();return}$("#voicemail").prop("checked",!1)},jQuery.showConfigureThreshold=function(){if($("#monitortypelist").length>0){var a=$("#monitortypelist :selected").val(),b=$.getAjaxResponseWithCSRF("POST","/home/Notifications.do","execute=configureThresholdTemplate&monitortype="+a);$("#AlertsTabContent").html(b)}else{$("#imButton").popover("hide"),$("#modifylink").popover("hide"),period="2";var b=$.getAjaxResponseWithCSRF("POST","/home/Notifications.do","execute=configureThresholdTemplate");$("#AlertsTabContent").html(b),$.alertsTabHide("configurethreshold")}},jQuery.handsonThreshold=function(a,b,c,d,e,f,g){$("#example").handsontable({data:a,dataType:"json",width:function(){var a=800;return d.length>8&&(a=1e3),maxed&&f===void 0&&calculateSize(),maxed?f:a},height:function(){var a=100;return e.length>5&&e.length<10&&(a=300),e.length>10&&(a=400),maxed&&g===void 0&&calculateSize(),maxed?g:a},overflow:scroll,minRows:e.length,minCols:d.length,colHeaders:function(a){return'<span  style="font-family: sans-serif;font-size:8pt"> '+d[a]+"</span>"},columns:b,rowHeaders:function(a){return'<span  title="'+e[a]+'" style="width:300;font-family: sans-serif;font-size:8pt "> '+e[a]+"</span>"},manualColumnResize:!0,contextMenu:{callback:function(a,b){if(a==="removeconfig"||a==="removeconfigforattribute"){var f=$("#example").handsontable("getSelected"),g=f[0],h=f[1],j="",k=e[g],l=d[h],m=k.toString(),n=l.toString(),o=n.replace(/ /g,"");o=o.replace(/[!"#$%&'()*+,.\/:;<=>?@\[\\\]^`{|}~]/g,"");var p=$("#"+o).val();$.ajax({url:"/home/Notifications.do",dataType:"json",type:"POST",data:{data:""+j+"",execute:"deleteThresholdTemplate",monitortype:c,monitorname:m,attributename:n,actiontype:a,attrid:p,s247pname:CSRFParamValue},complete:function(b){if(a==="removeconfigforattribute")for(i=0;i<e.length;i++)$("#example").handsontable("setDataAtCell",i,f[1],"");else $("#example").handsontable("setDataAtCell",f[0],f[1],"");$("#autosavemsg").html($.getStatusMsg("success","Threshold removed successfully")),$.showDiv("autosavemsg"),setTimeout(function(){$("#autosavemsg").fadeOut(function(){$(this).html($.getStatusMsg("success","Threshold removed successfully"))})},1e3)}})}},items:{removeconfig:{name:"Remove Configuration"},removeconfigforattribute:{name:"Remove Configuration for all monitors"}}},afterValidate:function(a,b,c,d,e){if(a)return!0;var f=$("#example").handsontable("getDataAtCell",c,d);return $("#example").handsontable("setDataAtCell",c,d,f),alert("Invalid input. Reset to previous configuration"),!1},afterChange:function(a,b){if(a===null)return;if(b==="autofill"){var f=[],g=[],h="";for(var i=0;i<a.length;i++){var j=a[i].toString().split(",");rowHeaderIdx=j[0],locmonitorname=e[rowHeaderIdx],colHeaderIdx=j[1],locattributename=d[colHeaderIdx],locattributevalue=j[3],f.indexOf(locmonitorname)===-1&&f.push(locmonitorname),g.indexOf(locattributename)===-1&&g.push(locattributename),h=locattributevalue}var k=f.toString(),l=g.toString(),m=l.replace(/ /g,"");m=m.replace(/[!"#$%&'()*+,.\/:;<=>?@\[\\\]^`{|}~]/g,"");var n=$("#"+m).val();$.ajax({url:"/home/Notifications.do",dataType:"json",type:"POST",data:{data:""+a+"",execute:"saveThresholdTemplate",monitortype:c,monitorname:k,attributevalue:h,attributename:l,actiontype:b,attrid:n,s247pname:CSRFParamValue},complete:function(a){}})}if(b==="edit"){var j=a[0].toString().split(",");rowHeaderIdx=j[0],f=e[rowHeaderIdx],colHeaderIdx=j[1];var o=$("#example").handsontable("getColHeader");g=d[colHeaderIdx],h=j[3];var m=g.replace(/ /g,"");m=m.replace(/[!"#$%&'()*+,.\/:;<=>?@\[\\\]^`{|}~]/g,"");var n=$("#"+m).val();$.ajax({url:"/home/Notifications.do",dataType:"json",type:"POST",data:{data:""+a+"",execute:"saveThresholdTemplate",monitortype:c,monitorname:f,attributevalue:h,attrid:n,attributename:g,actiontype:b,attrid:n,s247pname:CSRFParamValue},complete:function(a){$("#autosavemsg").html($.getStatusMsg("success","Changes are Autosaved")),$.showDiv("autosavemsg"),setTimeout(function(){$("#autosavemsg").fadeOut(function(){$(this).html($.getStatusMsg("success","Changes are Autosaved"))})},1e3)}})}}})},jQuery.getRCAReportByEMail=function(a,b,c,d,e,f){$.showDiv("loading");var g="";c!==undefined&&c==="RCA"&&(g="/home/CreateTest.do?execute=sendReport&urlid="+a+"&dt="+d+"&cs="+e+"&nameserver="+f+"&fp=GENERATERCA&emailid=");if(g.length>5){if(!validateEmail(b)){emailreport.email.select();return}closeDialog(),b=encodeURIComponent(b),getHtml(g+b,"postRCASendReport",decodeURIComponent(b))}$.hideDiv("loading")},jQuery.displayblocks=function(a){var b="#div-"+a;$(b).toggle();var c=$("#"+a).attr("src");c.indexOf("show")!==-1?$("#"+a).attr("src","../images/icon_hide.gif"):$("#"+a).attr("src","../images/icon_show.gif")},jQuery.switchPackage=function(){var a=$.getAjaxResponse("GET","/home/pkgbilling.do","method=showPackOptions"),b=$("#SwitchPackageDiv").position(),c=b.left+10+"px",d=b.top+"px";$.showPopUpDiv(a,d,c,"5000","300")},jQuery.fnSwitchPack=function(){var a=$.getPostAjaxResponse("/home/pkgbilling.do","switchPackForm");location.href="/home/accountinfo.do?method=showaccountdetails"},jQuery.peercheck=function(a){var b=$("#addmonitorform input[name=peercheck]").is(":checked"),c=!1;b?confirm(beanmsg["server.peer.enable"])&&(c=!0):confirm(beanmsg["server.peer.disable"])&&(c=!0);if(c){var d="execute=updateServerPeerCheck&userid="+a+"&allowed="+b,e=$.getAjaxResponse("POST","/home/CreateTest.do",d),f=getValue(e,"ax_serverpeercheck");f=="success"?alert(beanmsg["global.updated.msg"]):alert(beanmsg["global.update.failed"])}},jQuery.showAddSlaCriteria=function(a,b){var c="execute="+a;b!=null&&(c=c+"&slatype="+b);if(a=="showSLAReport"||a=="showSLACriteria")c+="&ajax=true";var d=$.getAjaxResponse("POST","/home/SlaReport.do",c);$("#userarea").html(d)},jQuery.showNewBusinessHours=function(){var a=$.getAjaxResponse("POST","/home/SlaReport.do","execute=showNewBusinessHours&ajax=true");$("#userarea").html(a)},jQuery.showPopupAddScheduledReports=function(){var a=$.getAjaxResponse("POST","/home/scheduleReport.do","execute=popupScheduledReports");$("#tab3").html(a)},jQuery.showBusinessHours=function(){location.href="/home/SlaReport.do?execute=showBusinessHours"},jQuery.gotoChildMonitorDetailsPage=function(a,b,c,d){if(c=="PLUGIN"){if(confirm("supported only in new client. continue?")){var a="/app/client#/home/monitors/"+d+"/serverplugins";window.location.href=a}}else location.href=a};
</script>
<script type="text/javascript" >
/*! bignumber.js v2.0.0 https://github.com/MikeMcl/bignumber.js/LICENCE */

;(function (global) {
    'use strict';

    /*
      bignumber.js v2.0.0
      A JavaScript library for arbitrary-precision arithmetic.
      https://github.com/MikeMcl/bignumber.js
      Copyright (c) 2014 Michael Mclaughlin <M8ch88l@gmail.com>
      MIT Expat Licence
    */

    /*********************************** DEFAULTS ************************************/

    /*
     * The default values below must be integers within the inclusive ranges stated.
     * Most of these values can be changed at run-time using the BigNumber.config method.
     */

    /*
     * The limit on the value of DECIMAL_PLACES, TO_EXP_NEG, TO_EXP_POS, MIN_EXP,
     * MAX_EXP, and the argument to toExponential, toFixed, toFormat, and toPrecision,
     * beyond which an exception is thrown (if ERRORS is true).
     */
    var MAX = 1E9,                                   // 0 to 1e+9

        // Limit of magnitude of exponent argument to toPower.
        MAX_POWER = 1E6,                             // 1 to 1e+6

        // The maximum number of decimal places for operations involving division.
        DECIMAL_PLACES = 20,                         // 0 to MAX

        /*
         * The rounding mode used when rounding to the above decimal places, and when using
         * toExponential, toFixed, toFormat and toPrecision, and round (default value).
         * UP         0 Away from zero.
         * DOWN       1 Towards zero.
         * CEIL       2 Towards +Infinity.
         * FLOOR      3 Towards -Infinity.
         * HALF_UP    4 Towards nearest neighbour. If equidistant, up.
         * HALF_DOWN  5 Towards nearest neighbour. If equidistant, down.
         * HALF_EVEN  6 Towards nearest neighbour. If equidistant, towards even neighbour.
         * HALF_CEIL  7 Towards nearest neighbour. If equidistant, towards +Infinity.
         * HALF_FLOOR 8 Towards nearest neighbour. If equidistant, towards -Infinity.
         */
        ROUNDING_MODE = 4,                           // 0 to 8

        // EXPONENTIAL_AT : [TO_EXP_NEG , TO_EXP_POS]

        // The exponent value at and beneath which toString returns exponential notation.
        // Number type: -7
        TO_EXP_NEG = -7,                             // 0 to -MAX

        // The exponent value at and above which toString returns exponential notation.
        // Number type: 21
        TO_EXP_POS = 21,                             // 0 to MAX

        // RANGE : [MIN_EXP, MAX_EXP]

        // The minimum exponent value, beneath which underflow to zero occurs.
        // Number type: -324  (5e-324)
        MIN_EXP = -MAX,                              // -1 to -MAX

        // The maximum exponent value, above which overflow to Infinity occurs.
        // Number type:  308  (1.7976931348623157e+308)
        MAX_EXP = MAX,                               // 1 to MAX

        // Whether BigNumber Errors are ever thrown.
        // CHANGE parseInt to parseFloat if changing ERRORS to false.
        ERRORS = true,                               // true or false
        parse = parseInt,                            // parseInt or parseFloat

        // Format specification for the BigNumber.prototype.toFormat method.
        FORMAT = {
            decimalSeparator: '.',
            groupSeparator: ',',
            groupSize: 3,
            secondaryGroupSize: 0,
            fractionGroupSeparator: '\xA0',              // non-breaking space
            fractionGroupSize: 0
        },

    /***********************************************************************************/

        P = BigNumber.prototype,
        DIGITS = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_',
        outOfRange,
        id = 0,
        mathfloor = Math.floor,
        isValid = /^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,
        trim = String.prototype.trim || function () {return this.replace(/^\s+|\s+$/g, '')},
        BASE = 1e14,
        LOG_BASE = 14,
        SQRT_BASE = 1e7,
        POWS_TEN = [1, 10, 100, 1e3, 1e4, 1e5, 1e6, 1e7, 1e8, 1e9, 1e10, 1e11, 1e12, 1e13],
        ONE = new BigNumber(1);


    // CONSTRUCTOR


    /*
     * The exported function.
     * Create and return a new instance of a BigNumber object.
     *
     * v {number|string|BigNumber} A numeric value.
     * [b] {number} The base of v. Integer, 2 to 64 inclusive.
     */
    function BigNumber( n, b ) {
        var d, e, i, isNum, str, valid,
            x = this;

        // Enable constructor usage without new.
        if ( !( x instanceof BigNumber ) ) return new BigNumber( n, b );

        // Duplicate.
        if ( n instanceof BigNumber ) {

            if ( b == null ) {
                id = 0;
                x['s'] = n['s'];
                x['e'] = n['e'];
                x['c'] = ( n = n['c'] ) ? n.slice() : n;
                return;
            }
            n += '';
        } else if ( isNum = ( str = typeof n ) == 'number' ) {

            // Fast path for integers.
            if ( b == null && n === ~~n ) {
                x['s'] = 1 / n < 0 ? ( n = -n, -1 ) : 1;
                for ( e = id = 0, i = n; i >= 10; i /= 10, e++ );
                x['e'] = e;
                x['c'] = [n];
                return;
            }

            // Minus zero?
            n = n === 0 && 1 / n < 0 ? '-0' : n + '';
        } else if ( str != 'string' ) {
            n += '';
        }
        str = n;

        if ( b == null && isValid.test(str) ) {

            // Determine sign.
            x['s'] = str.charCodeAt(0) === 45 ? ( str = str.slice(1), -1 ) : 1;

        // Either str is not a valid BigNumber or a base has been specified.
        } else {

            // Enable exponential notation to be used with base 10 argument.
            // Ensure return value is rounded to DECIMAL_PLACES as with other bases.
            if ( b == 10 ) {
                x = new BigNumber(str);
                return rnd( x, DECIMAL_PLACES + x['e'] + 1, ROUNDING_MODE );
            }
            str = trim.call(str).replace( /^\+(?!-)/, '' );
            x['s'] = str.charCodeAt(0) === 45 ? ( str = str.replace( /^-(?!-)/, '' ), -1 ) : 1;

            if ( b != null ) {

                if ( ( b == ~~b || !ERRORS ) && !( outOfRange = !( b >= 2 && b < 65 ) ) ) {
                    d = '[' + DIGITS.slice( 0, b = b | 0 ) + ']+';

                    // Before non-decimal number validity test and base conversion
                    // remove the `.` from e.g. '1.', and replace e.g. '.1' with '0.1'.
                    str = str.replace( /\.$/, '' ).replace( /^\./, '0.' );

                    // Any number in exponential form will fail due to the e+/-.
                    if ( valid = new RegExp( '^' + d + '(?:\\.' + d + ')?$',
                      b < 37 ? 'i' : '' ).test(str) ) {

                        if (isNum) {

                            if ( str.replace( /^0\.0*|\./, '' ).length > 15 ) {

                        // 'new BigNumber() number type has more than 15 significant digits: {n}'
                                ifExceptionsThrow( n, 0 );
                            }

                            // Prevent later check for length on converted number.
                            isNum = !isNum;
                        }
                        str = convertBase( str, 10, b, x['s'] );
                    } else if ( str != 'Infinity' && str != 'NaN' ) {

                        // 'new BigNumber() not a base {b} number: {str}'
                        ifExceptionsThrow( n, 1, b );
                        n = 'NaN';
                    }
                } else {

                    // 'new BigNumber() base not an integer: {b}'
                    // 'new BigNumber() base out of range: {b}'
                    ifExceptionsThrow( b, 2 );

                    // Ignore base.
                    valid = isValid.test(str);
                }
            } else {
                valid = isValid.test(str);
            }

            if ( !valid ) {

                // Infinity/NaN
                x['c'] = x['e'] = null;

                // NaN
                if ( str != 'Infinity' ) {

                    // No exception on NaN.
                    // 'new BigNumber() not a number: {n}'
                    if ( str != 'NaN' ) ifExceptionsThrow( n, 3 );
                    x['s'] = null;
                }
                id = 0;

                return;
            }
        }

        // Decimal point?
        if ( ( e = str.indexOf('.') ) > -1 ) str = str.replace( '.', '' );

        // Exponential form?
        if ( ( i = str.search( /e/i ) ) > 0 ) {

            // Determine exponent.
            if ( e < 0 ) e = i;
            e += +str.slice( i + 1 );
            str = str.substring( 0, i );
        } else if ( e < 0 ) {

            // Integer.
            e = str.length;
        }

        // Determine leading zeros.
        for ( i = 0; str.charCodeAt(i) === 48; i++ );

        // Determine trailing zeros.
        for ( b = str.length; str.charCodeAt(--b) === 48; );
        str = str.slice( i, b + 1 );

        if (str) {
            b = str.length;

            // Disallow numbers with over 15 significant digits if number type.
            // 'new BigNumber() number type has more than 15 significant digits: {n}'
            if ( isNum && b > 15 ) ifExceptionsThrow( n, 0 );
            e = e - i - 1;

             // Overflow?
            if ( e > MAX_EXP ) {

                // Infinity.
                x['c'] = x['e'] = null;

            // Underflow?
            } else if ( e < MIN_EXP ) {

                // Zero.
                x['c'] = [ x['e'] = 0 ];
            } else {
                x['e'] = e;
                x['c'] = [];

                // Transform base

                // e is the base 10 exponent.
                // i is where to slice str to get the first element of the coefficient array.
                i = ( e + 1 ) % LOG_BASE;
                if ( e < 0 ) i += LOG_BASE;

                // b is str.length.
                if ( i < b ) {
                    if (i) x['c'].push( +str.slice( 0, i ) );
                    for ( b -= LOG_BASE; i < b; x['c'].push( +str.slice( i, i += LOG_BASE ) ) );
                    str = str.slice(i);
                    i = LOG_BASE - str.length;
                } else {
                    i -= b;
                }

                for ( ; i--; str += '0' );
                x['c'].push( +str );
            }
        } else {

            // Zero.
            x['c'] = [ x['e'] = 0 ];
        }
        id = 0;
    }


    // CONSTRUCTOR PROPERTIES/METHODS


    BigNumber['ROUND_UP'] = 0;
    BigNumber['ROUND_DOWN'] = 1;
    BigNumber['ROUND_CEIL'] = 2;
    BigNumber['ROUND_FLOOR'] = 3;
    BigNumber['ROUND_HALF_UP'] = 4;
    BigNumber['ROUND_HALF_DOWN'] = 5;
    BigNumber['ROUND_HALF_EVEN'] = 6;
    BigNumber['ROUND_HALF_CEIL'] = 7;
    BigNumber['ROUND_HALF_FLOOR'] = 8;


    /*
     * Configure infrequently-changing library-wide settings.
     *
     * Accept an object or an argument list, with one or many of the following properties or
     * parameters respectively:
     * [ DECIMAL_PLACES [, ROUNDING_MODE [, EXPONENTIAL_AT [, RANGE [, ERRORS [, FORMAT ]]]]]]
     *
     *   DECIMAL_PLACES  {number}  Integer, 0 to MAX inclusive.
     *   ROUNDING_MODE   {number}  Integer, 0 to 8 inclusive.
     *   EXPONENTIAL_AT  {number|number[]}  Integer, -MAX to MAX inclusive or
     *                                      [ integer -MAX to 0 incl., 0 to MAX incl. ].
     *   RANGE           {number|number[]}  Non-zero integer, -MAX to MAX inclusive or
     *                                      [ integer -MAX to -1 incl., integer 1 to MAX incl. ].
     *   ERRORS          {boolean|number}   true, false, 1 or 0.
     *   FORMAT          {object}           See BigNumber.prototype.toFormat.
     *      decimalSeparator       {string}
     *      groupSeparator         {string}
     *      groupSize              {number}
     *      secondaryGroupSize     {number}
     *      fractionGroupSeparator {string}
     *      fractionGroupSize      {number}
     *
     * The validity of the values assigned to the above FORMAT object properties is not checked.
     *
     * E.g.
     * BigNumber.config(20, 4) is equivalent to
     * BigNumber.config({ DECIMAL_PLACES : 20, ROUNDING_MODE : 4 })
     *
     * Ignore properties/parameters set to null or undefined.
     * Return an object with the properties current values.
     */
    BigNumber['config'] = function () {
        var v, p,
            i = 0,
            r = {},
            a = arguments,
            o = a[0],
            c = 'config',
            inRange = function ( n, lo, hi ) {
              return !( ( outOfRange = n < lo || n > hi ) || parse(n) != n && n !== 0 );
            },
            has = o && typeof o == 'object'
              ? function () {if ( o.hasOwnProperty(p) ) return ( v = o[p] ) != null}
              : function () {if ( a.length > i ) return ( v = a[i++] ) != null};

        // [DECIMAL_PLACES] {number} Integer, 0 to MAX inclusive.
        if ( has( p = 'DECIMAL_PLACES' ) ) {

            if ( inRange( v, 0, MAX ) ) {
                DECIMAL_PLACES = v | 0;
            } else {

                // 'config() DECIMAL_PLACES not an integer: {v}'
                // 'config() DECIMAL_PLACES out of range: {v}'
                ifExceptionsThrow( v, p, c );
            }
        }
        r[p] = DECIMAL_PLACES;

        // [ROUNDING_MODE] {number} Integer, 0 to 8 inclusive.
        if ( has( p = 'ROUNDING_MODE' ) ) {

            if ( inRange( v, 0, 8 ) ) {
                ROUNDING_MODE = v | 0;
            } else {

                // 'config() ROUNDING_MODE not an integer: {v}'
                // 'config() ROUNDING_MODE out of range: {v}'
                ifExceptionsThrow( v, p, c );
            }
        }
        r[p] = ROUNDING_MODE;

        // [EXPONENTIAL_AT] {number|number[]}
        // Integer, -MAX to MAX inclusive or [ integer -MAX to 0 inclusive, 0 to MAX inclusive ].
        if ( has( p = 'EXPONENTIAL_AT' ) ) {

            if ( inRange( v, -MAX, MAX ) ) {
                TO_EXP_NEG = -( TO_EXP_POS = ~~( v < 0 ? -v : +v ) );
            } else if ( !outOfRange && v && inRange( v[0], -MAX, 0 ) && inRange( v[1], 0, MAX ) ) {
                TO_EXP_NEG = ~~v[0];
                TO_EXP_POS = ~~v[1];
            } else {

                // 'config() EXPONENTIAL_AT not an integer or not [integer, integer]: {v}'
                // 'config() EXPONENTIAL_AT out of range or not [negative, positive: {v}'
                ifExceptionsThrow( v, p, c, 1 );
            }
        }
        r[p] = [ TO_EXP_NEG, TO_EXP_POS ];

        // [RANGE][ {number|number[]} Non-zero integer, -MAX to MAX inclusive or
        // [ integer -MAX to -1 inclusive, integer 1 to MAX inclusive ].
        if ( has( p = 'RANGE' ) ) {

            if ( inRange( v, -MAX, MAX ) && ~~v ) {
                MIN_EXP = -( MAX_EXP = ~~( v < 0 ? -v : +v ) );
            } else if ( !outOfRange && v && inRange( v[0], -MAX, -1 ) && inRange( v[1], 1, MAX ) ) {
                MIN_EXP = ~~v[0];
                MAX_EXP = ~~v[1];
            } else {

                // 'config() RANGE not a non-zero integer or not [integer, integer]: {v}'
                // 'config() RANGE out of range or not [negative, positive: {v}'
                ifExceptionsThrow( v, p, c, 1, 1 );
            }
        }
        r[p] = [ MIN_EXP, MAX_EXP ];

        // [ERRORS] {boolean|number} true, false, 1 or 0.
        if ( has( p = 'ERRORS' ) ) {

            if ( v === !!v || v === 1 || v === 0 ) {
                outOfRange = id = 0;
                parse = ( ERRORS = !!v ) ? parseInt : parseFloat;
            } else {

                // 'config() ERRORS not a boolean or binary digit: {v}'
                ifExceptionsThrow( v, p, c, 0, 0, 1 );
            }
        }
        r[p] = ERRORS;

        // [FORMAT] {object}
        if ( has( p = 'FORMAT' ) ) {

            if ( typeof v == 'object' ) {
                FORMAT = v;
            } else if (ERRORS) {

                // 'config() FORMAT not an object: {v}'
                r = new Error( c + '() ' + p + ' not an object: ' + v );
                r['name'] = 'BigNumber Error';
                throw r;
            }
        }
        r[p] = FORMAT;

        return r;
    };


    // PRIVATE FUNCTIONS


    /*
     * Strip trailing zeros, calculate base 10 exponent and check against MIN_EXP and MAX_EXP.
     * Called by minus, plus and times.
     */
    function normalise( bn, c, e ) {
        var i = 1,
            j = c.length;

         // Remove trailing zeros.
        for ( ; !c[--j]; c.pop() );

        // Calculate the base 10 exponent. First get the number of digits of c[0].
        for ( j = c[0]; j >= 10; j /= 10, i++ );

        // Overflow?
        if ( ( e = i + e * LOG_BASE - 1 ) > MAX_EXP ) {

            // Infinity.
            bn['c'] = bn['e'] = null;

        // Underflow?
        } else if ( e < MIN_EXP ) {

            // Zero.
            bn['c'] = [ bn['e'] = 0 ];
        } else {
            bn['e'] = e;
            bn['c'] = c;
        }

        return bn;
    }


    /*
     * Returns the coefficient array as a string of base 10 digits.
     */
    function coefficientToString(a) {
        var s, z,
            i = 1,
            j = a.length,
            r = a[0] + '';

        for ( ; i < j; ) {
            s = a[i++] + '';
            z = LOG_BASE - s.length;
            for ( ; z--; s = '0' + s );
            r += s;
        }

        // '0'
        for ( j = r.length; r.charCodeAt(--j) === 48; );

        return r.slice( 0, j + 1 || 1 );
    }


    /*
     * Convert string of baseIn to an array of numbers of baseOut.
     * Eg. convertBase('255', 10, 16) returns [15, 15].
     * Eg. convertBase('ff', 16, 10) returns [2, 5, 5].
     */
    function toBaseOut( str, baseIn, baseOut ) {
        var j,
            arr = [0],
            arrL,
            i = 0,
            strL = str.length;

        for ( ; i < strL; ) {
            for ( arrL = arr.length; arrL--; arr[arrL] *= baseIn );
            arr[ j = 0 ] += DIGITS.indexOf( str.charAt( i++ ) );

            for ( ; j < arr.length; j++ ) {

                if ( arr[j] > baseOut - 1 ) {
                    if ( arr[j + 1] == null ) arr[j + 1] = 0;
                    arr[j + 1] += arr[j] / baseOut | 0;
                    arr[j] %= baseOut;
                }
            }
        }

        return arr.reverse();
    }

    /*
     * Convert a numeric string of baseIn to a numeric string of baseOut.
     */
    function convertBase( str, baseOut, baseIn, sign ) {
        var d, e, j, r, x, xc, y,
            i = str.indexOf( '.' ),
            rm = ROUNDING_MODE;

        if ( baseIn < 37 ) str = str.toLowerCase();

        // Non-integer.
        if ( i >= 0 ) {
            str = str.replace( '.', '' );
            y = new BigNumber(baseIn);
            x = y['pow']( str.length - i );

            // Convert str as if an integer, then restore the fraction part by dividing the result
            // by its base raised to a power. Use toFixed to avoid possible exponential notation.
            y['c'] = toBaseOut( x.toFixed(), 10, baseOut );
            y['e'] = y['c'].length;
        }

        // Convert the number as integer.
        xc = toBaseOut( str, baseIn, baseOut );
        e = j = xc.length;

        // Remove trailing zeros.
        for ( ; xc[--j] == 0; xc.pop() );
        if ( !xc[0] ) return '0';

        if ( i < 0 ) {
            --e;
        } else {
            x['c'] = xc;
            x['e'] = e;
            // sign is needed for correct rounding.
            x['s'] = sign;
            x = div( x, y, DECIMAL_PLACES, rm, baseOut );
            xc = x['c'];
            r = x['r'];
            e = x['e'];
        }
        d = e + DECIMAL_PLACES + 1;

        // The rounding digit, i.e. the digit after the digit that may be rounded up.
        i = xc[d];
        j = baseOut / 2;
        r = r || d < 0 || xc[d + 1] != null;

        r = rm < 4
          ? ( i != null || r ) && ( rm == 0 || rm == ( x['s'] < 0 ? 3 : 2 ) )
          : i > j || i == j &&
            ( rm == 4 || r || rm == 6 && xc[d - 1] & 1 || rm == ( x['s'] < 0 ? 8 : 7 ) );

        if ( d < 1 || !xc[0] ) {
            xc.length = 1;
            j = 0;

            if (r) {

                // 1, 0.1, 0.01, 0.001, 0.0001 etc.
                xc[0] = 1;
                e = -DECIMAL_PLACES;
            } else {

                // Zero.
                e = xc[0] = 0;
            }
        } else {
            xc.length = d;

            if (r) {

                // Rounding up may mean the previous digit has to be rounded up and so on.
                for ( --baseOut; ++xc[--d] > baseOut; ) {
                    xc[d] = 0;

                    if ( !d ) {
                        ++e;
                        xc.unshift(1);
                    }
                }
            }

            // Determine trailing zeros.
            for ( j = xc.length; !xc[--j]; );
        }

        // E.g. [4, 11, 15] becomes 4bf.
        for ( i = 0, str = ''; i <= j; str += DIGITS.charAt( xc[i++] ) );

        // Negative exponent?
        if ( e < 0 ) {

            // Prepend zeros.
            for ( ; ++e; str = '0' + str );
            str = '0.' + str;

        // Positive exponent?
        } else {
            i = str.length;

            // Append zeros.
            if ( ++e > i ) {
                for ( e -= i; e-- ; str += '0' );
            } else if ( e < i ) {
                str = str.slice( 0, e ) + '.' + str.slice(e);
            }
        }

        // No negative numbers: the caller will add the sign.
        return str;
    }


    /*
     * Perform division in the specified base. Called by div and convertBase.
     */
    var div = ( function () {

        // Assumes non-zero x and k.
        function multiply( x, k, base ) {
            var m, temp, xlo, xhi,
                carry = 0,
                i = x.length,
                klo = k % SQRT_BASE,
                khi = k / SQRT_BASE | 0;

            for ( x = x.slice(); i--; ) {
                xlo = x[i] % SQRT_BASE;
                xhi = x[i] / SQRT_BASE | 0;
                m = khi * xlo + xhi * klo;
                temp = klo * xlo + ( ( m % SQRT_BASE ) * SQRT_BASE ) + carry;
                carry = ( temp / base | 0 ) + ( m / SQRT_BASE | 0 ) + khi * xhi;
                x[i] = temp % base;
            }
            if (carry) x.unshift(carry);

            return x;
        }

        function compare( a, b, aL, bL ) {
            var i, cmp;

            if ( aL != bL ) {
                cmp = aL > bL ? 1 : -1;
            } else {

                for ( i = cmp = 0; i < aL; i++ ) {

                    if ( a[i] != b[i] ) {
                        cmp = a[i] > b[i] ? 1 : -1;
                        break;
                    }
                }
            }
            return cmp;
        }

        function subtract( a, b, aL, base ) {
            var i = 0;

            // Subtract b from a.
            for ( ; aL--; ) {
                a[aL] -= i;
                i = a[aL] < b[aL] ? 1 : 0;
                a[aL] = i * base + a[aL] - b[aL];
            }

            // Remove leading zeros.
            for ( ; !a[0] && a.length > 1; a.shift() );
        }

        // x: dividend, y: divisor.
        return function ( x, y, dp, rm, base ) {
            var cmp, e, i, more, n, prod, prodL, q, qc, rem, remL, rem0, xi, xL, yc0,
                yL, yz,
                s = x['s'] == y['s'] ? 1 : -1,
                xc = x['c'],
                yc = y['c'];

            // Either NaN, Infinity or 0?
            if ( !xc || !xc[0] || !yc || !yc[0] ) {

                return new BigNumber(

                  // Return NaN if either NaN, or both Infinity or 0.
                  !x['s'] || !y['s'] || ( xc ? yc && xc[0] == yc[0] : !yc ) ? NaN :

                    // Return +-0 if x is 0 or y is +-Infinity, or return +-Infinity as y is 0.
                    xc && xc[0] == 0 || !yc ? s * 0 : s / 0
                );
            }

            q = new BigNumber(s);
            qc = q['c'] = [];
            e = x['e'] - y['e'];
            s = dp + e + 1;

            if ( !base ) {
                base = BASE;

                //e = mathfloor( x['e'] / LOG_BASE ) - mathfloor( y['e'] / LOG_BASE );
                e = ( xL = x['e'] / LOG_BASE, i = xL | 0, xL > 0 || xL === i ? i : i - 1 ) -
                    ( yL = y['e'] / LOG_BASE, i = yL | 0, yL > 0 || yL === i ? i : i - 1 );

                s = s / LOG_BASE | 0;
            }

            // Result exponent may be one less then the current value of e.
            // The coefficients of the BigNumbers from convertBase may have trailing zeros.
            for ( i = 0; yc[i] == ( xc[i] || 0 ); i++ );
            if ( yc[i] > ( xc[i] || 0 ) ) e--;

            if ( s < 0 ) {
                qc.push(1);
                more = true;
            } else {
                xL = xc.length;
                yL = yc.length;
                i = 0;
                s += 2;

                /*
                // TODO: fast path division when divisor < base
                if ( yL == 1 ) {
                    n = 0;
                    yc = yc[0];
                    s++;
                    // n is the carry.
                    for ( ; ( i < xL || n ) && s--; i++ ) {
                        // Can't use this, it will overflow 2^53.
                        var t = n * base + ( xc[i] || 0 );
                        qc[i] = mathfloor( t / yc );
                        n = t % yc;
                    }
                    more = n || i < xL;

                // divisor >= base
                } else {
                */
                    // Normalise xc and yc so highest order digit of yc is >= base/2

                    n = mathfloor( base / ( yc[0] + 1 ) );

                    if ( n > 1 ) {
                        yc = multiply( yc, n, base );
                        xc = multiply( xc, n, base );
                        yL = yc.length;
                        xL = xc.length;
                    }

                    xi = yL;
                    rem = xc.slice( 0, yL );
                    remL = rem.length;

                    // Add zeros to make remainder as long as divisor.
                    for ( ; remL < yL; rem[remL++] = 0 );
                    yz = yc.slice();
                    yz.unshift(0);
                    yc0 = yc[0];
                    if ( yc[1] >= base / 2 ) yc0++;

                    do {
                        n = 0;

                        // Compare divisor and remainder.
                        cmp = compare( yc, rem, yL, remL );

                        // If divisor < remainder.
                        if ( cmp < 0 ) {

                            // Calculate trial digit, n.

                            rem0 = rem[0];
                            if ( yL != remL ) rem0 = rem0 * base + ( rem[1] || 0 );

                            // n is how many times the divisor goes into the current remainder.
                            n = mathfloor( rem0 / yc0 );


                            //  Algorithm:
                            //  1. product = divisor * trial digit (n)
                            //  2. if product > remainder: product -= divisor, n--
                            //  3. remainder -= product
                            //  4. if product was < remainder at 2:
                            //    5. compare new remainder and divisor
                            //    6. If remainder > divisor: remainder -= divisor, n++

                            if ( n > 1 ) {
                                if ( n >= base ) n = base - 1;

                                // product = divisor * trial digit.
                                prod = multiply( yc, n, base );
                                prodL = prod.length;
                                remL = rem.length;

                                // Compare product and remainder.
                                cmp = compare( prod, rem, prodL, remL );

                                // product > remainder.
                                if ( cmp == 1 ) {
                                    n--;

                                    // Subtract divisor from product.
                                    subtract( prod, yL < prodL ? yz : yc, prodL, base );
                                }
                            } else {

                                // cmp is -1.
                                // If n is 0, there is no need to compare yc and rem again below,
                                // so change cmp to 1 to avoid it.
                                // If n is 1, compare yc and rem again below.
                                if ( n == 0 ) cmp = n = 1;
                                prod = yc.slice();
                            }

                            prodL = prod.length;
                            if ( prodL < remL ) prod.unshift(0);

                            // Subtract product from remainder.
                            subtract( rem, prod, remL, base );

                            // If product was < previous remainder.
                            if ( cmp == -1 ) {
                                remL = rem.length;

                                // Compare divisor and new remainder.
                                cmp = compare( yc, rem, yL, remL );

                                // If divisor < new remainder, subtract divisor from remainder.
                                if ( cmp < 1 ) {
                                    n++;

                                    // Subtract divisor from remainder.
                                    subtract( rem, yL < remL ? yz : yc, remL, base );
                                }
                            }
                            remL = rem.length;
                        } else if ( cmp === 0 ) {
                            n++;
                            rem = [0];
                        }    // if cmp === 1, n will be 0

                        // Add the next digit, n, to the result array.
                        qc[i++] = n;

                        // Update the remainder.
                        if ( cmp && rem[0] ) {
                            rem[remL++] = xc[xi] || 0;
                        } else {
                            rem = [ xc[xi] ];
                            remL = 1;
                        }
                    } while ( ( xi++ < xL || rem[0] != null ) && s-- );

                    more = rem[0] != null;
                //}

                // Leading zero?
                if ( !qc[0] ) qc.shift();
            }

            if ( base == BASE ) {

                // To calculate q.e, first get the number of digits of qc[0].
                for ( i = 1, s = qc[0]; s >= 10; s /= 10, i++ );
                rnd( q, dp + ( q['e'] = i + e * LOG_BASE - 1 ) + 1, rm, more );

            // div is being used for base conversion.
            } else {
                q['e'] = e;
                q['r'] = +more;
            }
            return q;
        };
    })();


    /*
     * Return a string representing the value of BigNumber n in normal or exponential notation
     * rounded to the specified decimal places or significant digits.
     *
     * Called by toString (k: 1), toExponential (k: 1), toFixed (k: undefined), toPrecision (k: 2).
     * i is the index (with the value in normal notation) of the digit that may be rounded up.
     * d is the number of digits required including fraction-part trailing zeros.
     * z is the number of zeros to be appended.
     */
    function format( n, i, k ) {
        var d, str, z,
            e = ( n = new BigNumber(n) )['e'];

        // i == null when toExponential(no arg), or toString() when x >= toExpPos etc.
        if ( i == null ) {
            d = 0;
        } else {
            rnd( n, ++i, ROUNDING_MODE );

            // n['e'] may have changed if the value was rounded up.
            d = k ? i : i + n['e'] - e;
            e = n['e'];
        }
        str = coefficientToString( n['c'] );

        // toPrecision returns exponential notation if the number of significant digits specified
        // is less than the number of digits necessary to represent the integer part of the value
        // in normal notation.

        // Exponential notation.
        if ( k == 1 || k == 2 && ( i <= e || e <= TO_EXP_NEG ) ) {

            // Append zeros?
            for ( ; str.length < d; str += '0' );
            if ( str.length > 1 ) str = str.charAt(0) + '.' + str.slice(1);
            str += ( e < 0 ? 'e' : 'e+' ) + e;

        // Fixed point notation.
        } else {
            k = str.length;

            // Negative exponent?
            if ( e < 0 ) {
                z = d - k;

                // Prepend zeros.
                for ( ; ++e; str = '0' + str );
                str = '0.' + str;

            // Positive exponent?
            } else {

                if ( ++e > k ) {
                    z = d - e;

                    // Append zeros.
                    for ( e -= k; e-- ; str += '0' );
                    if ( z > 0 ) str += '.';
                } else {
                    z = d - k;

                    if ( e < k ) {
                        str = str.slice( 0, e ) + '.' + str.slice(e);
                    } else if ( z > 0 ) {
                        str += '.';
                    }
                }
            }

            // Append more zeros?
            if ( z > 0 ) for ( ; z--; str += '0' );
        }
        return n['s'] < 0 && n['c'][0] ? '-' + str : str;
    }


    // Assemble error messages. Throw BigNumber Errors.
    function ifExceptionsThrow( arg, i, j, isArray, isRange, isErrors) {

        if (ERRORS) {
            var error,
                method = ['new BigNumber', 'cmp', 'div', 'eq', 'gt', 'gte', 'lt',
                     'lte', 'minus', 'mod', 'plus', 'times', 'toFraction', 'divToInt'
                    ][ id ? id < 0 ? -id : id : 1 / id < 0 ? 1 : 0 ] + '()',
                message = outOfRange ? ' out of range' : ' not a' +
                  ( isRange ? ' non-zero' : 'n' ) + ' integer';

            message = ( [
                method + ' number type has more than 15 significant digits',
                method + ' not a base ' + j + ' number',
                method + ' base' + message,
                method + ' not a number' ][i] ||
                  j + '() ' + i + ( isErrors
                    ? ' not a boolean or binary digit'
                    : message + ( isArray
                      ? ' or not [' + ( outOfRange
                        ? ' negative, positive'
                        : ' integer, integer' ) + ' ]'
                      : '' ) ) ) + ': ' + arg;

            outOfRange = id = 0;
            error = new Error(message);
            error['name'] = 'BigNumber Error';
            throw error;
        }
    }


    /*
     * Round x to sd significant digits using rounding mode rm. Check for over/under-flow.
     */
    function rnd( x, sd, rm, r ) {
        var d, i, j, k, n, ni, rd, xc,
            pows10 = POWS_TEN;

        // if x is not Infinity or NaN...
        if ( xc = x['c'] ) {

            // rd: the rounding digit, i.e. the digit after the digit that may be rounded up
            // n: a base 1e14 number, the value of the element of array x.c containing rd
            // ni: the index of n within x.c
            // d: the number of digits of n
            // i: what would be the index of rd within n if all the numbers were 14 digits long
            // (i.e. they had leading zeros)
            // j: if > 0, the actual index of rd within n (if < 0, rd is a leading zero)
            out: {

                // Get the number of digits of the first element of xc.
                for ( d = 1, k = xc[0]; k >= 10; k /= 10, d++ );
                i = sd - d;

                // If the rounding digit is in the first element of xc...
                if ( i < 0 ) {
                    i += LOG_BASE;
                    j = sd;
                    n = xc[ ni = 0 ];

                    // Get the rounding digit at index j of n.
                    rd = n / pows10[ d - j - 1 ] % 10 | 0;
                } else {
                    ni = Math.ceil( ( i + 1 ) / LOG_BASE );

                    if ( ni >= xc.length ) {

                        if (r) {

                            // Needed by sqrt.
                            for ( ; xc.length <= ni; xc.push(0) );
                            n = rd = 0;
                            d = 1;
                            i %= LOG_BASE;
                            j = i - LOG_BASE + 1;
                        } else {
                            break out;
                        }
                    } else {
                        n = k = xc[ni];

                        // Get the number of digits of n.
                        for ( d = 1; k >= 10; k /= 10, d++ );

                        // Get the index of rd within n.
                        i %= LOG_BASE;

                        // Get the index of rd within n, adjusted for leading zeros.
                        // The number of leading zeros of n is given by LOG_BASE - d.
                        j = i - LOG_BASE + d;

                        // Get the rounding digit at index j of n.
                        rd = j < 0 ? 0 : n / pows10[ d - j - 1 ] % 10 | 0;
                    }
                }

                r = r || sd < 0 ||

                // Are there any non-zero digits after the rounding digit?
                // The expression  n % pows10[ d - j - 1 ]  returns all the digits of n to the right
                // of the digit at j, e.g. if n is 908714 and j is 2, the expression gives 714.
                  xc[ni + 1] != null || ( j < 0 ? n : n % pows10[ d - j - 1 ] );

                r = rm < 4
                  ? ( rd || r ) && ( rm == 0 || rm == ( x['s'] < 0 ? 3 : 2 ) )
                  : rd > 5 || rd == 5 && ( rm == 4 || r || rm == 6 &&

                    // Check whether the digit to the left of the rounding digit is odd.
                    ( ( i > 0 ? j > 0 ? n / pows10[ d - j ] : 0 : xc[ni - 1] ) % 10 ) & 1 ||
                      rm == ( x['s'] < 0 ? 8 : 7 ) );

                if ( sd < 1 || !xc[0] ) {
                    xc.length = 0;

                    if (r) {

                        // Convert sd to decimal places.
                        sd -= x['e'] + 1;

                        // 1, 0.1, 0.01, 0.001, 0.0001 etc.
                        xc[0] = pows10[ sd % LOG_BASE ];
                        x['e'] = -sd || 0;
                    } else {

                        // Zero.
                        xc[0] = x['e'] = 0;
                    }

                    return x;
                }

                // Remove excess digits.
                if ( i == 0 ) {
                    xc.length = ni;
                    k = 1;
                    ni--;
                } else {
                    xc.length = ni + 1;
                    k = pows10[ LOG_BASE - i ];

                    // E.g. 56700 becomes 56000 if 7 is the rounding digit.
                    // j > 0 means i > number of leading zeros of n.
                    xc[ni] = j > 0 ? mathfloor( n / pows10[ d - j ] % pows10[j] ) * k : 0;
                }

                // Round up?
                if (r) {

                    for ( ; ; ) {

                        // If the digit to be rounded up is in the first element of xc...
                        if ( ni == 0 ) {

                            // i will be the length of xc[0] before k is added.
                            for ( i = 1, j = xc[0]; j >= 10; j /= 10, i++ );
                            j = xc[0] += k;
                            for ( k = 1; j >= 10; j /= 10, k++ );

                            // if i != k the length has increased.
                            if ( i != k ) {
                                x['e']++;
                                if ( xc[0] == BASE ) xc[0] = 1;
                            }
                            break;
                        } else {
                            xc[ni] += k;
                            if ( xc[ni] != BASE ) break;
                            xc[ni--] = 0;
                            k = 1;
                        }
                    }
                }

                // Remove trailing zeros.
                for ( i = xc.length; xc[--i] === 0; xc.pop() );
            }

            // Overflow? Infinity.
            if ( x['e'] > MAX_EXP ) {
                x['c'] = x['e'] = null;

            // Underflow? Zero.
            } else if ( x['e'] < MIN_EXP ) {
                x['c'] = [ x['e'] = 0 ];
            }
        }

        return x;
    }


    // PROTOTYPE/INSTANCE METHODS


    /*
     * Return a new BigNumber whose value is the absolute value of this BigNumber.
     */
    P['absoluteValue'] = P['abs'] = function () {
        var x = new BigNumber(this);
        if ( x['s'] < 0 ) x['s'] = 1;
        return x;
    };


    /*
     * Return a new BigNumber whose value is the value of this BigNumber rounded to a whole number
     * in the direction of Infinity.
     */
    P['ceil'] = function () {
        return rnd( new BigNumber(this), this['e'] + 1, 2 );
    };


    /*
     * Return
     * 1 if the value of this BigNumber is greater than the value of BigNumber(y, b),
     * -1 if the value of this BigNumber is less than the value of BigNumber(y, b),
     * 0 if they have the same value,
     * or null if the value of either is NaN.
     */
    P['comparedTo'] = P['cmp'] = function ( y, b ) {
        var a,
            x = this,
            xc = x['c'],
            yc = ( id = -id, y = new BigNumber( y, b ) )['c'],
            i = x['s'],
            j = y['s'],
            k = x['e'],
            l = y['e'];

        // Either NaN?
        if ( !i || !j ) return null;

        a = xc && !xc[0];
        b = yc && !yc[0];

        // Either zero?
        if ( a || b ) return a ? b ? 0 : -j : i;

        // Signs differ?
        if ( i != j ) return i;

        a = i < 0;
        b = k == l;

        // Either Infinity?
        if ( !xc || !yc ) return b ? 0 : !xc ^ a ? 1 : -1;

        // Compare exponents.
        if ( !b ) return k > l ^ a ? 1 : -1;
        i = -1;
        j = ( k = xc.length ) < ( l = yc.length ) ? k : l;

        // Compare digit by digit.
        for ( ; ++i < j; ) if ( xc[i] != yc[i] ) return xc[i] > yc[i] ^ a ? 1 : -1;

        // Compare lengths.
        return k == l ? 0 : k > l ^ a ? 1 : -1;
    };


    /*
     * Return the number of decimal places of the value of this BigNumber, or null if the value of
     * this BigNumber is +-Infinity or NaN.
     */
    P['decimalPlaces'] = P['dp'] = function () {
        var n, v,
            c = this['c'];

        if ( !c ) return null;
        n = ( ( v = c.length - 1 ) - mathfloor( this['e'] / LOG_BASE ) ) * LOG_BASE;

        // Subtract the number of trailing zeros of the last number.
        if ( v = c[v] ) for ( ; v % 10 == 0; v /= 10, n-- );
        if ( n < 0 ) n = 0;

        return n;
    };


    /*
     *  n / 0 = I
     *  n / N = N
     *  n / I = 0
     *  0 / n = 0
     *  0 / 0 = N
     *  0 / N = N
     *  0 / I = 0
     *  N / n = N
     *  N / 0 = N
     *  N / N = N
     *  N / I = N
     *  I / n = I
     *  I / 0 = I
     *  I / N = N
     *  I / I = N
     *
     * Return a new BigNumber whose value is the value of this BigNumber divided by the value of
     * BigNumber(y, b), rounded according to DECIMAL_PLACES and ROUNDING_MODE.
     */
    P['dividedBy'] = P['div'] = function ( y, b ) {
        id = 2;
        return div( this, new BigNumber( y, b ), DECIMAL_PLACES, ROUNDING_MODE );
    };


    /*
     * Return a new BigNumber whose value is the integer part of dividing the value of this
     * BigNumber by the value of BigNumber(y, b).
     */
    P['dividedToIntegerBy'] = P['divToInt'] = function ( y, b ) {
        id = 13;
        return div( this, new BigNumber( y, b ), 0, 1 );
    };


    /*
     * Return true if the value of this BigNumber is equal to the value of BigNumber(n, b),
     * otherwise returns false.
     */
    P['equals'] = P['eq'] = function ( n, b ) {
        id = 3;
        return this['cmp']( n, b ) === 0;
    };


    /*
     * Return a new BigNumber whose value is the value of this BigNumber rounded to a whole number
     * in the direction of -Infinity.
     */
    P['floor'] = function () {
        return rnd( new BigNumber(this), this['e'] + 1, 3 );
    };


    /*
     * Return true if the value of this BigNumber is greater than the value of BigNumber(n, b),
     * otherwise returns false.
     */
    P['greaterThan'] = P['gt'] = function ( n, b ) {
        id = 4;
        return this['cmp']( n, b ) > 0;
    };


    /*
     * Return true if the value of this BigNumber is greater than or equal to the value of
     * BigNumber(n, b), otherwise returns false.
     */
    P['greaterThanOrEqualTo'] = P['gte'] = function ( n, b ) {
        id = 5;
        return ( b = this['cmp']( n, b ) ) == 1 || b === 0;
    };


    /*
     * Return true if the value of this BigNumber is a finite number, otherwise returns false.
     */
    P['isFinite'] = function () {
        return !!this['c'];
    };


    /*
     * Return true if the value of this BigNumber is an integer, otherwise return false.
     */
    P['isInteger'] = P['isInt'] = function () {
        return !!this['c'] && mathfloor( this['e'] / LOG_BASE ) > this['c'].length - 2;
    };


    /*
     * Return true if the value of this BigNumber is NaN, otherwise returns false.
     */
    P['isNaN'] = function () {
        return !this['s'];
    };


    /*
     * Return true if the value of this BigNumber is negative, otherwise returns false.
     */
    P['isNegative'] = P['isNeg'] = function () {
        return this['s'] < 0;
    };


    /*
     * Return true if the value of this BigNumber is 0 or -0, otherwise returns false.
     */
    P['isZero'] = function () {
        return !!this['c'] && this['c'][0] == 0;
    };


    /*
     * Return true if the value of this BigNumber is less than the value of BigNumber(n, b),
     * otherwise returns false.
     */
    P['lessThan'] = P['lt'] = function ( n, b ) {
        id = 6;
        return this['cmp']( n, b ) < 0;
    };


    /*
     * Return true if the value of this BigNumber is less than or equal to the value of
     * BigNumber(n, b), otherwise returns false.
     */
    P['lessThanOrEqualTo'] = P['lte'] = function ( n, b ) {
        id = 7;
        return ( b = this['cmp']( n, b ) ) == -1 || b === 0;
    };


    /*
     *  n - 0 = n
     *  n - N = N
     *  n - I = -I
     *  0 - n = -n
     *  0 - 0 = 0
     *  0 - N = N
     *  0 - I = -I
     *  N - n = N
     *  N - 0 = N
     *  N - N = N
     *  N - I = N
     *  I - n = I
     *  I - 0 = I
     *  I - N = N
     *  I - I = N
     *
     * Return a new BigNumber whose value is the value of this BigNumber minus the value of
     * BigNumber(y, b).
     */
    P['minus'] = function ( y, b ) {
        var i, j, t, xLTy,
            x = this,
            a = x['s'];

        id = 8;
        y = new BigNumber( y, b );
        b = y['s'];

        // Either NaN?
        if ( !a || !b ) return new BigNumber(NaN);

        // Signs differ?
        if ( a != b ) {
            y['s'] = -b;
            return x['plus'](y);
        }

        var xe = x['e'] / LOG_BASE,
            ye = y['e'] / LOG_BASE,
            xc = x['c'],
            yc = y['c'];

        if ( !xe || !ye ) {

            // Either Infinity?
            if ( !xc || !yc ) return xc ? ( y['s'] = -b, y ) : new BigNumber( yc ? x : NaN );

            // Either zero?
            if ( !xc[0] || !yc[0] ) {

                // Return y if y is non-zero, x if x is non-zero, or zero if both are zero.
                return yc[0] ? ( y['s'] = -b, y ) : new BigNumber( xc[0] ? x :

                  // IEEE 754 (2008) 6.3: n - n = -0 when rounding to -Infinity
                  ROUNDING_MODE == 3 ? -0 : 0 );
            }
        }

        // Floor xe and ye
        i = xe | 0;
        xe = xe > 0 || xe === i ? i : i - 1;
        i = ye | 0;
        ye = ye > 0 || ye === i ? i : i - 1;
        xc = xc.slice();

        // Determine which is the bigger number.
        if ( a = xe - ye ) {

            if ( xLTy = a < 0 ) {
                a = -a, t = xc;
            } else {
                ye = xe, t = yc;
            }

            // Prepend zeros to equalise exponents.
            for ( t.reverse(), b = a; b--; t.push(0) );
            t.reverse();
        } else {

            // Exponents equal. Check digit by digit.
            j = ( xLTy = ( a = xc.length ) < ( b = yc.length ) ) ? a : b;

            for ( a = b = 0; b < j; b++ ) {

                if ( xc[b] != yc[b] ) {
                    xLTy = xc[b] < yc[b];
                    break;
                }
            }
        }

        // x < y? Point xc to the array of the bigger number.
        if (xLTy) t = xc, xc = yc, yc = t, y['s'] = -y['s'];

        b = ( j = yc.length ) - ( i = xc.length );

        // Append zeros to xc if shorter.
        // No need to add zeros to yc if shorter as subtraction only needs to start at yc.length.
        if ( b > 0 ) for ( ; b--; xc[i++] = 0 );
        b = BASE - 1;

        // Subtract yc from xc.
        for ( ; j > a; ) {

            if ( xc[--j] < yc[j] ) {
                for ( i = j; i && !xc[--i]; xc[i] = b );
                --xc[i];
                xc[j] += BASE;
            }
            xc[j] -= yc[j];
        }

        // Remove leading zeros and adjust exponent accordingly.
        for ( ; xc[0] == 0; xc.shift(), --ye );

        // Zero?
        if ( !xc[0] ) {

            // Following IEEE 754 (2008) 6.3,
            // n - n = +0  but  n - n = -0  when rounding towards -Infinity.
            y['s'] = ROUNDING_MODE == 3 ? -1 : 1;
            y['c'] = [ y['e'] = 0 ];
            return y;
        }

        // No need to check for Infinity as +x - +y != Infinity && -x - -y != Infinity when neither
        // x or y are Infinity.
        return normalise( y, xc, ye );
    };


    /*
     *   n % 0 =  N
     *   n % N =  N
     *   0 % n =  0
     *  -0 % n = -0
     *   0 % 0 =  N
     *   0 % N =  N
     *   N % n =  N
     *   N % 0 =  N
     *   N % N =  N
     *
     * Return a new BigNumber whose value is the value of this BigNumber modulo the value of
     * BigNumber(y, b).
     */
    P['modulo'] = P['mod'] = function ( y, b ) {
        id = 9;
        var x = this,
            xc = x['c'],
            yc = ( y = new BigNumber( y, b ) )['c'],
            xs = x['s'],
            ys = y['s'];

        // x or y NaN? y zero? x zero?
        b = !xs || !ys || yc && !yc[0];
        if ( b || xc && !xc[0] ) return new BigNumber( b ? NaN : x );

        x['s'] = y['s'] = 1;
        b = y['cmp'](x) == 1;
        x['s'] = xs;
        y['s'] = ys;

        return b ? new BigNumber(x) : x['minus']( div( x, y, 0, 1 )['times'](y) );
    };


    /*
     * Return a new BigNumber whose value is the value of this BigNumber negated, i.e. multiplied
     * by -1.
     */
    P['negated'] = P['neg'] = function () {
        var x = new BigNumber(this);
        x['s'] = -x['s'] || null;
        return x;
    };


    /*
     *  n + 0 = n
     *  n + N = N
     *  n + I = I
     *  0 + n = n
     *  0 + 0 = 0
     *  0 + N = N
     *  0 + I = I
     *  N + n = N
     *  N + 0 = N
     *  N + N = N
     *  N + I = N
     *  I + n = I
     *  I + 0 = I
     *  I + N = N
     *  I + I = I
     *
     * Return a new BigNumber whose value is the value of this BigNumber plus the value of
     * BigNumber(y, b).
     */
    P['plus'] = function ( y, b ) {
        var t,
            x = this,
            a = x['s'];

        id = 10;
        y = new BigNumber( y, b );
        b = y['s'];

        // Either NaN?
        if ( !a || !b ) return new BigNumber(NaN);

        // Signs differ?
         if ( a != b ) {
            y['s'] = -b;
            return x['minus'](y);
        }

        var xe = x['e'] / LOG_BASE,
            ye = y['e'] / LOG_BASE,
            xc = x['c'],
            yc = y['c'];

        if ( !xe || !ye ) {

            // Return +-Infinity if either Infinity.
            if ( !xc || !yc ) return new BigNumber( a / 0 );

            // Either zero? Return y if y is non-zero, x if x is non-zero, or zero if both are zero.
            if ( !xc[0] || !yc[0] ) return yc[0] ? y : new BigNumber( xc[0] ? x : a * 0 );
        }

         // Floor xe and ye
        a = xe | 0;
        xe = xe > 0 || xe === a ? a : a - 1;
        a = ye | 0;
        ye = ye > 0 || ye === a ? a : a - 1;
        xc = xc.slice();

        // Prepend zeros to equalise exponents. Faster to use reverse then do unshifts.
        if ( a = xe - ye ) {
            if ( a > 0 ) {
                ye = xe, t = yc;
            } else {
                a = -a, t = xc;
            }

            for ( t.reverse(); a--; t.push(0) );
            t.reverse();
        }
        a = xc.length;
        b = yc.length;

        // Point xc to the longer array, and b to the shorter length.
        if ( a - b < 0 ) t = yc, yc = xc, xc = t, b = a;

        // Only start adding at yc.length - 1 as the further digits of xc can be left as they are.
        for ( a = 0; b; ) {
            a = ( xc[--b] = xc[b] + yc[b] + a ) / BASE | 0;
            xc[b] %= BASE;
        }


        if (a) {
            xc.unshift(a);
            ++ye;
        }

        // No need to check for zero, as +x + +y != 0 && -x + -y != 0
        // ye = MAX_EXP + 1 possible
        return normalise( y, xc, ye );
    };


    /*
     * Return a new BigNumber whose value is the value of this BigNumber rounded to a maximum of dp
     * decimal places using rounding mode rm, or to 0 and ROUNDING_MODE respectively if omitted.
     *
     * [dp] {number} Integer, 0 to MAX inclusive.
     * [rm] {number} Integer, 0 to 8 inclusive.
     */
    P['round'] = function ( dp, rm ) {

        dp = dp == null || ( ( ( outOfRange = dp < 0 || dp > MAX ) || parse(dp) != dp ) &&

          // 'round() decimal places out of range: {dp}'
          // 'round() decimal places not an integer: {dp}'
          !ifExceptionsThrow( dp, 'decimal places', 'round' ) ) ? 0 : dp | 0;

        // Include '&& rm !== 0' because with Opera -0 == parseFloat(-0) is false.
        rm = rm == null || ( ( ( outOfRange = rm < 0 || rm > 8 ) || parse(rm) != rm && rm !== 0 ) &&

          // 'round() mode not an integer: {rm}'
          // 'round() mode out of range: {rm}'
          !ifExceptionsThrow( rm, 'mode', 'round' ) ) ? ROUNDING_MODE : rm | 0;

        return rnd( new BigNumber(this), dp + this['e'] + 1, rm );
    };


    /*
     *  sqrt(-n) =  N
     *  sqrt( N) =  N
     *  sqrt(-I) =  N
     *  sqrt( I) =  I
     *  sqrt( 0) =  0
     *  sqrt(-0) = -0
     *
     * Return a new BigNumber whose value is the square root of the value of this BigNumber,
     * rounded according to DECIMAL_PLACES and ROUNDING_MODE.
     */
    P['squareRoot'] = P['sqrt'] = function () {
        var m, n, r, rep, t,
            x = this,
            c = x['c'],
            s = x['s'],
            e = x['e'],
            dp = DECIMAL_PLACES + 4,
            half = new BigNumber('0.5');

        // Negative/NaN/Infinity/zero?
        if ( s !== 1 || !c || !c[0] ) {
            return new BigNumber( !s || s < 0 && ( !c || c[0] ) ? NaN : c ? x : 1 / 0 );
        }

        // Initial estimate.
        s = Math.sqrt( +x );

        // Math.sqrt underflow/overflow?
        // Pass x to Math.sqrt as integer, then adjust the exponent of the result.
        if ( s == 0 || s == 1 / 0 ) {
            n = coefficientToString(c);
            if ( ( n.length + e ) % 2 == 0 ) n += '0';
            s = Math.sqrt(n);
            e = mathfloor( ( e + 1 ) / 2 ) - ( e < 0 || e % 2 );

            if ( s == 1 / 0 ) {
                n = '1e' + e;
            } else {
                n = s.toExponential();
                n = n.slice( 0, n.indexOf('e') + 1 ) + e;
            }
            r = new BigNumber(n);
        } else {
            r = new BigNumber( s.toString() );
        }

        // Check for zero. r could be zero if MIN_EXP is changed after the this value was created.
        // This would cause a division by zero (x/t) and hence Infinity below, which would cause
        // coefficientToString to throw.
        if ( r['c'][0] ) {
            e = r['e'];
            s = e + dp;
            if ( s < 3 ) s = 0;

            // Newton-Raphson iteration.
            for ( ; ; ) {
                t = r;
                r = half['times']( t['plus']( div( x, t, dp, 1 ) ) );

                if ( coefficientToString( t['c']   ).slice( 0, s ) === ( n =
                     coefficientToString( r['c'] ) ).slice( 0, s ) ) {

                    // The exponent of r may here be one less than the final result exponent,
                    // e.g 0.0009999 (e-4) --> 0.001 (e-3), so adjust s so the rounding digits are
                    // indexed correctly.
                    if ( r['e'] < e ) --s;
                    n = n.slice( s - 3, s + 1 );

                    // The 4th rounding digit may be in error by -1 so if the 4 rounding digits are
                    // 9999 or 4999 (i.e. approaching a rounding boundary) continue the iteration.
                    if ( n == '9999' || !rep && n == '4999' ) {

                        // On the first iteration only, check to see if rounding up gives the exact
                        // result as the nines may infinitely repeat.
                        if ( !rep ) {
                            rnd( t, t['e'] + DECIMAL_PLACES + 2, 0 );

                            if ( t['times'](t)['eq'](x) ) {
                                r = t;
                                break;
                            }
                        }
                        dp += 4;
                        s += 4;
                        rep = 1;
                    } else {

                        // If rounding digits are null, 0{0,4} or 50{0,3}, check for exact result.
                        // If not, then there are further digits and m will be truthy.
                        if ( !+n || !+n.slice(1) && n.charAt(0) == '5' ) {

                            // Truncate to the first rounding digit.
                            rnd( r, r['e'] + DECIMAL_PLACES + 2, 1 );
                            m = !r['times'](r)['eq'](x);
                        }
                        break;
                    }
                }
            }
        }

        return rnd( r, r['e'] + DECIMAL_PLACES + 1, ROUNDING_MODE, m );
    };


    /*
     *  n * 0 = 0
     *  n * N = N
     *  n * I = I
     *  0 * n = 0
     *  0 * 0 = 0
     *  0 * N = N
     *  0 * I = N
     *  N * n = N
     *  N * 0 = N
     *  N * N = N
     *  N * I = N
     *  I * n = I
     *  I * 0 = N
     *  I * N = N
     *  I * I = I
     *
     * Return a new BigNumber whose value is the value of this BigNumber times the value of
     * BigNumber(y, b).
     */
    P['times'] = function ( y, b ) {
        var c, e, k, m, r, xlo, xhi, ylo, yhi,
            x = this,
            xc = x['c'],
            yc = ( id = 11, y = new BigNumber( y, b ) )['c'],
            i = x['e'] / LOG_BASE,
            j = y['e'] / LOG_BASE,
            a = x['s'];

        y['s'] = a == ( b = y['s'] ) ? 1 : -1;

        // Either NaN/Infinity/0?
        if ( !i && ( !xc || !xc[0] ) || !j && ( !yc || !yc[0] ) ) {

            // Return NaN if either NaN, or x is 0 and y is Infinity, or y is 0 and x is Infinity.
            return new BigNumber( !a || !b || xc && !xc[0] && !yc || yc && !yc[0] && !xc ? NaN

              // Return +-Infinity if either is Infinity. Return +-0 if x or y is 0.
              : !xc || !yc ? y['s'] / 0 : y['s'] * 0 );
        }

        // e = mathfloor(i) + mathfloor(j);
        e = ( e = i | 0, i > 0 || i === e ? e : e - 1) +
            ( e = j | 0, j > 0 || j === e ? e : e - 1);

        a = xc.length;
        b = yc.length;

        // Ensure xc points to longer array and b to longer length.
        if ( a < b ) r = xc, xc = yc, yc = r, j = a, a = b, b = j;

        // Initialise the result array with zeros.
        for ( j = a + b, r = []; j--; r.push(0) );

        // Multiply!
        for ( i = b; --i >= 0; ) {
            c = 0;
            j = a + i;
            k = a;
            ylo = yc[i] % SQRT_BASE;
            yhi = yc[i] / SQRT_BASE | 0;

            for ( ; j > i; ) {
                xlo = xc[--k] % SQRT_BASE;
                xhi = xc[k] / SQRT_BASE | 0;
                m = yhi * xlo + xhi * ylo;
                xlo = ylo * xlo + ( ( m % SQRT_BASE ) * SQRT_BASE ) + r[j] + c;
                c = ( xlo / BASE | 0 ) + ( m / SQRT_BASE | 0 ) + yhi * xhi;
                r[j--] = xlo % BASE;
            }
            r[j] = c;
        }

        if (c) {
            ++e;
        } else {
            r.shift();
        }

        return normalise( y, r, e );
    };


    /*
     * Return a string representing the value of this BigNumber in exponential notation to dp fixed
     * decimal places and rounded using ROUNDING_MODE if necessary.
     *
     * [dp] {number} Integer, 0 to MAX inclusive.
     */
    P['toExponential'] = function (dp) {
        var x = this;

        return x['c'] ? format( x, dp == null || ( ( outOfRange = dp < 0 || dp > MAX ) ||

          // Include '&& dp !== 0' because with Opera -0 == parseFloat(-0) is false,
          // despite -0 == parseFloat('-0') && 0 == -0 being true.
          parse(dp) != dp && dp !== 0 ) &&

            // 'toExponential() decimal places not an integer: {dp}'
            // 'toExponential() decimal places out of range: {dp}'
            !ifExceptionsThrow( dp, 'decimal places', 'toExponential' )
              ? null : dp | 0, 1 ) : x.toString();
    };


    /*
     * Return a string representing the value of this BigNumber in normal notation to dp fixed
     * decimal places and rounded using ROUNDING_MODE if necessary.
     *
     * Note: as with JavaScript's number type, (-0).toFixed(0) is '0',
     * but e.g. (-0.00001).toFixed(0) is '-0'.
     *
     * [dp] {number} Integer, 0 to MAX inclusive.
     */
    P['toFixed'] = function (dp) {
        var str,
            x = this,
            neg = TO_EXP_NEG,
            pos = TO_EXP_POS;

        dp = dp == null || ( ( outOfRange = dp < 0 || dp > MAX ) ||

          // 'toFixed() decimal places not an integer: {dp}'
          // 'toFixed() decimal places out of range: {dp}'
          parse(dp) != dp && dp !== 0 ) && !ifExceptionsThrow( dp, 'decimal places', 'toFixed' )
            ? null : x['e'] + ( dp | 0 );

        TO_EXP_NEG = -( TO_EXP_POS = 1 / 0 );

        if ( dp == null || !x['c'] ) {
            str = x.toString();
        } else {
            str = format( x, dp );

            // (-0).toFixed() is '0', but (-0.1).toFixed() is '-0'.
            // (-0).toFixed(1) is '0.0', but (-0.01).toFixed(1) is '-0.0'.
            if ( x['s'] < 0 && x['c'] ) {

                // As e.g. (-0).toFixed(3), will wrongly be returned as -0.000 from toString.
                if ( !x['c'][0] ) {
                    str = str.replace( '-', '' );

                // As e.g. -0.5 if rounded to -0 will cause toString to omit the minus sign.
                } else if ( str.indexOf('-') < 0 ) {
                    str = '-' + str;
                }
            }
        }

        TO_EXP_NEG = neg;
        TO_EXP_POS = pos;

        return str;
    };


    /*
     * Return a string representing the value of this BigNumber in fixed-point notation rounded
     * using ROUNDING_MODE to dp decimal places, and formatted according to the properties of the
     * FORMAT object (see BigNumber.config).
     *
     * FORMAT = {
     *      decimalSeparator : '.',
     *      groupSeparator : ',',
     *      groupSize : 3,
     *      secondaryGroupSize : 0,
     *      fractionGroupSeparator : '\xA0',    // non-breaking space
     *      fractionGroupSize : 0
     * };
     *
     * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.
     * (TODO: If dp is invalid the error message will give toFixed as the offending method.)
     */
    P['toFormat'] = function (dp) {
        var x = this;

        if ( !x['c'] ) return x.toString();

        var i,
            isNeg = x['s'] < 0,
            groupSeparator = FORMAT['groupSeparator'],
            g1 = +FORMAT['groupSize'],
            g2 = +FORMAT['secondaryGroupSize'],
            arr = x.toFixed(dp).split('.'),
            intPart = arr[0],
            fractionPart = arr[1],
            intDigits = isNeg ? intPart.slice(1) : intPart,
            len = intDigits.length;

        if (g2) i = g1, g1 = g2, g2 = i, len -= i;

        if ( g1 > 0 && len > 0 ) {
            i = len % g1 || g1;
            intPart = intDigits.substr( 0, i );
            for ( ; i < len; i += g1 ) intPart += groupSeparator + intDigits.substr( i, g1 );
            if ( g2 > 0 ) intPart += groupSeparator + intDigits.slice(i);
            if (isNeg) intPart = '-' + intPart;
        }

        return fractionPart
          ? intPart + FORMAT['decimalSeparator'] + ( ( g2 = +FORMAT['fractionGroupSize'] )
            ? fractionPart.replace( new RegExp( '\\d{' + g2 + '}\\B', 'g' ),
              '$&' + FORMAT['fractionGroupSeparator'] )
            : fractionPart )
          : intPart;
    };


    /*
     * Return a string array representing the value of this BigNumber as a simple fraction with an
     * integer numerator and an integer denominator. The denominator will be a positive non-zero
     * value less than or equal to the specified maximum denominator. If a maximum denominator is
     * not specified, the denominator will be the lowest value necessary to represent the number
     * exactly.
     *
     * [maxD] {number|string|BigNumber} Integer >= 1 and < Infinity.
     */
    P['toFraction'] = function (maxD) {
        var arr, d0, d2, e, exp, n, n0, q, s,
            n1 = d0 = new BigNumber(ONE),
            d1 = n0 = new BigNumber(ONE),
            x = this,
            xc = x['c'],
            d = new BigNumber(ONE);

        // NaN, Infinity.
        if ( !xc ) return x.toString();
        s = coefficientToString(xc);

        // Initial denominator.
        e = d['e'] = s.length - x['e'] - 1;
        d['c'][0] = POWS_TEN[ ( exp = e % LOG_BASE ) < 0 ? LOG_BASE + exp : exp ];

        // If max denominator is undefined or null, or NaN...
        if ( maxD == null || ( !( id = 12, n = new BigNumber(maxD) )['s'] ||

               // or less than 1, or Infinity...
               ( outOfRange = n['cmp'](n1) < 0 || !n['c'] ) ||

                 // or not an integer...
                 ( ERRORS && mathfloor( n['e'] / LOG_BASE ) < n['c'].length - 1 ) ) &&

                   // 'toFraction() max denominator not an integer: {maxD}'
                   // 'toFraction() max denominator out of range: {maxD}'
                   !ifExceptionsThrow( maxD, 'max denominator', 'toFraction' ) ||

                     // or greater than the max denominator needed to specify the value exactly...
                     ( maxD = n )['cmp'](d) > 0 ) {

            // d is e.g. 10, 100, 1000, 10000... , n1 is 1.
            maxD = e > 0 ? d : n1;
        }

        exp = MAX_EXP;
        MAX_EXP = 1 / 0;
        n = new BigNumber(s);

        // n0 = d1 = 0
        n0['c'][0] = 0;

        for ( ; ; )  {
            q = div( n, d, 0, 1 );
            d2 = d0['plus']( q['times'](d1) );
            if ( d2['cmp'](maxD) == 1 ) break;
            d0 = d1;
            d1 = d2;
            n1 = n0['plus']( q['times']( d2 = n1 ) );
            n0 = d2;
            d = n['minus']( q['times']( d2 = d ) );
            n = d2;
        }

        d2 = div( maxD['minus'](d0), d1, 0, 1 );
        n0 = n0['plus']( d2['times'](n1) );
        d0 = d0['plus']( d2['times'](d1) );
        n0['s'] = n1['s'] = x['s'];
        e *= 2;

        // Determine which fraction is closer to x, n0/d0 or n1/d1
        arr = div( n1, d1, e, ROUNDING_MODE )['minus'](x)['abs']()['cmp'](
              div( n0, d0, e, ROUNDING_MODE )['minus'](x)['abs']() ) < 1
                ? [ n1.toString(), d1.toString() ]
                : [ n0.toString(), d0.toString() ];

        MAX_EXP = exp;

        return arr;
    };


    /*
     * Return the value of this BigNumber converted to a number primitive.
     */
    P['toNumber'] = function () {
        var x = this;

        // Ensure zero has correct sign.
        return +x || ( x['s'] ? 0 * x['s'] : NaN );
    };


    /*
     * Return a BigNumber whose value is the value of this BigNumber raised to the power e.
     * If e is negative round according to DECIMAL_PLACES and ROUNDING_MODE.
     *
     * e {number} Integer, -MAX_POWER to MAX_POWER inclusive.
     */
    P['toPower'] = P['pow'] = function (e) {

        // e to integer, avoiding NaN or Infinity becoming 0.
        var i = e * 0 == 0 ? ~~e : e,
            x = new BigNumber(this),
            y = new BigNumber(ONE);

        // Pass +-Infinity for out of range exponents.
        if ( ( ( ( outOfRange = e < -MAX_POWER || e > MAX_POWER ) && (i = e * 1 / 0) ) ||

            // Any exponent that fails the parse becomes NaN.
            // Include 'e !== 0' because on Opera  -0 == parseFloat(-0)  is false, despite
            // -0 === parseFloat(-0) && -0 == parseFloat('-0')  evaluating true.
            parse(e) != e && e !== 0 && !(i = NaN) ) &&

              // 'pow() exponent not an integer: {e}'
              // 'pow() exponent out of range: {e}'
              // Pass zero to Math.pow, as any value to the power zero is 1.
              !ifExceptionsThrow( e, 'exponent', 'pow' ) || !i ) {

            // i is +-Infinity, NaN or 0.
            return new BigNumber( Math.pow( +x, i ) );
        }
        i = i < 0 ? -i : i;

        for ( ; ; ) {
            if ( i & 1 ) y = y['times'](x);
            i >>= 1;
            if ( !i ) break;
            x = x['times'](x);
        }

        return e < 0 ? ONE['div'](y) : y;
    };


    /*
     * Return a string representing the value of this BigNumber to sd significant digits and rounded
     * using ROUNDING_MODE if necessary. If sd is less than the number of digits necessary to
     * represent the integer part of the value in normal notation, then use exponential notation.
     *
     * sd {number} Integer, 1 to MAX inclusive.
     */
    P['toPrecision'] = function (sd) {
        var x = this;

         // ERRORS true: Throw if sd not undefined, null or an integer in range.
         // ERRORS false: Ignore sd if not a number or not in range.
         // Truncate non-integers.
        return sd == null || ( ( ( outOfRange = sd < 1 || sd > MAX ) || parse(sd) != sd ) &&

          // 'toPrecision() precision not an integer: {sd}'
          // 'toPrecision() precision out of range: {sd}'
          !ifExceptionsThrow( sd, 'precision', 'toPrecision' ) ) || !x['c']
            ? x.toString() : format( x, --sd | 0, 2 );
    };


    /*
     * Return a string representing the value of this BigNumber in base b, or base 10 if b is
     * omitted. If a base is specified, including base 10, round according to DECIMAL_PLACES and
     * ROUNDING_MODE. If a base is not specified, and this BigNumber has a positive exponent that is
     * equal to or greater than TO_EXP_POS, or a negative exponent equal to or less than TO_EXP_NEG,
     * return exponential notation.
     *
     * [b] {number} Integer, 2 to 64 inclusive.
     */
    P['toString'] = function (b) {
        var u, str, strL,
            x = this,
            xe = x['e'];

        // Infinity or NaN?
        if ( xe === null ) {
            str = x['s'] ? 'Infinity' : 'NaN';

        // Exponential format?
        } else if ( b == u && ( xe <= TO_EXP_NEG || xe >= TO_EXP_POS ) ) {
            return format( x, u, 1 );
        } else {
            str = coefficientToString( x['c'] );

            // Negative exponent?
            if ( xe < 0 ) {

                // Prepend zeros.
                for ( ; ++xe; str = '0' + str );
                str = '0.' + str;

            // Positive exponent?
            } else if ( strL = str.length, xe > 0 ) {

                // Append zeros.
                if ( ++xe > strL ) {
                    for ( xe -= strL; xe-- ; str += '0' );
                } else if ( xe < strL ) {
                    str = str.slice( 0, xe ) + '.' + str.slice(xe);
                }

            // Exponent zero.
            } else {
                u = str.charAt(0);

                if ( strL > 1 ) {
                    str = u + '.' + str.slice(1);

                // Avoid '-0'
                } else if ( u == '0' ) {
                    return u;
                }
            }

            if ( b != null ) {

                if ( !( outOfRange = !( b >= 2 && b < 65 ) ) && ( b == ~~b || !ERRORS ) ) {
                    str = convertBase( str, b | 0, 10, x['s'] );

                    // Avoid '-0'
                    if ( str == '0' ) return str;
                } else {

                    // 'toString() base not an integer: {b}'
                    // 'toString() base out of range: {b}'
                    ifExceptionsThrow( b, 'base', 'toS' );
                }
            }

        }

        return x['s'] < 0 ? '-' + str : str;
    };


    /*
     * Return as toString, but do not accept a base argument.
     */
    P['valueOf'] = P['toJSON'] = function () {
        return this.toString();
    };


    // Add aliases for BigDecimal methods.
    //P['add'] = P['plus'];
    //P['subtract'] = P['minus'];
    //P['multiply'] = P['times'];
    //P['divide'] = P['div'];
    //P['remainder'] = P['mod'];
    //P['compareTo'] = P['cmp'];
    //P['negate'] = P['neg'];


    // EXPORT


    // Node and other CommonJS-like environments that support module.exports.
    if ( typeof module !== 'undefined' && module.exports ) {
        module.exports = BigNumber;
    //AMD.
    } else if ( typeof define == 'function' && define.amd ) {
        define( function () {return BigNumber} );
    //Browser.
    } else {
        global['BigNumber'] = BigNumber;
    }
})(this);

</script>
<script type="text/javascript">
// IPv6 address 
var networkAddress = new Array(0,0,0,0,0,0,0,0),
	ADDRESS_BLOCKS = new Array();

var TOTAL_BITS = 128,
	MASK_BITS = 0,
	NETWORK_BITS = 0,
	DEFAULT_NETWORK_BITS = 8,
	TOTAL_NETWORK_BITS = 64,
	SUBNET_BITS = 0,
	HOST_BITS = 64,
	TOTAL_HOST_BITS = 64,
	WORD = 16,
	TOTAL_WORD_COUNT = 8,
	TOTAL_COLON_COUNT = 7,
	HEX_BLOCK_DIGITS = 4,
	DEFAULT_ADDRESS_BLOCK = 'block1',  //No I18N
	SUBNET_LIST_START_INDEX = 0,
	SUBNET_LIST_END_INDEX = 16,
	MAX_SIZE_OF_SUBNET = 1024;

// variables for testing
var sampleIPv6Address = 'FE80:0000:0000:0000:0202:B3FF:FE1E:8329';  //No I18N
var truncatedIPv6Address = 'fd30::1:ff4e:3e:9:e';  //No I18N

function setTotalBits(value){
	TOTAL_BITS = value;
}

function getTotalBits(){
	return TOTAL_BITS;
}

function setMaskBits(value){
	MASK_BITS = value;
}

function getMaskBits(){
	return MASK_BITS;
}

function setSubnetBits(value){
	SUBNET_BITS = value;
}

function getSubnetBits(){
	return SUBNET_BITS;
}

function setHostBits(value){
	HOST_BITS = value;
}

function getHostBits(){
	return HOST_BITS;
}

function setNetworkBits(value){
	NETWORK_BITS = value;
}

function getNetworkBits(){
	return NETWORK_BITS;
}

function setNetworkAddress(networkAddressArray){
	networkAddress = networkAddressArray;
}

function getNetworkAddress(){
	return networkAddress;
}

function setSubnetListStartIndex(value){
	SUBNET_LIST_START_INDEX = value;
}

function getSubnetListStartIndex(){
	return SUBNET_LIST_START_INDEX;
}

function setSubnetListEndIndex(value){
	SUBNET_LIST_END_INDEX = value;
}

function getSubnetListEndIndex(){
	return SUBNET_LIST_END_INDEX;
}

function condenseHexAddress(formattedHexAddress, leadingZeroes){
	if(formattedHexAddress.indexOf(":0000:0000:0000:0000:0000:0000:0000") > 0){
		formattedHexAddress = formattedHexAddress.replace(':0000:0000:0000:0000:0000:0000:0000', '::');
	}else if(formattedHexAddress.indexOf(":0000:0000:0000:0000:0000:0000") > 0){
		formattedHexAddress = formattedHexAddress.replace(':0000:0000:0000:0000:0000:0000', '::');
	}else if(formattedHexAddress.indexOf(":0000:0000:0000:0000:0000") > 0){
		formattedHexAddress = formattedHexAddress.replace(':0000:0000:0000:0000:0000', '::');
	}else if(formattedHexAddress.indexOf(":0000:0000:0000:0000") > 0){
		formattedHexAddress = formattedHexAddress.replace(':0000:0000:0000:0000', '::');
	}else if(formattedHexAddress.indexOf(":0000:0000:0000") > 0){
		formattedHexAddress = formattedHexAddress.replace(':0000:0000:0000', '::');
	}else if(formattedHexAddress.indexOf(":0000:0000") > 0){
		formattedHexAddress = formattedHexAddress.replace(':0000:0000', '::');
	}
	formattedHexAddress = formattedHexAddress.replace(':::', '::');
	if(leadingZeroes){
		formattedHexAddress = formattedHexAddress.replace(/:0000/g, '==========');
		formattedHexAddress = formattedHexAddress.replace(/:000/g, ':');
		formattedHexAddress = formattedHexAddress.replace(/:00/g, ':');
		formattedHexAddress = formattedHexAddress.replace(/:0/g, ':');
		formattedHexAddress = formattedHexAddress.replace(/==========/g, ':0000');
	}
	return formattedHexAddress;
}

//Converts IPv6 in the form 'fd30::1:ff4e:3e:9:e' to 'fd30:0000:0000:0001:ff4e:003e:0009:000e'
function formatHexAddress(rawInputAddress){
	//rawInputAddress = 'fe80::';
	//rawInputAddress = 'FE80:0000:0000:0000:0202:B3FF:FE1E:8329';
	//rawInputAddress = 'fdf4:af5d:8d13:7664::';
	//console.log('RawInputAddress : '+rawInputAddress+', Type : '+typeof(rawInputAddress));	
	var toReturnArray = new Array(),
		inputAddressArray = 0,
		totalNoOfColons = 0,
		zeroesToAppendStr = '';
	if(typeof(rawInputAddress) == 'object'){
		toReturnArray = rawInputAddress;
	}else{
		var noOfColon = rawInputAddress.split(":").length;
		var indexOfDoubleColon = rawInputAddress.indexOf("::");
		//console.log('noOfColon : '+noOfColon+', indexOfDoubleColon : '+indexOfDoubleColon);
		if(indexOfDoubleColon > 0){
			totalNoOfColons = noOfColon - 1;
			for(var colonCounter=totalNoOfColons; colonCounter<=TOTAL_COLON_COUNT; colonCounter++){
				zeroesToAppendStr+=':0000';
			}
			if(indexOfDoubleColon+2 != rawInputAddress.length){
				zeroesToAppendStr+=':'
			}else{
				zeroesToAppendStr+=':0000'
			}
		}
		//console.log('zeroesToAppendStr : '+zeroesToAppendStr);
		toReturnArray = rawInputAddress.replace('::',zeroesToAppendStr).split(':');
	}
	
	
	//console.log('Input address array : '+toReturnArray);
	for(var rawInputAddressIndex=0;rawInputAddressIndex<toReturnArray.length;rawInputAddressIndex++){
		if(toReturnArray[rawInputAddressIndex].length !=4){
			toReturnArray[rawInputAddressIndex] = formatValue(toReturnArray[rawInputAddressIndex], 4, '0');
		}else{
			toReturnArray[rawInputAddressIndex] = toReturnArray[rawInputAddressIndex];
		}
	}
	return toReturnArray;
}

function formatValue(value, mandatoryBits, defaultValue){
	var noOfBitsMissing = mandatoryBits - value.length;
	//console.log('value : '+value+', mandatoryBits : '+mandatoryBits+', defaultValue : '+defaultValue);
	return Array(noOfBitsMissing+1).join(defaultValue)+value;
	//return 0;
}

//Converts IPv6 in the form '1111110100110000:0:0:1:1111111101001110:111110:1001:1110' to '1111110100110000:0000000000000000:0000000000000000:0000000000000001:1111111101001110:0000000000111110:0000000000001001:0000000000001110'
function formatBinaryAddress(binaryArray){
	for(var binaryArrayIndex=0;binaryArrayIndex<binaryArray.length;binaryArrayIndex++){
		if(binaryArray[binaryArrayIndex].length !=16){
			binaryArray[binaryArrayIndex] = formatValue(binaryArray[binaryArrayIndex], 16, '0');
		}
	}
	return binaryArray;
}


//Converts IPv6 in the form 'fd30:0000:0000:0001:ff4e:003e:0009:000e' to binary '1111110100110000:0000000000000000:0000000000000000:0000000000000001:1111111101001110:0000000000111110:0000000000001001:0000000000001110'
function convertHexToBinary(hexArray){
	var toReturnArray = new Array(0,0,0,0,0,0,0,0);
	for(var hexArrayIndex=0; hexArrayIndex<hexArray.length; hexArrayIndex++){
		toReturnArray[hexArrayIndex] = parseInt(hexArray[hexArrayIndex], 16).toString(2);
	}
	return formatBinaryAddress(toReturnArray);
}

//Converts IPv6 in the binary form '1111110100110000:0000000000000000:0000000000000000:0000000000000001:1111111101001110:0000000000111110:0000000000001001:0000000000001110' to 'fd30:0000:0000:0001:ff4e:003e:0009:000e' 
function convertBinaryToHex(binaryArray){
	var toReturnArray = new Array(0,0,0,0,0,0,0,0);
	for(var binaryToHexIndex=0; binaryToHexIndex<binaryArray.length; binaryToHexIndex++){
		toReturnArray[binaryToHexIndex] = parseInt(binaryArray[binaryToHexIndex], 2).toString(16);
	}
	return formatHexAddress(toReturnArray);
}

function convertBinaryAddressStringToBinaryAddressArray(binaryAddressString){
	var toReturnArray = new Array(0,0,0,0,0,0,0,0);
	var counter = 0
	////console.log('Binary address string : '+binaryAddressString);
	for(var binaryAddressStringIndex=0; binaryAddressStringIndex<toReturnArray.length; binaryAddressStringIndex++){
		toReturnArray[binaryAddressStringIndex] = binaryAddressString.substr(counter, WORD);
		////console.log('binaryAddressStringIndex : '+binaryAddressStringIndex+' : '+counter+' : '+WORD+' : '+binaryAddressString.substr(counter, WORD))
		counter+=WORD;
		
	}
	return toReturnArray;
}

function convertHexAddressStringToHexAddressArray(hexAddressString){
	var toReturnArray = new Array(0,0,0,0,0,0,0,0);
	var counter = 0
	////console.log('Hex address string : '+hexAddressString);
	for(var hexAddressStringIndex=0; hexAddressStringIndex<toReturnArray.length; hexAddressStringIndex++){
		toReturnArray[hexAddressStringIndex] = hexAddressString.substr(counter, HEX_BLOCK_DIGITS);
		////console.log('binaryAddressStringIndex : '+binaryAddressStringIndex+' : '+counter+' : '+WORD+' : '+binaryAddressString.substr(counter, WORD))
		counter+=HEX_BLOCK_DIGITS;
		
	}
	return toReturnArray;
}

function getNumberOfSubnets(){
	return Math.pow(2,SUBNET_BITS);
}

function getPossibleNoOfSubnetList(){
	var arrToReturn = new Array();
	//console.log('SUBNET_LIST_START_INDEX : '+SUBNET_LIST_START_INDEX+', SUBNET_LIST_END_INDEX : '+SUBNET_LIST_END_INDEX);
	for(var subnetBitIndex=SUBNET_LIST_START_INDEX; subnetBitIndex<=SUBNET_LIST_END_INDEX; subnetBitIndex++){
		arrToReturn.push(new Array(subnetBitIndex, Math.pow(2,subnetBitIndex)));
	}
	return arrToReturn;
}

function setDefaultIPv6Values(){
	var networkbits = DEFAULT_NETWORK_BITS,
		maskbits = 0,
		subnetbits = 0,
		hostbits = 0
		ipv6AddressBlock = 'fd00::/8',  //No I18N
		addressBlockArr = null,
		ipv6Address = null;
	addressBlockArr = ipv6AddressBlock.split('/');
	ipv6Address = addressBlockArr[0];
	setNetworkAddress(formatHexAddress(ipv6Address));
	networkbits = parseInt(addressBlockArr[1], 10);
	maskbits = networkbits;
	subnetbits = maskbits - networkbits;
	setNetworkBits(networkbits);
	setHostBits(TOTAL_NETWORK_BITS - maskbits);
	setMaskBits(maskbits);
	setSubnetBits(subnetbits);
	setSubnetListStartIndex(0);
	setSubnetListEndIndex(TOTAL_NETWORK_BITS);
	setSubnetList(document.getElementById('ipv6SubnetBitsVsNoOfSubnets'));
	document.getElementById('ipv6AddressBlock').value = ipv6AddressBlock;
}

function setSubnetList(elementId) {
	var possibleNoOfSubnetList = 0;
	clearOptions(elementId);
	possibleNoOfSubnetList = getPossibleNoOfSubnetList();
	for(var i=0; i<possibleNoOfSubnetList.length; i++){
		////console.log('possibleNoOfSubnetList[i][0] : '+possibleNoOfSubnetList[i][0]);
		if((parseInt(possibleNoOfSubnetList[i][0])+getNetworkBits()) <= TOTAL_NETWORK_BITS){
			if(parseInt(possibleNoOfSubnetList[i][0]) == 0){
				addOption(elementId,'/'+(parseInt(possibleNoOfSubnetList[i][0])+getNetworkBits())+' ('+possibleNoOfSubnetList[i][1]+' subnet)',possibleNoOfSubnetList[i][0]);
			}else{
				addOption(elementId,'/'+(parseInt(possibleNoOfSubnetList[i][0])+getNetworkBits())+' ('+possibleNoOfSubnetList[i][1]+' subnets)',possibleNoOfSubnetList[i][0]);
			}
		}
		
		
	}
	//console.log('setSubnetList : SUBNET_BITS : '+SUBNET_BITS);
	selectOption(elementId, SUBNET_BITS);
}

function getInputValues(){
	var toReturnMap = new Array();
	var ipv6AddressBlock = null,
		ipv6Address = null,
		ipv6NetworkBits = null,
		ipv6SubnetBits = null;
		
	var subnetBitsElement = null,
		addressBlockArr = null;
	
	ipv6AddressBlock = document.getElementById('ipv6AddressBlock').value;
	subnetBitsElement = document.getElementById('ipv6SubnetBitsVsNoOfSubnets');
	
	if(ipv6AddressBlock == ''){
		return false;
	}
	if(ipv6AddressBlock.indexOf('/') == -1){
		ipv6AddressBlock = ipv6AddressBlock+'/8';
	}
	addressBlockArr = ipv6AddressBlock.split('/');
	if(addressBlockArr[1] == ''){
		addressBlockArr[1] = 8;
		ipv6AddressBlock = ipv6AddressBlock+'8';
	}
	ipv6Address = addressBlockArr[0];
	if(parseInt(addressBlockArr[1]) > TOTAL_NETWORK_BITS){
		ipv6NetworkBits = TOTAL_NETWORK_BITS;
		ipv6AddressBlock = ipv6AddressBlock.replace('/'+addressBlockArr[1], '/'+TOTAL_NETWORK_BITS);
	}else{
		ipv6NetworkBits = parseInt(addressBlockArr[1], 10);
	}
	ipv6SubnetBits = subnetBitsElement.options[subnetBitsElement.selectedIndex].value;
	//console.log('addressBlockArr : '+addressBlockArr);
	//console.log('ipv6Address : '+ipv6Address);
	//console.log('ipv6NetworkBits : '+ipv6NetworkBits);
	//console.log('ipv6SubnetBits : '+ipv6SubnetBits);
	
	toReturnMap.ipv6AddressBlock = ipv6AddressBlock;
	toReturnMap.ipv6Address = ipv6Address;
	toReturnMap.ipv6SubnetBits = parseInt(ipv6SubnetBits, 10);
	toReturnMap.ipv6NetworkBits = ipv6NetworkBits;
	////console.log('Input values map : '+toReturnMap);
	return toReturnMap;
}

function calculateNetworkAddressListForSubnetRange(fromSubnetId, toSubnetId){
	var networkAddressList = new Array();
	var binaryNetworkAddress = 0,
		binaryNetworkBits = 0,
		binarySubnetBits = 0,
		binaryHostBits = 0;
	//console.log('fromSubnetId : '+fromSubnetId+',    toSubnetId : '+toSubnetId);
	fromSubnetId = new BigNumber(fromSubnetId, 10);
	toSubnetId = new BigNumber(toSubnetId, 10);
	counter = 0;
	
	binaryNetworkBits = convertHexToBinary(formatHexAddress(networkAddress.join(':'))).join('').substr(0,NETWORK_BITS);
	binarySubnetBits = Array(SUBNET_BITS+1).join(0);
	binaryHostBits = Array((HOST_BITS)+1).join(0);
	////console.log('Binary network bits : '+binaryNetworkBits+', Length : '+binaryNetworkBits.length);
	////console.log('Binary subnet bits : '+binarySubnetBits+', Length : '+binarySubnetBits.length);
	////console.log('Binary host bits : '+binaryHostBits+', Length : '+binaryHostBits.length);
	networkAddressArrayCounter = 0;
	//for(var subnetRangeIndex=fromSubnetId; subnetRangeIndex<=toSubnetId; subnetRangeIndex++){
	for(var subnetRangeIndex=fromSubnetId; subnetRangeIndex.lte(toSubnetId);){	
		var missingBinarySubnetBits = 0,
			tempSubnetBinaryBits = 0; 
		tempSubnetBinaryBits = subnetRangeIndex.toString(2);
		lengthOfSubnetBinaryBits = tempSubnetBinaryBits.length;
		if(lengthOfSubnetBinaryBits < SUBNET_BITS){
			missingBinarySubnetBits = Array((SUBNET_BITS - lengthOfSubnetBinaryBits)+1).join(0);
			binarySubnetBits = missingBinarySubnetBits+tempSubnetBinaryBits;
		}else{
			binarySubnetBits = tempSubnetBinaryBits;
		}
		
		//console.log('binaryNetworkBits 	: '+binaryNetworkBits);
		//console.log('binarySubnetBits 	: '+binarySubnetBits);
		//console.log('binaryHostBits 	: '+binaryHostBits);
		binaryNetworkAddress = binaryNetworkBits.toString() + binarySubnetBits.toString() + binaryHostBits.toString();
		var formattedHexAddress = convertBinaryToHex(convertBinaryAddressStringToBinaryAddressArray(binaryNetworkAddress));
		//console.log('Binary network address for Subnet Id : '+subnetRangeIndex+' : '+convertBinaryAddressStringToBinaryAddressArray(binaryNetworkAddress)+', length : '+binaryNetworkAddress.length);
		//console.log('Formatted Hex address for Subnet Id : '+subnetRangeIndex+' : '+formattedHexAddress);
		networkAddressList[networkAddressArrayCounter] = [subnetRangeIndex, condenseHexAddress(formattedHexAddress.join(':'), false), getNetworkAddressRange(formattedHexAddress, MASK_BITS, SUBNET_BITS), getCidrNotation(formattedHexAddress), subnetRangeIndex.plus(1)];
		networkAddressArrayCounter+=1;
		subnetRangeIndex = subnetRangeIndex.plus(1);
	}
	return networkAddressList;
}

function calculateAndUpdateValues(action){
	var addressBlock = null;
	var totalbits = 0,
		networkbits = 0,
		maskbits = 0,
		hostbits = 0,
		subnetbits = 0;
	var inputValuesMap = getInputValues();
	var networkAddressArray = null;
	
	setNetworkAddress(formatHexAddress(inputValuesMap.ipv6Address));
	if(action == 'setAddress'){
		networkbits = parseInt(inputValuesMap.ipv6NetworkBits, 10);
		subnetbits = 0;
		maskbits = networkbits;
		hostbits = TOTAL_BITS - maskbits
	}else if(action == 'setNoOfSubnets'){ //No I18N
		networkbits = parseInt(inputValuesMap.ipv6NetworkBits, 10);
		subnetbits = inputValuesMap.ipv6SubnetBits;
		maskbits = networkbits + subnetbits;
		hostbits = TOTAL_BITS - maskbits
	}
	setNetworkBits(networkbits);
	setMaskBits(maskbits);
	setSubnetBits(subnetbits);
	setHostBits(hostbits);
	//console.log('Network bits : '+getNetworkBits()+', Mask bits : '+getMaskBits()+', subnet bits : '+getSubnetBits()+', host bits : '+getHostBits());
	var noOfSubnets = getNumberOfSubnets();
	if(noOfSubnets > MAX_SIZE_OF_SUBNET){
		networkAddressArray = calculateNetworkAddressListForSubnetRange(0, MAX_SIZE_OF_SUBNET-1);
		//console.log('Number of subnets : '+noOfSubnets);
		var dottedArray = getDottedArray();
		var networkAddressEndArray = calculateNetworkAddressListForSubnetRange((noOfSubnets-MAX_SIZE_OF_SUBNET), noOfSubnets-1);
		networkAddressArray = networkAddressArray.concat(dottedArray).concat(networkAddressEndArray);
	}else{
		networkAddressArray = calculateNetworkAddressListForSubnetRange(0, noOfSubnets-1);
	}
	
	////console.log('No of Subnets : '+getNumberOfSubnets());
	////console.log('Possible no of Subnets List : '+getPossibleNoOfSubnetList());
	updateIPv6Values(inputValuesMap);
	createTable(networkAddressArray);
}

function getDottedArray(){
	var toReturnArray = new Array();
	var sizeOfDottedArray = 2;
	for(var indexOfDottedArr=0; indexOfDottedArr<sizeOfDottedArray; indexOfDottedArr++){
		toReturnArray[indexOfDottedArr] = ['..', '..', '..', '..', '..'];
	}
	return toReturnArray;
}

function updateIPv6Values(inputValuesMap){
	//setSubnetListStartIndex(0);
	//setSubnetListEndIndex(TOTAL_NETWORK_BITS - getMaskBits());
	document.getElementById("ipv6AddressBlock").value = inputValuesMap.ipv6AddressBlock; //No I18N
	setSubnetList(document.getElementById('ipv6SubnetBitsVsNoOfSubnets'));
}

function getCidrNotation(formattedHexAddress){
	return condenseHexAddress(formattedHexAddress.join(':'), true)+'/'+getMaskBits();
}

function getSubnetAddress(address, maskbits, subnetbits){
	var binarySubnetAdd = new Array(TOTAL_BITS);
	var binaryNetAddress = convertHexToBinary(formatHexAddress(address)).join('');
	var binaryMaskAddress = getBinaryMaskAddress(maskbits, subnetbits);
	var hexSubnetAddress = 0;
	for(var binaryNetworkAddressIndex=0; binaryNetworkAddressIndex<binaryNetAddress.length; binaryNetworkAddressIndex++){
		binarySubnetAdd[binaryNetworkAddressIndex] = (parseInt(binaryNetAddress[binaryNetworkAddressIndex],2) & parseInt(binaryMaskAddress[binaryNetworkAddressIndex],2)).toString();
		////console.log(binaryNetworkAddressIndex+' '+binaryNetAddress[binaryNetworkAddressIndex]+' & '+binaryMaskAddress[binaryNetworkAddressIndex]);
	}
	////console.log('Binary network address		: '+binaryNetAddress+', Type : '+typeof(binaryNetAddress)+', Length  : '+binaryNetAddress.length);
	////console.log('Binary mask address 		: '+binaryMaskAddress+', Type : '+typeof(binaryMaskAddress)+', Length  : '+binaryMaskAddress.length);
	////console.log('Binary subnet address		: '+binarySubnetAdd.join(''));
	hexSubnetAddress = convertBinaryToHex(convertBinaryAddressStringToBinaryAddressArray(binarySubnetAdd.join('')));
	////console.log('Hex subnet address : '+hexSubnetAddress);
	return hexSubnetAddress;
}

function getBinaryMaskAddress(maskbits, subnetbits){
	//console.log('Get binary mask address , Maskbits : '+maskbits+' : '+subnetbits);
	var networkbits = Array(maskbits+subnetbits+1).join(1);
	var hostbits = Array((HOST_BITS+1)).join(0);
	////console.log('Binary mask address : '+networkbits+hostbits);
	return networkbits+hostbits;
}

function getHexMaskAddress(maskbits, subnetbits){
	return convertBinaryToHex(convertBinaryAddressStringToBinaryAddressArray(getBinaryMaskAddress(maskbits, subnetbits)));
}

function getbroadcastAddress(address, maskbits){
	var networkbits = convertHexToBinary(formatHexAddress(address)).join('').substr(0, maskbits);
	var hostbits = Array((TOTAL_HOST_BITS - maskbits)+1).join(1);
	var hexBroadcastAdd = convertBinaryToHex(convertBinaryAddressStringToBinaryAddressArray(networkbits+hostbits)); 
	////console.log('Hex broadcast address : '+hexBroadcastAdd);
	return hexBroadcastAdd;
}

function calculateEndIpAddress(address, maskbits){
	var hexEndIpAddress = null;
	var binaryBroadcastAddress = convertHexToBinary(getbroadcastAddress(address,maskbits)).join('');
	binaryBroadcastAddress = new BigNumber(binaryBroadcastAddress, 2);
	binaryOne = new BigNumber('1', 2);       
	//hexEndIpAddress = binaryBroadcastAddress.minus(binaryOne).toString(16);
	hexEndIpAddress = binaryBroadcastAddress.toString(16);
	//console.log('binary Subnet address : '+binaryBroadcastAddress);
	//console.log('hexEndIpAddress : '+hexEndIpAddress);
	return convertHexAddressStringToHexAddressArray(hexEndIpAddress);
}

function calculateStartIpAddress(address, maskbits, subnetbits){
	var hexStartIpAddress = null;
	var binarySubnetAddress = convertHexToBinary(getSubnetAddress(address, maskbits, subnetbits)).join('');
	binarySubnetAddress = new BigNumber(binarySubnetAddress, 2);
	binaryOne = new BigNumber('1', 2);       
	//hexStartIpAddress = binarySubnetAddress.plus(binaryOne).toString(16);
	hexStartIpAddress = binarySubnetAddress.toString(16);
	//console.log('binary Subnet address : '+binarySubnetAddress);
	//console.log('hexStartIpAddress : '+hexStartIpAddress);
	return convertHexAddressStringToHexAddressArray(hexStartIpAddress);
}

function getNetworkAddressRange(address, maskbits, subnetbits){
	return condenseHexAddress(calculateStartIpAddress(address, maskbits, subnetbits).join(':'), true)+' - '+condenseHexAddress(calculateEndIpAddress(address, maskbits).join(':'), true);
}

function createTable(resultArray) {
	//console.log('Result array length : '+resultArray.length);
	row = new Array();
	cell = new Array();
	row_num = resultArray.length+1	;
	cell_num = 4;
	divElement = document.createElement('div');
	tableElement = document.createElement('table');
	tableElement.setAttribute('id', 'newtable');
	tableElement.setAttribute('width','935px');
	tableElement.setAttribute('class','dynamicTable');
	divElement.setAttribute('id', 'newDiv');
	if(resultArray.length < 5){
		divElement.setAttribute('style','height: auto;width:950px');
	}else{
		divElement.setAttribute('style','height: 400px;overflow:auto;width:950px');
	}
	tableBodyElement = document.createElement('tbody');
	for (c = 0; c < row_num; c++) {
		row[c] = document.createElement('tr');
		for (k = 0; k < cell_num; k++) {
			cell[k] = document.createElement('td');
			/*
			if(c!=0){
				//console.log('Value of resultArray[c-1][0] '+resultArray[c-1][0]);
			}
			*/
			if(c == 0){
				cell[k].setAttribute('class','dynamicTableCell');
				cell[k].setAttribute('style','font-weight:bold;');
				if(k==0){
					cell[k].setAttribute('style','font-weight:bold;width:140px;line-height:40px;');
				}else{
					cell[k].setAttribute('style','font-weight:bold;width:253px;line-height:40px;');
				}
				
				switch (k){
					case 0:
						cont = document.createTextNode('Subnet ID'); //No I18N
						break;
					case 1:
						cont = document.createTextNode('Subnet Address'); //No I18N
						break;
					case 2:
						cont = document.createTextNode('Host Address Range'); //No I18N
						break;
					case 3:
						cont = document.createTextNode('Notation'); //No I18N
						break;
				}
			}else{
				cell[k].setAttribute('class','dynamicTableCell');
				if(k==0){
					cell[k].setAttribute('style','width:140px;line-height:40px;');
				}else if(k != 2){
					cell[k].setAttribute('style','width:253px;line-height:40px;');
				}else{
					cell[k].setAttribute('style','width:253px;');
				}
				switch (k){
					case 0:
						cont = document.createTextNode(resultArray[c-1][4]);
						break;
					case 1:
						cont = document.createTextNode(resultArray[c-1][1]);
						break;
					case 2:
						//console.log('resultArray[c-1][2] : '+resultArray[c-1][2].length);
						if(resultArray[c-1][2].length >= 50){
							cell[k].setAttribute('style','width:253px;');
						}else{
							cell[k].setAttribute('style','width:253px;line-height:40px;');
						}
						cont = document.createTextNode(resultArray[c-1][2]);
						break;
					case 3:
						cont = document.createTextNode(resultArray[c-1][3]);
						break;
				}
			}
			cell[k].appendChild(cont);
			row[c].appendChild(cell[k]);
		}
		tableBodyElement.appendChild(row[c]);
	}
	tableElement.appendChild(tableBodyElement);
	divElement.appendChild(tableElement);
	document.getElementById('tableDiv').innerHTML = '';
	document.getElementById("SubnetInfoDiv").style.display = "block";
	document.getElementById('tableDiv').appendChild(divElement);
	//document.getElementById('tableDiv').innerHTML = "<pre style='word-wrap: normal;white-space: pre;font-weight: bold;font-size:13px;color:#0B610B;'>"+tableElement.innerHTML+"</pre>";
}

function clearOptions(elementId){
	var length = elementId.options.length;
	for(var i=length-1;i>=0;i--)
    {
    	elementId.remove(i);
    }
}

function selectOption(elementId, value){
	for (var i=0;i<elementId.length;i++){
		if(elementId[i].value == value){
			////console.log("selecting : "+elementId[i].value+"   "+value);
			elementId.selectedIndex = i;
			break;
		}
	}
}

function addOption(elementId, text ,value){
	var optionElement = document.createElement('option');
	optionElement.text = text;
	optionElement.value = value;
	try {
		elementId.add(optionElement, null);
	} catch(e) {
		elementId.add(optionElement);
	}
}

function testForLoop(){
	startIndex = new BigNumber(36028797018962944, 10);
	endIndex = new BigNumber(36028797018963970, 10);
	counter = 0;
	for(var i=startIndex; i.lt(endIndex);){
		i = i.plus(1);
		counter+=1;
		//console.log('i : '+i+', : '+counter);
	}
	
}

function initialize(){
	var networkAddress = 'fd30::1:ff4e:3e:9:e'; //No I18N
	var totalbits = 128,
		networkbits = 8,
		maskbits = 56,
		subnetbits = 0,
		hostbits = 0;
	setNetworkAddress(formatHexAddress(networkAddress));
	setTotalBits(totalbits);
	setNetworkBits(networkbits);
	setMaskBits(maskbits);
	setSubnetBits(maskbits - networkbits);
	setHostBits(totalbits - maskbits);
	/*
	//console.log('Network Address 	: '+getNetworkAddress());
	//console.log('Total Bits 		: '+getTotalBits());
	//console.log('Mask Bits			: '+getMaskBits());
	//console.log('Subnet Bits 		: '+getSubnetBits());
	//console.log('Host Bits 			: '+getHostBits());
	//console.log('Network Bits 		: '+getNetworkBits());
	//console.log('IPv6 address in Hex(formatted) : '+formatHexAddress(networkAddress));
	//console.log('IPv6 address in binary : '+convertHexToBinary(formatHexAddress(networkAddress)));
	//console.log('IPv6 address in binary(formatted) : '+convertHexToBinary(formatHexAddress(networkAddress)));
	//console.log('Converting formatted binary IPv6 address to Hex  : '+convertBinaryToHex(convertHexToBinary(formatHexAddress(networkAddress))));
	*/
	
	////console.log('No of Hosts : '+getNumberOfHosts());
	////console.log('Possible no of Hosts List : '+getPossibleNoOfHostsList());
	////console.log('No of Subnets : '+getNumberOfSubnets());
	////console.log('Possible no of Subnets List : '+getPossibleNoOfSubnetList());
}


function main(){
	initialize();
	//testForLoop();
}
</script>
<script type="text/javascript">
//$Id

//$Id:$
var hp_var=String.fromCharCode(104,116,116,112,58,47,47);  // No I18N
var hs_var=String.fromCharCode(104,116,116,112,115,58,47,47); // No I18N
var wss_var=String.fromCharCode(119,115,115,58,47,47 ); //NO I18N
var ws_var=String.fromCharCode(119,115,58,47,47 ); //NO I18N
var count_url_report = 0;
var count_port=0;
var row_values=[];
var count_ping = 0;
var count_linkcheck = 0;
var requestCount=1;
var LOCATION_LIST = null;

var chartData=new Array(); // This variable will be initialized during each time a page is loaded.
var chartResponseData=new Array();
var timeoutHandleaArray=new Array();
var topdivdata=new Boolean(true);
var reqTs=null;
var fusionChartsURL="/FusionCharts/StackedColumn3D.swf";
var chartArray=new Array();
var availRespCount=new Array();
var shortMonthNames = [ 'Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec' ];
var globalURL="";
var globalToolType="";
var globalPermaLink="";
var Tooltype="";
var dcFinishedLocCount="";
var locCount="";



function sendToolsEmailLink()
{
	//console.log("GlobalToolType :"+globalToolType); // No I18N
	if(globalToolType==undefined || globalToolType=='undefined' || globalToolType.trim().length==0)
	{
		globalToolType="TOOLS";
	}
	//console.log("URL : "+globalURL+"globalPermalink : "+globalPermaLink+" Type : "+globalToolType); // No I18N
	$.toolsEmailSend(globalURL,globalPermaLink,globalToolType); // No I18N
}

function setLocationList(locationList){
	if(locationList){
		LOCATION_LIST = jQuery.parseJSON(locationList);
	}
	//console.log('locationList : '+typeof(LOCATION_LIST)+LOCATION_LIST[45]);
}

function findAvailability(frm,ranword)
{
    reqTs=new Date();
    doToolsTest(frm,ranword,'URL');
}

function getDatediff(fDate,sDate)
{
    // Only upto minute (0-59 mins) level
    var dMs=sDate.getTime()-fDate.getTime();
    var minS=0,secs=0,msec=0;
    if(dMs>60000) {
        minS=Math.floor(dMs/1000*60);
        dMs=dMs-(minS*1000*60);
        return ((minS>0)?(minS+" min(s)"):"");
    }else if(dMs>1000)
    {
        secs=Math.floor(dMs/1000);
        dMs=dMs-secs*1000;
        return ((secs>0)?(secs+" sec(s)"):"");
    }
    msec=dMs;
    return ((msec>0)?(msec+" ms"):"");
}

function getFormattedNumber(number,pattern)
{
	// ##
	// If number is a single digit, return it as double digit.
	if(number<=9) {
		return '0'+number;
	}
	return number;
}

function getDateString(monthAsString)
{
    var monthAsString;
    var hourStr;
    if(arguments.length==0)
    {
    	monthAsString=false;
    }
    var dt=new Date();
    monthStr=dt.getMonth();
    var ampmStr=(dt.getHours()<12)?'AM':'PM';
    if(monthAsString==true)
    {
    	monthStr=shortMonthNames[dt.getMonth()];
    }
    else {
    	monthStr = dt.getMonth() + 1;
    }
    //console.log("Hours : "+dt.getHours());
    if(dt.getHours()==12)
    {
    	hourStr=12;
    }
    else 
    {
    	hourStr=dt.getHours()%12;
    }	
    var dateStr=dt.getDate()+" "+monthStr+" "+dt.getFullYear()+" "+(getFormattedNumber(hourStr))+":"+getFormattedNumber(dt.getMinutes())+":"+getFormattedNumber(dt.getSeconds())+ ' '+ ampmStr;
    return dateStr;
}

function showCommonResultPage(url)
{
    document.getElementById('id_request_div').style.display='none';
    document.getElementById('accesskeyworddiv').style.display='none';
    document.getElementById('middle').style.display='none';
    if(document.getElementById("thdiv")!==null)
    {	
    	document.getElementById('thdiv').style.display='none';
    }
    $('.reqspacer').hide();
    if(globalToolType != 'WEBSITE-COMPARE')
	{
		document.getElementById('id_quicktest_div').style.display='block';
	}
    if(document.getElementById('id_response_div').style.display!='block') {
    	var headerText = "Test results : - "+$ESAPI.encoder().encodeForHTML(url); // No I18N
    	if(globalToolType == 'WEBSITE-COMPARE')
		{
			headerText = "Website Performance Comparison Results "; // No I18N
		}
		$('#commonoutputhdrtext').html(headerText);
		var urltrim=$.trim(url);
		var urllen=urltrim.length;
		if(urllen >33)
		{
			var sliceurl=urltrim.slice(0,33);
			$('#id_url').html('Result URL: '+$ESAPI.encoder().encodeForHTML(sliceurl)+'.....'); // No I18N
			$('#id_url').attr('title',url);
		}
		else
		{
		$('#id_url').html('Result URL: '+$ESAPI.encoder().encodeForHTML(url)); // No I18N
		}
		if(globalToolType=='BLACKLISTCHECK'){
            var title=document.getElementById("id_url").innerHTML;
            document.getElementById("id_url").innerHTML=title.replace("Result URL","Blacklist Domain/IP");
		}
		$('#id_reqtime').html('Tested on: '+getDateString(true));
		document.getElementById('id_response_div').style.display='block';
    }	
}

function showWebsiteAvailabilityResultPage(url,reqId) 
{
    showCommonResultPage(url);
    $('#id_result_graph_space').show();
    $('.grptext').show();
    cloneAddAvailabilityResultsDiv(url,reqId);
}

function cloneAddAvailabilityResultsDiv(url,requestId)
{
	var chkwebtemplDiv;
	if(Tooltype=='WEBSOCKET')
		{
		 	chkwebtemplDiv=document.getElementById("checkwebsocketresultstemplate");
		}
	else
		{
			chkwebtemplDiv=document.getElementById("checkwebsiteresultstemplate");
		}
    var cwahdr=document.getElementById("cwahdr").cloneNode(true);
    cwahdr.removeAttribute('id');
    if(Tooltype=='WEBSOCKET')
	{
    	cwahdr.children[0].innerHTML='Websocket Availability Results: '+getDateString(true);
	}
else
	{
	cwahdr.children[0].innerHTML='Website Availability Results: '+getDateString(true);
	}
    
    
    var chkwebresultStr=chkwebtemplDiv.innerHTML;
    var chkwebresult=document.createElement("DIV");
    
    chkwebresultStr = chkwebresultStr.replace('id_result_graph_div','id_result_graph_div'+requestId);
    chkwebresultStr = chkwebresultStr.replace('id_graphContainer_div','id_graphContainer_div'+requestId);
    chkwebresultStr = chkwebresultStr.replace('resultappend','resultappend'+requestId);
    if(Tooltype=='WEBSOCKET')
    	{
    	chkwebresultStr = chkwebresultStr.replace('id_ws_response_result_header','id_ws_response_result_header'+requestId);
    	}
    else
    	{
    	 chkwebresultStr = chkwebresultStr.replace('id_response_result_header','id_response_result_header'+requestId);
    	}
   
    chkwebresult.setAttribute("id","checkwebresults"+requestId);
    chkwebresult.setAttribute("style","width:998px; margin-top: 15px; height: auto; display: none;");
    chkwebresult.setAttribute("class","border clear");
    chkwebresult.innerHTML=chkwebresultStr;
    var graphSpaceDiv=document.getElementById("id_result_graph_space");
    insertAfter(graphSpaceDiv,chkwebresult);
    insertAfter(graphSpaceDiv,cwahdr);
    // COMMENT: We are skipping resultappend'+requestId div here because it
	// should remain hidden. It is just a place holder to add subsequent result
	// rows.
    cwahdr.style.display='block';
    if(Tooltype=='WEBSOCKET')
    	{
    	document.getElementById('id_ws_response_result_header'+requestId).style.display='block';
    	}
    else
    	{
    	document.getElementById('id_response_result_header'+requestId).style.display='block';
    	}
    
    chkwebresult.style.display='block';
    document.getElementById('id_result_graph_div'+requestId).style.display='block';
    document.getElementById('id_graphContainer_div'+requestId).style.display='block';
    // chkwebresult.scrollIntoView(true);
}

function postavailabilitydetails(result,url,selectedLocations,reqId)
{
	showWebsiteAvailabilityResultPage(url,reqId);		
	chartData[reqId]={};
	var cwadata=chartData[reqId];
	cwadata['locGA']=new Array();
	cwadata['dnsGA']=new Array();
	cwadata['conGA']=new Array();
	cwadata['fbGA']=new Array();
	cwadata['lbGA']=new Array();
	cwadata['rspGA']=new Array();
	cwadata['locNm']=new Array();
	cwadata['avail']=new Array();
	cwadata['resIp']=new Array();
	cwadata['reason']=new Array();
	cwadata['conLen']=new Array();
	cwadata['downTm']=new Array();
	cwadata['reqId']=reqId;
	cwadata['durl']=url;
	cwadata['tooltype']="URL";
	cwadata['timestamp']=timestamp;
	
	var stackChart=null;
	// alert("Request Id : "+reqId+" Chart Array : "+chartArray.length);
	if(reqId >= chartArray.length)
	{
	    // alert("Settting up graphs . . . ");
	    FusionCharts.setCurrentRenderer('javascript');
	    FusionCharts.debugMode.enabled(true);
	    stackChart = new FusionCharts(fusionChartsURL,"stackChartId"+reqId,"630","296","1","1");
	    // FB.XFBML.parse();
	    stackChart.configure('LoadingText','Loading data please wait . . . ');
	    stackChart.configure('XMLLoadingText','Loading data please wait . . . ');
	    stackChart.configure('ParsingDataText','Loading data please wait . . . ');
	    stackChart.configure('ChartNoDataText','Loading data please wait . . . ');
	    stackChart.configure('RenderingChartText','Rendering chart please wait . . .');
	    stackChart.configure('InvalidXMLText','Invalid Data . . .');
	    stackChart.configure('LoadDataErrorText','Loading Data please wait . . .');
	    var jsonDataSkeleton='{"chart":{"caption":"Website Availability Metrics","xaxisname":"Locations","yaxisname":"Time (ms)","showvalues":"1","formatNumber":"1","formatNumberScale":"0","defaultAnimation":"1""bgColor":"F7F8F6","bgAlpha":"100","canvasBgColor":"F7F8F6", "canvasBgAlpha":"0"},"categories":[{"category":[{}],"dataset":[{"seriesname":"DNS","data":[{}]},{"seriesname":"Connect","data":[{}]},{"seriesname":"First Byte","data":[{}]},{"seriesname":"Last Byte","data":[{}]}],"trendlines":{"line":[{"startvalue":"0","color":"91C728","displayvalue":""}]}}';
	    stackChart.render("id_graphContainer_div"+reqId);
	    chartArray[reqId] = stackChart;  
	}
	for (var i=0; i<selectedLocations.length; i++)
	{
	    addLocationLoadingRow(selectedLocations[i].value,reqId);
	    var form=document.createElement("form");
	    form.setAttribute("method", "post");
	    form.setAttribute("name","WebSiteLocationTest");
	    form.setAttribute("action", "/tools/general/simpleTest.do");
	    form.appendChild(getnewFormElement("hidden","method","doWebsiteTest"));
	    form.appendChild(getnewFormElement("hidden","locationid",selectedLocations[i].value));
	    form.appendChild(getnewFormElement("hidden","url",url));
	    form.appendChild(getnewFormElement("hidden","timestamp",timestamp));
	    form.appendChild(getnewFormElement("hidden","requestId",reqId));
	    document.body.appendChild(form);
	    getHtmlForForm(form,"postResponse",selectedLocations[i].value,selectedLocations.length,reqId);
	} 
    
}


function addLocationLoadingRow(locationId,reqId)
{
    var locationName=$("input[value='"+locationId+"']").parent().text();
    if(locationName.indexOf(",")>0)
    {
    	locationName=locationName.substr(0,locationName.indexOf(","));
    }
    // Code by G. Edwin.
    var resultRowTemplate=document.getElementById('id_resp_row_templ');
    var resultappendRow=document.getElementById('resultappend'+reqId);
    // resultappendRow.style.display='none';
    var locLoadingDiv=document.createElement("div");
    locLoadingDiv.setAttribute("class",resultRowTemplate.getAttribute("class"));
    locLoadingDiv.setAttribute("style","width: 998px; height: 30px; display: none;");
    var rowHtml=resultRowTemplate.innerHTML;
	rowHtml=rowHtml.replace("LOCATION_NAME",LOCATION_LIST[locationId]+' '+('<img style="" src="" + animImage + ""/>'));
    rowHtml=rowHtml.replace("id_locn","id_locn"+reqId+""+locationId);
    rowHtml=rowHtml.replace("id_sc","id_sc"+reqId+""+locationId);
    rowHtml=rowHtml.replace("id_ip","id_ip"+reqId+""+locationId);
    rowHtml=rowHtml.replace("id_dns","id_dns"+reqId+""+locationId);
    rowHtml=rowHtml.replace("id_con","id_con"+reqId+""+locationId);
    rowHtml=rowHtml.replace("id_fb","id_fb"+reqId+""+locationId);
    rowHtml=rowHtml.replace("id_lb","id_lb"+reqId+""+locationId);
    rowHtml=rowHtml.replace("id_size","id_size"+reqId+""+locationId);
    rowHtml=rowHtml.replace("id_respt","id_respt"+reqId+""+locationId);
    locLoadingDiv.innerHTML=rowHtml;
    resultappendRow.appendChild(locLoadingDiv);	
    resultappendRow.style.display='block';
    locLoadingDiv.style.display='block';
}
function addLocationLoadingRowForWebSocket(locationId,reqId)
{
    var locationName=$("input[value='"+locationId+"']").parent().text();
    if(locationName.indexOf(",")>0)
    {
    	locationName=locationName.substr(0,locationName.indexOf(","));
    }
    var resultRowTemplate=document.getElementById('id_ws_resp_row_templ');
    var resultappendRow=document.getElementById('resultappend'+reqId);
    // resultappendRow.style.display='none';
    var locLoadingDiv=document.createElement("div");
    locLoadingDiv.setAttribute("class",resultRowTemplate.getAttribute("class"));
    locLoadingDiv.setAttribute("style","width: 998px; height: 30px; display: none;");
    var rowHtml=resultRowTemplate.innerHTML;
	rowHtml=rowHtml.replace("LOCATION_NAME",LOCATION_LIST[locationId]+' '+('<img style="" src="" + animImage + ""/>'));
    rowHtml=rowHtml.replace("id_locn","id_locn"+reqId+""+locationId);
    rowHtml=rowHtml.replace("id_sc","id_sc"+reqId+""+locationId);
    rowHtml=rowHtml.replace("id_ip","id_ip"+reqId+""+locationId);
    rowHtml=rowHtml.replace("id_dnsT","id_dnsT"+reqId+""+locationId);
    rowHtml=rowHtml.replace("id_conT","id_conT"+reqId+""+locationId);
    rowHtml=rowHtml.replace("id_handshakeT","id_handshakeT"+reqId+""+locationId);
    rowHtml=rowHtml.replace("id_pingpongT","id_pingpongT"+reqId+""+locationId);
    rowHtml=rowHtml.replace("id_respT","id_respT"+reqId+""+locationId);
    locLoadingDiv.innerHTML=rowHtml;
    resultappendRow.appendChild(locLoadingDiv);	
    resultappendRow.style.display='block';
    locLoadingDiv.style.display='block';
}

function drawGraph(selectedLocationCount,reqId)
{
    var stackChart=chartArray[reqId];
    var jsonDataSkeleton="";
    if(stackChart==null)
    {
		FusionCharts.setCurrentRenderer('javascript'); 
		FusionCharts.debugMode.enabled(true);
		stackChart = new FusionCharts(fusionChartsURL,"stackChartId"+reqId,"630","296","1","1");
		stackChart.configure('LoadingText','Loading data please wait . . . ');
		stackChart.configure('XMLLoadingText','Loading data please wait . . . ');
		stackChart.configure('ParsingDataText','Loading data please wait . . . ');
		stackChart.configure('ChartNoDataText','Loading data please wait . . . ');
		stackChart.configure('RenderingChartText','Rendering chart please wait . . .');
		stackChart.configure('InvalidXMLText','Invalid Data . . .');
		stackChart.configure('LoadDataErrorText','Loading Data please wait . . .');
		jsonDataSkeleton='{"chart":{"caption":"Website Availability Metrics","xaxisname":"Locations","yaxisname":"Time (ms)","showvalues":"0","formatNumber":"1","formatNumberScale":"0,"defaultAnimation":"1","bgColor":"F7F8F6","bgAlpha":"0","canvasBgColor":"F7F8F6", "canvasBgAlpha":"0","seriesNameInToolTip":"0","toolTipSepChar":" "},"categories":[{"category":[{}],"dataset":[{"seriesname":"DNS","data":[{}]},{"seriesname":"Connect","data":[{}]},{"seriesname":"First Byte","data":[{}]},{"seriesname":"Last Byte","data":[{}]},{"seriesname":"Response","data":[{}]}],"trendlines":{"line":[{"startvalue":"0","color":"91C728","toolText":"0","displayvalue":""}]}}';
		stackChart.render("id_graphContainer_div"+reqId);
		chartArray[reqId] = stackChart;
		FB.XFBML.parse();
    }
    jsonDataSkeleton='{"chart":{"caption":"Website Availability Metrics","xaxisname":"Locations","yaxisname":"Time (ms)","showvalues":"0","formatNumber":"1","formatNumberScale":"0","defaultAnimation":"0","bgColor":"F7F8F6","bgAlpha":"100","canvasBgColor":"F7F8F6", "canvasBgAlpha":"0","seriesNameInToolTip":"0","toolTipSepChar":" "},"categories":[{"category":LOCATIONSLIST}],"dataset":[{"seriesname":"DNS","color":"A4BBCE","data":DNSDATA},{"seriesname":"Connect","color":"C5A440","data":CONNECTDATA},{"seriesname":"First Byte","color":"8FA93C","data":FIRSTBYTEDATA},{"seriesname":"Last Byte","color":"CB895D","data":LASTBYTEDATA}],"trendlines":{"line":[{"startvalue":"0","color":"91C728","toolText":"0","displayvalue":""}]} }';
    var locStr="",dnsStr="",connectStr="",firstByteStr="",lastByteStr="",responseStr="";
    var arrSize=selectedLocationCount;
    
    var cwadata=chartData[reqId];
    var locGraphArray=cwadata["locGA"];
    var dnsGraphArray=cwadata["dnsGA"];
    var connectGraphArray=cwadata["conGA"];
    var firstByteGraphArray=cwadata["fbGA"];
    var lastByteGraphArray=cwadata["lbGA"];
    var responseGraphArray=cwadata["rspGA"];

    locStr=JSON.stringify(locGraphArray);
    dnsStr=JSON.stringify(dnsGraphArray);
    connectStr=JSON.stringify(connectGraphArray);
    firstByteStr=JSON.stringify(firstByteGraphArray);
    lastByteStr=JSON.stringify(lastByteGraphArray);
    responseStr=JSON.stringify(responseGraphArray);
   
    jsonDataSkeleton = jsonDataSkeleton.replace("LOCATIONSLIST",locStr);
    jsonDataSkeleton = jsonDataSkeleton.replace("DNSDATA",dnsStr);
    jsonDataSkeleton = jsonDataSkeleton.replace("CONNECTDATA",connectStr);
    jsonDataSkeleton = jsonDataSkeleton.replace("FIRSTBYTEDATA",firstByteStr);
    jsonDataSkeleton = jsonDataSkeleton.replace("LASTBYTEDATA",lastByteStr);
    
    //console.log("jsonData : "+jsonDataSkeleton);
    stackChart.setTransparent(true);
    stackChart.setJSONData(jsonDataSkeleton);
    stackChart.setTransparent(true);
    stackChart.render("id_graphContainer_div"+reqId);
}

function drawGraphForWebSocket(selectedLocationCount,reqId)
{
    var stackChart=chartArray[reqId];
    var jsonDataSkeleton="";
    if(stackChart==null)
    {
		FusionCharts.setCurrentRenderer('javascript');  //No I18N
		FusionCharts.debugMode.enabled(true);
		stackChart = new FusionCharts(fusionChartsURL,"stackChartId"+reqId,"630","296","1","1");  //NO I18N
		stackChart.configure('LoadingText','Loading data please wait . . . '); //NO I18N
		stackChart.configure('XMLLoadingText','Loading data please wait . . . '); //NO I18N
		stackChart.configure('ParsingDataText','Loading data please wait . . . '); //NO I18N
		stackChart.configure('ChartNoDataText','Loading data please wait . . . '); //NO I18N
		stackChart.configure('RenderingChartText','Rendering chart please wait . . .'); //NO I18N
		stackChart.configure('InvalidXMLText','Invalid Data . . .'); //NO I18N
		stackChart.configure('LoadDataErrorText','Loading Data please wait . . .');//NO I18N
		jsonDataSkeleton='{"chart":{"caption":"WebSocket Availability Metrics","xaxisname":"Locations","yaxisname":"Time (ms)","showvalues":"0","formatNumber":"1","formatNumberScale":"0,"defaultAnimation":"1","bgColor":"F7F8F6","bgAlpha":"0","canvasBgColor":"F7F8F6", "canvasBgAlpha":"0","seriesNameInToolTip":"0","toolTipSepChar":" "},"categories":[{"category":[{}],"dataset":[{"seriesname":"DNS","data":[{}]},{"seriesname":"Connect","data":[{}]},{"seriesname":"Handshake","data":[{}]},{"seriesname":"PingPong","data":[{}]},{"seriesname":"Response","data":[{}]}],"trendlines":{"line":[{"startvalue":"0","color":"91C728","toolText":"0","displayvalue":""}]}}';//NO I18N
		stackChart.render("id_graphContainer_div"+reqId);
		chartArray[reqId] = stackChart;
		FB.XFBML.parse();
    }
    jsonDataSkeleton='{"chart":{"caption":"WebSocket Availability Metrics","xaxisname":"Locations","yaxisname":"Time (ms)","showvalues":"0","formatNumber":"1","formatNumberScale":"0","defaultAnimation":"0","bgColor":"F7F8F6","bgAlpha":"100","canvasBgColor":"F7F8F6", "canvasBgAlpha":"0","seriesNameInToolTip":"0","toolTipSepChar":" "},"categories":[{"category":LOCATIONSLIST}],"dataset":[{"seriesname":"DNS","color":"A4BBCE","data":DNSDATA},{"seriesname":"Connect","color":"C5A440","data":CONNECTDATA},{"seriesname":"handshake","color":"8FA93C","data":HANDSHAKEDATA},{"seriesname":"pingpong","color":"CB895D","data":PINGPONGDATA}],"trendlines":{"line":[{"startvalue":"0","color":"91C728","toolText":"0","displayvalue":""}]} }';//NO I18N
    var locStr="",dnsStr="",connectStr="",handshakeStr="",pingpongStr="",responseStr="";
    var arrSize=selectedLocationCount;
    	
    var cwadata=chartData[reqId];
    var locGraphArray=cwadata.loc;
    var dnsGraphArray=cwadata.dnsT;
    var connectGraphArray=cwadata.conT;
    var handshakeGraphArray=cwadata.handshakeT;
    var pingpongGraphArray=cwadata.pingpongT;
    var responseGraphArray=cwadata.rspT;

    locStr=JSON.stringify(locGraphArray);
    dnsStr=JSON.stringify(dnsGraphArray);
    connectStr=JSON.stringify(connectGraphArray);
    handshakeStr=JSON.stringify(handshakeGraphArray);
    pingpongStr=JSON.stringify(pingpongGraphArray);
    responseStr=JSON.stringify(responseGraphArray);
   
    jsonDataSkeleton = jsonDataSkeleton.replace("LOCATIONSLIST",locStr);
    jsonDataSkeleton = jsonDataSkeleton.replace("DNSDATA",dnsStr);
    jsonDataSkeleton = jsonDataSkeleton.replace("CONNECTDATA",connectStr);
    jsonDataSkeleton = jsonDataSkeleton.replace("HANDSHAKEDATA",handshakeStr);
    jsonDataSkeleton = jsonDataSkeleton.replace("PINGPONGDATA",pingpongStr);
    
    //console.log("jsonData : "+jsonDataSkeleton);
    stackChart.setTransparent(true);
    stackChart.setJSONData(jsonDataSkeleton);
    stackChart.setTransparent(true);
    stackChart.render("id_graphContainer_div"+reqId);
}

function getLocaleFormattedNumber(n)
{
	var numStr=new String(n);
    return numStr.replace(/\B(?=(\d{3})+(?!\d))/g, ",");
}

function postResponse(result,locid,selectedLocationslength,reqId)
{
    availRespCount[reqId] = availRespCount[reqId] + 1;
    // alert("Result of output :: "+result.length+" Location Id : "+locid+"
	// Selected Locations Length : "+selectedLocationslength+" Request Id :
	// "+reqId);
    
    if(result.length==0)
    {
		// Update as timed out.
    	// alert("Inside result.length == 0");
		var locName=$('li input[value="'+locid+'"]').parent().text();
		// console.log("empty postResponse message received for location :
		// "+locid+" Location Name : "+locName);
		result="#ax_dnsResolvedtime=0&ax_responsetime=0&ax_locname="+locName+"&ax_downloadtime=0&ax_resolvedIp=&ax_firstdownload=0&ax_sizeinstring=0 KB&ax_firstBytetime=0&ax_availability=0&ax_responsecode=TIMED-OUT&ax_url=YourDomain.com&ax_reason=TIMED-OUT&ax_connectiontime=0&"; // No I18N
		// return 0;
    }
    if(result.match("locid")!=-1)
    {
	// alert("Result : "+result);
	var timeoutHandle=timeoutHandleaArray[locid];
	clearTimeout(timeoutHandle);
	// console.log("Clearing timeout since response has already been received
	// Location : "+locid);
	var responsetime = getValue(result,'ax_responsetime');
	var responsecode = getValue(result,'ax_responsecode');
	var reason=getValue(result,'ax_reason');
	var availability=getValue(result,'ax_availability');
	var resolvedIP=getValue(result,'ax_resolvedIp');
	var dnsResolvedtime=getValue(result,'ax_dnsResolvedtime');
	var firstBytetime=getValue(result,'ax_firstBytetime');
	var downloadtime=getValue(result,'ax_downloadtime');
	var connectiontime=getValue(result,'ax_connectiontime');
	var contentLength=getValue(result,'ax_sizeinstring');
	var availabilityimage="/images/down_icon.gif";
	var firstdownload=getValue(result,'ax_firstdownload');
	var url=getValue(result,'ax_url');
	var locname = getValue(result,'ax_locname');
	
		
	// var locations=document.getElementById("locationid").value;
	var locations=locid;
	if(locations_url_response=="")
	{
	    for(var i=0;i<selectedLocationslength;i++)
	    {
	    	locations=locations.replace(",","locid=");
	    }
	    locations_url_response="locid="+locations;
    }
	// var conTimeValue = parseInt(dnsResolvedtime) + parseInt(connectiontime);
	var ttfbValue =firstBytetime; 
	var ttlbValue = Math.abs(parseInt(responsetime)-(parseInt(connectiontime)+parseInt(firstBytetime)+parseInt(dnsResolvedtime)));
	// var locations=document.getElementById("locationid").value;
	var conTimeValue=connectiontime;
	
	if(reason=="OK")
	{
	    responsecode=reason;
	    if(topdivdata)
	    {
	    	topdivdata=false;
	    	var urltrim=$.trim(url);
			var urllen=urltrim.length;
			if(urllen >33)
			{
				var sliceurl=urltrim.slice(0,33);
				$('#id_url').html('Result URL: '+sliceurl+'.....'); // No I18N
				$('#id_url').attr('title',url); // No I18N
			}
			else
			{
			$('#id_url').html('Result URL: '+url);
			}
	    	$('#id_loadtime').html('Load Time: '+getDatediff(reqTs,new Date()));
	    	var dateStr=getDateString(true);
	    	$('#id_reqtime').html('Tested on: '+dateStr);
	    }
	    $('#id_locn'+reqId+""+locid).text(locname);
		$('#id_sc'+reqId+""+locid).html('<b>'+responsecode+'</b>');
		$('#id_ip'+reqId+""+locid).text(resolvedIP);
		$("#id_ip"+reqId+""+locid).css("text-align","left");// No I18N
		$('#id_dns'+reqId+""+locid).text(getLocaleFormattedNumber(dnsResolvedtime));
		$('#id_dns'+reqId+""+locid).css("text-align","right");// No I18N
		$('#id_con'+reqId+""+locid).text(getLocaleFormattedNumber(connectiontime));
		$('#id_con'+reqId+""+locid).css("text-align","right");// No I18N
		$('#id_fb'+reqId+""+locid).text(getLocaleFormattedNumber(firstBytetime));
		$('#id_fb'+reqId+""+locid).css("text-align","right");// No I18N
		$('#id_lb'+reqId+""+locid).text(getLocaleFormattedNumber(ttlbValue));
		$('#id_lb'+reqId+""+locid).css("text-align","right");// No I18N
		$('#id_size'+reqId+""+locid).text(contentLength);
		$('#id_size'+reqId+""+locid).css("text-align","right");// No I18N
		$('#id_respt'+reqId+""+locid).text(getLocaleFormattedNumber(responsetime));
		$('#id_respt'+reqId+""+locid).css("text-align","right");// No I18N
	}
	else 
	{
		// console.log("Inside else : reason :: "+result);
		if(responsetime==="0")
		{
			$('#id_locn'+reqId+""+locid).text(locname);
			$('#id_sc'+reqId+""+locid).html('<b>-</b>');
			//$('#id_sc'+reqId+""+locid).html('<b>'+reason+'</b>');
			$('#id_ip'+reqId+""+locid).html('<b>'+reason+'</b>');
			$("#id_ip"+reqId+""+locid).css("width","605px");
			$("#id_ip"+reqId+""+locid).attr('class',"floatleft dlfont9l pad5");
			$('#id_dns'+reqId+""+locid).remove();
			$('#id_con'+reqId+""+locid).remove();
			$('#id_fb'+reqId+""+locid).remove();
			$('#id_lb'+reqId+""+locid).remove();
			$('#id_size'+reqId+""+locid).remove();
			//$('#id_respt'+reqId+""+locid).text("-"); // No I18N
		}
		else {
			$('#id_locn'+reqId+""+locid).text(locname);
			$('#id_sc'+reqId+""+locid).html('<b>'+responsecode+'</b>');
			$('#id_ip'+reqId+""+locid).text(resolvedIP);
			$('#id_dns'+reqId+""+locid).text(getLocaleFormattedNumber(dnsResolvedtime));
			$('#id_con'+reqId+""+locid).text(getLocaleFormattedNumber(connectiontime));
			$('#id_fb'+reqId+""+locid).text(getLocaleFormattedNumber(firstBytetime));
			$('#id_lb'+reqId+""+locid).text(getLocaleFormattedNumber(ttlbValue));
			$('#id_size'+reqId+""+locid).text(contentLength);
			$('#id_respt'+reqId+""+locid).text(getLocaleFormattedNumber(responsetime));
		}
	}
	
	

	var cwadata=chartData[reqId];
	var locGraphArray=cwadata["locGA"];
	var dnsGraphArray=cwadata["dnsGA"];
	var connectGraphArray=cwadata["conGA"];
	var firstByteGraphArray=cwadata["fbGA"];
	var lastByteGraphArray=cwadata["lbGA"];
	var responseGraphArray=cwadata["rspGA"];
	var locNm=cwadata["locNm"];
	var avail=cwadata["avail"];
	var resIp=cwadata["resIp"];
	var reasonArr=cwadata["reason"];
	var conLen=cwadata["conLen"];
	var downTm=cwadata["downTm"];
	
	// Populate Graph Array Elements for later graph drawing.
	var locGraphEntry={},dnsGraphEntry={},connectGraphEntry={},firstByteEntry={},lastByteEntry={},sizeEntry={},responseGraphEntry={};
	locGraphEntry.label=locname.substr(0,3);
	locGraphEntry.toolText=" ";
	dnsGraphEntry.value=dnsResolvedtime;
	connectGraphEntry.value=connectiontime;
	firstByteEntry.value=firstBytetime;
	lastByteEntry.value=ttlbValue;
	sizeEntry.value=contentLength;
	responseGraphEntry.value=responsetime;
	// COMPUTING Custom Tooltip Text
	var toolTipString="Location: "+locname+"{br}DNS: "+getLocaleFormattedNumber(dnsResolvedtime)+"{br}"+"Connection: "+getLocaleFormattedNumber(connectiontime)+"{br}"+"First Byte: "+getLocaleFormattedNumber(firstBytetime)+"{br}"+"Last Byte: "+getLocaleFormattedNumber(ttlbValue)+"{br}"+"Response: "+getLocaleFormattedNumber(responsetime); //No I18N

	dnsGraphEntry.toolText=toolTipString;
	connectGraphEntry.toolText=toolTipString;
	firstByteEntry.toolText=toolTipString;
	lastByteEntry.toolText=toolTipString;
	responseGraphEntry.toolText=toolTipString;
	
	
	
	locGraphArray.push(locGraphEntry);
	dnsGraphArray.push(dnsGraphEntry);
	connectGraphArray.push(connectGraphEntry);
	firstByteGraphArray.push(firstByteEntry);
	lastByteGraphArray.push(lastByteEntry);
	responseGraphArray.push(responseGraphEntry);

	locNm.push(locname);
	avail.push(availability);
	resIp.push(resolvedIP);
	reasonArr.push(reason);
	conLen.push(contentLength);
	downTm.push(downloadtime);
	
	if(resolvedIP.length==0)
	{
	    // When a website is not reachable we need a non-empty field as IP
		// Address.
	    resolvedIP="0.0.0.0";
	}		
	
	var loc_response=locname+"#:#"+availability+"#:#"+resolvedIP+"#:#"+reason+"#:#"+contentLength+"#:#"+dnsResolvedtime+"#:#"+conTimeValue+"#:#"+ttfbValue+"#:#"+responsetime+"#:#"+connectiontime+"#:#"+firstBytetime+"#:#"+downloadtime+"";// No	I18N
	// console.log("loc_response : "+loc_response);
	locations_url_response=locations_url_response.replace("locid="+locid,loc_response);
	// console.log("locations_url_response : "+locations_url_response);
	// console.log("Available Resp Count : "+availRespCount[reqId]+"
	// selectedLocationsLength "+ selectedLocationslength);
	if(availRespCount[reqId]==selectedLocationslength)
	{
	    drawGraph(selectedLocationslength,reqId);
	    response_data=locations_url_response;
	    response_data=JSON.stringify(cwadata);
	    globalURL=url;
	    //console.log("ResponseData : "+response_data);
	    var form = document.createElement("form");
	    form.setAttribute("method", "post");
	    form.setAttribute("action", "/tools/general/simpleTest.do");
	    form.appendChild(getnewFormElement("hidden","method","saveContent"));
	    form.appendChild(getnewFormElement("hidden","response_data",response_data));
	    form.appendChild(getnewFormElement("hidden","selectedLocationslength",selectedLocationslength));
	    form.appendChild(getnewFormElement("hidden","url",url));
	    form.appendChild(getnewFormElement("hidden","timestamp",timestamp));
	    form.appendChild(getnewFormElement("hidden","requestId",reqId));
	    document.body.appendChild(form);
	    getHtmlForForm(form,"savetest",form,url);
	    
	    showPreviousHistory("URL",url); //No I18N
	    
	}
    }              
}

function postwebsocketavailabilitydetails(result,url,selectedLocations,reqId)
{
	showWebsiteAvailabilityResultPage(url,reqId);		
	chartData[reqId]={};
	var cwadata=chartData[reqId];
	cwadata.loc=new Array();
	cwadata.dnsT=new Array();
	cwadata.conT=new Array();
	cwadata.handshakeT=new Array();
	cwadata.rspT=new Array();
	cwadata.locName=new Array();
	cwadata.avail=new Array();
	cwadata.resIp=new Array();
	cwadata.reason=new Array();
	cwadata.pingpongT=new Array();
	cwadata.reqId=reqId;
	cwadata.durl=url;
	cwadata.tooltype="WEBSOCKET";//NO I18N
	cwadata.timestamp=timestamp;
	
	var stackChart=null;
	// alert("Request Id : "+reqId+" Chart Array : "+chartArray.length);
	if(reqId >= chartArray.length)
	{
	    // alert("Settting up graphs . . . ");
	    FusionCharts.setCurrentRenderer('javascript');//NO I18N
	    FusionCharts.debugMode.enabled(true);
	    stackChart = new FusionCharts(fusionChartsURL,"stackChartId"+reqId,"630","296","1","1");//NO I18N
	    // FB.XFBML.parse();
	    stackChart.configure('LoadingText','Loading data please wait . . . ');//NO I18N
	    stackChart.configure('XMLLoadingText','Loading data please wait . . . ');//NO I18N
	    stackChart.configure('ParsingDataText','Loading data please wait . . . ');//NO I18N
	    stackChart.configure('ChartNoDataText','Loading data please wait . . . ');//NO I18N
	    stackChart.configure('RenderingChartText','Rendering chart please wait . . .');//NO I18N
	    stackChart.configure('InvalidXMLText','Invalid Data . . .');//NO I18N
	    stackChart.configure('LoadDataErrorText','Loading Data please wait . . .');//NO I18N
	    var jsonDataSkeleton='{"chart":{"caption":"Websocket Availability Metrics","xaxisname":"Locations","yaxisname":"Time (ms)","showvalues":"1","formatNumber":"1","formatNumberScale":"0","defaultAnimation":"1""bgColor":"F7F8F6","bgAlpha":"100","canvasBgColor":"F7F8F6", "canvasBgAlpha":"0"},"categories":[{"category":[{}],"dataset":[{"seriesname":"DNS","data":[{}]},{"seriesname":"Connect","data":[{}]},{"seriesname":"Handshake","data":[{}]},{"seriesname":"PingPong","data":[{}]}],"trendlines":{"line":[{"startvalue":"0","color":"91C728","displayvalue":""}]}}';//NO I18N
	    stackChart.render("id_graphContainer_div"+reqId);
	    chartArray[reqId] = stackChart;  
	}
	for (var i=0; i<selectedLocations.length; i++)
	{
	    addLocationLoadingRowForWebSocket(selectedLocations[i].value,reqId);
	    var form=document.createElement("form");
	    form.setAttribute("method", "post");
	    form.setAttribute("name","WebSiteLocationTest");
	    form.setAttribute("action", "/tools/action.do");
	    form.appendChild(getnewFormElement("hidden","execute","checkWebsocketAvailability"));//NO I18N
	    form.appendChild(getnewFormElement("hidden","locationid",selectedLocations[i].value));//NO I18N
	    form.appendChild(getnewFormElement("hidden","url",url));//NO I18N
	    form.appendChild(getnewFormElement("hidden","timestamp",timestamp));//NO I18N
	    form.appendChild(getnewFormElement("hidden","requestId",reqId));//NO I18N
	    document.body.appendChild(form);
	    getHtmlForForm(form,"postwebsocketResponse",selectedLocations[i].value,selectedLocations.length,reqId);
	} 
    
}

function postwebsocketResponse(result,locid,selectedLocationslength,reqId)
{
	availRespCount[reqId] = availRespCount[reqId] + 1;
    // alert("Result of output :: "+result.length+" Location Id : "+locid+"
	// Selected Locations Length : "+selectedLocationslength+" Request Id :
	// "+reqId);
    
    if(result.length==0)
    {
		// Update as timed out.
    	// alert("Inside result.length == 0");
		var locName=$('li input[value="'+locid+'"]').parent().text();
		// console.log("empty postResponse message received for location :
		// "+locid+" Location Name : "+locName);
		result="#ax_dnsResolvedtime=0&ax_responsetime=0&ax_locname="+locName+"&ax_downloadtime=0&ax_resolvedIp=&ax_handshaketime=0&ax_pingpongtime=0&ax_availability=0&ax_responsecode=TIMED-OUT&ax_url=YourDomain.com&ax_reason=TIMED-OUT&ax_connectiontime=0&"; // No I18N
		// return 0;
    }
    if(result.match("locid")!=-1)
    {
	// alert("Result : "+result);
	var timeoutHandle=timeoutHandleaArray[locid];
	clearTimeout(timeoutHandle);
	// console.log("Clearing timeout since response has already been received
	// Location : "+locid);
	var responsetime = getValue(result,'ax_responsetime');//NO I18N
	var responsecode = getValue(result,'ax_responsecode');//NO I18N
	var availability=getValue(result,'ax_availability');//NO I18N
	var resolvedIP=getValue(result,'ax_resolvedIp');//NO I18N
	var dnsResolvedtime=getValue(result,'ax_dnsResolvedtime')//NO I18N
	var connectiontime=getValue(result,'ax_connectiontime');//NO I18N
	var availabilityimage="/images/down_icon.gif";//NO I18N
	var handshaketime=getValue(result,'ax_handshaketime');//NO I18N
	var pingpongtime=getValue(result,'ax_pingpongtime');//NO I18N
	var reason=getValue(result,'ax_reason');//NO I18N
	var url=getValue(result,'ax_url');//NO I18N
	var locname = getValue(result,'ax_locname')//NO I18N
	
		
	// var locations=document.getElementById("locationid").value;
	var locations=locid;
	if(locations_url_response=="")
	{
	    for(var i=0;i<selectedLocationslength;i++)
	    {
	    	locations=locations.replace(",","locid=");
	    }
	    locations_url_response="locid="+locations;//NO I18N
    }
	var conTimeValue=connectiontime;
	
	if(reason=="OK")
	{
	    responsecode=reason;
	    if(topdivdata)
	    {
	    	topdivdata=false;
	    	var urltrim=$.trim(url);
			var urllen=urltrim.length;
			if(urllen >33)
			{
				var sliceurl=urltrim.slice(0,33);
				$('#id_url').html('Result URL: '+sliceurl+'.....'); // No I18N
				$('#id_url').attr('title',url); // No I18N
			}
			else
			{
			$('#id_url').html('Result URL: '+url);
			}
	    	$('#id_loadtime').html('Load Time: '+getDatediff(reqTs,new Date()));
	    	var dateStr=getDateString(true);
	    	$('#id_reqtime').html('Tested on: '+dateStr);
	    }
	    $('#id_locn'+reqId+""+locid).text(locname);
		$('#id_sc'+reqId+""+locid).html('<b>'+responsecode+'</b>');
		$('#id_ip'+reqId+""+locid).text(resolvedIP);
		$("#id_ip"+reqId+""+locid).css("text-align","left");// No I18N
		$('#id_dnsT'+reqId+""+locid).text(getLocaleFormattedNumber(dnsResolvedtime));
		$('#id_dnsT'+reqId+""+locid).css("text-align","right");// No I18N
		$('#id_conT'+reqId+""+locid).text(getLocaleFormattedNumber(connectiontime));
		$('#id_conT'+reqId+""+locid).css("text-align","right");// No I18N
		$('#id_handshakeT'+reqId+""+locid).text(getLocaleFormattedNumber(handshaketime));
		$('#id_handshakeT'+reqId+""+locid).css("text-align","right");// No I18N
		$('#id_pingpongT'+reqId+""+locid).text(getLocaleFormattedNumber(pingpongtime));
		$('#id_pingpongT'+reqId+""+locid).css("text-align","right");// No I18N
		$('#id_respT'+reqId+""+locid).text(getLocaleFormattedNumber(responsetime));
		$('#id_respT'+reqId+""+locid).css("text-align","right");// No I18N
	}
	else 
	{
		// console.log("Inside else : reason :: "+result);
		if(responsetime==="0")
		{
			$('#id_locn'+reqId+""+locid).text(locname);
			$('#id_sc'+reqId+""+locid).html('<b>-</b>');
			//$('#id_sc'+reqId+""+locid).html('<b>'+reason+'</b>');
			$('#id_ip'+reqId+""+locid).html('<b>'+reason+'</b>');
			$("#id_ip"+reqId+""+locid).css("width","605px");
			$("#id_ip"+reqId+""+locid).attr('class',"floatleft dlfont9l pad5");
			$('#id_dnsT'+reqId+""+locid).remove();
			$('#id_conT'+reqId+""+locid).remove();
			$('#id_handshakeT'+reqId+""+locid).remove();
			$('#id_pingpongT'+reqId+""+locid).remove();
			//$('#id_respt'+reqId+""+locid).text("-"); // No I18N
		}
		else {
			$('#id_locn'+reqId+""+locid).text(locname);
			$('#id_sc'+reqId+""+locid).html('<b>'+responsecode+'</b>');
			$('#id_ip'+reqId+""+locid).text(resolvedIP);
			$('#id_dnsT'+reqId+""+locid).text(getLocaleFormattedNumber(dnsResolvedtime));
			$('#id_conT'+reqId+""+locid).text(getLocaleFormattedNumber(connectiontime));
			$('#id_handshakeT'+reqId+""+locid).text(getLocaleFormattedNumber(handshaketime));
			$('#id_pingpongT'+reqId+""+locid).text(getLocaleFormattedNumber(pingpongtime));
			$('#id_respT'+reqId+""+locid).text(getLocaleFormattedNumber(responsetime));
		}
	}
	
	

	var cwadata=chartData[reqId];
	var locGraphArray=cwadata.loc;
	var dnsGraphArray=cwadata.dnsT;
	var connectGraphArray=cwadata.conT;
	var handshakeGraphArray=cwadata.handshakeT;
	var pingpongGraphArray=cwadata.pingpongT;
	var responseGraphArray=cwadata.rspT;
	var locNm=cwadata.locName;
	var avail=cwadata.avail;
	var resIp=cwadata.resIp;
	var reasonArr=cwadata.reason;
	
	// Populate Graph Array Elements for later graph drawing.
	var locGraphEntry={},dnsGraphEntry={},connectGraphEntry={},handshakeEntry={},pingpongEntry={},responseGraphEntry={};
	locGraphEntry.label=locname.substr(0,3);
	locGraphEntry.toolText=" ";
	dnsGraphEntry.value=dnsResolvedtime;
	connectGraphEntry.value=connectiontime;
	handshakeEntry.value=handshaketime;
	pingpongEntry.value=pingpongtime;
	responseGraphEntry.value=responsetime;
	// COMPUTING Custom Tooltip Text
	var toolTipString="Location: "+locname+"{br}DNS: "+getLocaleFormattedNumber(dnsResolvedtime)+"{br}"+"Connection: "+getLocaleFormattedNumber(connectiontime)+"{br}"+"handshake: "+getLocaleFormattedNumber(handshaketime)+"{br}"+"pingpong: "+getLocaleFormattedNumber(pingpongtime)+"{br}"+"Response: "+getLocaleFormattedNumber(responsetime); //No I18N

	dnsGraphEntry.toolText=toolTipString;
	connectGraphEntry.toolText=toolTipString;
	handshakeEntry.toolText=toolTipString;
	pingpongEntry.toolText=toolTipString;
	responseGraphEntry.toolText=toolTipString;
	
	
	
	locGraphArray.push(locGraphEntry);
	dnsGraphArray.push(dnsGraphEntry);
	connectGraphArray.push(connectGraphEntry);
	handshakeGraphArray.push(handshakeEntry);
	pingpongGraphArray.push(pingpongEntry);
	responseGraphArray.push(responseGraphEntry);

	locNm.push(locname);
	avail.push(availability);
	resIp.push(resolvedIP);
	reasonArr.push(reason);
	
	if(resolvedIP.length==0)
	{
	    // When a website is not reachable we need a non-empty field as IP
		// Address.
	    resolvedIP="0.0.0.0";
	}		
	
	var loc_response=locname+"#:#"+availability+"#:#"+resolvedIP+"#:#"+reason+"#:#"+dnsResolvedtime+"#:#"+handshaketime+"#:#"+responsetime+"#:#"+connectiontime+"#:#"+pingpongtime+"";// No	I18N
	// console.log("loc_response : "+loc_response);
	locations_url_response=locations_url_response.replace("locid="+locid,loc_response);
	// console.log("locations_url_response : "+locations_url_response);
	// console.log("Available Resp Count : "+availRespCount[reqId]+"
	// selectedLocationsLength "+ selectedLocationslength);
	if(availRespCount[reqId]==selectedLocationslength)
	{
	    drawGraphForWebSocket(selectedLocationslength,reqId);
	    response_data=locations_url_response;
	    response_data=JSON.stringify(cwadata);
	    globalURL=url;
	    //console.log("ResponseData : "+response_data);
	    var form = document.createElement("form");
	    form.setAttribute("method", "post");
	    form.setAttribute("action", "/tools/action.do");
	    form.appendChild(getnewFormElement("hidden","execute","saveContent"));//NO I18N
	    form.appendChild(getnewFormElement("hidden","response_data",response_data));//NO I18N
	    form.appendChild(getnewFormElement("hidden","selectedLocationslength",selectedLocationslength));//NO I18N
	    form.appendChild(getnewFormElement("hidden","url",url));//NO I18N
	    form.appendChild(getnewFormElement("hidden","timestamp",timestamp));//NO I18N
	    form.appendChild(getnewFormElement("hidden","requestId",reqId));//NO I18N
	    document.body.appendChild(form);
	    getHtmlForForm(form,"savetest",form,url);//NO I18N
	    
	    showPreviousHistory("WEBSOCKET",url); //No I18N
	    
	}
    }              
}
function showPreviousHistory(tooltype,webhosturl)
{
	   var response = $.getAjaxResponse("GET","/tools/view-history.html?toolName="+tooltype+"&webhosturl="+webhosturl);//No I18N
		$("#previousResultDiv").html(response);
		$("#previousResultDiv").show();
}

function savetest(result,frm)
{
    var linkurltest = getValue(result,'ax_linkurltest');
    if(typeof(linkurltest) == "undefined") 
    {
    	$('#shareresult').hide();
    }
    else {
    	document.getElementById('permalink').value=linkurltest;
    	$('#shareresult').show();
    }
    globalPermaLink=linkurltest;
    var fbLikeDiv=document.getElementById("fbLikeTd");
    var tweetLikeDiv=document.getElementById("tweetdiv");
    var gplusLikeDiv=document.getElementById("gplusdiv");
    addFacebookLikeButton(linkurltest,fbLikeDiv);
    addTweetLikeButton(linkurltest,tweetLikeDiv);
    addgplusLikeButton(linkurltest,tweetLikeDiv);
}

function addFacebookLikeButton(linkToBeShared,parentElt)
{
    // COMMENT: Create a facebook DIV element.
	var elts=$('.fb-share-button');
	if(elts.size()>0)
	{
		return;
	}
    var fbLikeDiv=document.createElement("div");
    fbLikeDiv.setAttribute("class","fb-share-button");
    fbLikeDiv.setAttribute("data-href",linkToBeShared);
    fbLikeDiv.setAttribute("style","padding-left:5px;padding-right:5px;");
    fbLikeDiv.setAttribute("data-width","100");
    fbLikeDiv.setAttribute("data-type","button_count");
    parentElt.appendChild(fbLikeDiv);
    FB.XFBML.parse(); // Re-generate the facebook like based on
						// <likeToBeShared> url
}

function addTweetLikeButton(linkToBeShared,parentElt)
{
	var elts=$('.twitter-share-button');
	if(elts.size()>0)
	{
		return;
	} 
    var tweetAnchor=document.createElement("A");
    tweetAnchor.setAttribute("href",hs_var+"twitter.com/share");	 
    tweetAnchor.setAttribute("class","twitter-share-button");	
    tweetAnchor.setAttribute("data-url",linkToBeShared); // replace with
															// linkurltest
    tweetAnchor.setAttribute("data-via","Site24x7");
    tweetAnchor.setAttribute("data-lang","en");	
    tweetAnchor.setAttribute("data-text","Site24x7");
    tweetAnchor.setAttribute("data-size","medium");	
    tweetAnchor.setAttribute("data-related","anywhereTheJavascriptAPI");
    tweetAnchor.setAttribute("data-count","horizontal");
    tweetAnchor.innerHTML="Tweet";
    parentElt.appendChild(tweetAnchor);
    twttr.widgets.load();
}

function addgplusLikeButton(linkToBeShared,parentElt)
{
	Gplusdiv=document.createElement("div");
	Gplusdiv.setAttribute("style","width:100px");
	Gplusdiv.setAttribute("class","g-plus");
	Gplusdiv.setAttribute("data-action","share");
	Gplusdiv.setAttribute("data-annotation","bubble");
	Gplusdiv.setAttribute("data-href",linkToBeShared);
	parentElt.appendChild(Gplusdiv);
	var newLink = document.createElement('link');
	newLink.href = linkToBeShared;
	document.getElementsByTagName("head")[0].appendChild(newLink);
	var my_script = document.createElement('script');
	my_script.setAttribute('src','https://apis.google.com/js/platform.js');
	document.head.appendChild(my_script);
	
}

function doDnsLookup()
{
    var form = document.createElement("form");
    requestCount = requestCount + 1;
    var requestId= requestCount;
    form.setAttribute("name","dnslookup");
    form.setAttribute("method", "post");
    form.setAttribute("action", "/tools/action.do");
    form.appendChild(getnewFormElement("hidden","execute","checkAccessKeyword"));// No I18N
    form.appendChild(getnewFormElement("hidden","Lookup","Analyze"));// No I18N
    var hostNameElt=document.getElementsByName("hostName");
    var urlElt=document.getElementsByName("url");
    if(typeof(hostNameElt)=='undefined' || hostNameElt.length==0 || hostNameElt==null)
    {
	// This form does not have hostNameElt. // Try url
	url=$('input[name="url"]').val();
	if(url.indexOf(hp_var)>=0)
	{
	    url=url.substring(7);
	}
	else if(url.indexOf(hs_var)>=0)
	{
	    url=url.substring(8);
	}
	hostNameElt=getnewFormElement("hidden","hostName",url);
	hostNameElt.setAttribute("id","hostName");
	form.appendChild(hostNameElt);
    }
    else {
	var newFormElt=hostNameElt[0].cloneNode(true);
	form.appendChild(newFormElt);
    }
    doLookup(form);
}

function doLookup(frm)
{
    // If form does not have execute, send it.
	reqTs=new Date();
    url=frm.hostName.value;
    if(url=='')
    {
		alert(beanmsg["empty_domain"]);
		formInputElt.select();
		return;
    }
    if(isDomainValid(url)===false)
	{
		alert("Please enter a valid domain name.");
		document.getElementById("url").focus();
		return;
	}
    requestCount  = requestCount + 1;	
    getHtmlForForm(frm, "checkAccessforDNS",frm,requestCount);
}

function checkAccessforDNS(result,frm,requestId){
		if(document.getElementById('requestId')==null) {
				frm.appendChild(getnewFormElement("hidden","requestId",requestId));// No I18N
		}
		if(document.getElementById('timestamp')==null) {
			frm.appendChild(getnewFormElement("hidden","timestamp",timestamp));// No I18N
		}
	    var hostName=frm.hostName.value;
		showCommonResultPage(hostName);
		var dnsResultContainer=document.getElementById("dnsResultContainer");
		var dnsResultNode=dnsResultContainer.cloneNode(true);
		dnsResultNode.setAttribute("id","dnsResultContainer"+requestId);
		pElt = dnsResultNode.children[0].children[0].children[0];
		pElt.innerHTML="DNS Analysis Results: "+getDateString(true);
		var hdrElt=dnsResultNode.children[0].children[1].children[0];
		$('#id_loadtime').html('Load Time: '+getDatediff(reqTs,new Date())); // No I18N
		hdrElt.innerHTML='DNS Results: <img style="margin-left: 10px;" src="" + animImage + ""/>';
		var dataElt=dnsResultNode.children[0].children[2];
		dataElt.setAttribute("id","locResult"+requestId);	
		var graphSpaceDiv=document.getElementById("id_result_graph_space");
		insertAfter(graphSpaceDiv,dnsResultNode);
		dnsResultNode.style.display='block';
		frm.execute.value="getDnsRecordType";
		getHtmlForForm(frm, "postLookup",hostName,frm,requestId);// No I18N
		$('.grptext').show();
		// postLookup(xxx,hostName,frm,requestId);
}

function postLookup(result,hostName,frm,requestId)
{
	var dnsResultNode=document.getElementById("dnsResultContainer"+requestId);
	var hdrElt=dnsResultNode.children[0].children[1].children[0];
    if(result==null || result=='undefined' || $.trim(result).length==0)
    {
    	hdrElt.innerHTML='DNS Results : Fetching results failed for host : '+ hostName;
    	return;
    }	
    hdrElt.innerHTML='DNS Results : '+ hostName;
    var dataElt=dnsResultNode.children[0].children[2];
    var styleStr=dataElt.style;
    styleStr = styleStr + '; overflow-y: scroll;';
    result=result.replace("DNS Report for "+hostName,"");
    dataElt.innerHTML=result+"</td><td class='datatdborder' align='left' style='border-right:1px dotted #CCCCCC;'></td><td class='datatdborder' align='left'></td></tr></tbody></table></td></tr></tbody></table></td></tr></tbody></table></div>"; // No I18N
    dataElt.style.display='block';
    globalToolType="DNS"; // No I18N
	var form = document.createElement("form");
	form.setAttribute("method", "post");
	form.setAttribute("action", "/tools/action.do?");
	form.appendChild(getnewFormElement("hidden","execute","saveInnerHtmlforTools"));// No I18N
	form.appendChild(getnewFormElement("hidden","tools_response",result));// No I18N
	form.appendChild(getnewFormElement("hidden","url",hostName));// No I18N
	form.appendChild(getnewFormElement("hidden","monitortype","DNS"));// No I18N
	form.appendChild(getnewFormElement("hidden","requestId",requestId));// No I18N
	form.appendChild(getnewFormElement("hidden","timestamp",timestamp));// No I18N
	document.body.appendChild(form);
	getHtmlForForm(form,"dnsLookupdet",hostName);  // No I18N
}

function dnsLookupdet(result,hostName)
{
	showPreviousHistory("DNS",hostName);  //No I18N
    document.getElementById('permalink').value = getUrlValue(result,'axUrl_permalink');// No I18N
    globalPermaLink=getUrlValue(result,'axUrl_permalink');// No I18N
    $('#shareresult').show();
	var permaLinkTextbox=document.getElementById('permalink').value;
	addFacebookLikeButton(permaLinkTextbox,document.getElementById('fbLikeTd'));
    addTweetLikeButton(permaLinkTextbox,document.getElementById('tweetdiv'));
    addgplusLikeButton(permaLinkTextbox,document.getElementById("gplusdiv"));
    
}

function findIp(frm)
{
    if(frm.iphostname.value=='')
    {
	alert(beanmsg["empty_domain"]);
	frm.iphostname.select();
	return;
    }
    getHtmlForForm(frm,"checkAccessKeyforIP",frm);
}

function getFireBug(frm)
{
	reqTs=new Date();
    if(frm.urlLink.value=='')
    {
		alert(beanmsg["input_url"]);
		frm.urlLink.select();
		return;
    }
    if(isDomainValid(frm.urlLink.value)===false)
	{
		alert("Please enter a valid domain name."); // No I18N
		document.getElementById("urlLink").select();
		return;
	}
    setCookie("tools.site24x7.domain",frm.urlLink.value);
    postaccesskeyword(frm);
}

function showFireBugResultPage()
{
    // alert('showFireBugResultPage . . .');
    $('#id_other_commands_top').hide();
    $('#id_other_commands_below').hide();
    
    // $('#id_quicktest_space').hide();
    $('.grptext').hide();
    var awbRC=document.getElementById('awbResultContainer');
    var awbRC_hdr=awbRC.children[0].children[0];
    // var awbRC_result=awbRC.children[0].children[2];
    awbRC.style.display='block';
    awbRC.children[0].style.display='block';
    awbRC_hdr.style.display='block';
    // awbRC_result.style.display='block';
    var graphSpaceDiv=document.getElementById("id_result_graph_space");
    insertAfter(graphSpaceDiv,awbResultContainer);
}

function postaccesskeyword(frm){
		var hostname = document.getElementById('urlLink').value;
		//var index = hostname.indexOf(hp_var);
		if(hostname.indexOf(hs_var)<0 && hostname.indexOf(hp_var)<0)
		{
		    hostname = hp_var+hostname;
		    document.getElementById('urlLink').value=hostname;
		}
		$('#id_quicktest_div').show();
		$('#id_quicktest_div').hide();
		showCommonResultPage(hostname);	
		$('#id_loadtime').html('Load Time: '+getDatediff(reqTs,new Date())); // No I18N
		showFireBugResultPage();
		hideDiv('webpagesummary');
		hideDiv('shareresult');
		setTimeout(function() {
			sendDelayedRequest(frm,hostname);
		}, 50);
}

function showAWP(data)
{
    var hdrNode=document.getElementById('awbResultHdr');
    hdrNode.style.display='none';
    var titleElt=$('#awburl');
    titleElt=titleElt.children[0];
    var title=toolsmsg.fullwebpageresults; 
    // alert(title);
    var titleStr=title.replace("{0}",getDateString(true)); // No I18N
    // alert(titleStr);
    $('#awburl').html(titleStr);
    $('#awburl').show();
    $('#awbResult').show();
    $('#firebugResult').html(data);
}

function sendDelayedRequest(frm,hostname)
{
    frm.execute.value='doWebPageAnalyze';
    var ajaxResp = $.getAsyncPostAjaxResponse(showAWP,frm.action,$(frm).serialize());// No I18N
    $('#firebugResult').html(ajaxResp);// No I18N
    var hdrNode=document.getElementById('awbResultHdr');
    hdrNode.style.display='block';
    $('#loadingdiv').show();// No I18N
}

/* Port in Tools Begins */
function doPortTest(frm,ranword)
{	
    count_port=0;
    var requestId=requestCount;
    requestCount = requestCount + 1;
    if(document.getElementById('requestId')==null) {
    	frm.appendChild(getnewFormElement("hidden","requestId",requestId));
    }
    doToolsTest(frm,"",'PORT',requestId);// No I18N
}

function showPortLoadingPage(url,selectedLocations,requestId)
{
    var count = selectedLocations.length;
    var portResult=document.getElementById('portResultContainer').children[0];
    var pn=portResult.cloneNode(true);
    $(pn).attr('id','portResultContainer'+requestId);
    var pnHdg=pn.children[0];
    var pnHdr=pn.children[1];
    var pnRow=pn.children[2];
    pnHdg.children[0].innerHTML='Port availability results: '+getDateString(true);
    for(var i=0;i<count;i++)
    {
	var pnRowNode=pnRow.cloneNode(true);
	$(pnRowNode).attr('id','portRow_'+selectedLocations[i].value+"_"+requestId);
	pnRowNode.children[0].innerHTML='<img style="float:left; margin-left: 10px;" src="" + animImage + ""/>  Loading . . .';
	pnRowNode.children[1].innerHTML='';
	pnRowNode.children[2].innerHTML='';
	pn.appendChild(pnRowNode);
	$(pnRowNode).show();
    }
    var graphSpaceDiv=document.getElementById("id_result_graph_space");
    insertAfter(graphSpaceDiv,pn);
    $(pn).show();
}

function postPortOutputdetails(result,url,selectedLocations,requestId)
{
    var locations=document.getElementById("locationid").value;
    if(row_values=="")
    {
    	for(var i=0;i<selectedLocations.length;i++)
    	{
    		locations=locations.replace(",","locid="); 
    	}
    }
	setCookie("tools.site24x7.domain",url);	
	showCommonResultPage(url);	
	$('#shareresult').hide();
	// $('.grptext').show();
	$('#id_loadtime').html('Load Time: '+getDatediff(reqTs,new Date()));
	showPortLoadingPage(url,selectedLocations,requestId);
	// showLoading('availabilitydetails');//No I18N
	var port = document.getElementById('port').value;
	if(port=='')
	{
		port = "80";
	}
	for (var i=0; i<selectedLocations.length; i++)
	{
	    var form = document.createElement("form");
	    form.setAttribute("method", "post");
	    form.setAttribute("action", "/tools/general/simpleTest.do");
	    form.appendChild(getnewFormElement("hidden","method","doPortTest"));// No I18N
	    form.appendChild(getnewFormElement("hidden","locid",selectedLocations[i].value));// No I18N
	    form.appendChild(getnewFormElement("hidden","url",url));// No I18N
	    form.appendChild(getnewFormElement("hidden","port",port));// No I18N
	    form.appendChild(getnewFormElement("hidden","timestamp",timestamp));// No I18N
	    form.appendChild(getnewFormElement("hidden","requestId",requestId));// No I18N
	    document.body.appendChild(form);
	    getHtmlForForm(form,"postPortResponse",selectedLocations[i],selectedLocations.length,requestId);
	}
}

function postPortResponse(result,locid,locationLength,requestId)
{
    count_port++;
    if(result.match("locid")!=-1)
    {
	var responsetime = getValue(result,'ax_responsetime');// No I18N
	var availability=getValue(result,'ax_availability');// No I18N
	var availabilityimage="/images/down_icon.gif";// No I18N
	var locname = getValue(result,'ax_locname');// No I18N
	var url = getValue(result,'ax_url');// No I18N
	var port = getValue(result,'ax_port');// No I18N
    globalURL=url;
	if(availability==1)
	{
	    reason="Available";// No I18N
	    availabilityimage="<img src='/images/up_icon.gif'/>";
	}
	else if(availability==0)
	{
	    availabilityimage="<img src='/images/down_icon.gif'/>";
	}
	else
	{
	    availabilityimage="&nbsp;-";// No I18N
	}
	var rowNode=document.getElementById("portRow_"+locid.value+"_"+requestId);
	rowNode.children[0].innerHTML=locname;
	rowNode.children[1].innerHTML=availabilityimage;
	rowNode.children[2].innerHTML=responsetime;
	//console.log(" Count _port == "+count_port+" Locations Length : "+locationLength);
  
	if(count_port==locationLength)
	{
		// Populate the permalink.
		$('#shareresult').show();
		var proto=location.protocol;
		var hostname=location.host;
		var portno=location.port;
		$('#permalink').val(proto+"//"+hostname+"/public/t/results-"+timestamp+".html");
		var permaLinkTextbox=proto+"//"+hostname+"/public/t/results-"+timestamp+".html";
		globalToolType="PORT";
		showPreviousHistory("PORT",url);  //No I18N
		globalPermaLink=permaLinkTextbox;
		addFacebookLikeButton(permaLinkTextbox,document.getElementById('fbLikeTd'));
	    addTweetLikeButton(permaLinkTextbox,document.getElementById('tweetdiv'));
		addgplusLikeButton(permaLinkTextbox,document.getElementById("gplusdiv"));
	}
    }
}

function doToolsTest(frm,ranword,monitortype,requestId)
{
    var selectedLocations=new Array();
    var url=document.getElementById("url").value;
    var url2='-';  //No I18N
    var locations=document.getElementsByName("locations");
    var defloc=document.getElementsByName("defloc");
    var locationIdArray=new Array();
    reqTs=new Date();

    if(monitortype=='WEBSITE-COMPARE')
    {
    	url2=document.getElementById("url2").value;
    	if(url2=='')
        {
    		alert(beanmsg.input_url);
    		frm.url.select();
    		return;
        }
    }

    
    if(url=='')
    {
		alert(beanmsg["input_url"]);
		frm.url.select();
		return;
    }
    
    if(monitortype=='PORT')
    {
		var port=document.getElementById("port").value;
		if(!trimString(frm.port.value).length > 0)
		{
			alert(beanmsg["port_portnumber_check"]);
			frm.port.select();
			return;
		}
		if(isNaN(frm.port.value))
		{
			alert(beanmsg["portvalue_check"]);
			frm.port.select();
			return;
		}
		if(isDomainValid(url)===false)
		{
			alert("Please enter a valid domain name.");
			frm.port.select();
			return;
		}
    }
    
    var count=0;
    if(url!='')
    {
        for (var j=0; j < locations.length; j++)
        {
            if (locations[j].checked)
            {
            	if(selectedLocations.indexOf(locations[j].value)==-1)
            	{
            	    // alert("Adding SelectedLocations :: "+locations[j].value);
                    selectedLocations[count]=locations[j];
                    locationIdArray[count]=locations[j].value;
                    count++;
            	}
            }
        }
		if(count==0)
		{
			alert(beanmsg["input_location"]);
			return false;
		}
		document.getElementById('locationid').value=locationIdArray;
		if(monitortype=='PORT')
		{
			getHtmlForForm(frm,"postPortOutputdetails",url,selectedLocations,requestId);// No I18N
		}
		else if(monitortype=='PING')
		{
			getHtmlForForm(frm,"postPingOutputdetails",url,selectedLocations,requestId);// No I18N
		}
		else if(monitortype=='URL')
		{
			url=trimUrl(url);
			if(isDomainValid(url)===false)
			{
				alert("Please enter a valid domain name.");
				document.getElementById("url").focus();
				return;
			}
			var index = url.indexOf(hp_var);
			
			if(url.indexOf(hs_var)<0 && url.indexOf(hp_var)<0 )
			{
				url = hp_var+url;
			}
			requestCount = requestCount + 1;
			availRespCount[requestCount]=0;
			setCookie("tools.site24x7.domain",url);
			if(document.getElementById('requestId')==null) {
				frm.appendChild(getnewFormElement("hidden","requestId",requestCount));
			}
			getHtmlForForm(frm,"postavailabilitydetails",url,selectedLocations,requestCount);
		}
		else if(monitortype=='WEBSOCKET')
		{
			url = trimUrl(url);
			if(isDomainValidWebsocket(url)===false)
			{
				alert("Please enter a valid domain name.");//NO I18N
				document.getElementById("url").focus();
				return;
			}
			var index = url.indexOf(wss_var);
			
			if(url.indexOf(wss_var)<0 && url.indexOf(ws_var)<0 )
			{
				url = wss_var+url;
			}
			requestCount = requestCount + 1;
			availRespCount[requestCount]=0;
			setCookie("tools.site24x7.domain",url);//NO I18N
			if(document.getElementById('requestId')==null) {
				frm.appendChild(getnewFormElement("hidden","requestId",requestCount));//NO I18N
			}
			getHtmlForForm(frm,"postwebsocketavailabilitydetails",url,selectedLocations,requestCount);//NO I18N
			
		}
		else if(monitortype=='WEBSITE-COMPARE')
		{
			url=trimUrl(url);
			url2=trimUrl(url2);
			if(isDomainValid(url)===false)
			{
				alert("Please enter a valid domain name."); // No I18N
				document.getElementById("url").focus();
				return;
			}
			if(isDomainValid(url2)===false)
			{
				alert("Please enter a valid domain name."); // No I18N
				document.getElementById("url2").focus();
				return;
			}
			var index = url.indexOf(hp_var);
			
			if(url.indexOf(hs_var)<0 && url.indexOf(hp_var)<0 )
			{
				url = hp_var+url;
			}
			requestCount = requestCount + 1;
			availRespCount[requestCount]=0;
			setCookie("tools.site24x7.domain",url); // No I18N
			if(document.getElementById('requestId')==null) {
				frm.appendChild(getnewFormElement("hidden","requestId",requestCount)); // No I18N
			}
			getHtmlForForm(frm,"postwebsitecomparisondetails",url,selectedLocations,requestCount); // No I18N
			
			index = url2.indexOf(hp_var);
			
			if(url2.indexOf(hs_var)<0 && url2.indexOf(hp_var)<0 )
			{
				url2 = hp_var+url2;
			}
			requestCount = requestCount + 1;
			availRespCount[requestCount]=0;
			setCookie("tools.site24x7.domain",url2); // No I18N
			if(document.getElementById('requestId')==null) {
				frm.appendChild(getnewFormElement("hidden","requestId",requestCount)); // No I18N
			}
			getHtmlForForm(frm,"postwebsitecomparisondetails",url2,selectedLocations,requestCount); // No I18N
			$('#domain1').text(url);
			$('#domain2').text(url2);
		}
    }
}

function isIpAddress(domain)
{
	var numArr=domain.split(".");
	if(numArr.length==4 || numArr.length==6) {
		// check for Ip Address
		for(i=0;i<numArr.length;i++)
		{
            if(numArr[i].trim().length===0)
            {
                return false;
            }
			var num=parseInt(numArr[i]);
			if((i===0 && num===0) || num<0 || num>255 || isNaN(num)===true)
            {
                return false;
            }
		}
	}
	else {
		return false;
	}
	return true;
}

function validateDomainField(dName)
{
    dName = dName.substring(0, dName.indexOf('/'));
	if(dName.length>67)
	{
		return false;
	}	
	var regex=/[^a-zA-Z0-9\-\.\/#]/
	var str=dName.match(regex);
	if(str===null)
	{
	    return true;
	}    
    return false;
}

function isDomainValid(url)
{
	var domainurl="";
	if(url==='undefined' || url==='null' || url===null || url===undefined)
	{
		return false;
	}
	else if($.trim(url).length===0)
	{
		return false;
	}	
	else if(url.indexOf(hp_var)===0)
	{
		var a=document.createElement("a")
		a.href=url;
		domain=a.hostname;
		if( validateDomainField(domain) || isIpAddress(domain))
		{
			return true;
		}
		return false;
	}	
	else if(url.indexOf(hs_var)===0)
	{
		var a=document.createElement("a")
		a.href=url;
		domain=a.hostname;
		if( validateDomainField(domain) || isIpAddress(domain))
		{
			return true;
		}
		return false;
	}
	else if(url.indexOf(wss_var)===0)
	{
		var a=document.createElement("a")
		a.href=url;
		domain=a.hostname;
		if( validateDomainField(domain) || isIpAddress(domain))
		{
			return true;
		}
		return false;
	}	
	else if(url.indexOf(ws_var)===0)
	{
		var a=document.createElement("a")
		a.href= url;
		domain=a.hostname;
		if( validateDomainField(domain) || isIpAddress(domain))
		{
			return true;
		}
		return false;
	}
	else if(validateDomainField(url))
	{
		return true;
	}
	else if(isIpAddress(url))
	{
			return true;
	}
	return false;
}

function isDomainValidWebsocket(url)
{
	var domainurl="";
	if(url==='undefined' || url==='null' || url===null || url===undefined)
	{
		return false;
	}
	else if($.trim(url).length===0)
	{
		return false;
	}	
	else if(url.indexOf(wss_var)===0)
	{
		var a=document.createElement("a")
		a.href=url;
		domain=a.hostname;
		if( validateDomainField(domain) || isIpAddress(domain))
		{
			return true;
		}
		return false;
	}	
	else if(url.indexOf(ws_var)===0)
	{
		var a=document.createElement("a")
		a.href= url;
		domain=a.hostname;
		if( validateDomainField(domain) || isIpAddress(domain))
		{
			return true;
		}
		return false;
	}
	else if(validateDomainField(url))
	{
		return true;
	}
	else if(isIpAddress(url))
	{
			return true;
	}
	return false;
}


function trimUrl(url)
{
	if(url==='undefined' || url===null)
	{
		return "";
	}
	return $.trim(url);
}



function doWebsiteTest()
{
    reqTs=new Date();
    var selectedLocations=new Array();
    fusionChartsURL="../FusionCharts/StackedColumn3D.swf";	
    var url=$('input[class="websitename"]').val();
    if(url===undefined || url==='undefined')
	{
		url=$('input[class="hostnameonly"]').val();

	}
    url=trimUrl(url);
    if(url.indexOf(hp_var)===-1)
    {
        url=hp_var+url;  // No I18N
    }
    var locations=document.getElementsByName("locations");
    //console.log("locations : "+locations.length);
    if(typeof(locations)=='undefined' || locations==null || locations.length==0) 
    {
	//console.log("There are no locations ");
	// CREATE locations list
	var locList=new Array();
	locations=new Array();
	locList.push("1");
	locList.push("3");
	locList.push("11");
	locList.push("15");
	locList.push("40");
	for(i=0;i<locList.length;i++)
	{
	    var chkBxElt=document.createElement("input");
	    chkBxElt.setAttribute("type","checkbox");
	    chkBxElt.setAttribute("name","locations");
	    chkBxElt.setAttribute("value",locList[i]);
	    chkBxElt.setAttribute("type","checkbox");
	    chkBxElt.checked=true;
	    locations.push(chkBxElt);
	}
    }		
    var form = document.createElement("form");
    requestCount = requestCount + 1;
    var requestId= requestCount;
    //console.log("url : "+url);
    form.setAttribute("name","checkAvailability");
    form.setAttribute("method", "post");
    form.setAttribute("action", "/tools/general/simpleTest.do");
    form.appendChild(getnewFormElement("hidden","method","loadLocNames"));// No I18N
    form.appendChild(getnewFormElement("hidden","monitortype","URL"));// No I18N
    form.appendChild(getnewFormElement("hidden","requestId",requestId));
    form.appendChild(getnewFormElement("hidden","timestamp",timestamp));
    var urlElt=getnewFormElement("hidden","url",url);
    form.appendChild(urlElt);
    var locationsList="";
    var count=0;
    for (var j=0; j < locations.length; j++)
    {
        if (locations[j].checked)
        {
	    var locationElt=document.createElement("input");
	    locationElt.setAttribute("type","checkbox");
	    locationElt.setAttribute("name","locations");
	    locationElt.setAttribute("checked","checked");
	    locationElt.setAttribute("value",locations[j].value);
	    locationElt.checked=true;
	    form.appendChild(locationElt);
	    locationsList=locationsList.concat(((locationsList.length == 0)?(locations[j].value):(","+locations[j].value)));
	    //console.log("Locations List : "+locationsList);
	    selectedLocations[count]=locations[j];
	    count++;
        }
    }
    var locIdInputElt=getnewFormElement("hidden","locationid",locationsList);
    locIdInputElt.setAttribute("id","locationid");
    form.appendChild(locIdInputElt);
    availRespCount[requestId]=0;
    getHtmlForForm(form,"postavailabilitydetails",url,selectedLocations,requestId);// No I18N
}

function doWebsocketTest()
{
    reqTs=new Date();
    Tooltype="WEBSOCKET"; //No I18N
    var selectedLocations=new Array();
    fusionChartsURL="../FusionCharts/StackedColumn3D.swf";	//No I18N
    var url=$('input[class="websitename"]').val();
    if(url===undefined || url==='undefined')
	{
		url=$('input[class="hostnameonly"]').val();

	}
    url=trimUrl(url);
    if(isDomainValidWebsocket(url))
    	{
    	 
    	 if(url.indexOf(wss_var)===-1&&url.indexOf(ws_var)===-1)
    	    {
    	        url=wss_var+url;  // No I18N
    	    }
    	}
    else
    	{
    	alert("Please enter a valid domain name."); //No I18N
		frm.url.select();
		return;
    	}
    	
    
   
    var locations=document.getElementsByName("locations");
    //console.log("locations : "+locations.length);
    if(typeof(locations)=='undefined' || locations==null || locations.length==0) 
    {
	//console.log("There are no locations ");
	// CREATE locations list
	var locList=new Array();
	locations=new Array();
	locList.push("1");
	locList.push("3");
	locList.push("11");
	locList.push("15");
	locList.push("40");
	for(i=0;i<locList.length;i++)
	{
	    var chkBxElt=document.createElement("input");
	    chkBxElt.setAttribute("type","checkbox");
	    chkBxElt.setAttribute("name","locations");
	    chkBxElt.setAttribute("value",locList[i]);
	    chkBxElt.setAttribute("type","checkbox");
	    chkBxElt.checked=true;
	    locations.push(chkBxElt);
	}
    }		
    var form = document.createElement("form");
    requestCount = requestCount + 1;
    var requestId= requestCount;
    //console.log("url : "+url);
    form.setAttribute("name","checkWebsocketAvailability");
    form.setAttribute("method", "post");
    form.setAttribute("action", "/tools/action.do");
    form.appendChild(getnewFormElement("hidden","execute","checkWebsocketAvailability"));// No I18N
    form.appendChild(getnewFormElement("hidden","monitortype","WEBSOCKET"));// No I18N
    form.appendChild(getnewFormElement("hidden","requestId",requestId)); //No I18N
    form.appendChild(getnewFormElement("hidden","timestamp",timestamp)); //No I18N
    var urlElt=getnewFormElement("hidden","url",url); //No I18N 
    form.appendChild(urlElt);
    var locationsList="";
    var count=0;
    for (var j=0; j < locations.length; j++)
    {
        if (locations[j].checked)
        {
	    var locationElt=document.createElement("input");
	    locationElt.setAttribute("type","checkbox");
	    locationElt.setAttribute("name","locations");
	    locationElt.setAttribute("checked","checked");
	    locationElt.setAttribute("value",locations[j].value);
	    locationElt.checked=true;
	    form.appendChild(locationElt);
	    locationsList=locationsList.concat(((locationsList.length == 0)?(locations[j].value):(","+locations[j].value)));
	    //console.log("Locations List : "+locationsList);
	    selectedLocations[count]=locations[j];
	    count++;
        }
    }
    var locIdInputElt=getnewFormElement("hidden","locationid",locationsList); //No I18N
    locIdInputElt.setAttribute("id","locationid");
    form.appendChild(locIdInputElt);
    availRespCount[requestId]=0;
    getHtmlForForm(form,"postwebsocketavailabilitydetails",url,selectedLocations,requestId);// No I18N
}




function showCheckWebsiteLoadingResult(result,url,selectedLocations,requestId)
{
    
}

function insertAfter(refNode,newNode) 
{
    refNode.parentNode.insertBefore(newNode, refNode.nextSibling);
}

function showPingLoadingResult(result,url,selectedLocations,reqCount)
{
    var graphSpaceDiv=document.getElementById("id_result_graph_space");
    var responseDiv=document.getElementById("id_response_div");
    var pingResult=document.createElement("DIV");
    pingResult.innerHTML=result;
    insertAfter(graphSpaceDiv,pingResult);
    $(pingResult).slideDown(1000);
    count_ping=0;
    for (var i=0; i<selectedLocations.length; i++)
    {
		var form = document.createElement("form");
		form.setAttribute("method", "post");
		form.setAttribute("action", "/tools/general/simpleTest.do");
		form.appendChild(getnewFormElement("hidden","method","doPingTest"));// No I18N
		form.appendChild(getnewFormElement("hidden","locid",selectedLocations[i]));// No I18N
		form.appendChild(getnewFormElement("hidden","url",url));// No I18N
		form.appendChild(getnewFormElement("hidden","requestId",reqCount));
		form.appendChild(getnewFormElement("hidden","timestamp",timestamp));
		document.body.appendChild(form);
		getHtmlForForm(form,"updatePingRowResult",selectedLocations[i],selectedLocations.length,reqCount);
    }
}

function doPingWebsite()
{
    var selectedLocations=new Array();
    var oUrlElt=document.getElementsByName("url");
    if(typeof(oUrlElt)=='undefined' || oUrlElt==null || oUrlElt.length==0)
    {
		urlElt=getnewFormElement("hidden","url",url);
		urlElt=document.forms[0].appendChild(urlElt);
		urlElt.setAttribute("id","url");
		url=document.getElementById("hostName").value;
    }
    else {
    	url=document.getElementById("url").value;
    }
    var locations=document.getElementsByName("locations");
	//console.log("locations : "+locations.length);
    if(typeof(locations)=='undefined' || locations==null || locations.length==0) 
    {
    	//console.log("There are no locations ");
    	// CREATE locations list
    	var locList=new Array();
    	locations=new Array();
		locList.push("1");
		locList.push("3");
		locList.push("12");
		locList.push("15");
		locList.push("40");
		for(i=0;i<5;i++)
		{
			var chkBxElt=document.createElement("input");
			chkBxElt.setAttribute("type","checkbox");
			chkBxElt.setAttribute("name","locations");
			chkBxElt.setAttribute("value",locList[i]);
			chkBxElt.setAttribute("type","checkbox");
			chkBxElt.checked=true;
			locations.push(chkBxElt);
		}
    }
    var form = document.createElement("form");
    var requestId=requestCount;
    // alert("Request Id : "+requestId);
    form.setAttribute("name","checkPingAvailability");
    form.setAttribute("method", "post");
    form.setAttribute("action", "/tools/general/simpleTest.do");
    form.appendChild(getnewFormElement("hidden","method","loadLocNames"));// No  I18N
    form.appendChild(getnewFormElement("hidden","monitortype","PING"));// No I18N
    form.appendChild(getnewFormElement("hidden","requestId",requestId));
    form.appendChild(getnewFormElement("hidden","timestamp",timestamp));
    //form.appendChild(getnewFormElement("hidden","url",url));  //No I18N
    requestCount = requestCount + 1;
    // Get all selected Locations;
    var locationsList="";
    var count=0;
    //console.log("Final locations length : "+locations.length);
    for (var j=0; j < locations.length; j++)
    {
        if (locations[j].checked)
        {
			var locationElt=document.createElement("input");
			locationElt.setAttribute("type","checkbox");
			locationElt.setAttribute("name","locations");
			locationElt.setAttribute("checked","checked");
			locationElt.setAttribute("value",locations[j].value);
			locationElt.checked=true;
			form.appendChild(locationElt);
			locationsList=locationsList.concat(((locationsList.length == 0)?(locations[j].value):(","+locations[j].value)));
			//console.log("Locations List : "+locationsList);
			selectedLocations[count]=locations[j].value;
			count++;
        }
    }
    var locIdInputElt=getnewFormElement("hidden","locationid",locationsList);
    locIdInputElt.setAttribute("id","locationid");
    url=trimUrl(url);
    if(url.indexOf(hs_var)>=0) {
    	url=url.substring(8);
    }
    else if(url.indexOf(hp_var)>=0)
    {
    	url=url.substring(7);
    }
    if(url.length==0)
    {
    	url="www.zoho.com";
    }
    var urlElt=getnewFormElement("hidden","url",url);
    form.appendChild(urlElt);
    form.appendChild(locIdInputElt);// No I18N
    getHtmlForForm(form,"showPingLoadingResult",url,selectedLocations,requestId);// No I18N
}

function updatePingRowResult(result,locid,locationLength,reqCount)
{
    var reqCountStr=new String(reqCount);
    count_ping++;
    var responsetime = getValue(result,'ax_responsetime');// No I18N
    var roundtriptime = getValue(result,'ax_rtt');// No I18N
    var min_roundtriptime = getValue(result,'ax_minrtt');// No I18N
    var max_roundtriptime = getValue(result,'ax_maxrtt');// No I18N
    var availability=getValue(result,'ax_availability');// No I18N
    var resolvedip=getValue(result,'ax_resolvedip');// No I18N
    var packetloss = getValue(result,'ax_packetloss');// No I18N
    var availabilityimage="/images/down_icon.gif";// No I18N
    var locname = getValue(result,'ax_locname');// NO I18N
    var url = getValue(result,'ax_url'); // NO I18N
    locid=reqCountStr+""+locid+"";
    if(availability==1)
    {
    	reason="Available";// No I18N
    	availabilityimage="<img src='/images/up_icon.gif'/>";
    }
    else if(availability==0)
    {
    	availabilityimage="<img src='/images/down_icon.gif'/>";
    }
    else
    {
    	availabilityimage="&nbsp;-";// No I18N
    }
    if(responsetime==-1)
    {
    	document.getElementById("resptime"+locid).innerHTML='-&nbsp;&nbsp;';// No I18N
    }
    else
    {
		var resptime=addCommas(responsetime);
		document.getElementById("resptime"+locid).innerHTML=resptime+"&nbsp;&nbsp;";// No I18N
    }
    var respElt=document.getElementById("resptime"+locid);
    respElt.removeAttribute("id");
    if(packetloss==-1)
    {
	document.getElementById("ploss"+locid).innerHTML='-&nbsp;&nbsp;';// No I18N
    }
    else
    {
		var resptime=addCommas(packetloss);
		document.getElementById("ploss"+locid).innerHTML=resptime+"&nbsp;&nbsp;";// No I18N
    }
    var plossElt=document.getElementById("ploss"+locid);
    plossElt.removeAttribute("id");
    if(roundtriptime==0)
    {
    	document.getElementById("rtt"+locid).innerHTML='-&nbsp;&nbsp;';// No I18N
    }
    else
    {
		var resptime=addCommas(roundtriptime);
		document.getElementById("rtt"+locid).innerHTML=resptime;
    }
    var rttElt=document.getElementById("rtt"+locid);
    rttElt.removeAttribute("id");
    if(min_roundtriptime==0)
    {
    	document.getElementById("minrtt"+locid).innerHTML='-&nbsp;&nbsp;';// No I18N
    }
    else
    {
		var resptime=addCommas(min_roundtriptime);
		document.getElementById("minrtt"+locid).innerHTML=resptime;
    }
    var minrttElt=document.getElementById("minrtt"+locid);
    minrttElt.removeAttribute("id");
    if(max_roundtriptime==0)
    {
    	document.getElementById("maxrtt"+locid).innerHTML='-&nbsp;&nbsp;';// No I18N
    }
    else
    {
	var resptime=addCommas(max_roundtriptime);
	document.getElementById("maxrtt"+locid).innerHTML=resptime;
    }
    var maxrttElt=document.getElementById("maxrtt"+locid);
    maxrttElt.removeAttribute("id");
    
    var resipElt=document.getElementById("resolvedip"+locid)
    resipElt.innerHTML=resolvedip+"&nbsp;&nbsp";// No I18N
    resipElt.removeAttribute("id");
    var statusElt=document.getElementById("status"+locid)
    statusElt.innerHTML=availabilityimage;
    statusElt.removeAttribute("id");
    var locresElt=document.getElementById("locres"+locid)
    locresElt.innerHTML=locname;
    locresElt.removeAttribute("id");
    
    row_values = row_values.concat([locname,availabilityimage,resolvedip,packetloss,min_roundtriptime,max_roundtriptime,roundtriptime,responsetime]);
    if(count_ping==locationLength)
    {
    	// Only update permalink.
		if(window.location.port.trim().length==0)
		{
			permalinkString=hs_var+window.location.hostname+"/public/t/results-"+timestamp+".html"; // No I18N
		}	
		else {
			permalinkString=hs_var+window.location.hostname+":"+window.location.port+"/public/t/results-"+timestamp+".html"; // No I18N
		}
		globalPermaLink=permalinkString;
		globalToolType="PING";
		$('#permalink').val(permalinkString);
		if(!$('#shareresult').is(':visible'))
		{
			$('#shareresult').show();
		}
		showPingLoadingResult("PING",url);  //No I18N
		addFacebookLikeButton(permalinkString ,document.getElementById('fbLikeTd'));
	    addTweetLikeButton(permalinkString,document.getElementById('tweetdiv'));
	    addgplusLikeButton(permalinkString,document.getElementById("gplusdiv"));
    }
}


/* Ping in Tools Begins */
function doPingTest(frm,ranword)
{
    if(isDomainValid(frm.url.value)===false)
	{
		alert("Please enter a valid domain name.");
		frm.url.select();
		return;
	}
    requestId=requestCount;
    requestCount = requestCount + 1;
    if(document.getElementById('requestId')==null) {
    	frm.appendChild(getnewFormElement("hidden","requestId",requestId));
        frm.appendChild(getnewFormElement("hidden","timestamp",timestamp));
    }
    doToolsTest(frm,ranword,'PING',requestId);// No I18N
}

function postPingOutputdetails(result,url,selectedLocations,requestId)
{
    	url=trimUrl(url);
    	setCookie("tools.site24x7.domain",url);
		showCommonResultPage(url);
		$('#id_result_graph_space').show();
		$('.grptext').show();
		$('#id_loadtime').html('Load Time: '+getDatediff(reqTs,new Date()));
		var pingResultParent=document.getElementById("id_ping_result");
		var graphSpaceDiv=document.getElementById("id_result_graph_space");
		var responseDiv=document.getElementById("id_response_div");
		var pingResult=document.createElement("DIV");
		pingResult.innerHTML=result;
		insertAfter(graphSpaceDiv,pingResult);
		$(pingResult).slideDown(800);
		for (var i=0; i<selectedLocations.length; i++)
		{
			var form = document.createElement("form");
			form.setAttribute("method", "post");
			form.setAttribute("action", "/tools/general/simpleTest.do");
			form.appendChild(getnewFormElement("hidden","method","doPingTest"));// No I18N
			form.appendChild(getnewFormElement("hidden","locid",selectedLocations[i].value));// No I18N
			form.appendChild(getnewFormElement("hidden","url",url));// No I18N
			form.appendChild(getnewFormElement("hidden","requestId",requestId));
			form.appendChild(getnewFormElement("hidden","timestamp",timestamp));
			document.body.appendChild(form);
			//console.log("postPingOutputDetails :: "+timestamp+" request Id "+requestId+" Location  "+selectedLocations[i].value);
			getHtmlForForm(form,"postPingResponse",selectedLocations[i].value,selectedLocations.length,requestId);
		}
}

function postPingResponse(result,locid,locationLength,requestId)
{
    count_ping++;
    if(result.match("locid")!=-1)
    {
		var responsetime = getValue(result,'ax_responsetime');// No I18N
		var roundtriptime = getValue(result,'ax_rtt');// No I18N
		var min_roundtriptime = getValue(result,'ax_minrtt');// No I18N
		var max_roundtriptime = getValue(result,'ax_maxrtt');// No I18N
		var availability=getValue(result,'ax_availability');// No I18N
		var resolvedip=getValue(result,'ax_resolvedip');// No I18N
		var packetloss = getValue(result,'ax_packetloss');// No I18N
		var availabilityimage="/images/down_icon.gif";// No I18N
		var locname = getValue(result,'ax_locname');// NO I18N
		var url = getValue(result,'ax_url'); // NO I18N
		locid = requestId+""+locid;
		if(availability==1)
		{
			reason="Available";// No I18N
			availabilityimage="<img src='/images/up_icon.gif'/>";
		}
		else if(availability==0)
		{
			availabilityimage="<img src='/images/down_icon.gif'/>";
		}
		else
		{
			availabilityimage="&nbsp;-";// No I18N
		}
		if(responsetime==-1)
		{
			document.getElementById("resptime"+locid).innerHTML='-&nbsp;&nbsp;';// No I18N
		}
		else
		{
			var resptime=addCommas(responsetime);
			document.getElementById("resptime"+locid).innerHTML=resptime+"&nbsp;&nbsp;";// No I18N
		}
		if(packetloss==-1)
		{
			document.getElementById("ploss"+locid).innerHTML='-&nbsp;&nbsp;';// No I18N
		}
		else
		{
			var resptime=addCommas(packetloss);
			document.getElementById("ploss"+locid).innerHTML=resptime+"&nbsp;&nbsp;";// No I18N
		}
		if(roundtriptime==0)
		{
			document.getElementById("rtt"+locid).innerHTML='-&nbsp;&nbsp;';// No I18N
		}
		else
		{
			var resptime=addCommas(roundtriptime);
			document.getElementById("rtt"+locid).innerHTML=resptime;
		}
		if(min_roundtriptime==0)
		{
			document.getElementById("minrtt"+locid).innerHTML='-&nbsp;&nbsp;';// No I18N
		}
		else
		{
			var resptime=addCommas(min_roundtriptime);
			document.getElementById("minrtt"+locid).innerHTML=resptime;
		}
		if(max_roundtriptime==0)
		{
			document.getElementById("maxrtt"+locid).innerHTML='-&nbsp;&nbsp;';// No I18N
		}
		else
		{
			var resptime=addCommas(max_roundtriptime);
			document.getElementById("maxrtt"+locid).innerHTML=resptime;
		}
		document.getElementById("resolvedip"+locid).innerHTML=resolvedip+"&nbsp;&nbsp";// No I18N
		document.getElementById("status"+locid).innerHTML=availabilityimage;
		//console.log("Location Name : "+document.getElementById("locres"+locid).innerHTML);
		document.getElementById("locres"+locid).innerHTML=locname;
		row_values = row_values.concat([locname,availabilityimage,resolvedip,packetloss,min_roundtriptime,max_roundtriptime,roundtriptime,responsetime]);
		if(count_ping==locationLength)
		{
			// Only update permalink.
			if(window.location.port.trim().length==0)
			{
				permalinkString=hs_var+window.location.hostname+"/public/t/results-"+timestamp+".html"; // No I18N
			}	
			else {
				permalinkString=hs_var+window.location.hostname+":"+window.location.port+"/public/t/results-"+timestamp+".html"; // No I18N
			}
			globalPermaLink=permalinkString;
			globalToolType="PING";
			$('#permalink').val(permalinkString);
			if(!$('#shareresult').is(':visible'))
			{
				$('#shareresult').show();
			}
			showPreviousHistory("PING",url);  //No I18N
			addFacebookLikeButton(permalinkString ,document.getElementById('fbLikeTd'));
		    addTweetLikeButton(permalinkString,document.getElementById('tweetdiv'));
   		    addgplusLikeButton(permalinkString,document.getElementById("gplusdiv"));
		}
    }
}
/* Ping in Tools Ends */

function findIpAddress()
{
    var form=document.createElement("form");
    var url=$('input[class="websitename"]').val();
    if(url===undefined || url==='undefined')
	{
		url=$('input[class="hostnameonly"]').val();
	}
    url=trimUrl(url);
    form.setAttribute("name",'findip');
    form.setAttribute("action",'/tools/action.do');
    form.setAttribute("method",'post');
    form.appendChild(getnewFormElement("hidden","execute","checkAccessKeyword"));// No I18N
    form.appendChild(getnewFormElement("hidden","url",url));// No I18N
    form.appendChild(getnewFormElement("hidden","method","getDnsReports"));// No I18N
    form.appendChild(getnewFormElement("hidden","requestId",requestCount+1));// No I18N
    form.appendChild(getnewFormElement("hidden","timestamp",timestamp));// No I18N
    var hostNameElt=document.getElementById("hostName");
    var urlElt=document.getElementById("url");
    // alert("urlElt : "+urlElt.length+" type of "+typeof(urlElt));
    if(typeof(urlElt)=='undefined' || urlElt==null || urlElt.length==0)
    {
	
		urlElt=getnewFormElement("hidden","url",url);
		urlElt=document.forms[0].appendChild(urlElt);
		urlElt.setAttribute("id","url");
		// document.appendChild(urlElt);
		// alert("urlElt : "+urlElt);
    }
    if(hostNameElt==null) {
    	hostNameElt=getnewFormElement("hidden","hostName",url);// No I18N
    	var docFormElt=document.getElementsByTagName("form");
    	form.appendChild(hostNameElt);
    }
    getToolsResponse(form,'FINDIP');	
}

function getWebsiteLocation()
{
    // alert("getWebsiteLocation");
    var form=document.createElement("form");
    var url=$('input[class="websitename"]').val();
    if(url===undefined || url==='undefined')
	{
		url=$('input[class="hostnameonly"]').val();
	}
    form.setAttribute("name",'loc');
    form.setAttribute("action",'/tools/action.do');
    form.setAttribute("method","post");
    form.appendChild(getnewFormElement("hidden","execute","checkAccessKeyword"));// No I18N
    form.appendChild(getnewFormElement("hidden","url",url));// No I18N
    form.appendChild(getnewFormElement("hidden","isip","false"));// No I18N
    form.appendChild(getnewFormElement("hidden","method","getLocation"));// No I18N
    form.appendChild(getnewFormElement("hidden","requestId",requestCount+1));// No I18N
    form.appendChild(getnewFormElement("hidden","timestamp",timestamp));// No I18N
    var hostNameElt=document.getElementById("hostName");
    var urlElt=document.getElementById("url");
    // alert("urlElt : "+urlElt.length+" type of "+typeof(urlElt));
    if(typeof(urlElt)=='undefined' || urlElt==null || urlElt.length==0)
    {
	
		urlElt=getnewFormElement("hidden","url",url);
		urlElt=document.forms[0].appendChild(urlElt);
		urlElt.setAttribute("id","url");
		// document.appendChild(urlElt);
		// alert("urlElt : "+urlElt);
    }
    if(hostNameElt==null) {
		hostNameElt=getnewFormElement("hidden","hostName",url);// No I18N
		var docFormElt=document.getElementsByTagName("form");
		form.appendChild(hostNameElt);
    }
    getToolsResponse(form,"FINDLOCATION");
}

function checkHeartBleed()
{
    var form=document.createElement("form");
    var url=$('input[class="websitename"]').val();
    if(url===undefined || url==='undefined')
	{
		url=$('input[class="hostnameonly"]').val();
	}
    if (url.indexOf(http_var+"://")>=0)
    {
    	url=url.replace("http","https"); // No I18N
    }
    else if(url.indexOf(https_var+"://")<0)
    {
    	url = https_var+"://"+url; //No I18N
    }
    form.setAttribute("name",'loc');
    form.setAttribute("action",'/tools/action.do');
    form.setAttribute("method","post");
    form.appendChild(getnewFormElement("hidden","execute","checkAccessKeyword"));// No I18N
    form.appendChild(getnewFormElement("hidden","hostName",url));// No I18N
    form.appendChild(getnewFormElement("hidden","method","checkHeartbleed"));// No I18N
    form.appendChild(getnewFormElement("hidden","requestId",requestCount+1));// No I18N
    form.appendChild(getnewFormElement("hidden","timestamp",timestamp));// No I18N
    var hostNameElt=document.getElementById("hostName");
    var urlElt=document.getElementById("url");
    // alert("urlElt : "+urlElt.length+" type of "+typeof(urlElt));
    if(typeof(urlElt)=='undefined' || urlElt==null || urlElt.length==0)
    {
	
		urlElt=getnewFormElement("hidden","hostName",url); // No I18N
		urlElt=document.forms[0].appendChild(urlElt);
		urlElt.setAttribute("id","url"); // No I18N
		// document.appendChild(urlElt);
		// alert("urlElt : "+urlElt);
    }
    if(hostNameElt==null) {
		hostNameElt=getnewFormElement("hidden","hostName",url);// No I18N
		var docFormElt=document.getElementsByTagName("form");
		form.appendChild(hostNameElt);
    }
    getToolsResponse(form,"CHECKHB"); // No I18N
}

function getToolsResponse(frm,tooltype)
{
    var formInputElt,url;
    formInputElt=$('input[name="hostName"]');
    url=$('input[name="hostName"]').val();
    reqTs=new Date();
    if(typeof(url)=='undefined')
    {
		url=$('input[name="url"]').val();
		url=trimUrl(url);
		formInputElt=$('input[name="url"]');
    }
    if(url.indexOf(hp_var)>=0)
    {
    	url=url.substring(7);
    }
    else if(url.indexOf(hs_var)>=0)
    {
    	url=url.substring(8);
    }
    if(formInputElt.value=='')
    {
    	alert("Please enter a valid domain name.");
		formInputElt.select();
		return;
    }
    if(isDomainValid(url)===false)
	{
		alert("Please enter a valid domain name.");
		formInputElt.select();
		return;
	}
	requestCount = requestCount + 1;
	getHtmlForForm(frm,"toolsAccessKeyWord",frm,tooltype,requestCount);  // No I18N
}

function addFindIpResultOutlinePage(url,requestId)
{
    var outlineElt=document.getElementById('findipResultContainer').children[0];
    outlineElt=outlineElt.cloneNode(true); // Make a deep clone copy.
    outlineElt.setAttribute('id','findipResults'+requestId);
    var titleElt=outlineElt.children[0].children[0];
    titleElt.innerHTML='Find IP Results: '+getDateString(true);
    var hdrElt=outlineElt.children[1];
    var resRowElt=outlineElt.children[2];
    hdrElt.setAttribute("id",'fpResultHdr'+requestId);
    resRowElt.setAttribute("id",'fpRowTemplate'+requestId);
    var graphSpaceDiv=document.getElementById("id_result_graph_space");
    insertAfter(graphSpaceDiv,outlineElt);
    outlineElt.style.display='block';
}

function addFindLocResultOutlinePage(url,requestId)
{
    var outlineElt=document.getElementById('findLocResultContainer').children[0];
    outlineElt=outlineElt.cloneNode(true); // Make a deep clone copy.
    outlineElt.setAttribute('id','findLocResults'+requestId);
    var titleElt=outlineElt.children[0].children[0];
    titleElt.innerHTML='Find Location Results: '+getDateString(true);
    var hdrElt=outlineElt.children[1];
    hdrElt.setAttribute("id",'fpResultHdr'+requestId);
    hdrElt.children[0].innerHTML="Location information : "+url;
    var ccElt=outlineElt.children[2];
    var cnElt=outlineElt.children[3];
    var rgElt=outlineElt.children[4];
    var cyElt=outlineElt.children[5];
    
    ccElt.setAttribute("id",'fpRowTempCC'+requestId);
    cnElt.setAttribute("id",'fpRowTempCN'+requestId);
    rgElt.setAttribute("id",'fpRowTempRG'+requestId);
    cyElt.setAttribute("id",'fpRowTempCY'+requestId);

    // setAttribute("id",'fpRowTemplate'+requestId);
    var graphSpaceDiv=document.getElementById("id_result_graph_space");
    insertAfter(graphSpaceDiv,outlineElt);
    outlineElt.style.display='block';
}

function addScanSSLResultOutlinePage(url,tooltype,requestId)
{
    var sslLoadingElt=document.getElementById("sslScanLoading");
    var sslLoadingClone=sslLoadingElt.cloneNode(true);
    sslLoadingClone.setAttribute("id","sslScanResults"+requestId);
    var pElt=sslLoadingClone.children[0].children[0];
    $('#id_loadtime').html('Load Time: '+getDatediff(reqTs,new Date()));
    pElt.innerHTML="Scanning SSL : "+url+" <img style='margin-left: 10px;' src='" + animImage + "'/>";
    sslLoadingClone.style.display='block';
    var graphSpaceDiv=document.getElementById("id_result_graph_space");
    insertAfter(graphSpaceDiv,sslLoadingClone);
}

function addCheckSSLResultOutlinePage(url,tooltype,requestId)
{
    var sslLoadingElt=document.getElementById("sslLoading");
    var sslLoadingClone=sslLoadingElt.cloneNode(true);
    sslLoadingClone.setAttribute("id","sslResults"+requestId);
    var pElt=sslLoadingClone.children[0].children[0];
    $('#id_loadtime').html('Load Time: '+getDatediff(reqTs,new Date()));
    pElt.innerHTML="Checking SSL Certificate : "+url+" <img style='margin-left: 10px;' src='" + animImage + "'/>";
    sslLoadingClone.style.display='block';
    var graphSpaceDiv=document.getElementById("id_result_graph_space");
    insertAfter(graphSpaceDiv,sslLoadingClone);
}

function addCheckHBResultOutlinePage(url,tooltype,requestId)
{
    var hbLoadingElt=document.getElementById("hbLoading");
    var hbLoadingClone=hbLoadingElt.cloneNode(true);
    hbLoadingClone.setAttribute("id","hbResults"+requestId); // No I18N
    var pElt=hbLoadingClone.children[0].children[0];
    $('#id_loadtime').html('Load Time: '+getDatediff(reqTs,new Date())); // No I18N
    pElt.innerHTML="<div>Checking for Heartbleed Vulnerability : "+url+" <img style='margin-left: 10px;' src='" + animImage + "'/></div>"; // No I18N
    hbLoadingClone.style.display='block'; // No I18N
    var graphSpaceDiv=document.getElementById("id_result_graph_space"); // No I18N
    insertAfter(graphSpaceDiv,hbLoadingClone);
}

function addCheckSSL3ResultOutlinePage(url,tooltype,requestId)
{
	var hbLoadingElt=document.getElementById("ssl3Loading");
	var hbLoadingClone=hbLoadingElt.cloneNode(true);
	hbLoadingClone.setAttribute("id","ssl3Results"+requestId); // No I18N
	var pElt=hbLoadingClone.children[0].children[0];
	$('#id_loadtime').html('Load Time: '+getDatediff(reqTs,new Date())); // No I18N
	pElt.innerHTML="Checking for SSLv3 Poodle Vulnerability : "+url+" <img style='margin-left: 10px;' src='" + animImage + "'/>"; // No I18N
	hbLoadingClone.style.display='block'; // No I18N
	var graphSpaceDiv=document.getElementById("id_result_graph_space"); // No I18N
	insertAfter(graphSpaceDiv,hbLoadingClone);
}

function addTraceRouteResultPage(url,tooltype,requestId)
{
    if(document.getElementById("locationid")!=null)
    {
		var select = document.getElementById("locationid"); 
		var locationId = select.options[select.selectedIndex].value;
		document.getElementById('locationid').value = locationId;
    }
    hideGroupToolsOptions();
    var hostName=url;
    globalURL=url;
    var traceResultContainer=document.getElementById("traceResultContainer");
    var traceResultNode=traceResultContainer.cloneNode(true);
    traceResultNode.setAttribute("id","traceResultContainer"+requestId);
    pElt = traceResultNode.children[0].children[0].children[0];
    pElt.innerHTML="Generating traceroute results: "+getDateString(true);
    var hdrElt=traceResultNode.children[0].children[1].children[0];
    hdrElt.innerHTML='Generating traceroute results:  <img style="margin-left: 10px;" src="" + animImage + ""/>';
    $('#id_loadtime').html('Load Time: '+getDatediff(reqTs,new Date()));
    var dataElt=traceResultNode.children[0].children[2];
    dataElt.setAttribute("id","traceResult"+requestId);	
    var graphSpaceDiv=document.getElementById("id_result_graph_space");
    insertAfter(graphSpaceDiv,traceResultNode);
    traceResultNode.style.display='block';
    // addFacebookLikeButton(,document.getElementById('fbLikeTd'));
    // addTweetLikeButton(,document.getElementById('tweetdiv'));
}

function addAllTraceRouteResultPage(url,tooltype,requestId,selectedLocations)
{
    if(document.getElementById("locationid")!=null)
    {
		var select = document.getElementById("locationid"); 
		var locationId = select.options[select.selectedIndex].value;
		document.getElementById('locationid').value = locationId;
    }
    hideGroupToolsOptions();
    var hostName=url;
    globalURL=url;
    var traceResultContainer=document.getElementById("traceResultContainer");
    var traceResultNode=traceResultContainer.cloneNode(true);
    traceResultNode.setAttribute("id","traceResultContainer"+requestId);
    pElt = traceResultNode.children[0].children[0].children[0];
    pElt.innerHTML="Generating traceroute results: "+getDateString(true);
    var hdrElt=traceResultNode.children[0].children[1].children[0];
    hdrElt.innerHTML='Generating traceroute results:  <img style="margin-left: 10px;" src="" + animImage + ""/>';
    $('#id_loadtime').html('Load Time: '+getDatediff(reqTs,new Date()));
    var dataElt=traceResultNode.children[0].children[2];
    dataElt.setAttribute("id","traceResult"+requestId);	
    var graphSpaceDiv=document.getElementById("id_result_graph_space");
    insertAfter(graphSpaceDiv,traceResultNode);
    traceResultNode.style.display='block';
    // addFacebookLikeButton(,document.getElementById('fbLikeTd'));
    // addTweetLikeButton(,document.getElementById('tweetdiv'));
}

function hideGroupToolsOptions()
{
    $('#id_other_commands_top').hide();
    $('#id_other_commands_below').hide();
}

function addResultsToTopElement(newElement)
{
    var graphSpaceDiv=document.getElementById("id_result_graph_space");
    insertAfter(graphSpaceDiv,newElement);		
}

function addServerHeaderResultPage(url,tooltype,requestId)
{
    hideGroupToolsOptions();
    $('#id_loadtime').html('Load Time: '+getDatediff(reqTs,new Date())); // No I18N
    var outlineElt=document.getElementById('findSHResultContainer').children[0];
    var spacerElt=document.createElement("div");
    spacerElt.setAttribute("class","spacer"); // No I18N
    outlineElt=outlineElt.cloneNode(true); // Make a deep clone copy.
    outlineElt.setAttribute('id','findLocResults'+requestId); // No I18N
    var titleElt=outlineElt.children[0];
    titleElt.innerHTML='<div style="margin-top:9px; margin-left: 15px;">Loading Server Header details for '+url+'  <img src="" + animImage + ""/></div>'; // No I18N
    var shDate=outlineElt.children[2];
    var shHdr=outlineElt.children[3];
    var shCL=outlineElt.children[4];
    var shLoc=outlineElt.children[5];
    var shKA=outlineElt.children[6];
    var shCT=outlineElt.children[7];
    var shCN=outlineElt.children[8];
    var shSvr=outlineElt.children[9];
    
    shDate.setAttribute("id",'shDate'+requestId); // No I18N
    shHdr.setAttribute("id",'shHdr'+requestId); // No I18N
    shCL.setAttribute("id",'shCL'+requestId); // No I18N
    shLoc.setAttribute("id",'shLoc'+requestId); // No I18N
    shKA.setAttribute("id",'shKA'+requestId); // No I18N
    shCT.setAttribute("id",'shCT'+requestId); // No I18N
    shCN.setAttribute("id",'shCN'+requestId); // No I18N
    shSvr.setAttribute("id",'shSvr'+requestId); // No I18N
    addResultsToTopElement(outlineElt);
    addResultsToTopElement(spacerElt);
    outlineElt.style.display='block'; // No I18N
}

function addRedirectionResultPage(url,tooltype,requestId)
{
    hideGroupToolsOptions();
    $('#id_loadtime').hide();
    $('#id_quicktest_div').height("90px");
    var outlineElt=document.getElementById('findRCResultContainer').children[0];
    var spacerElt=document.createElement("div");
    spacerElt.setAttribute("class","spacer"); // No I18N
    outlineElt=outlineElt.cloneNode(true); // Make a deep clone copy.
	outlineElt.setAttribute('id','findLocResults'+requestId); // No I18N
	var titleElt=outlineElt.children[0];
    titleElt.innerHTML='<div style="margin-top:9px; margin-left: 15px;">Checking redirection for '+url+'  <img src="" + animImage + ""/></div>'; // No I18N
    
	addResultsToTopElement(outlineElt);
	addResultsToTopElement(spacerElt);
	outlineElt.style.display='block'; // No I18N
	var wrap = document.createElement('div');
	wrap.appendChild(outlineElt.cloneNode(true));
	globalToolType=tooltype;
}

function addCleanCodeResultPage(url,tooltype,requestId)
{
    hideGroupToolsOptions();
    var ccRH=document.getElementById('cleanCodeResultContainer');
    ccRH=ccRH.children[0].cloneNode(true);
    ccRH.setAttribute("id","cleanCode"+requestId);
    addResultsToTopElement(ccRH);
    $('#id_loadtime').html('Load Time: '+getDatediff(reqTs,new Date()));
    $(ccRH).show();
}

function addLynxViewResultPage(url,tooltype,requestId)
{
    hideGroupToolsOptions();
    var lvRH=document.getElementById('lynxViewResultContainer');
    lvRH=lvRH.children[0].cloneNode(true);
    lvRH.setAttribute("id","lynxView"+requestId);
    addResultsToTopElement(lvRH);
    $('#id_loadtime').html('Load Time: '+getDatediff(reqTs,new Date()));
    $(lvRH).show();
}

function addWebSpeedResultPage(url,tooltype,requestId)
{
    hideGroupToolsOptions();
    var wsRH=document.getElementById('webSpeedResultContainer');
    wsRH=wsRH.children[0].cloneNode(true);
    wsRH.setAttribute("id","webSpeed"+requestId);
    addResultsToTopElement(wsRH);
    $('#id_loadtime').html('Load Time: '+getDatediff(reqTs,new Date()));
    $(wsRH).show();
}

function addBrandReputationResultPage(url,tooltype,requestId) 
{
    hideGroupToolsOptions();
    var brandReputationH=document.getElementById('brandReputationResultContainer');
    brandReputationH=brandReputationH.children[0].cloneNode(true);
    brandReputationH.setAttribute("id","brandReputationResultContainer"+requestId);
    pElt = brandReputationH.children[0].children[0];
    pElt.innerHTML="Results as on: "+getDateString(true); //No I18N
    $('#id_loadtime').html('Load Time: '+getDatediff(reqTs,new Date()));
    addResultsToTopElement(brandReputationH);
    $(brandReputationH).show();
    showPreviousHistory('BRANDREPUTATION',url);  //No I18N
}

function addBrandReputationResults(result,tooltype,requestId) 
{
    $('#brandReputationResultHdr').hide();
    if (result == '') {
        $('#brandReputationStatusIcon').attr('src', '/images/attention-icon.png');
        $('#brandReputationStatusIcon').attr('title', "Please try again later.");
        $('#brandReputationReason').html("Please try again later");
        $('#brandReputationReason').css('color', '#f5ae10');  
        $('#brandReputationReason').css('vertical-align', 'middle');                             
        $('#brandReputationResultTable').hide();
        $('#brandReputationResult').show();
        $('#brandReputationResultStatus').show();
        return;
    }
    var data = result.split("#");
    var responseMap = {};
    if (data.length > 1) {
        data = data[1];
        var nvPairs = data.split('&');
        for (var i = 0; i < nvPairs.length; i++) {
            var nvPair = nvPairs[i].split('=');
            responseMap[nvPairs[i].substr(0,nvPairs[i].indexOf('='))] = nvPairs[i].substr(nvPairs[i].indexOf('=')+1);
        }
    }
    responseMap.ax_threatInfo = decodeURIComponent(responseMap.ax_threatInfo);
    responseMap.ax_Reason = decodeURIComponent(responseMap.ax_Reason);
    if (responseMap.ax_Status === 'FAILED') {
        $('#brandReputationStatusIcon').attr('src', '/images/attention-icon.png');
        $('#brandReputationStatusIcon').attr('title', responseMap.ax_Reason);
        $('#brandReputationReason').html(responseMap.ax_Reason);
        $('#brandReputationReason').css('font-weight', 'bold');
        $('#brandReputationReason').css('color', '#f5ae10');
        $('#brandReputationReason').css('vertical-align', 'middle');                               
        $('#brandReputationResultTable').hide();
        $('#brandReputationResult').show();
        $('#brandReputationResultStatus').show();
        return;
    }

    threatTypes = [
        { name: "Malware", type: "MALWARE" }, //No I18N
        { name: "Phishing and Deceptive", type: "SOCIAL_ENGINEERING" }, //No I18N
        { name: "Unwanted Software", type: "UNWANTED_SOFTWARE" } //No I18N
    ];

    platformTypes = [
        { name: "Windows", type: "WINDOWS", icon: "icon-windows3"}, //No I18N
        { name: "Linux", type: "LINUX", icon: "icon-linux"}, //No I18N
        { name: "Android", type: "ANDROID", icon: "icon-android"}, //No I18N
        { name: "macOS", type: "OSX", icon: "icon-apple"}, //No I18N
        { name: "iOS", type: "IOS", icon: "icon-apple"}, //No I18N
        { name: "Chrome", type: "CHROME", icon: "icon-chrome" } //No I18N
    ];
                   
    var row = '';   

    //new code logic starts    
    
    var resultTable = document.getElementById('brandReputationResultTable');
    var urls = responseMap.ax_threatInfo.split("_sep_");
    for (var i = 0; i<urls.length; i++) {
        var url = urls[i].split("_tmpsep_");
        var tr = resultTable.insertRow(resultTable.rows.length);
        tr.setAttribute('style', 'height: 38px;');
        var td = tr.insertCell(0);
        td.setAttribute('style', 'padding: 10px;');
        td.innerHTML = url[0];
        for (var threatIndex = 0; threatIndex<threatTypes.length; threatIndex++) {            
//            for (var platformIndex = 0; platformIndex < platformTypes.length; platformIndex++) {
                var td = tr.insertCell(resultTable.rows[i+1].cells.length);
//                if (platformIndex ==0) {
//                    td.setAttribute('style', 'border-left: 1px solid #d4d4d4;');                
//                }
                var span = document.createElement('span');
                span.setAttribute('name', (i+2)+'_'+threatTypes[threatIndex].type);
                span.style = 'opacity: 0.7; margin-left: 41.66666667%;';
                span.setAttribute('class', 'brand-icons-status  icon-stts-up');
                if (url[1] != undefined && url[1].includes(threatTypes[threatIndex].type)) {
                    span.title = url[0]+" - Suspect to be "+threatTypes[threatIndex].name;
                    span.setAttribute('class', 'brand-icons-status icon-stts-down');
                    span.removeAttribute('style');
                    span.style = 'margin-left: 41.66666667%;';
                }
                td.appendChild(span);
//            }
        }
    }  

    var rows, switching, i, x, y, move;
    needToIterate = true;
    while (needToIterate) {
        needToIterate = false;
        rows = resultTable.rows;
        for (i = 2; i < rows.length; i++) {
            move = false;
            var threatCountOfI = 0;
            var threatCountOfJ = 0;
            var tempDOMObjects = rows[i].querySelectorAll( "span[name$='_MALWARE'][class$='icon-stts-down']" );
            if (tempDOMObjects != null) {
                threatCountOfI += tempDOMObjects.length;
            }
            tempDOMObjects = rows[i].querySelectorAll( "span[name$='_SOCIAL_ENGINEERING'][class$='icon-stts-down']" );
            if (tempDOMObjects != null) {
                threatCountOfI += tempDOMObjects.length;
            }
            tempDOMObjects = rows[i].querySelectorAll( "span[name$='_UNWANTED_SOFTWARE'][class$='icon-stts-down']" );
            if (tempDOMObjects != null) {
                threatCountOfI += tempDOMObjects.length;
            }

            if ((i+1) < rows.length) {
	            tempDOMObjects = rows[i+1].querySelectorAll( "span[name$='_MALWARE'][class$='icon-stts-down']" );
	            if (tempDOMObjects != null) {
	                threatCountOfJ += tempDOMObjects.length;
	            }
	            tempDOMObjects = rows[i+1].querySelectorAll( "span[name$='_SOCIAL_ENGINEERING'][class$='icon-stts-down']" );
	            if (tempDOMObjects != null) {
	                threatCountOfJ += tempDOMObjects.length;
	            }
	            tempDOMObjects = rows[i+1].querySelectorAll( "span[name$='_UNWANTED_SOFTWARE'][class$='icon-stts-down']" );
	            if (tempDOMObjects != null) {
	                threatCountOfJ += tempDOMObjects.length;
	            }
            }
            if (threatCountOfI < threatCountOfJ) {
                move = true;
                break;
            }
        }
        if (move) {
            rows[i].parentNode.insertBefore(rows[i+1], rows[i]);
            needToIterate = true;
        }
    }

    var tr = resultTable.insertRow(resultTable.rows.length);
    tr.setAttribute('style', 'height: 38px;');
    var td = tr.insertCell(0);
    td.setAttribute('style', 'background: #FFFFFF;');
    td.setAttribute('colspan', '19');
    var span = document.createElement('span');
    span.innerHTML = googleAdvisory;
    span.setAttribute('style', 'float: right; margin: 10px;');
    td.appendChild(span);

    //new code logic end


    $('#brandReputationResult').append(row);

    $('#brandReputationResult').show();
    var permalink=responseMap.ax_permalink; //No I18N
    globalPermaLink=permalink;
    $('#permalink').val(permalink);
    $('#shareresult').show();        
    addFacebookLikeButton(permalink ,document.getElementById('fbLikeTd'));
    addTweetLikeButton(permalink,document.getElementById('tweetdiv'));
    addgplusLikeButton(permalink,document.getElementById("gplusdiv"));
}

function addTextRatioResultPage(url,tooltype,requestId) 
{
    hideGroupToolsOptions();
    var trRH=document.getElementById('textRatioResultContainer');
    trRH=trRH.children[0].cloneNode(true);
    trRH.setAttribute("id","textRatio"+requestId);
    $('#id_loadtime').html('Load Time: '+getDatediff(reqTs,new Date()));
    addResultsToTopElement(trRH);
    $(trRH).show();
}


function addBlacklistCheckResultOutlinePage(url,tooltype,requestId)
{
    var rblLoadingElt=document.getElementById("rblLoading");
    var rblLoadingClone=rblLoadingElt.cloneNode(true);
    rblLoadingClone.setAttribute("id","blacklistCheckResults"+requestId);
    var pElt=rblLoadingClone.children[0].children[0];
    $('#id_loadtime').html('Load Time: '+getDatediff(reqTs,new Date()));
    pElt.innerHTML="Checking blacklists : "+url+" <img style='margin-left: 10px;' src='" + animImage + "'/>";
    rblLoadingClone.style.display='block';
    var graphSpaceDiv=document.getElementById("id_result_graph_space");
    insertAfter(graphSpaceDiv,rblLoadingClone);
    showPreviousHistory('BLACKLISTCHECK',url);  //No I18N
}

function addBlacklistCheckResults(result,tooltype,requestId) 
{
    var data=getUrlValue(result,"axUrl_Toolsresponse");//NO I18N
    var domainName=getUrlValue(result,"axUrl_Url");//NO I18N
    var domainDetails="";
    var rblResults="";
    var rblResultsElt=document.getElementById("blacklistCheckResults"+requestId);
    $(rblResultsElt.children[0]).hide();
    var outlineElt=document.getElementById('blacklistCheckResultContainer');
    outlineElt=outlineElt.children[0].cloneNode(true);
    outlineElt.setAttribute("id","blacklistCheckResults"+requestId);
    outlineElt.children[0].style.display='block';
    titleElt = outlineElt.children[0].children[0].children[0];
    titleElt.innerHTML="Results as on: "+getDateString(true); //No I18N
    $('#id_loadtime').html('Load Time: '+getDatediff(reqTs,new Date()));
    addResultsToTopElement(outlineElt);
    $(outlineElt).show();
    if(typeof(result)==='undefined' || result===null || result.length===0){
        $('#rblErrorStatus').show();
        $('#rblResultHdr').hide();
        $('#rblDomainResultHdr').hide();
        $('#rblDomainResults').hide();
        $('#rblIpResultHdr').hide();
        $('#rblIpResults').hide();
        return;
    }
    if (data.length > 0) {
        rblResults = data.split('#:#');
        for (var i = 0; i < rblResults.length; i++) {
            var isDomainExists = rblResults[i].split('||')[0]==('-');
            if(isDomainExists){
                domainDetails=rblResults[i];
                rblResults.splice(i, 1);
                break;
            }
        }
    }
    ip_blacklists = [ {domain:"bl.invaluement.sip",name:"InvaluementSIP"},//NO I18N
        {domain:"bl.invaluement.sip24",name:"InvaluementSIP/24"},//NO I18N
        {domain:"dnsbl.sorbs.net",name:"SORBS"},//NO I18N
        {domain:"http.dnsbl.sorbs.net",name:"SORBS HTTP"},//NO I18N
        {domain:"misc.dnsbl.sorbs.net",name:"SORBS MISC"},//NO I18N
        {domain:"smtp.dnsbl.sorbs.net",name:"SORBS SMTP"},//NO I18N
        {domain:"socks.dnsbl.sorbs.net",name:"SORBS SOCKS"},//NO I18N
        {domain:"virus.dnsbl.sorbs.net",name:"SORBS VIRUS"},//NO I18N
        {domain:"web.dnsbl.sorbs.net",name:"SORBS WEB"},//NO I18N
        {domain:"zombie.dnsbl.sorbs.net",name:"SORBS ZOMBIE"},//NO I18N
        {domain:"sbl.spamhaus.org",name:"Spamhaus Block List"},//NO I18N
        {domain:"xbl.spamhaus.org",name:"Spamhaus Exploits Block List"},//NO I18N
        {domain:"pbl.spamhaus.org",name:"Spamhaus Policy Block List"}//NO I18N
    ];
    domain_blacklists =[
        {domain:"multi.surbl.org",name:"SURBL"},//NO I18N
        {domain:"bl.invaluement.uri",name:"InvaluementURI"}//NO I18N
    ];
    surbl_categories=["phish","malware","abuse","cracked"];//NO I18N
    domain_bl_with_category="multi.surbl.org";//NO I18N

    if(isDomainExists){
        var rblDomainResults = document.getElementById('rblDomainResults');
        for(var i=0;i<domain_blacklists.length;i++){
            var tr = rblDomainResults.insertRow(rblDomainResults.rows.length);
            var td = tr.insertCell(0);
            td.setAttribute('style','text-align:left;padding-left:5px;vertical-align:middle;height:25px');
            td.setAttribute('class','rblfont');
            td.innerHTML=domain_blacklists[i].name;
            var domainDetailsArr=domainDetails.split('||');
            var availablity=domainDetailsArr[1];
            var reason=domainDetailsArr[2];
            var blDetails=JSON.parse(domainDetailsArr[3]!="-"?domainDetailsArr[3]:"{}");
            var tdStatus = tr.insertCell(1);
            tdStatus.setAttribute('class','rblfont');
            var img = document.createElement("img");
            img.setAttribute('style','vertical-align:middle');
            img.setAttribute('height','20');
            if(blDetails[domain_blacklists[i].domain]!=undefined){
                img.setAttribute('src','/images/ssl-expired.svg');
            }else{
                img.setAttribute('src','/images/ssl-trusted.svg');
            }tdStatus.appendChild(img);
            for(var j=0;j<surbl_categories.length;j++){
            	if(domain_bl_with_category.includes(domain_blacklists[i].domain)){
            		var td = tr.insertCell(j+2);
                    td.setAttribute('class','rblfont');
                    var img = document.createElement("img");
                    img.setAttribute('style','vertical-align:middle');
                    img.setAttribute('height','20');
                    if(blDetails[domain_blacklists[i].domain]!=undefined&&blDetails[domain_blacklists[i].domain].includes(surbl_categories[j])){
                    	img.setAttribute('src','/images/ssl-expired.svg');
                    }else{
                    	img.setAttribute('src','/images/ssl-trusted.svg');
                    }td.appendChild(img);
                }else{
                	var td = tr.insertCell(j+2);
                    td.setAttribute('class','rblfont');
                    td.innerHTML="-";
                }
            }  
        }   
    }else{
        $('#rblDomainResults').hide();
        $('#rblDomainResultHdr').hide();
    }
    if(rblResults.length>0){
    	var blStatusTable = document.getElementById('rblIpResultsTable');
    	var ipaddressRowHdr=document.getElementById('ipaddressRowHdr');
    	var ipaddressRowHdrText=ipaddressRowHdr.innerHTML;
		if(isDomainExists){
			ipaddressRowHdr.innerHTML=ipaddressRowHdrText+"es of "+domainName;//NO I18N
	    } 
		ipaddressRowHdr.setAttribute('colspan',rblResults.length);
		var tr = blStatusTable.insertRow(blStatusTable.rows.length);
		for(var i=0;i<rblResults.length;i++){
			var td = tr.insertCell(i);
			td.setAttribute('style','vertical-align:middle;height:25px;padding-right:10px;padding-left:10px');
			if(i<(rblResults.length-1)){//not last cell
				td.setAttribute('class','rblfont border-right-bottom');
			}else{
				td.setAttribute('class','rblfont downborder');
			}td.innerHTML=rblResults[i].split('||')[0];
	    }
		for(var i=0;i<ip_blacklists.length;i++){
			var tr = blStatusTable.insertRow(blStatusTable.rows.length);
    		var td = tr.insertCell(0);
    		td.setAttribute('style', 'vertical-align:middle;text-align:left;white-space: nowrap;height:20px;padding-left:5px;position:sticky;left:0;border-right: solid 1px #d4d4d4;');
    		td.setAttribute('class','rblfont');
    		td.innerHTML=ip_blacklists[i].name;
            for(var j=0;j<rblResults.length;j++){
            	var td = tr.insertCell(j+1);
            	td.setAttribute('class','rblfont');
            	var img = document.createElement("img");
            	img.setAttribute('style','vertical-align:middle');
            	img.setAttribute('height','20');
                if (rblResults[j].substring(rblResults[j].lastIndexOf("||")).includes(ip_blacklists[i].domain)) {
                	img.setAttribute('src','/images/ssl-expired.svg');
                }else{
                	img.setAttribute('src','/images/ssl-trusted.svg');
                }td.appendChild(img);
            }
       }
    }else{
    	$('#rblIpResultHdr').hide();
    	$('#rblIpResults').hide();
    }
    var permalink=getUrlValue(result,"axUrl_permalink");//NO I18N
    globalPermaLink=permalink;
    $('#permalink').val(permalink);
    $('#shareresult').show();        
    addFacebookLikeButton(permalink ,document.getElementById('fbLikeTd'));
    addTweetLikeButton(permalink,document.getElementById('tweetdiv'));
    addgplusLikeButton(permalink,document.getElementById("gplusdiv"));
}

function addToolsOutlineResultPage(url,tooltype,requestId,selectedLocations)
{
    if(tooltype=="FINDIP")
    {
    	addFindIpResultOutlinePage(url,requestId);
    }
    else if(tooltype=="FINDLOCATION")
    {
	addFindLocResultOutlinePage(url,requestId);
    }
    else if(tooltype=="SCAN_SSL")
    {
    	addScanSSLResultOutlinePage(url,tooltype,requestId);
    }
    else if(tooltype=="CHECKSSL")
    {
    	addCheckSSLResultOutlinePage(url,tooltype,requestId);
    }
    else if(tooltype==="CHECKHB")
    {
    	addCheckHBResultOutlinePage(url,tooltype,requestId);
    }	
    else if(tooltype==="CHECKSSL3")
    {
    	addCheckSSL3ResultOutlinePage(url,tooltype,requestId);
    }
    else if(tooltype=="TRACEROUTE")
    {
    	addTraceRouteResultPage(url,tooltype,requestId);
    }
    else if(tooltype=="TRACEROUTEALL")
    {
    	addAllTraceRouteResultPage(url,tooltype,requestId,selectedLocations);
    }
    else if(tooltype=='SERVERHEADER')
    {
    	addServerHeaderResultPage(url,tooltype,requestId);
    }
    else if(tooltype=='REDIRECTIONCHECKER')
    {
    	addRedirectionResultPage(url,tooltype,requestId);
    }
    else if(tooltype=='CLEANCODE')
    {
    	addCleanCodeResultPage(url,tooltype,requestId);
    }
    else if(tooltype=='LYNXVIEW')
    {
    	addLynxViewResultPage(url,tooltype,requestId);
    }
    else if(tooltype=='BRANDREPUTATION')
    {
    	addBrandReputationResultPage(url,tooltype,requestId);
    }
    else if(tooltype=='WEBSPEED')
    {
    	addWebSpeedResultPage(url,tooltype,requestId);
    }	
    else if(tooltype=='TEXTRATIO')
    {
    	addTextRatioResultPage(url,tooltype,requestId);
    }	
    else if(tooltype=='BLACKLISTCHECK'){
        addBlacklistCheckResultOutlinePage(url,tooltype,requestId);
    }
}

function addAllTraceRouteResponse(result,locationId,requestId,tooltype) 
{
	var urlStatus=getUrlValue(result,"axUrl_Status");  //No I18N
	var traceResultNode=document.getElementById("traceResultContainer2");//+requestId);
	var container = traceResultNode.children[0];
	//var containerclone = container.cloneNode(true);
	var traceResultHeader=container.children[1];
	/*if(requestId === 2)
    {
    	$(traceResultHeader).hide();
    }*/
	//if(requestId === 2)
    {
		if(urlStatus==='FAILED')
		{
			var urlDomain=getUrlValue(result,"axUrl_Domain");  //No I18N
			var errorString=getUrlValue(result,"axUrl_Reason"); //No I18N
			var hdrString='<table align="center" class="logintableborder" style="border-bottom:none;" width="100%" cellpadding="0" cellspacing="0"><tbody><tr style="height: 37px;"><td class="columnheading" style="font-size: 15px;">TRACEROUTE_HEADER</td></tr><tr></tr></tbody></table>';
			hdrString = hdrString.replace(/TRACEROUTE_HEADER/g,errorString); 
			var headerClone = traceResultHeader.cloneNode(true);
			headerClone.innerHTML=hdrString;
			$(headerClone).attr('id', $(traceResultHeader).attr('id')+requestId);
			//headerClone.setAttribute("id", $(this).attr('id',traceResultHeader.id+requestId);
			container.appendChild(headerClone);
			//$(headerClone).show();
			//container.appendChild(traceResultHeader);
		    //traceResultNode.innerHTML+=hdrString;
			//addTraceRouteFailedResult(result,tooltype,requestId);
		}
		else
		{
			var outputStr=getUrlValue(result,"axUrl_traceRouteOutput");
		    var colHdr=getUrlValue(result,"axUrl_Columnvalues");
		    var tableDetails=getUrlValue(result,"axUrl_Tabledetails");
		    var permalink=getUrlValue(result,"axUrl_permalink");
		    globalPermaLink=permalink;
		    var splited_col = colHdr.split("#:#");
		    var tableSplit=tableDetails.split("#:#");
		    var websiteName=tableSplit[2].toString();
		    //$(traceResultHeader).hide();
		    var dataElt=container.children[2].cloneNode(true); // traceResult
		    var styleStr=dataElt.style;
		    styleStr = styleStr + '; overflow-y: scroll;';
		    var hdrString='<table align="center" class="logintableborder" style="border-bottom:none;" width="100%" cellpadding="0" cellspacing="0"><tbody><tr><td class="columnheading">TRACEROUTE_HEADER</td></tr><tr></tr></tbody></table><table class="logintableborder" width="100%" align="center" cellpadding="0" cellspacing="0"><tbody>RESULT_CONTENT</tbody></table>';
		    hdrString = hdrString.replace(/TRACEROUTE_HEADER/g,splited_col[0]);
		    hdrString = hdrString.replace(/RESULT_CONTENT/g,outputStr);
		    dataElt.innerHTML=hdrString;
		    dataElt.style.display='block';
		    container.appendChild(dataElt);
		}
    }
    dcFinishedLocCount++;
    //$(traceResultHeader).hide();
    //console.log("dcFinishedLocCount :: "+dcFinishedLocCount+" :: locCount :: "+locCount);
    if(dcFinishedLocCount == locCount)
    {
    	//console.log("hiding the header");
    	$(traceResultHeader).hide();
    }
	/*else
	{
		if(urlStatus==='FAILED')
		{
			var urlDomain=getUrlValue(result,"axUrl_Domain");  //No I18N
			var errorString=getUrlValue(result,"axUrl_Reason")+" "+urlDomain+" from location "+locationId; //No I18N
			var traceResultHeader=document.getElementById("traceResultHdr");
			var hdrString='<table align="center" class="logintableborder" style="border-bottom:none;" width="100%" cellpadding="0" cellspacing="0"><tbody><tr style="height: 37px;"><td class="columnheading" style="font-size: 15px;">TRACEROUTE_HEADER</td></tr><tr></tr></tbody></table>';
			hdrString = hdrString.replace(/TRACEROUTE_HEADER/g,errorString);
			traceResultHeader.innerHTML=hdrString;
		    //traceResultNode.innerHTML+=hdrString;
			//addTraceRouteFailedResult(result,tooltype,requestId);
		}
		else
		{
			var outputStr=getUrlValue(result,"axUrl_traceRouteOutput");
		    var colHdr=getUrlValue(result,"axUrl_Columnvalues");
		    var tableDetails=getUrlValue(result,"axUrl_Tabledetails");
		    var permalink=getUrlValue(result,"axUrl_permalink");
		    globalPermaLink=permalink;
		    var splited_col = colHdr.split("#:#");
		    var tableSplit=tableDetails.split("#:#");
		    var websiteName=tableSplit[2].toString();
		    $(traceResultHeader).hide();
		    var dataElt=container.children[2]; // traceResult
		    var styleStr=dataElt.style;
		    styleStr = styleStr + '; overflow-y: scroll;';
		    var hdrString='<table align="center" class="logintableborder" style="border-bottom:none;" width="100%" cellpadding="0" cellspacing="0"><tbody><tr><td class="columnheading">TRACEROUTE_HEADER</td></tr><tr></tr></tbody></table><table class="logintableborder" width="100%" align="center" cellpadding="0" cellspacing="0"><tbody>RESULT_CONTENT</tbody></table>';
		    hdrString = hdrString.replace(/TRACEROUTE_HEADER/g,splited_col[0]);
		    hdrString = hdrString.replace(/RESULT_CONTENT/g,outputStr);
		    dataElt.innerHTML=hdrString;
		    dataElt.style.display='block';	
		}
	}*/
	
	
	//clone.setAttribute("id", container.id+requestId);
		
    //$('#permalink').val(permalink);
    //$('#shareresult').show();
    //showPreviousHistory("TRACEROUTE",websiteName);  //No I18N
    //addFacebookLikeButton(permalink ,document.getElementById('fbLikeTd'));
    //addTweetLikeButton(permalink,document.getElementById('tweetdiv'));
    //addgplusLikeButton(permalink,document.getElementById("gplusdiv"));
}

function addAllTraceRouteResults(url,selectedLocations,requestId,tooltype) 
{
	var requestId = 2;
	locCount = selectedLocations.length;
	for (var i=0; i<selectedLocations.length; i++)
	{
	    /*if(requestId == 2)
	    {
	    	addWebsiteComparisonLocationLoadingRow(selectedLocations[i].value,requestId);
	    }*/
		var locid = selectedLocations[i].value;
	    var form=document.createElement("form");
	    form.setAttribute("method", "post");
	    form.setAttribute("name","traceroute");
	    form.setAttribute("action", "/tools/action.do");
	    form.appendChild(getnewFormElement("hidden","execute","generateTraceRouteAll")); // No I18N
	    form.appendChild(getnewFormElement("hidden","locid",locid)); // No I18N
	    form.appendChild(getnewFormElement("hidden","url",url)); // No I18N
	    form.appendChild(getnewFormElement("hidden","timestamp",timestamp)); // No I18N
	    form.appendChild(getnewFormElement("hidden","requestId",requestId)); // No I18N
	    document.body.appendChild(form);
	    getHtmlForForm(form,"addAllTraceRouteResponse",selectedLocations[i].value,requestId,tooltype);
	    requestId++;
	}
	//alert("hide now");
	var traceResultNode=document.getElementById("traceResultContainer2");//+requestId);
	var container = traceResultNode.children[0];
	//var containerclone = container.cloneNode(true);
	var traceResultHeader=container.children[1];
	//$(traceResultHeader).hide();
}

function toolsAccessKeyWord(result,frm,tooltype,requestId)
{
    var url;
    frm.execute.value=frm.method.value;  // No I18N
    url=$('input[name="hostName"]').val();
    if(typeof(url)=='undefined')
    {
		url=$('input[name="url"]').val();
    }
    url=trimUrl(url);
    if(url.indexOf(hp_var)>=0)
    {
    	url=url.substring(7);
    }
    else if(url.indexOf(hs_var)>=0)
    {
    	url=url.substring(8);
    }
    if(document.getElementById("location")!=null && tooltype!='TRACEROUTE' && tooltype!='TRACEROUTEALL')
    {
		var select = document.getElementById("location"); 
		var locationId = select.options[select.selectedIndex].value;
		document.getElementById('locationid').value = locationId; 
    }
    if(tooltype=='TRACEROUTE') 
    {
    	var locationid=document.getElementById('locationid').value;
    	frm.appendChild(getnewFormElement("hidden","locid",locationid));// No I18N
    }
    if(document.getElementsByName("locations")!=null && tooltype=='TRACEROUTEALL')
    {
    	var selectedLocations=new Array();
        var locations=document.getElementsByName("locations");
        var defloc=document.getElementsByName("defloc");
        var locationIdArray=new Array();
        var count=0;
        
    	for (var j=0; j < locations.length; j++)
        {
            if (locations[j].checked)
            {
            	if(selectedLocations.indexOf(locations[j].value)==-1)
            	{
            	    // alert("Adding SelectedLocations :: "+locations[j].value);
                    selectedLocations[count]=locations[j];
                    locationIdArray[count]=locations[j].value;
                    count++;
            	}
            }
        }
		if(count==0)
		{
			alert(beanmsg.input_location);
			return false;
		}
		//document.getElementById('location').value=locationIdArray;
    }
    document.getElementById('url').value = url;		
    showCommonResultPage(url);
    addToolsOutlineResultPage(url,tooltype,requestId,selectedLocations);
    requestIdFound=-1;
    for(var i=0;i<frm.elements.length;i++)
    {
    	 var elt=frm.elements[i];
    	 if(elt.name=="requestId")
    	 {
    	 	elt.value=requestId;
    	 	requestIdFound=1;
    	 }
    }
    if(requestIdFound=-1 && (tooltype=='FINDIP' || tooltype=='FINDLOCATION' || tooltype=='TRACEROUTE' || tooltype=='TRACEROUTEALL' || tooltype=='BRANDREPUTATION'))
    {
    	if(document.getElementById('requestId')==null) {
    		frm.appendChild(getnewFormElement("hidden","requestId",requestId));// No I18N
    	}
    }
    if(tooltype==='SCAN_SSL' || tooltype==='CHECKSSL' || tooltype==='CHECKHB' || tooltype==='CHECKSSL3')
    {
    	if(document.getElementById('requestId')==null) {
    		frm.appendChild(getnewFormElement("hidden","requestId",requestId));// No I18N
    	}
    }
    if(tooltype=='TRACEROUTEALL')
    {
    	addAllTraceRouteResults(url,selectedLocations,requestId,tooltype); // No I18N
    }
    else
    {
    	getHtmlForForm(frm,"toolsResponse",tooltype,requestId);// No I18N
    }
    
}

function addFindIpRowResult(requestId,count,url,ipAddress)
{
    // alert("Count : "+count+" URL : "+url+" IP Address : "+ipAddress);
	setCookie("tools.site24x7.domain",url);
	$('.grptext').show();
	$('#id_loadtime').html('Load Time: '+getDatediff(reqTs,new Date()));
    var rowTempl=document.getElementById("fpRowTemplate"+requestId);
    var ipAddressArray=ipAddress.split("#:#");
    //console.log("IpAddress Array : "+ipAddressArray+" "+ipAddressArray.length);
    if(ipAddress==null || ipAddress.trim().length==0 || ipAddressArray==null || ipAddressArray==undefined || ipAddressArray.length==0)
    {
    	var actualRow=rowTempl.cloneNode(true);
        actualRow.removeAttribute("id");
        actualRow.children[0].innerHTML="1"; // No I18N
        actualRow.children[1].innerHTML=url;
        actualRow.children[2].style.width="500px";
        actualRow.children[2].innerHTML='Error determining IP Addresses for '+url; // No I18N
        var parentElt=document.getElementById('findipResults'+requestId);
        var height=parentElt.style.height;
        //console.log("Height : "+height);
        height = height + 24;
        parentElt.setAttribute('style','width:1000px;display:block; height: auto;');
        insertAfter(rowTempl,actualRow);
        actualRow.style.display='block';
    }
    else 
    {
    	for(i=0;i<ipAddressArray.length;i++)
    	{
    		var actualRow=rowTempl.cloneNode(true);
    	    actualRow.removeAttribute("id");
    	    actualRow.children[0].innerHTML=ipAddressArray.length-i; 
    	    actualRow.children[1].innerHTML=url;
    	    actualRow.children[2].innerHTML=ipAddressArray[i];
    	    var parentElt=document.getElementById('findipResults'+requestId);
    	    var height=parentElt.style.height;
    	    height = height + 24;
    	    parentElt.setAttribute('style','width:1000px;display:block; height: auto;');
    	    insertAfter(rowTempl,actualRow);
    	    actualRow.style.display='block';
    	}	
   	}
}

function addFindLocRowResult(requestId,count,url,splited_row)
{
	$('.grptext').show();
	$('#id_loadtime').html('Load Time: '+getDatediff(reqTs,new Date()));
    var rowTempl=document.getElementById("findLocResults"+requestId);
    var ccElt=rowTempl.children[2];
    var cnElt=rowTempl.children[3];
    var rgElt=rowTempl.children[4];
    var cyElt=rowTempl.children[5];
    if(splited_row=="")
    {
        $("#fpResultHdr"+requestId).html("Location Information : Error while trying to retrieve location details");  // No I18N
        ccElt.children[1].innerHTML="-"; // No I18N
        cnElt.children[1].innerHTML="-"; // No I18N
        rgElt.children[1].innerHTML="-"; // No I18N
        cyElt.children[1].innerHTML="-"; // No I18N
        return;
    }
    else 
    {
    	setCookie("tools.site24x7.domain",url);
	    ccElt.children[1].innerHTML=splited_row[1];
	    cnElt.children[1].innerHTML=splited_row[3];
	    rgElt.children[1].innerHTML=splited_row[5];
	    cyElt.children[1].innerHTML=splited_row[7];
    }
}

function addTraceRouteFailedResult(result,tooltype,requestId)
{
	var errorString=getUrlValue(result,"axUrl_Reason"); //No I18N
	var urlDomain=getUrlValue(result,"axUrl_Domain");  //No I18N
	var traceResultHeader=document.getElementById("traceResultHdr");
	var hdrString='<table align="center" class="logintableborder" style="border-bottom:none;" width="100%" cellpadding="0" cellspacing="0"><tbody><tr style="height: 37px;"><td class="columnheading" style="font-size: 15px;">TRACEROUTE_HEADER</td></tr><tr></tr></tbody></table>';
	hdrString = hdrString.replace(/TRACEROUTE_HEADER/g,errorString);
    traceResultHeader.innerHTML=hdrString;
    return;
}

function addTraceRouteResults(result,tooltype,requestId) 
{
	var urlStatus=getUrlValue(result,"axUrl_Status");  //No I18N
	if(urlStatus==='FAILED')
	{
		addTraceRouteFailedResult(result,tooltype,requestId);
		return;
	}	
    var outputStr=getUrlValue(result,"axUrl_traceRouteOutput");
    var colHdr=getUrlValue(result,"axUrl_Columnvalues");
    var tableDetails=getUrlValue(result,"axUrl_Tabledetails");
    var permalink=getUrlValue(result,"axUrl_permalink");
    globalPermaLink=permalink;
    var splited_col = colHdr.split("#:#");
    var tableSplit=tableDetails.split("#:#");
    var websiteName=tableSplit[2].toString();
    //alert(tableSplit[0]);
    //alert(tableSplit[1]);
    //alert(tableSplit[2]);
    var traceResultNode=document.getElementById("traceResultContainer"+requestId);	
    var hdrElt=traceResultNode.children[0].children[1];
    $(hdrElt).hide();
    var dataElt=traceResultNode.children[0].children[2]; // traceResult
    var styleStr=dataElt.style;
    styleStr = styleStr + '; overflow-y: scroll;';
    var hdrString='<table align="center" class="logintableborder" style="border-bottom:none;" width="100%" cellpadding="0" cellspacing="0"><tbody><tr><td class="columnheading">TRACEROUTE_HEADER</td></tr><tr></tr></tbody></table><table class="logintableborder" width="100%" align="center" cellpadding="0" cellspacing="0"><tbody>RESULT_CONTENT</tbody></table>';
    hdrString = hdrString.replace(/TRACEROUTE_HEADER/g,splited_col[0]);
    hdrString = hdrString.replace(/RESULT_CONTENT/g,outputStr);
    dataElt.innerHTML=hdrString;
    dataElt.style.display='block';	
    $('#permalink').val(permalink);
    $('#shareresult').show();
    showPreviousHistory("TRACEROUTE",websiteName);  //No I18N
    addFacebookLikeButton(permalink ,document.getElementById('fbLikeTd'));
    addTweetLikeButton(permalink,document.getElementById('tweetdiv'));
    addgplusLikeButton(permalink,document.getElementById("gplusdiv"));
}



function addSSL3VerificationResults(result,tooltype,requestId)
{
    if(typeof(result)==='undefined' || result===null || result.length===0)
    {
    	// TODO : Update Results Panel with Error
    	return; // No I18N
    }
    else {
			// TODO: If result does not contain success message
			var status=getUrlValue(result,'axUrl_Status'); // No I18N
			if(status==='FAILED' || status==='INVALIDHOST')
			{
			    // console.log("Inside failed");
				var expImgTitle=toolsmsg.ssl3_invalid_title;
				expImgTitle = expImgTitle.replace("{0}",domainName); // No I18N
				document.getElementById("ssl3failedimage").title=expImgTitle; // No I18N
			    var errMsg=getUrlValue(result,'axUrl_Reason'); // No I18N
			    var failedElt=document.getElementById('ssl3Failed'); // No I18N
			    if(status==='INVALIDHOST')
			    {
			    	$("#ssl3ErrorText").html(errMsg);
			    }
			    var errorHTML=failedElt.innerHTML;
			    var domainName=getUrlValue(result,'axUrl_domainName'); // No I18N
			    var ssl3ResultsElt=document.getElementById("ssl3Results"+requestId);
			    $('#ssl3Results'+requestId+' div p').html('Results as on: '+getDateString(true)); // No I18N
			    errorHTML=errorHTML.replace(/DOMAIN_NAME/g,domainName);
			    var divElt=document.createElement("DIV");
			    divElt.setAttribute("class","clear"); // No I18N
			    divElt.innerHTML=errorHTML;
			    ssl3ResultsElt.appendChild(divElt);
			    return;
			}
			else
			{
			    // COMMENT: Status is success
			    var axResult=getUrlValue(result,"axUrl_Result"); // No I18N
			    var domainName=getUrlValue(result,'axUrl_domainName'); // No I18N
			    var successElt=document.getElementById('ssl3Success');
			    var imgElt=document.getElementById("ssl3resultimage");
			    var expiredText=toolsmsg.ssl3_result_unsafe;
			    if(axResult==="UNSAFE") {
			    	document.getElementById("ssl3SuccessBG").style.background="#fee4e4"; // No I18N
			    	document.getElementById("ssl3SuccessBG").style.border="1px solid #ffb2b2"; // No I18N
			    	expiredText=expiredText.replace("{0}",domainName)
                    imgElt.src=ssl3ExpiredLink;
                    $("#ssl3ResultText").html(expiredText); // No I18N
                    document.getElementById("ssl3failedimage").title=expiredText;
                }
			    else 
			    {
				    	var expImgTitle=toolsmsg.ssl3_result_safe;
				    	var ssl3_valid_msg=toolsmsg.ssl3_result_safe; // No I18N
	                    ssl3_valid_msg = ssl3_valid_msg.replace("{0}",domainName);  // No I18N
	                    $("#ssl3ResultText").html(ssl3_valid_msg); // No I18N
	                    expImgTitle = expImgTitle.replace("{0}",domainName);
	                    document.getElementById("ssl3resultimage").title=expImgTitle;
	                    // COMMENT: Permalink
	                    var permalink=getUrlValue(result,"axUrl_permalink"); // No I18N
	                    document.getElementById("permalink").value=permalink.toString();
	    			    $('#shareresult').show();
	    			    globalToolType="CHECKSSL3"; // No I18N
	    			    showPreviousHistory("CHECKSSL3",domainName);  //No I18N
	    			    globalPermaLink=document.getElementById('permalink').value.toString();
	    			    try 
	    			    {
	    			    	addFacebookLikeButton(globalPermaLink,document.getElementById("fbLikeTd"));
	    			    	addTweetLikeButton(globalPermaLink,document.getElementById("tweetdiv"));
							addgplusLikeButton(globalPermaLink,document.getElementById("gplusdiv"));
	    			    }
	    			    catch(e)
	    			    {
	    			    	
	    			    }
			    }
			    var successHTML=successElt.innerHTML;
			    successElt.innerHTML = successHTML;
			    var ssl3ResultsElt=document.getElementById("ssl3Results"+requestId); // No I18N
			    ssl3ResultsElt.children[0].children[0].innerHTML="Results as on: "+getDateString(true); // No I18N
			    var divElt=document.createElement("DIV");
			    divElt.innerHTML=successHTML;
			    ssl3ResultsElt.appendChild(divElt);
		}
	}
}

function addHBVerificationResults(result,tooltype,requestId)
{
    if(typeof(result)==='undefined' || result===null || result.length===0)
    {
    	// TODO : Update Results Panel with Error
    	return; // No I18N
    }
    else {
			// TODO: If result does not contain success message
			var status=getUrlValue(result,'axUrl_Status'); // No I18N
			if(status==='FAILED' || status==='INVALIDHOST')
			{
			    // console.log("Inside failed");
				var expImgTitle=toolsmsg.ssl_invalid_title;
				expImgTitle = expImgTitle.replace("{0}",domainName); // No I18N
				document.getElementById("hbfailedimage").title=expImgTitle; // No I18N
			    var errMsg=getUrlValue(result,'axUrl_Reason'); // No I18N
			    var failedElt=document.getElementById('hbFailed'); // No I18N
			    if(status==='INVALIDHOST')
			    {
			    	$("#hbErrorText").html(errMsg);
			    }
			    var errorHTML=failedElt.innerHTML;
			    var domainName=getUrlValue(result,'axUrl_domainName'); // No I18N
			    var hbResultsElt=document.getElementById("hbResults"+requestId);
				$('#hbResults'+requestId+' div p').html('Results as on: '+getDateString(true)); // No I18N
			    errorHTML=errorHTML.replace(/DOMAIN_NAME/g,domainName);
			    var divElt=document.createElement("DIV");
			    divElt.setAttribute("class","clear"); // No I18N
			    divElt.innerHTML=errorHTML;
			    hbResultsElt.appendChild(divElt);
			    return;
			}
			else
			{
			    // COMMENT: Status is success
			    var axResult=getUrlValue(result,"axUrl_Result"); // No I18N
			    var domainName=getUrlValue(result,'axUrl_domainName'); // No I18N
			    var successElt=document.getElementById('hbSuccess');
			    var imgElt=document.getElementById("hbresultimage");
			    var expiredText=toolsmsg.hb_result_unsafe;
			    if(axResult==="UNSAFE") {
			    	document.getElementById("hbSuccessBG").style.background="#fee4e4"; // No I18N
			    	document.getElementById("hbSuccessBG").style.border="1px solid #ffb2b2"; // No I18N
			    	expiredText=expiredText.replace("{0}",domainName)
                    imgElt.src=hbExpiredLink;
                    $("#hbResultText").html(expiredText); // No I18N
                    document.getElementById("hbfailedimage").title=expiredText;
                }
			    else 
			    {
				    	var expImgTitle=toolsmsg.hb_result_safe;
				    	var hb_valid_msg=toolsmsg.hb_result_safe; // No I18N
	                    hb_valid_msg = hb_valid_msg.replace("{0}",domainName);  // No I18N
	                    $("#hbResultText").html(hb_valid_msg); // No I18N
	                    expImgTitle = expImgTitle.replace("{0}",domainName);
	                    document.getElementById("hbresultimage").title=expImgTitle;
	                    // COMMENT: Permalink
	                    var permalink=getUrlValue(result,"axUrl_permalink"); // No I18N
	                    document.getElementById("permalink").value=permalink.toString();
	    			    $('#shareresult').show();
	    			    globalToolType="CHECKHB"; // No I18N
	    			    showPreviousHistory("CHECKHB",domainName);  //No I18N
	    			    globalPermaLink=document.getElementById('permalink').value.toString();
	    			    addFacebookLikeButton(globalPermaLink,document.getElementById("fbLikeTd"));
	    			    addTweetLikeButton(globalPermaLink,document.getElementById("tweetdiv"));
						addgplusLikeButton(globalPermaLink,document.getElementById("gplusdiv"));
			    }
			    var successHTML=successElt.innerHTML;
			    successElt.innerHTML = successHTML;
			    var hbResultsElt=document.getElementById("hbResults"+requestId); // No I18N
			    hbResultsElt.children[0].children[0].innerHTML="Results as on: "+getDateString(true); // No I18N
			    var divElt=document.createElement("DIV");
			    divElt.innerHTML=successHTML;
			    hbResultsElt.appendChild(divElt);
		}
	}
}

function ElementInfo() {
    this.elementType = null;
    this.elementClass = null;
    this.elementInnerHTMLValue = null;
    this.elementTextContentValue = null;
    this.getElementInfo = function() {
        return 'Element : '+this.type + ', Class : ' + this.elementClass;// No I18N
    };
    this.getElementObject = function(elemType, elemClass, elemInnerHTMLValue, elemTextContentValue){
    	var elementObjToReturn = null;
    	this.elementType = elemType;
        this.elementClass = elemClass;
        this.elementInnerHTMLValue = elemInnerHTMLValue;
        this.elementTextContentValue = elemTextContentValue;
    	elementObjToReturn = document.createElement(this.elementType);
    	if(this.elementClass != null){
    		elementObjToReturn.setAttribute('class', this.elementClass);
    	}
    	if(this.elementInnerHTMLValue != null){
    		elementObjToReturn.innerHTML = this.elementInnerHTMLValue;
    	}
    	if(this.elementTextContentValue != null){
    		elementObjToReturn.textContent = this.elementTextContentValue;
    	}
    	return elementObjToReturn;
    }
}

function setScanSSLResult(divElement, scanSSLResponse, isRecursive){
	//console.log('scanSSLResponse :::::::::::::::::::::: '+scanSSLResponse);
	var obj = $.parseJSON(scanSSLResponse);
	for (var key in obj) {
		var value = obj[key];
		//console.log(key+", type of key : "+typeof(key)+", Type of value : "+typeof(value)+" Is array : "+$.isArray(value)+" ================= "+value);
		var rowDiv = null, keyDiv = null, valueDiv = null;
		elementInfo = new ElementInfo();
		rowDiv = elementInfo.getElementObject('div', 'toolsScanSSLRow floatleft resultrowborder clear', null, null);// No I18N
		keyDiv = elementInfo.getElementObject('div', 'toolsScanSSLKey floatleft', null, null);// No I18N
	    valueDiv = elementInfo.getElementObject('div', 'floatleft dlfontscanssl pad4');// No I18N
	    if($.isArray(value)){
	    	//console.log('Val :----------------- '+value);
	    	for(var i=0; i<value.length; i++){
	    		//console.log('Val : '+value[i]);
	    		if(i == 0){
		    		var rowDiv = null, textDiv = null, bElem = null;
		    		rowDiv = elementInfo.getElementObject('div', 'toolsScanSSLRow floatleft resultrowborder clear', null, null);// No I18N
		    		textDiv = elementInfo.getElementObject('div',null , null, null);// No I18N
		    		bElem = elementInfo.getElementObject('span', 'toolsScanSSLTextBold floatleft', key, null);// No I18N
				    textDiv.appendChild(bElem);
			    	rowDiv.appendChild(textDiv);
			    	divElement.appendChild(rowDiv);
	    		}
	    		var rowDiv = null, textDiv = null;
	    		rowDiv = elementInfo.getElementObject('div', 'toolsScanSSLRow floatleft resultrowborder clear', null, null);// No I18N
	    		textDiv = elementInfo.getElementObject('div', 'toolsScanSSLText floatleft', null, value[i]);// No I18N
		    	rowDiv.appendChild(textDiv);
		    	divElement.appendChild(rowDiv);
	    	}
	    }else if(typeof(value) == 'object'){// No I18N
	    	rowDiv = elementInfo.getElementObject('div', 'toolsScanSSLRow floatleft resultrowborder clear', null, null);// No I18N
	    	keyDiv = elementInfo.getElementObject('div',null , null, null);// No I18N
	    	var bElem = elementInfo.getElementObject('span', 'toolsScanSSLTextBold floatleft', key, null);// No I18N
		    keyDiv.appendChild(bElem);
		    //valueDiv.textContent = JSON.stringify(value);
		    rowDiv.appendChild(keyDiv);
		    rowDiv.appendChild(valueDiv);
		    divElement.appendChild(rowDiv);
		    setScanSSLResult(divElement, JSON.stringify(value), true);
	    }else{
	    	if(isRecursive){
	    		keyDiv.textContent = key;
		    	valueDiv.textContent = value;
		    	rowDiv.appendChild(keyDiv);
		    	rowDiv.appendChild(valueDiv);
			    divElement.appendChild(rowDiv);
	    	}else{
	    		var rowDiv = null, textDiv = null, emptyDiv = null, bElem = null;
	    		rowDiv = elementInfo.getElementObject('div', 'toolsScanSSLRow floatleft resultrowborder clear', null, null);// No I18N
	    		textDiv = elementInfo.getElementObject('div',null , null, null);// No I18N
	    		bElem = elementInfo.getElementObject('span', 'toolsScanSSLTextBold floatleft', key, null);// No I18N
			    textDiv.appendChild(bElem);
		    	rowDiv.appendChild(textDiv);
		    	divElement.appendChild(rowDiv);
	    		rowDiv = elementInfo.getElementObject('div', 'toolsScanSSLRow floatleft resultrowborder clear', null, null);// No I18N
	    		textDiv = elementInfo.getElementObject('div', 'toolsScanSSLText floatleft', null, value);// No I18N
		    	rowDiv.appendChild(textDiv);
			    divElement.appendChild(rowDiv);
	    	}
	    	
	    }
	    
	}
	
	//console.log(typeof(scanSSLResponseMap)+"==================== "+scanSSLResponseMap);
	
}

function addScanSSLResults(result,tooltype,requestId)
{
	$('.grptext').show();
    if(typeof(result)=='undefined' || result==null || result.length==0)
    {
	// TODO : Update Results Panel with Error
    	var tempVariable = result;
    }
    else {
			// TODO: If result does not contain success message
			var status=getUrlValue(result,'axUrl_Status');// No I18N
			// alert("Status : "+status);
			if(status=='FAILED')
			{
			    // console.log("Inside failed");
				var expImgTitle=toolsmsg.ssl_invalid_title;
				expImgTitle = expImgTitle.replace("{0}",domainName);
				document.getElementById("sslscanfailedimage").title=expImgTitle;
				//console.log('requestId : '+requestId);
			    var errMsg=getUrlValue(result,'axUrl_Reason');// No I18N
			    var failedElt=document.getElementById('sslScanFailed');
			    var errorHTML=failedElt.innerHTML;
			    var domainName=getUrlValue(result,'axUrl_domainName'); // No I18N
			    var sslResultsElt=document.getElementById("sslScanResults"+requestId);
			    $(sslResultsElt.children[0]).hide();
				$('#sslScanResults'+requestId+' div p').html('Scan SSL : '+domainName);
			    errorHTML=errorHTML.replace(/DOMAIN_NAME/g,domainName);
			    var divElt=document.createElement("DIV");
			    divElt.innerHTML=errorHTML;
			    sslResultsElt.appendChild(divElt);
			    return;
			}
			else
			{
			    // COMMENT: Status is success			    
			    var sslScanSuccessElt=document.getElementById('sslScanSuccess');
			    var scanSSLResponse = getUrlValue(result,'axUrl_ssl_json_data'); // No I18N
			    //console.log('scanSSLResponse : '+scanSSLResponse);
			    //successElt.innerHTML = scanSSLResponse
			    setScanSSLResult(sslScanSuccessElt, scanSSLResponse, false);
			    $('#sslScanResults'+requestId).hide();
			    $('#sslScanResultContainer').show();
			    $('#sslScanSuccess').show();
			    //$("#sslScanSuccess").css("display","block");
			    /*
			    var successHTML=successElt.innerHTML;
			    
			    
			    successElt.innerHTML = successHTML;
			    var sslResultsElt=document.getElementById("sslScanResults"+requestId);
			    sslResultsElt.children[0].children[0].innerHTML="SSL Scan Results: "+getDateString(true);
			    var divElt=document.createElement("DIV");
			    divElt.innerHTML=successHTML;
			    setScanSSLResult(divElt, scanSSLResponse, false);
			    sslResultsElt.appendChild(divElt);
			    console.log("Permalink : "+permalink);
			    document.getElementById("permalink").value=permalink.toString();
			    $('#shareresult').show();
			    globalToolType="SSL";
			    showPreviousHistory("SSL",domainName);  //No I18N
			    globalPermaLink=document.getElementById('permalink').value.toString();
			    addFacebookLikeButton(globalPermaLink,document.getElementById("fbLikeTd"));
			    addTweetLikeButton(globalPermaLink,document.getElementById("tweetdiv"));
   			    addgplusLikeButton(globalPermaLink,document.getElementById("gplusdiv"));
   			    */
		}
	}
}

function addSSLVerificationResults(result,tooltype,requestId)
{
	$('.grptext').show();
    if(typeof(result)=='undefined' || result==null || result.length==0)
    {
	// TODO : Update Results Panel with Error
    }
    else {
			// TODO: If result does not contain success message
			var status=getUrlValue(result,'axUrl_Status');
			// alert("Status : "+status);
			if(status=='FAILED')
			{
			    // console.log("Inside failed");
				var expImgTitle=toolsmsg.ssl_invalid_title;
				expImgTitle = expImgTitle.replace("{0}",domainName);
				document.getElementById("sslfailedimage").title=expImgTitle;
				//console.log('requestId : '+requestId);
			    var errMsg=getUrlValue(result,'axUrl_Reason');
			    var failedElt=document.getElementById('sslFailed');
			    var errorHTML=failedElt.innerHTML;
			    var domainName=getUrlValue(result,'axUrl_domainName'); // No I18N
			    var sslResultsElt=document.getElementById("sslResults"+requestId);
			    $(sslResultsElt.children[0]).hide();
				$('#sslResults'+requestId+' div p').html('Checking SSL Certificate : '+domainName);
			    errorHTML=errorHTML.replace(/DOMAIN_NAME/g,domainName);
			    var divElt=document.createElement("DIV");
			    divElt.innerHTML=errorHTML;
			    sslResultsElt.appendChild(divElt);
			    return;
			}
			else
			{
			    // COMMENT: Status is success
				var axToolResp=getUrlValue(result,"axUrl_Toolsresponse");
			    var axColVal=getUrlValue(result,"axUrl_Columnvalues");
			    var axTabDet=getUrlValue(result,"axUrl_Tabledetails");
			    var axTxtMsg=getUrlValue(result,"axUrl_txtMsg");
			    var axImgMsg=getUrlValue(result,"axUrl_imgMsg");
			    var axDOI=getUrlValue(result,"axUrl_issuedDate");
			    var axED=getUrlValue(result,"axUrl_exDate");
			    var axDTEX=getUrlValue(result,"axUrl_daysTOex"); // No I18N
			    var axITCN=getUrlValue(result,"axUrl_issuedToCn");
			    var axITO=getUrlValue(result,"axUrl_issuedToO");
			    var axITOU=getUrlValue(result,"axUrl_issuedToOu");
			    var axIBCN=getUrlValue(result,"axUrl_issuedByCn");
			    var axIBYO=getUrlValue(result,"axUrl_issuedByO");
			    var axIBOU=getUrlValue(result,"axUrl_issuedByOu");
			    var axSave=getUrlValue(result,"axUrl_Save");
			    var permalink=getUrlValue(result,"axUrl_permalink");
			    var domainName=getUrlValue(result,'axUrl_domainName'); // No I18N
                var chromeTrust=getUrlValue(result,'axUrl_chromeTrust'); // No I18N
                var chromeDistrustMsg=getUrlValue(result,'axUrl_chromeDistrustMsg'); // No I18N

			    var successElt=document.getElementById('sslSuccess');
			    var imgElt=document.getElementById("sslresultimage");
			    var expiredText=toolsmsg.ssl_expired_days;
			    
			    if(axDTEX<=0) {
			    	var expImgTitle=toolsmsg.ssl_invalid_title;
                    imgElt.src=sslExpiredLink;
                    expiredText=expiredText.replace("{0}",domainName); // No I18N
                    // COMMENT: -1 * axDTEX :- To make the negative days
					// positive
                    expiredText=expiredText.replace("{1}", ""+(-1*axDTEX));  // No I18N
                    $("#sslResultText").html(expiredText); // No I18N
                    expImgTitle = expImgTitle.replace("{0}",domainName);
                    document.getElementById("sslfailedimage").title=expImgTitle;
                }
			    else 
			    {
			    	var expImgTitle=toolsmsg.ssl_valid_title;
			    	var ssl_valid_days=toolsmsg.ssl_valid_days; // No I18N
                    ssl_valid_days = ssl_valid_days.replace("{0}",domainName);  // No I18N
                    ssl_valid_days = ssl_valid_days.replace("{1}",(""+axDTEX)); // No I18N
                    $("#sslResultText").html(ssl_valid_days); // No I18N
                    expImgTitle = expImgTitle.replace("{0}",domainName);
                    document.getElementById("sslresultimage").title=expImgTitle;
			    }
                if(chromeTrust == "false"){
                    $('#chromeTrust').hide();
                }
			    var successHTML=successElt.innerHTML;
			    /*
				 * console.log("axUrl_Toolsresponse : "+axToolResp);
				 * console.log("axUrl_ColVal : "+axColVal);
				 * console.log("\naxUrl_Toolsresponse : "+axTabDet);
				 * console.log("\naxUrl_axTabDet : "+axTxtMsg);
				 * console.log("\naxUrl_axDOI : "+axDOI);
				 * console.log("\naxUrl_axED : "+axED);
				 * console.log("\naxUrl_axDTEX : "+axDTEX);
				 * console.log("\naxUrl_axITCN : "+axITCN);
				 * console.log("\naxUrl_axITO : "+axITO);
				 * console.log("\naxUrl_axITOU : "+axITOU);
				 * console.log("\naxUrl_axIBCN : "+axIBCN);
				 * console.log("\naxUrl_axIBYO : "+axIBYO);
				 * console.log("\nxUrl_axIBOU : "+axIBOU);
				 * console.log("\naxUrl_axSave : "+axSave);
				 * console.log("\naxUrl_chromeTrust : "+chromeTrust);
				 */
		
			    successHTML = successHTML.replace(/DOMAIN_NAME/g,axITCN);
			    successHTML = successHTML.replace(/EXPIRY_DATE_COUNT/g,axDTEX);
			    successHTML = successHTML.replace(/ISSUED_DATE/g,axDOI);
			    successHTML = successHTML.replace(/EXPIRY_DATE_COUNT/g,axED);
			    successHTML = successHTML.replace(/EXPIRY_DATE/g,axED);
			    successHTML = successHTML.replace(/EXPIRY_COUNT/g,axDTEX);
			    successHTML = successHTML.replace(/COMMON_NAME/g,axITCN);
			    successHTML = successHTML.replace(/COMMON_ISSUER_NAME/g,axIBCN);
			    successHTML = successHTML.replace(/ORGANIZATION/g,axITO);
			    successHTML = successHTML.replace(/ORG_UNIT/g,axITOU);
			    successHTML = successHTML.replace(/ORG_O/g,axIBYO);
			    successHTML = successHTML.replace(/ORG_U/g,axIBOU);
			    successHTML = successHTML.replace(/CHROME_DISTRUST_MSG/g,chromeDistrustMsg);

			    successElt.innerHTML = successHTML;
			    var sslResultsElt=document.getElementById("sslResults"+requestId);
			    sslResultsElt.children[0].children[0].innerHTML="SSL Test Results: "+getDateString(true);
			    var divElt=document.createElement("DIV");
			    divElt.innerHTML=successHTML;
			    sslResultsElt.appendChild(divElt);
			    //console.log("Permalink : "+permalink);
			    document.getElementById("permalink").value=permalink.toString();
			    $('#shareresult').show();
			    globalToolType="SSL";
			    showPreviousHistory("SSL",domainName);  //No I18N
			    globalPermaLink=document.getElementById('permalink').value.toString();
			    addFacebookLikeButton(globalPermaLink,document.getElementById("fbLikeTd"));
			    addTweetLikeButton(globalPermaLink,document.getElementById("tweetdiv"));
   			    addgplusLikeButton(globalPermaLink,document.getElementById("gplusdiv"));
		}
	}
}

function addServerHeaderResults(result,tooltype,requestId)
{
    var idCols = [ 'shDate'+requestId,'shHdr'+requestId,'shCL'+requestId,'shLoc'+requestId,'shKA'+requestId,'shCT'+requestId,'shCN'+requestId,'shSvr'+requestId ];   // No I18N
    var idColName = [ 'Date','Header','Content-Length','Location','keep-alive','Content-Type','Connection','Server' ];  // No I18N
    var hdrMsg=getUrlValue(result,'axUrl_Columnvalues');  // No I18N
    var toolsResp=getUrlValue(result,'axUrl_Toolsresponse');  // No I18N
    var permalink=getUrlValue(result,'axUrl_permalink');  // No I18N
    var domainName=getUrlValue(result,"axUrl_DomainName"); // No I18N
    var emptyResponse=false;
    if(toolsResp==null || toolsResp==undefined || toolsResp=='undefined' || toolsResp.length==0)
    {
    	emptyResponse=true;
    	toolsResp = '<p>-</p>#:#<p>-</p>#:#<p>-</p> #:#<p>-</p> #:#<p>-</p>#:#<p>-</p> #:#<p>-</p> #:#<p>-</p> #:#<p>-</p> #:#<p>-</p>';  // No I18N
    	$('#shResultHdr').html("Server Header Details: Please check your server name"); // No I18N
    }
    var varValArray=toolsResp.split('#:#');  // No I18N
    var numberOfColumns=varValArray.length / 2;
    var keyValHash={};
    for(var i=0;i<numberOfColumns;i++)
    {
    	if(emptyResponse===true)
    	{
    		document.getElementById(idCols[i]).children[1].innerHTML=varValArray[i];
    	}
    	else {
	    	if(varValArray[i*2]==='undefined' || varValArray[i*2]===undefined)   // No I18N
	    	{
	    		continue;
	    	}	
    		keyValHash[varValArray[i*2].trim()]=( (varValArray[(i*2)+1])==='undefined' || (varValArray[(i*2)+1])===undefined)?"-":(varValArray[(i*2)+1]);  // No I18N
    	}
    }
    var parentNode=document.getElementById("findLocResults2");  // No I18N
    
    var titleElt=parentNode.children[0];
    titleElt.innerHTML='<div style="margin-top:9px; margin-left: 15px;"><b>Server Header details for '+domainName+'</b></div>';  // No I18N
    for(i=0;i<numberOfColumns;i++)
    {
    	var rowDiv=document.getElementById('shRowTempl').cloneNode(true);  // No I18N
    	rowDiv.style.display='block';  // No I18N
    	rowDiv.style.height="auto;"  // No I18N
    	if(i===0)
    	{
    		rowDiv.setAttribute("style","margin-top: -1px;")  // No I18N
    	}	
    	
    	var col1Div=rowDiv.children[0].innerHTML=	varValArray[i*2];
    	if(emptyResponse)
    	{
    		var col2Div=rowDiv.children[1].innerHTML=	varValArray[ (i*2) + 1];
    	}
    	else
    	{
    		var col2Div=rowDiv.children[1].innerText=	varValArray[ (i*2) + 1];
    	}
    	parentNode.appendChild(rowDiv)
   	}
    var shResultHdr=document.getElementById('shResultHdr');  // No I18N
    shResultHdr.setAttribute("class"," dlfontl clear");  // No I18N
    document.getElementById("permalink").value=permalink.toString();
    $('#shareresult').show();  // No I18N
    globalToolType="SERVERHEADER"; // No I18N
    showPreviousHistory("SERVERHEADER",domainName);  //No I18N
    globalPermaLink=document.getElementById('permalink').value.toString();
    addFacebookLikeButton(globalPermaLink,document.getElementById("fbLikeTd"));  // No I18N
    addTweetLikeButton(globalPermaLink,document.getElementById("tweetdiv"));  // No I18N
    addgplusLikeButton(globalPermaLink,document.getElementById("gplusdiv"));  // No I18N
}

function addRedirectionResults(result,tooltype,requestId)
{
    var idCols = [ 'shDate'+requestId,'shHdr'+requestId,'shCL'+requestId,'shLoc'+requestId,'shKA'+requestId,'shCT'+requestId,'shCN'+requestId,'shSvr'+requestId ];   // No I18N
    var idColName = [ 'Date','Header','Content-Length','Location','keep-alive','Content-Type','Connection','Server' ];  // No I18N
    var hdrMsg=getUrlValue(result,'axUrl_Columnvalues');  // No I18N
    var toolsResp=getUrlValue(result,'axUrl_Toolsresponse');  // No I18N
    var permalink=getUrlValue(result,'axUrl_permalink');  // No I18N
    var domainName=getUrlValue(result,"axUrl_DomainName"); // No I18N
    var emptyResponse=false;
    if(toolsResp==null || toolsResp==undefined || toolsResp=='undefined' || toolsResp.length==0)
    {
    	emptyResponse=true;
    	toolsResp = '<p>-</p>#:#<p>-</p>#:#<p>-</p> #:#<p>-</p> #:#<p>-</p>#:#<p>-</p> #:#<p>-</p> #:#<p>-</p> #:#<p>-</p> #:#<p>-</p>';  // No I18N
    	$('#shResultHdr').html("Redirection Details: Please check the url provided"); // No I18N
    }
    var varValArray=toolsResp.split('#:#');  // No I18N
    var numberOfColumns=varValArray.length / 2;
    var keyValHash={};
    for(var i=0;i<numberOfColumns;i++)
    {
    	if(emptyResponse===true)
    	{
    		document.getElementById(idCols[i]).children[1].innerHTML=varValArray[i];
    	}
    	else {
	    	if(varValArray[i*2]==='undefined' || varValArray[i*2]===undefined)   // No I18N
	    	{
	    		continue;
	    	}	
    		keyValHash[varValArray[i*2].trim()]=( (varValArray[(i*2)+1])==='undefined' || (varValArray[(i*2)+1])===undefined)?"-":(varValArray[(i*2)+1]);  // No I18N
    	}
    }
    var parentNode=document.getElementById("findLocResults2");  // No I18N
    
    var titleElt=parentNode.children[0];
    titleElt.innerHTML='<div style="margin-top:9px; margin-left: 15px;"><b>Server Header details for '+domainName+'</b></div>';  // No I18N
    for(i=0;i<numberOfColumns;i++)
    {
    	var rowDiv=document.getElementById('shRowTempl').cloneNode(true);  // No I18N
    	rowDiv.style.display='block';  // No I18N
    	rowDiv.style.height="auto;"  // No I18N
    	if(i===0)
    	{
    		rowDiv.setAttribute("style","margin-top: -1px;")  // No I18N
    	}	
    	
    	var col1Div=rowDiv.children[0].innerHTML=	varValArray[i*2];
    	if(emptyResponse)
    	{
    		var col2Div=rowDiv.children[1].innerHTML=	varValArray[ (i*2) + 1];
    	}
    	else {
    		var col2Div=rowDiv.children[1].innerText=	varValArray[ (i*2) + 1];
    	}
    	parentNode.appendChild(rowDiv)
   	}
    var shResultHdr=document.getElementById('shResultHdr');  // No I18N
    shResultHdr.setAttribute("class"," dlfontl clear");  // No I18N
}

function addCleanCodeResponse(response,url,requestId)
{
    $('#cleanCodeResultHdr').remove();
    $('#cleanCodeResult').html(response);
    $('#cleanCodeResult').show();
}

function addLynxViewResponse(response,url,requestId)
{
    $('#lynxViewResultHdr').remove();
    $('#lynxViewResult').html(response);
    $('#lynxViewResult').show();
}	

function addWebSpeedResponse(response,url,requestId)
{
    $('#webSpeedResultHdr').remove();
    $('#webSpeedResult').html(response);
    $('#webSpeedResult').show();
    showPreviousHistory("WEBSPEED",url); //No I18N
}

function addTextRatioResponse(response,url,requestId)
{
    $('#textRatioResultHdr').remove();
    $('#textRatioResult').html(response);
    $('#textRatioResult').show();
    showPreviousHistory("TEXTRATIO",url); //No I18N
}

function showErrorResults(result,tooltype,requestId) {
	if(tooltype=='SERVERHEADER')
	{
		var hdrNames= [ 'shDate', 'shHdr', 'shCL','shLoc','shKA','shCT','shCN','shSvr' ];
		for(i=0;i<hdrNames.length;i++) {
			var divElt=document.getElementById(hdrNames[i]+requestId);
			$(divElt).hide();
		}
		var errorCode=getUrlValue(result,'axUrl_errorCode');
		$('#shResultHdr').html("<div><h2 style='padding-top:10px;color:#000000;'>Error while fetching URL.</h2></div>");
	}
	else if(tooltype=='CLEANCODE')
	{
		var cleanCodeResultHdr=document.getElementById("cleanCodeResultHdr").children[0];
		$(cleanCodeResultHdr).html("<div><h2 style='padding-top:10px;color:#000000;'>Error while fetching URL.</h2></div>");
	}
}

function toolsResponse(result,tooltype,requestId)
{
    //console.log("toolsResponse : "+tooltype+" "+result);
    invalid = getUrlValue(result,'axUrl_invalid'); // No I18N
    if(invalid == 'true')
    {
    	showErrorResults(result,tooltype,requestId);
    	try 
    	{
    		document.getElementById('laodingDiv').style.display = 'none';
    	}
    	catch(e)
    	{
    		console.log('Error : Invalid Result : toolsResponse')
    	}
		
		document.getElementById('toolsOutPutDiv').innerHTML='<br><table width="50%" align="center" border="0" cellspacing="2" cellpadding="2"><tr><td class="message" style="color:red">'+errMsg+'</td></tr></table><br>'
		document.getElementById('toolsOutPutDiv').style.display = 'block';
		return false;
    }
    if(tooltype=='SCAN_SSL')
    {
    	addScanSSLResults(result,tooltype,requestId);
    	return;
    }
    if(tooltype=='CHECKSSL')
    {
    	addSSLVerificationResults(result,tooltype,requestId);
    	return;
    }
    if(tooltype==='CHECKHB')
    {
    	addHBVerificationResults(result,tooltype,requestId);
    	return;
    }
    if(tooltype==='CHECKSSL3')
    {
    	addSSL3VerificationResults(result,tooltype,requestId);
    	return;
    }
    else if(tooltype=='TRACEROUTE')
    {
    	addTraceRouteResults(result,tooltype,requestId);
    	return;
    }
    else if(tooltype=='SERVERHEADER')
    {
		addServerHeaderResults(result,tooltype,requestId);
		return;
    }		
    else if(tooltype=='BRANDREPUTATION')
    {
        addBrandReputationResults(result,tooltype,requestId);
        return;
    }
    else if(tooltype=='BLACKLISTCHECK')
    {
        addBlacklistCheckResults(result,tooltype,requestId)
        return;
    }       
    var url = getUrlValue(result,'axUrl_Url');// No I18N
    // var col = frm.columnvalues.value;
    // alert("ccoll"+col);
    var row = getUrlValue(result,'axUrl_Toolsresponse');// No I18N
    var save = getUrlValue(result,'axUrl_Save');// No I18N
    var status=getUrlValue(result,'axUrl_Status'); // No I18N
    if(row!=null && row!="")
    {
		var splited_row = row.split("#:#");
		for(var i=0;i<splited_row.length;i++)
		{
		    row_values = row_values.concat([splited_row[i]]);
		}
		// alert(jsonresponse);
		var col = getUrlValue(result,'axUrl_Columnvalues');// No I18N
		// alert("col --"+col);
		var splited_col = col.split("#:#");
		var column_values = [];
		for(var i=0;i<splited_col.length;i++)
		{
		    column_values = column_values.concat([splited_col[i]]);
		}
		// var table_details = ["generictable","1",url];
		var tab_details = getUrlValue(result,'axUrl_Tabledetails');// No I18N
		//console.log("tab_details : "+tab_details);
		var splited_table_details = tab_details.split("#:#");
		var table_details = [];
		for(var i=0;i<splited_table_details.length;i++)
		{
		    //console.log("split_tab_details "+i+" value "+splited_table_details[i]);
		    table_details = table_details.concat([splited_table_details[i]]);
		}
		var align = getUrlValue(result,'axUrl_Alignment');// No I18N
		var splited_tab_align = align.split("#:#");
		var tab_align = [];
		for(var i=0;i<splited_tab_align.length;i++)
		{
		    tab_align = tab_align.concat([splited_tab_align[i]]);
		}
		if(tooltype=='FINDIP')
		{
			if(status=="FAILED")
			{
				addFindIpRowResult(requestId,"",url,""); // No I18N
			}
			else 
			{
				addFindIpRowResult(requestId,splited_table_details[1],url,row)
			}	
		    return;
		}
		else if(tooltype=='FINDLOCATION')
		{
		    addFindLocRowResult(requestId,splited_table_details[1],splited_table_details[2],splited_row);
		    return;
		}
		var tools_response = {"rowvalues":row_values,"columnvalues":column_values,"tabledetails":table_details,"tabalign":tab_align};// No I18N
		var json = JSON.stringify(tools_response);
		var arg = "exec="+save+"&tools_response="+encodeURIComponent(json);// No I18N
		var response = $.getAjaxResponse("POST","/publicpage",arg);// No I18N
        response = decodeHtml(response);
		var splited_response = response.split("#:#");
		if(tooltype=='CLEANCODE')
		{
			//console.log("Clean Code : /publicpage Response "+response);
		    addCleanCodeResponse(response,url,requestId);
		    return;								
		}
		else if(tooltype=='LYNXVIEW')
		{
		    // TODO : Adjust the size of the IFRAME WIDTH from 939px to 994px.
		    addLynxViewResponse(response,url,requestId);
		    return;
		}
		else if(tooltype=='WEBSPEED')
		{
			var permalink = getUrlValue(result,'axUrl_permalink');// No I18N
		    addWebSpeedResponse(response,url,requestId);
		    globalPermaLink=permalink;
		    document.getElementById('permalink').value = permalink;
		    $('#shareresult').show();
			addFacebookLikeButton(permalink,document.getElementById('fbLikeTd'));
		    addTweetLikeButton(permalink,document.getElementById('tweetdiv'));
   		    addgplusLikeButton(permalink,document.getElementById("gplusdiv"));  // No I18N
		    return;
		}
		else if(tooltype=='TEXTRATIO')
		{
			var permalink = getUrlValue(result,'axUrl_permalink');// No I18N
		    addTextRatioResponse(response,url,requestId);
		    globalPermaLink=permalink;
		    document.getElementById('permalink').value = permalink;
		    $('#shareresult').show();
			addFacebookLikeButton(permalink,document.getElementById('fbLikeTd'));
		    addTweetLikeButton(permalink,document.getElementById('tweetdiv'));
   		    addgplusLikeButton(permalink,document.getElementById("gplusdiv"));  // No I18N
		    return;
		}
    }
    else {
    	if(tooltype=='FINDIP')
    	{
    		if(status=="FAILED")
			{
				addFindIpRowResult(requestId,"",url,""); // No I18N
			}
    	}	
    	else if(tooltype=="FINDLOCATION")
        {
                addFindLocRowResult(requestId,"","",""); // No I18N
        }
    }
}

function checkThisLink(url,frm)
{
    document.getElementById('hostName').value = url;
    document.getElementById('outPutDiv').style.display = 'none';
    document.getElementById('testUrl').innerHTML = url;
    document.getElementById('laodingDiv').style.display = 'block';
    checkLinks(document.getElementById('linkCheckerForm'));
}

function invokeDirect(monitorType, url)
{
	document.getElementById("hostName").value=url;
	if(monitorType==='CODECLEAN')
	{
		getToolsResponse(document.codecleaner,'CLEANCODE');  //No I18N
	}	
	else if(monitorType==='LINK_CHECK')
	{
		checkLinks(document.checklinks);
	}	
	else if(monitorType==='HTML_VAL')
	{
		validateHTML(document.htmlvalidator);	
	}	
	else if(monitorType==='LINK_EXPLORER')
	{
		exploreLinks(document.linkexplorer);
	}	
	else if(monitorType==='LYNXVIEW')
	{
		getToolsResponse(document.lynxview,'LYNXVIEW');  //No I18N	
	}
}

function getElementFromForm(form,name)
{
	if(form==='undefined' || form === undefined)
	{
		return "";
	}
	else 
	{
		var elementCount=form.elements.length;
		for(i=0;i<elementCount;i++)
		{
			var formElement=form.elements[i];
			if(formElement.getAttribute("id")==='hostName')
			{
				return formElement;
			}	
		}	
	}
	return "";
}

function doCheckLinks(valueUrl)
{
	var frm;
	var formFound=false;
	var frmArray=document.getElementsByName("form"); // No I18N
	if(frmArray.length === 0)
	{
		frm=document.createElement("form"); // No I18N
	}
	else 
	{
		for(i=0;i<frmArray.length;i++)
		{
			var tempFrm=frmArray[i];
			if(tempFrm.getAttribute("name")==='checklinks') // No I18N
			{
				frm=tempFrm;
				formFound=true;
			}
		}
	}
	if(formFound===false)
	{
		frm=document.createElement("form"); // No I18N
		//document.appendChild(frm);
		
		frm.setAttribute("name","checklinks");  // No I18N
		frm.setAttribute("action","/tools/action.do"); // No I18N
		frm.setAttribute("method","POST"); // No I18N
		frm.setAttribute("styleId","linkCheckForm"); // No I18N
		
		var exElt=document.createElement("input"); // No I18N
		exElt.setAttribute("type","hidden"); // No I18N
		exElt.setAttribute("name","execute"); // No I18N
		exElt.setAttribute("value","checkAccessKeyword"); // No I18N
		
		var urlElt=document.createElement("input"); // No I18N
		urlElt.setAttribute("type","hidden"); // No I18N
		urlElt.setAttribute("name","url"); // No I18N
		urlElt.setAttribute("id","url"); // No I18N
		
		var hostElt=document.createElement("input"); // No I18N
		hostElt.setAttribute("tabindex","1"); // No I18N
		hostElt.setAttribute("type","text"); // No I18N
		hostElt.setAttribute("value",valueUrl); // No I18N
		hostElt.setAttribute("class","hostnameonly"); // No I18N
		hostElt.setAttribute("name","hostName"); // No I18N
		hostElt.setAttribute("id","hostName"); // No I18N
		
		frm.appendChild(exElt);
		frm.appendChild(urlElt);
		frm.appendChild(hostElt);
	}
	var hostNameElt=getElementFromForm(frm,'hostName');  //No I18N
	hostNameElt.value=valueUrl;
	checkLinks(frm,"");
}

function checkLinks(frm,ranword)
{
	reqTs=new Date();	
    if(frm.hostName.value=='')
    {
		alert(beanmsg.input_url);
		frm.hostName.select();
		return;
    }
    var url=frm.hostName.value;
    if(isDomainValid(url)===false)
	{
    	alert(beanmsg.input_url);
		document.getElementById("url").focus();
		return;
	}
	requestCount = requestCount + 1;
	getHtmlForForm(frm,"postcheckLinksAccessKeyword",frm,requestCount);  // No I18N
}

function postcheckLinksAccessKeyword(result,frm,requestId)
{
    frm.execute.value="linkChecker";  // No I18N
    var url = document.getElementById('hostName').value;
    url=trimUrl(url);
    document.getElementById('url').value = url;
    showCommonResultPage(url);
    $('#id_loadtime').html('Load Time: '+getDatediff(reqTs,new Date()));
    hideGroupToolsOptions();
    $('#shareresult').hide();
    // $('#id_quicktest_div').hide();
    // $('#id_quicktest_space').hide();
    var clRC=document.getElementById('checkLinkResultContainer');
    clRC=clRC.children[0].cloneNode(true);
    clRC.setAttribute("id","checkLink"+requestId);
    addResultsToTopElement(clRC);
    $(clRC).show();
    getHtmlForForm(frm,"postCheckLink",requestId);// No I18N
}
function postCheckLink(result,requestId)
{
    $('#checkLinkResultHdr').remove();
    $('#checkLinkResult').html(result);
    $('#checkLinkResult').show();	
    if(result.match("Error: Unable to access the specified URL"))
    {
    	return false;
    }
    var url = document.getElementById('hostName').value;
    var getUrl = "/tools/action.do?execute=displayLinkList&url="+url; // No I18N
    http.open("GET",getUrl,true); 
    http.onreadystatechange = postdisplayLinkList;
    http.send(null);
}

function postdisplayLinkList()
{
    // var checklink_response = "";
    if(http.readyState == 4) 
    { 
		result = decodeHtml(http.responseText);
		//console.log("postdisplayLinkText . . "+result);
		urlLinks = getUrlValue(result,'axUrl_urlLinks').split("||"); // No I18N
		imgLinks = getUrlValue(result,'axUrl_imgLinks').split("||"); // No I18N
		total_response_count = urlLinks.length+imgLinks.length;
		// alert("cccount "+total_response_count);
		for (var i=0; i<urlLinks.length; i++)
		{
		    if(urlLinks[i].length>0)
		    {
			// console.log("URL Link request to be generated is :
			// "+urlLinks[i]);
			// console.log("URL Link ID generated is : "+urlLinks[i]);
			var form = document.createElement("form");
			form.setAttribute("method", "post");
			form.setAttribute("action", "/tools/action.do?");
			form.appendChild(getnewFormElement("hidden","execute","getLinkStatus"));// No I18N
			form.appendChild(getnewFormElement("hidden","linkUrl",urlLinks[i]));// No I18N
			form.appendChild(getnewFormElement("hidden","id",i));// No I18N
			document.body.appendChild(form);
			getHtmlForForm(form,"postLinkStatus");  // No I18N
		    }
		}

		for (var i=0; i<imgLinks.length; i++)
		{
		    if(imgLinks[i].length>0)
		    {
			// console.log("URL Link request to be generated is :
			// "+imgLinks[i]);
			// console.log("URL Link ID generated is : "+imgLinks[i]);
			var form = document.createElement("form");
			form.setAttribute("method", "get");
			form.setAttribute("action", "/tools/action.do?");
			form.appendChild(getnewFormElement("hidden","execute","getImageStatus"));// No I18N
			form.appendChild(getnewFormElement("hidden","imageUrl",imgLinks[i]));// No I18N
			form.appendChild(getnewFormElement("hidden","id",i));// No I18N
			document.body.appendChild(form);
			getHtmlForForm(form,"postImageStatus");  // No I18N
		    }
		}
    } 
}
function postLinkStatus(result)
{
    var statusCode = getUrlValue(result,'axUrl_statusCode');// No I18N
    var id = getUrlValue(result,'axUrl_id');  // No I18N
    var url = getUrlValue(result,'axUrl_link');// No I18N
    if(statusCode==2)
    {
    	statusCode = "<img src='/images/ok-2.gif' border='0'>";
    }
    else if(statusCode==3)
    {
    	statusCode = "<img src='/images/redirected.gif' border='0'>";
    }
    else
    {
    	statusCode = "<img src='/images/notok.gif' border='0'>";
    }

    try
    {
    	document.getElementById(id).innerHTML = statusCode;
    }
    catch(e)
    {}
    link_values = link_values.concat([statusCode,url]);
    count_linkcheck++;

    if(count_linkcheck==total_response_count)
    {
		var hostname = document.getElementById('hostName').value;
		var response = {"linkvalues":link_values,"imgvalues":img_values};// No I18N
		var json = JSON.stringify(response);
		var form = document.createElement("form");
		form.setAttribute("method", "post");
		form.setAttribute("action", "/tools/action.do?");
		form.appendChild(getnewFormElement("hidden","execute","generatetableforlinkcheck"));// No I18N
		form.appendChild(getnewFormElement("hidden","response_data",json));// No I18N
		form.appendChild(getnewFormElement("hidden","url",hostname));// No I18N
		document.body.appendChild(form);
		getHtmlForForm(form,"publiclinkforlinkchecker",hostname);  // No I18N
		
    }
}

function postImageStatus(result)
{
    var id = getUrlValue(result,'axUrl_id');  // No I18N
    var statusCode = getUrlValue(result,'axUrl_statusCode');// No I18N
    var size = getUrlValue(result,'axUrl_size');// No I18N
    var type = getUrlValue(result,'axUrl_type');// No I18N
    var url = getUrlValue(result,'axUrl_imglink');// No I18N
    if(statusCode==2 || statusCode==3)
    {
	statusCode = "<img src='/images/ok-2.gif' border='0'>";
    }
    else
    {
	statusCode = "<img src='/images/notok.gif' border='0'>";
    }
    try
    {
		document.getElementById(id+"size").innerHTML = size+" Bytes";  // No I18N
		document.getElementById(id+"type").innerHTML = type;
		document.getElementById(id+"status").innerHTML = statusCode;
    }
    catch(e)
    {}
    img_values = img_values.concat([url,size+" Bytes",type,statusCode]);
    count_linkcheck++;
    if(count_linkcheck==total_response_count)
    {
		var hostname = document.getElementById('hostName').value;
		var response = {"linkvalues":link_values,"imgvalues":img_values};// No I18N
		var json = JSON.stringify(response);
		var form = document.createElement("form");
		form.setAttribute("method", "post");
		form.setAttribute("action", "/tools/action.do?");
		form.appendChild(getnewFormElement("hidden","execute","generatetableforlinkcheck"));// No I18N
		form.appendChild(getnewFormElement("hidden","response_data",json));// No I18N
		form.appendChild(getnewFormElement("hidden","url",hostname));// No I18N
		document.body.appendChild(form);
		getHtmlForForm(form,"publiclinkforlinkchecker",hostname);  // No I18N
		showPreviousHistory('LINK_CHECK',hostname);  //No I18N
    }
}

function publiclinkforlinkchecker(result,hostname)
{
    document.getElementById('permalink').value = getUrlValue(result,"axUrl_linktoolstest");// No I18N
    // $('.cpermalink').val($('.spermalink').val());
    $('.cpermalink').val(getUrlValue(result,"axUrl_linktoolstest"));
	$('#shareresult').show();	
	
	var fbLikeDiv=document.getElementById("fbLikeTd");
    var tweetLikeDiv=document.getElementById("tweetdiv");
    var	gplusdiv=document.getElementById("gplusdiv");
    linkurltest=getUrlValue(result,"axUrl_linktoolstest"); // No I18N
    globalToolType="LINK_CHECK";  // No I18N
    globalPermaLink=linkurltest;
    addFacebookLikeButton(linkurltest,fbLikeDiv);
    addTweetLikeButton(linkurltest,tweetLikeDiv);
    addgplusLikeButton(linkurltest,gplusdiv);
}


function validateHTML(frm,ranword)
{
	reqTs=new Date();
    if(frm.hostName.value=='')
    {
    	alert(beanmsg["input_url"]);
    	frm.hostName.select();
    	return;
    }
    var url=frm.hostName.value;
    if(isDomainValid(url)===false)
	{
    	alert(beanmsg.input_url);
		document.getElementById("url").focus();
		return;
	}
    if(url.toLowerCase().indexOf("zoho") != -1 || url.toLowerCase().indexOf("site24x7") != -1)
	{
    	alert('Zoho and Site24x7 domains are restricted. Please enter another domain.');// No I18N
		document.getElementById("url").focus();
		return;
	}
	requestCount = requestCount + 1;
	getHtmlForForm(frm,"postvalidateHTMLAccessKeyword",frm,requestCount);  // No I18N

}

function postvalidateHTMLAccessKeyword(result,frm,requestId)
{
    frm.execute.value="htmlValidator";  // No I18N
    var url = document.getElementById('hostName').value;
    url=trimUrl(url);
    document.getElementById('url').value = url;
    showCommonResultPage(url);
    hideGroupToolsOptions();
    $('#shareresult').hide();
    $('#id_loadtime').html('Load Time: '+getDatediff(reqTs,new Date()));
    // $('#id_quicktest_div').hide();
    // $('#id_quicktest_space').hide();
    var hvRC=document.getElementById('htmlValidateResultContainer');
    hvRC=hvRC.children[0].cloneNode(true);
    hvRC.setAttribute("id","htmlVal"+requestId);
    addResultsToTopElement(hvRC);
    $(hvRC).show();
    getHtmlForForm(frm,"postValidateHTML",requestId);// No I18N
}

function postValidateHTML(result,requestId)
{
    $('#htmlValResultHdr').remove();
    $('#htmlValResult').html(result);
    $('#htmlValResult').show();
    $('.cpermalink').val($('.spermalink').val());
	$('#shareresult').show();	
	
	var fbLikeDiv=document.getElementById("fbLikeTd");
    var tweetLikeDiv=document.getElementById("tweetdiv");
    var gplusdiv=document.getElementById("gplusdiv");
    linkurltest=$('.spermalink').val().toString();
    globalToolType='html_val';
	globalPermaLink=linkurltest;
    addFacebookLikeButton(linkurltest,fbLikeDiv);
    addTweetLikeButton(linkurltest,tweetLikeDiv);
    addgplusLikeButton(linkurltest,gplusdiv);
    
}

function explorePrimaryLink(url,id)
{
    document.getElementById(id+"image").innerHTML = "<a href='javaScript:void(0)' onClick=\"closePrimaryLink('"+url+"','"+id+"')\"><img src = '/images/minus-tools.gif' border='0'></a>"
    document.getElementById(id).style.display='block';
    getHtml("/tools/action.do?execute=linkExplorer&url="+encodeURIComponent(url)+"&nextLevel=true","postexplorePrimaryLink",id)  // No I18N
}
function postexplorePrimaryLink(result,id)
{
    document.getElementById(id).innerHTML=result;
}

function closePrimaryLink(url,id)
{
    document.getElementById(id).style.display='none';
    document.getElementById(id+"image").innerHTML = "<a href='javaScript:void(0)' onClick=\"explorePrimaryLink('"+url+"','"+id+"')\"><img src = '/images/plus-tools.gif' border='0'></a>"
}

function exploreLinks(frm,ranword)
{
    if(frm.hostName.value=='')
    {
		alert('Please enter a valid host name');
		frm.hostName.select();
		return;
    }
    reqTs=new Date();
	requestCount = requestCount + 1;
	getHtmlForForm(frm,"postexploreLinksAccessKeyword",frm,requestCount);  // No I18N

}

function postexploreLinksAccessKeyword(result,frm,requestId)
{
    frm.execute.value="linkExplorer";  // No I18N
    var url = document.getElementById('hostName').value;
    document.getElementById('url').value = url;
    url=trimUrl(url);
    showCommonResultPage(url);
    $('#id_loadtime').html('Load Time: '+getDatediff(reqTs,new Date()));
    hideGroupToolsOptions();
    var elRC=document.getElementById('exploreLinksResultContainer');
    elRC=elRC.children[0].cloneNode(true);
    elRC.setAttribute("id","expLinks"+requestId);
    addResultsToTopElement(elRC);
    $(elRC).show();
    getHtmlForForm(frm,"postExploreLinks",requestId);// No I18N
}

function postExploreLinks(result)
{
    $('#expLinksResultHdr').remove();
    $('#expLinksResult').html(result);
    $('#expLinksResult').show();	
}


function getLynxView(frm,ranword)
{
    if(frm.hostName.value=='')
    {
		alert(beanmsg["input_url"]);
		frm.hostName.select();
		return;
    }
	getHtmlForForm(frm,"postgetLynxViewAccessKeyword",frm);  // No I18N
}

function isNumeric(input)
{
	var regexp = /^\d+$/;
	return regexp.test(input); 
}

function postgetLynxViewAccessKeyword(result,frm)
{
    frm.execute.value="lynxView";  // No I18N
    var url = document.getElementById('hostName').value;
    url=trimUrl();
    var getUrl = "/tools/action.do?execute=lynxView&url="+url; // No I18N
    http.open("GET",getUrl,true); 
    var url = document.getElementById('hostName').value;
    document.getElementById('inputDiv').style.display = 'none';
    document.getElementById('testUrl').innerHTML = url;
    document.getElementById('newTestDiv').style.display = 'block';
    document.getElementById('laodingDiv').style.display = 'block';
    http.onreadystatechange = postLynxView;
    http.send(null);
}

function postLynxView() 
{ 
    if(http.readyState == 4) 
    { 
    	result = http.responseText;                  
    	invalid = getUrlValue(result,'axUrl_invalid'); // No I18N
	    if(invalid == 'true')
		{
		    document.getElementById('laodingDiv').style.display = 'none';
		    document.getElementById('outPutDiv').innerHTML='<br><table width="50%" align="center" border="0" cellspacing="2" cellpadding="2"><tr><td class="message" style="color:red">'+errMsg+'</td></tr></table><br>'
		    document.getElementById('outPutDiv').style.display = 'block';
		    return false;
		}
		fileName = getUrlValue(result,'axUrl_fileName'); // No I18N
		url = getUrlValue(result,'axUrl_url'); // No I18N
		document.getElementById('laodingDiv').style.display = 'none';
		document.getElementById('outPutDiv').style.display = 'block';
		document.getElementById('resultUrl').innerHTML= url;
    } 
} 

function setCookie(name,value)
{
	//console.log("setCookie : "+name+" value : "+value);
	value=trimUrl(value);
	setExpireCookie(name,value,1500);
}

function setExpireCookie(name,value,expDays)
{
	var date = new Date();
	date.setTime(date.getTime()+(expDays*24*60*60*1000));
	var expires = "expires="+date.toGMTString();
	value=trimUrl(value);
	document.cookie = name+"="+value+"; "+expires+"; path=/;";
}

function readCookie(name) {
	var nameEQ = name + "=";
	var ca = document.cookie.split(';');
	for(var i=0;i < ca.length;i++)
	{
		var c = ca[i];
		while (c.charAt(0)==' ') c = c.substring(1,c.length);
		if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
	}
	return null;
}

function setDefaultDomainWebsite(textName,cookieName)
{
	var inputElt=document.getElementById(textName)
	var cookieName=readCookie(cookieName);
	cookieName=trimUrl(cookieName);
	if(cookieName!=null)
	{
		// alert("setDefaultDomainWebsite : "+cookieName+" indexOf
		// "+cookieName.lastIndexOf('://'));
		/*
		 * if(cookieName.lastIndexOf(hp_var)>-1) {
		 * index=cookieName.lastIndexOf(hp_var); $('#popt').val(hp_var);
		 * selectElt.selectedIndex=1; cookieName=cookieName.substring(index+7); }
		 * else if(cookieName.indexOf(hs_var)>-1) {
		 * index=cookieName.lastIndexOf(hs_var); $('#popt').val(hs_var);
		 * selectElt.selectedIndex=1; cookieName=cookieName.substring(index+8); }
		 */
		/*index=cookieName.lastIndexOf('://');
		if(index!==-1)
		{
			cookieName=cookieName.substring(index+3);
		}
		// alert("Cookie Value : "+cookieName);
		*/
		inputElt.value=cookieName;
	}
}

function setDefaultDomain(textName,cookieName)
{
	// console.log("setDefaultDomain : TextField Name : "+textName+" cookie Name
	// : "+cookieName)
    var inputElt=document.getElementById(textName);
    var cookieName=readCookie(cookieName);
    // console.log("setDefaultDomain : Cookie Name : "+cookieName);
    if(cookieName==null || typeof(cookieName)=='undefined') 
    {
    	console.log("setDefaultDomain : return doing nothing")
        return;
    }
    var cookieStr=cookieName.toString();
    cookieStr=trimUrl(cookieStr);
    // console.log("setDefaultDomain : cookie String : "+cookieStr);
    var aElt=document.createElement("a");
    if(cookieStr.indexOf(hp_var)>-1)
    {
    	index=cookieStr.lastIndexOf('://'); // No I18N
    	cookieStr=cookieStr.substring(index+3)
    }
    if(cookieStr.indexOf(hs_var)>-1)
    {
    	index=cookieStr.lastIndexOf('://'); // No I18N
    	cookieStr=cookieStr.substring(index+3)
    }
    // aElt.href=cookieStr;
    inputElt.value=cookieStr;
    // console.log("setDefaultDomain : InputElt.value : "+input.value);
}

function setDefaultSecureWebsite(textName,cookieName)
{
    var inputElt=document.getElementById(textName)
    var cookieValue=readCookie(cookieName);
    cookieValue=trimUrl(cookieValue);
    if(cookieValue!=null)
    {
        if(cookieValue.indexOf(hp_var)>-1)
        {
        	index=cookieValue.lastIndexOf("://"); // No I18N
            cookieValue=cookieValue.substring(index+3);
        }
        if(cookieValue.indexOf(hs_var)>-1)
        {
        	index=cookieValue.lastIndexOf("://"); // No I18N
            cookieValue=cookieValue.substring(index+3);
        }
        inputElt.value=trimUrl(cookieValue);
    }
}

function selectTextInDiv(divId) {
	//console.log(divId);
    var node = document.getElementById( divId );
    if ( document.selection ) {
        var range = document.body.createTextRange();
        //console.log("Range : "+range);
        range.moveToElementText( node  );
        range.select();
    } else if ( window.getSelection ) {
        var range = document.createRange();
        //console.log("Range : "+range);
        range.selectNodeContents( node );
        window.getSelection().removeAllRanges();
        window.getSelection().addRange( range );
    }
}

function formatJson(inputDiv, resultDiv)
{
	var formattedJson = ''
	var jsonString = document.getElementById(inputDiv).value;
	var json = JSON.stringify(JSON.parse(jsonString),null,2);  
	json = json.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
	formattedJson = json.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g, function (match) 
	{
		var cls = 'jsoninteger'; //No I18N
		if (/^"/.test(match)) {
			if (/:$/.test(match)) {
				cls = 'jsonkey'; //No I18N
			} else {
				cls = 'jsonstring'; //No I18N
			}
		} else if (/true|false/.test(match)) {
			cls = 'jsonboolean'; //No I18N
		} else if (/null/.test(match)) {
			cls = 'jsonnull'; //No I18N
		}
		
		return '<span class="' + cls + '">' + match + '</span>';
	});
	//console.log("Formatted json : "+formattedJson);
	document.getElementById(resultDiv).innerHTML = "<pre style='height:97.5%; outline:none;'>"+formattedJson+"</pre>";
}

function html_formatter(inputValue)
            {
                var formattedHtml = ''
                var htmlString = inputValue;
                if(htmlString==""){
                    alert("Please give a HTML code.")   //No I18N
                }
                var html = style_html(htmlString);  
                //json = json.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
                formattedHtml = html.replace(/(<\/?(.|\n|)*?\w*)|(\s*>)|([a-zA-Z0-9_]+\s*=)|((?:'|").*(?:'|"))|([A-Za-z]+\s*)/g, function (match) 
                {
                    var cls;
                    var matchnew;
                    matchnew = match.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
                    if((/&lt;/.test(matchnew))||(/\s*&gt;/.test(matchnew))){
                            cls="green";     //No I18N
                    }
                    else if(/[a-zA-Z0-9_]\s*=+/.test(matchnew)){
                        cls="blue";     //No I18N
                    }
                    else if(/((?:'|").*(?:'|"))/.test(matchnew)){
                        cls="red";    //No I18N
                    }
                    else if(/[A-Za-z]+\s*/.test(matchnew)){
                        cls="orange";    //No I18N
                    }
                    //console.log('<span class="' + cls + '">' + match + '</span>');
                    return '<span class="' + cls + '">' + matchnew + '</span>';
                });
                //console.log("Formatted json : "+formattedHtml);
                return formattedHtml;
            }
        function getIndent(level) {
            var result = '',
            i = level * 4;
            if (level < 0) {
            throw "Level is below 0";     //No I18N
            }
            while (i--) {
            result += ' ';
            }
            return result;
        }

        function style_html(html) {
            html = html.trim();
            //var sample = html.replace(/&lt;/g,"<");
            //console.log(sample);
            //var samp1 = sample.replace(/&gt;/g,">");
            //console.log(samp1);
            var result = '',
            indentLevel = 0,
            tokens = html.split(/</);
            for (var i = 0, l = tokens.length; i < l; i++) {
            var parts = tokens[i].split(/>/);
            if (parts.length === 2) {
                if (tokens[i][0] === '/') {
                indentLevel--;
                }
                result += getIndent(indentLevel);
                if (tokens[i][0] !== '/') {
                indentLevel++;
                }

                if (i > 0) {
                result += '<';
                }

                result += parts[0].trim() + ">\n";
                if (parts[1].trim() !== '') {  
                result += getIndent(indentLevel) + parts[1].trim().replace(/\s+/g, ' ') + "\n";    //No I18N
                }

                if (parts[0].match(/^(img|hr|br)/)) {
                indentLevel--;
                }
            } else {
                result += getIndent(indentLevel) + parts[0] + "\n";
            }
            }
           return result;
        }

function html_markupvalidator(inputText){
    var html = inputText;
    if(html==""){
        alert("Please Enter a HTML code.")    //No I18N
    }
    else{
  $.htmlValidator.doctypes;
  $.htmlValidator.doctype("HTML 4.01 Strict");    //No I18N
  $.htmlValidator.parseSettings();
  $.htmlValidator.parseSettings({});
  $.htmlValidator.parseSettings({url: ""});
  $.htmlValidator.parseSettings({html: html});
  $.htmlValidator.parseSettings({fragment: $("div")});
  $.htmlValidator.parse({doctype: "HTML 4.01 Frameset", html: html});     //No I18N
  //document.getElementById("outputHTML").value = ($.htmlValidator.validate({doctype: "HTML 4.01 Transitional", html: html}));
  var result = $.htmlValidator.validate({doctype: "HTML 4.01 Transitional", html: html});   //No I18N
  if(result==""){  
      return "Your code is correct"     //No I18N
  }
  else{
      return result;
  }
}
}

function setFocusOnDiv(divId){
	var div = document.getElementById(divId);
    div.onfocus = function() {
        window.setTimeout(function() {
            var sel, range;
            if (window.getSelection && document.createRange) {
                range = document.createRange();
                range.selectNodeContents(div);
                range.collapse(true);
                sel = window.getSelection();
                sel.removeAllRanges();
                sel.addRange(range);
            } else if (document.body.createTextRange) {
                range = document.body.createTextRange();
                range.moveToElementText(div);
                range.collapse(true);
                range.select();
            }
        }, 1);
    };
    div.focus();
}

function formatXml(xmlContent, resultDiv) {
	try 
    {		
		if(xmlContent == "")
		{
			document.getElementById("result").innerHTML = "Please enter a XML content"; //No I18N
			document.getElementById("result").className = "toolsResultTextRed"; //No I18N
			return;
		}
		document.getElementById("result").innerHTML = "";
    } 
    catch(e) 
    {
    	//console.log("Exception message : "+e.message);
		document.getElementById("result").innerHTML = e.message;
		document.getElementById("result").className = "toolsResultTextRed";
    }
    var formattedXml = document.getElementById(resultDiv),
        cp = '';

    cp = cp.replace(/\'/g, '').replace(/\"/g, '');

    if (!isNaN(parseInt(cp))) { // argument is integer
        cp = parseInt(cp);
    } else {
        cp = cp ? cp : 4;
    }
    validateXML(xmlContent, 'result'); //No I18N
    formattedXml.innerHTML =  "<pre style='word-wrap: normal;white-space: pre;'>"+vkbeautify.xml(xmlContent,cp)+"</pre>";
    setFocusOnDiv(resultDiv);
}

function validateXML(xmlContent, errorDiv) {
    var errorDiv = document.getElementById(errorDiv);
    //console.log("XML content : "+xmlContent);
    if (xmlContent.indexOf("<") == -1){
    	errorDiv.innerHTML = "Please enter a valid XML"; //No I18N
        errorDiv.className = "toolsResultTextRed"; //No I18N
        return 0;
    }
    // code for IE
    if (window.ActiveXObject) {
        var xmlDoc = new ActiveXObject("Microsoft.XMLDOM");
        xmlDoc.async = false;
        xmlDoc.loadXML(xmlContent);
        if (xmlDoc.parseError.errorCode != 0) {
            txt = "Error Code: " + xmlDoc.parseError.errorCode + "\n"; //No I18N
            txt = txt + "Error Reason: " + xmlDoc.parseError.reason; //No I18N
            txt = txt + "Error Line: " + xmlDoc.parseError.line; //No I18N
            errorDiv.innerHTML = "The XML content contains mismatched tags."; //No I18N
            errorDiv.className = "toolsResultTextRed"; //No I18N
        }
    }
    // code for Mozilla, Firefox, Opera, etc.
    else if (document.implementation.createDocument) {
        try {
            var text = xmlContent;
            var parser = new DOMParser();
            var xmlDoc = parser.parseFromString(text, "application/xml"); //No I18N
        } catch (err) {
        	errorDiv.innerHTML = "The XML content contains mismatched tags."; //No I18N
            errorDiv.className = "toolsResultTextRed"; //No I18N
        }
        if (xmlDoc.getElementsByTagName("parsererror").length > 0) {
            parseErrorElement = xmlDoc.getElementsByTagName("parsererror")[0];
            errorDiv.innerHTML = "The XML content contains mismatched tags."; //No I18N
            errorDiv.className = "toolsResultTextRed"; //No I18N
        }
    } else {
        errorDiv.innerHTML = 'Your browser cannot handle XML validation'; //No I18N
    }
}

function RequestURL(url, callback, ExtraData) {
    var httpRequest;
    if (window.XMLHttpRequest) { // Mozilla, Safari, ...
        httpRequest = new XMLHttpRequest();
        if (httpRequest.overrideMimeType) {
            httpRequest.overrideMimeType('text/xml'); //No I18N
        }
    } else if (window.ActiveXObject) { // IE
        try {
            httpRequest = new ActiveXObject("Msxml2.XMLHTTP");
        } catch (e) {
            try {
                httpRequest = new ActiveXObject("Microsoft.XMLHTTP");
            } catch (e) {}
        }
    }
    if (!httpRequest) {
        return false;
    }
    httpRequest.onreadystatechange = function() {
        callback(httpRequest, ExtraData);
    };
    httpRequest.open('GET', url, true);
    httpRequest.send('');
    return true;
}

function LoadXML(ParentElementID, URL) {
    var xmlHolderElement = GetParentElement(ParentElementID);
    if (xmlHolderElement == null) {
        return false;
    }
    return RequestURL(URL, URLReceiveCallback, ParentElementID);
}

function formatSql(sqlStatement, resultDiv) {
	try 
    {		
		if(sqlStatement == "")
		{
			document.getElementById("result").innerHTML = "Please enter a SQL statement"; //No I18N
			document.getElementById("result").className = "toolsResultTextRed"; //No I18N
			return;
		}
		document.getElementById("result").innerHTML = "";
    } 
    catch(e) 
    {
    	//console.log("Exception message : "+e.message);
		document.getElementById("result").innerHTML = e.message;
		document.getElementById("result").className = "toolsResultTextRed";
    }
    var formattedSql = document.getElementById(resultDiv),
        cp = '';

    cp = cp.replace(/\'/g, '').replace(/\"/g, '');

    if (!isNaN(parseInt(cp))) { // argument is integer
        cp = parseInt(cp);
    } else {
        cp = cp ? cp : 4;
    }
    formattedSql.innerHTML =  "<pre style='word-wrap: normal;white-space: pre;font-weight: bold;font-size:13px;color:#0B610B;'>"+vkbeautify.sql(sqlStatement,cp)+"</pre>";
    setFocusOnDiv(resultDiv);
}

////////////////////////// Website Comparison changes ////////////////////////

function getWebsiteMetrics(frm,ranword)
{
	reqTs=new Date();
	globalToolType = 'WEBSITE-COMPARE'; // No I18N
    doToolsTest(frm,ranword,globalToolType);
}

function showWebsiteComparisonResultPage(url,reqId) 
{
    showCommonResultPage(url);
    $('#id_result_graph_space').show();
    $('.grptext').show();
    $('#website_comp_header_templ').show();
}

function postwebsitecomparisondetails(result,url,selectedLocations,reqId)
{
	// This method will be called twice for reqId 2 and 3. It will generate two tables.
	// Below check is to prevent that
	if(reqId == 2)
	{
		showWebsiteComparisonResultPage(url,reqId);		
	}
	for (var i=0; i<selectedLocations.length; i++)
	{
	    if(reqId == 2)
	    {
	    	addWebsiteComparisonLocationLoadingRow(selectedLocations[i].value,reqId);
	    }
	    var form=document.createElement("form");
	    form.setAttribute("method", "post");
	    form.setAttribute("name","WebSiteLocationTest");
	    form.setAttribute("action", "/tools/general/simpleTest.do");
	    form.appendChild(getnewFormElement("hidden","method","doWebsiteTest")); // No I18N
	    form.appendChild(getnewFormElement("hidden","locationid",selectedLocations[i].value)); // No I18N
	    form.appendChild(getnewFormElement("hidden","url",url)); // No I18N
	    form.appendChild(getnewFormElement("hidden","toolname","website-compare")); // No I18N
	    form.appendChild(getnewFormElement("hidden","timestamp",timestamp)); // No I18N
	    form.appendChild(getnewFormElement("hidden","requestId",reqId)); // No I18N
	    document.body.appendChild(form);
	    getHtmlForForm(form,"postWebsiteComparisonResponse",selectedLocations[i].value,selectedLocations.length,reqId);
	} 
    
}

function postWebsiteComparisonResponse(result,locid,selectedLocationslength,reqId)
{
    availRespCount[reqId] = availRespCount[reqId] + 1;
    
    if(result.length==0)
    {
		// Update as timed out.
		var locName=$('li input[value="'+locid+'"]').parent().text();
		// console.log("empty postResponse message received for location :
		// "+locid+" Location Name : "+locName);
		result="#ax_dnsResolvedtime=0&ax_responsetime=0&ax_locname="+locName+"&ax_downloadtime=0&ax_resolvedIp=&ax_firstdownload=0&ax_sizeinstring=0 KB&ax_firstBytetime=0&ax_availability=0&ax_responsecode=TIMED-OUT&ax_url=YourDomain.com&ax_reason=TIMED-OUT&ax_connectiontime=0&"; // No I18N
		// return 0;
    }
    if(result.match("locid")!=-1)
    {
    	var timeoutHandle=timeoutHandleaArray[locid];
    	clearTimeout(timeoutHandle);
    	// console.log("Clearing timeout since response has already been received
    	// Location : "+locid);
    	var responsetime = getValue(result,'ax_responsetime_'+reqId); // No I18N
    	var responsecode = getValue(result,'ax_responsecode_'+reqId); // No I18N
    	var reason=getValue(result,'ax_reason_'+reqId); // No I18N
    	var availability=getValue(result,'ax_availability_'+reqId); // No I18N
    	var resolvedIP=getValue(result,'ax_resolvedIp_'+reqId); // No I18N
    	var dnsResolvedtime=getValue(result,'ax_dnsResolvedtime_'+reqId); // No I18N
    	var firstBytetime=getValue(result,'ax_firstBytetime_'+reqId); // No I18N
    	var downloadtime=getValue(result,'ax_downloadtime_'+reqId); // No I18N
    	var connectiontime=getValue(result,'ax_connectiontime_'+reqId); // No I18N
    	var contentLength=getValue(result,'ax_sizeinstring_'+reqId); // No I18N
    	var availabilityimage="/images/down_icon.gif"; // No I18N
    	var firstdownload=getValue(result,'ax_firstdownload_'+reqId); // No I18N
    	var url=getValue(result,'ax_url_'+reqId); // No I18N
    	var locname = getValue(result,'ax_locname_'+reqId); // No I18N


    	// var locations=document.getElementById("locationid").value;
    	var locations=locid;
    	if(locations_url_response=="")
    	{
    		for(var i=0;i<selectedLocationslength;i++)
    		{
    			locations=locations.replace(",","locid=");
    		}
    		locations_url_response="locid="+locations; // No I18N
    	}
    	// var conTimeValue = parseInt(dnsResolvedtime) + parseInt(connectiontime);
    	var ttfbValue =firstBytetime; 
    	var ttlbValue = Math.abs(parseInt(responsetime)-(parseInt(connectiontime)+parseInt(firstBytetime)+parseInt(dnsResolvedtime)));
    	// var locations=document.getElementById("locationid").value;
    	var conTimeValue=connectiontime;
    	if(reason=="OK")
    	{
    		responsecode=reason;
    		if(topdivdata)
    		{
    			topdivdata=false;
    			var urltrim=$.trim(url);
    			var urllen=urltrim.length;
    			if(urllen >33)
    			{
    				var sliceurl=urltrim.slice(0,33);
    				$('#id_url').html('Result URL: '+sliceurl+'.....'); // No I18N
    				$('#id_url').attr('title',url); // No I18N
    			}
    			else
    			{
    				$('#id_url').html('Result URL: '+url);
    			}
    			$('#id_loadtime').html('Load Time: '+getDatediff(reqTs,new Date()));
    			var dateStr=getDateString(true);
    			$('#id_reqtime').html('Tested on: '+dateStr);
    		}
    		$('#id_locn'+reqId+""+locid).text(locname);
    		$('#id_fb'+reqId+""+locid).text(getLocaleFormattedNumber(firstBytetime));
    		$('#id_fb'+reqId+""+locid).css("text-align","center");// No I18N
    		$('#id_lb'+reqId+""+locid).text(getLocaleFormattedNumber(ttlbValue));
    		$('#id_lb'+reqId+""+locid).css("text-align","center");// No I18N
    		$('#id_respt'+reqId+""+locid).text(getLocaleFormattedNumber(responsetime));
    		$('#id_respt'+reqId+""+locid).css("text-align","center");// No I18N
    	}
    	else 
    	{
    		// console.log("Inside else : reason :: "+result);
    		if(responsetime==="0")
    		{
    			$('#id_locn'+reqId+""+locid).text(locname);
    			$('#id_fb'+reqId+""+locid).remove();
    			$('#id_lb'+reqId+""+locid).remove();
    			$('#id_size'+reqId+""+locid).remove();
    			$('#id_respt'+reqId+""+locid).width($('#domain1').width());// No I18N
    			$('#id_respt'+reqId+""+locid).text(reason); // No I18N
    		}
    		else {
    			$('#id_fb'+reqId+""+locid).text(getLocaleFormattedNumber(firstBytetime));
    			$('#id_lb'+reqId+""+locid).text(getLocaleFormattedNumber(ttlbValue));
    			$('#id_respt'+reqId+""+locid).text(getLocaleFormattedNumber(responsetime));
    		}
    	}
    }
}

function addWebsiteComparisonLocationLoadingRow(locationId,reqId)
{
    var locationName=$("input[value='"+locationId+"']").parent().text();
    if(locationName.indexOf(",")>0)
    {
    	locationName=locationName.substr(0,locationName.indexOf(","));
    }
    var resultRowTemplate=document.getElementById('website_comp_row_templ');
    var resultappendRow=document.getElementById('websitecomparison');//resultappend');
    var locLoadingDiv=document.createElement("div");
    locLoadingDiv.setAttribute("class",resultRowTemplate.getAttribute("class"));
    locLoadingDiv.setAttribute("style","width: 998px; height: 30px; display: none;");
    var rowHtml=resultRowTemplate.innerHTML;
    rowHtml=rowHtml.replace("LOCATION_NAME",LOCATION_LIST[locationId]+' '+('<img style="" src="" + animImage + ""/>'));
    rowHtml=rowHtml.replace("id_locn","id_locn"+reqId+""+locationId);
    rowHtml=rowHtml.replace("id_fb2","id_fb2"+locationId);
    rowHtml=rowHtml.replace("id_lb2","id_lb2"+locationId);
    rowHtml=rowHtml.replace("id_respt2","id_respt2"+locationId);
    rowHtml=rowHtml.replace("id_fb3","id_fb3"+locationId);
    rowHtml=rowHtml.replace("id_lb3","id_lb3"+locationId);
    rowHtml=rowHtml.replace("id_respt3","id_respt3"+locationId);
    locLoadingDiv.innerHTML=rowHtml;
    resultappendRow.appendChild(locLoadingDiv);	
    resultappendRow.style.display='block';
    locLoadingDiv.style.display='block';
}

function addTraceRouteLoadingRow(locationId,reqId)
{
    var locationName=$("input[value='"+locationId+"']").parent().text();
    if(locationName.indexOf(",")>0)
    {
    	locationName=locationName.substr(0,locationName.indexOf(","));
    }
    var resultRowTemplate=document.getElementById('website_comp_row_templ');
    var resultappendRow=document.getElementById('websitecomparison');//resultappend');
    var locLoadingDiv=document.createElement("div");
    locLoadingDiv.setAttribute("class",resultRowTemplate.getAttribute("class"));
    locLoadingDiv.setAttribute("style","width: 998px; height: 30px; display: none;");
    var rowHtml=resultRowTemplate.innerHTML;
    rowHtml=rowHtml.replace("LOCATION_NAME",LOCATION_LIST[locationId]+' '+('<img style="" src="" + animImage + ""/>'));
    rowHtml=rowHtml.replace("id_locn","id_locn"+reqId+""+locationId);
    rowHtml=rowHtml.replace("id_fb2","id_fb2"+locationId);
    rowHtml=rowHtml.replace("id_lb2","id_lb2"+locationId);
    rowHtml=rowHtml.replace("id_respt2","id_respt2"+locationId);
    rowHtml=rowHtml.replace("id_fb3","id_fb3"+locationId);
    rowHtml=rowHtml.replace("id_lb3","id_lb3"+locationId);
    rowHtml=rowHtml.replace("id_respt3","id_respt3"+locationId);
    locLoadingDiv.innerHTML=rowHtml;
    resultappendRow.appendChild(locLoadingDiv);	
    resultappendRow.style.display='block';
    locLoadingDiv.style.display='block';
}

function decodeHtml(encodedStr) {
	var parser = new DOMParser(); //No i18N
	var dom = parser.parseFromString(
		'<!doctype html><body>' + encodedStr, //No i18N
		'text/html'); //No i18N

	return dom.body.textContent;
}

///////////////////////// Website Comparison Changes /////////////////////////
</script>
<style>
/* $Id$ */
*,::after,::before{box-sizing:border-box;}
nav{display:block;}
ul{margin-top:0;margin-bottom:1rem;}
a{color:#007bff;text-decoration:none;background-color:transparent;-webkit-text-decoration-skip:objects;}
a:hover{color:#0056b3;text-decoration:underline;}
img{vertical-align:middle;border-style:none;}
button{border-radius:0;}
button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color;}
button{margin:0;font-family:inherit;font-size:inherit;line-height:inherit;}
button{overflow:visible;}
button{text-transform:none;}
button,html [type=button]{-webkit-appearance:button;}
[type=button]::-moz-focus-inner,button::-moz-focus-inner{padding:0;border-style:none;}
.collapse:not(.show){display:none;}
.nav-link{display:block;padding:.5rem 1rem;}
.nav-link:focus,.nav-link:hover{text-decoration:none;}
.navbar{position:relative;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;padding:.5rem 1rem;}
.navbar-nav{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;padding-left:0;margin-bottom:0;list-style:none;}
.navbar-nav .nav-link{padding-right:0;padding-left:0;}
.navbar-collapse{-ms-flex-preferred-size:100%;flex-basis:100%;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;}
.navbar-toggler{padding:.25rem .75rem;font-size:1.25rem;line-height:1;background-color:transparent;border:1px solid transparent;border-radius:.25rem;}
.navbar-toggler:focus,.navbar-toggler:hover{text-decoration:none;}
.navbar-toggler-icon{display:inline-block;width:1.5em;height:1.5em;vertical-align:middle;content:"";background:no-repeat center center;background-size:100% 100%;}
@media (min-width:992px){
    .navbar-expand-lg{-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-pack:start;justify-content:flex-start;}
    .navbar-expand-lg .navbar-nav{-ms-flex-direction:row;flex-direction:row;}
    .navbar-expand-lg .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem;}
    .navbar-expand-lg .navbar-collapse{display:-ms-flexbox!important;display:flex!important;-ms-flex-preferred-size:auto;flex-basis:auto;}
    .navbar-expand-lg .navbar-toggler{display:none;}
}
.navbar-light .navbar-nav .nav-link{color:rgba(0,0,0,.5);}
.navbar-light .navbar-nav .nav-link:focus,.navbar-light .navbar-nav .nav-link:hover{color:rgba(0,0,0,.7);}
.navbar-light .navbar-toggler{color:rgba(0,0,0,.5);border-color:rgba(0,0,0,.1);}
.d-flex{display:-ms-flexbox!important;display:flex!important;}
.flex-row{-ms-flex-direction:row!important;flex-direction:row!important;}
.flex-column{-ms-flex-direction:column!important;flex-direction:column!important;}
.justify-content-between{-ms-flex-pack:justify!important;justify-content:space-between!important;}
.align-items-center{-ms-flex-align:center!important;align-items:center!important;}
@media (min-width:576px){
    .flex-sm-row{-ms-flex-direction:row!important;flex-direction:row!important;}
    .align-items-sm-center{-ms-flex-align:center!important;align-items:center!important;}
}
@media print{
    *,::after,::before{text-shadow:none!important;box-shadow:none!important;}
    a:not(.btn){text-decoration:underline;}
    img{page-break-inside:avoid;}
    .navbar{display:none;}
}
@media screen{
    @media (min-width: 992px){
        .navbar-expand-lg .navbar-collapse{display:-ms-flexbox!important;display:flex!important;}
        .navbar-expand-lg .navbar-toggler{display:none;}
        .navbar-expand-lg .navbar-nav{-ms-flex-direction:row;flex-direction:row;}
        .navbar-light .navbar-nav .nav-item .nav-link{font-size:0.875rem;color:#000;padding-right:1rem;padding-left:1rem;}
        .navbar{padding:0px;}
        .navbar-nav li{line-height:35px!important;}
        .nav-sticky{position:sticky;top:0;left:0;right:0;z-index:999;border-bottom:1px solid #eee;background:#fff;}
        .nav-signup-btn{display:inline-block;font-family:ProximaNova-Sbold, sans-serif;padding:0.4rem 1rem;font-size:1rem!important;text-transform:uppercase;line-height:normal;}
        .signup-btn--green{background:#83b633;color:#fff!important;border:1px solid #83b633;}
        #header-wrap{width:100%;max-width:1280px;margin:0 auto;}
        .nav-item a.nav-link:hover{color:#83b633!important;}
    }
    @media only screen and (min-device-width : 320px) and (max-device-width : 766px){
        button:focus{outline:none;}
        .navbar-toggler{border:none;border-radius:0px;padding:0px;}
        .navbar-nav .nav-item{border-bottom:1px solid #f1f1f1;}
        .navbar-toggler-icon{width:1.2em;height:1.2em;}
        .navbar-collapse{margin-top:0.625rem;}
    }
    img{border:none;}
    *{padding:0;margin:0;color:#333333;}
    a{outline:medium none;text-decoration:none;}
    img{vertical-align:middle;}
    a{text-decoration:none;}
    a,img,ul,li{border:0 none;font:inherit;outline:medium none;padding:0;vertical-align:baseline;}
    nav{display:block;}
    ul{list-style:none outside none;}
    a{color:#333333;text-decoration:none;}
    a:hover{text-decoration:none;}
    @media (min-width: 320px) and (max-width: 768px){
        .navbar-collapse{background-color:#fff;}
    }
    @media (max-width: 768px){
        .navbar-collapse{border-top:1px solid transparent;box-shadow:inset 0 1px 0 rgba(255,255,255,0.1);}
        .navbar-collapse.collapse{display:none!important;}
        .navbar-nav{float:none!important;margin:7.5px -15px;}
        .navbar-nav>li{float:none;padding-left:15px;}
        .navbar-nav>li>a{padding-top:10px;padding-bottom:10px;}
    }
    @media screen and (min-width: 769px){
        .s247-logo{width:204px;line-height:normal;}
        .s247-logo img{width:100px;}
    }
}
/*! CSS Used fontfaces */
@font-face{font-family:"ProximaNova-Sbold";src:url(/fonts/ProximaNova-Sbold.otf) format('opentype');}


@font-face {
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;;
    src: url(../fonts/OpenSans-Regular-webfont.ttf) format("truetype");
}


@font-face {
    font-family: "Open Sans Semi";
    src: url(../fonts/OpenSans-Semibold-webfont.ttf) format("truetype");
}

@font-face {
    font-family: "Open Sans Light";
    src: url(../fonts/OpenSans-Light-webfont.ttf) format("truetype");
}



@font-face {
    font-family:"ProximaNova-Reg";
    src: url(../fonts/ProximaNova-Reg.otf) format('opentype');
}

@font-face {
    font-family: "ProximaNova-Sbold";
    src: url(../fonts/ProximaNova-Sbold.otf) format('opentype');
}

@font-face {
    font-family: "ProximaNova-RegIt";
    src: url(../fonts/ProximaNova-RegIt.otf) format('opentype');
}


@font-face {
    font-family: "ProximaNova-Bold";
    src: url(../fonts/ProximaNova-Bold.otf) format('opentype');
}


@font-face {
    font-family: "ProximaNova-Light";
    src: url(../fonts/ProximaNova-Light.otf) format('opentype');
}


@font-face {
    font-family: "ProximaNova-Xbold";
    src: url(../fonts/ProximaNova-Xbold.otf) format('opentype');
}


@media (min-width: 992px){


    .navbar-expand-lg .navbar-collapse {
        display: -ms-flexbox!important;
        display: flex!important;
    }
    .navbar-expand-lg .navbar-toggler {
        display: none;
    }
    .navbar-expand-lg .navbar-nav {
        -ms-flex-direction: row;
        flex-direction: row;
    }

    .navbar-light .navbar-nav .nav-item .nav-link{
        font-size:0.875rem;
        color:#000;
        padding-right: 1rem;
        padding-left: 1rem;
    }
    .navbar{padding:0px;}

    .navbar-nav li{
        line-height:35px!important;
    }


    .nav-sticky {
        position: sticky;
        top: 0;
        left: 0;
        right: 0;
        z-index: 999;
        border-bottom: 1px solid #eee;
        background: #fff;
    }

    .nav-signup-btn {
        display: inline-block;
        font-family:ProximaNova-Sbold, sans-serif;
        padding: 0.4rem 1rem;
        font-size: 1rem!important;
        text-transform: uppercase;
        line-height:normal;
    }

    .signup-btn {
        display: inline-block;
        font-family: ProximaNova-Sbold, sans-serif;
        padding: 0.75rem 1.5rem;
        text-transform: uppercase;
        font-size: 1rem;
    }

    .signup-btn--green {
        background: #83b633;
        color: #fff!important;
        border: 1px solid #83b633;
    }

    #header-wrap {
        width: 100%;
        max-width: 1280px;
        margin: 0 auto;
    }
    .fixed-top {
        position: sticky;
        top: 0;
        right: 0;
        left: 0;
        z-index: 1030;
    }


    .nav-item a.nav-link:hover {
        color:#83b633!important;}


}

@media only screen and (min-device-width : 320px) and (max-device-width : 766px) {


    .footer-col-one-fifth {
        flex: 0 0 100%;
        max-width: 100%;
    }

    .footer-col-one-fourth {
        flex: 0 0 100%;
        max-width: 100%;
    }

    button:focus {
        outline: none;
    }

    .navbar-toggler {
        border: none;
        border-radius: 0px;
        padding: 0px;
    }


    .navbar-nav .nav-item {
        border-bottom: 1px solid #f1f1f1;
    }


    .navbar-toggler-icon {
        width: 1.2em;
        height: 1.2em;
    }



    .navbar-collapse {
        margin-top: 0.625rem;
    }

    .footer-all-in-one-ul {
        flex-wrap: wrap;
        width: 100%;
        justify-content: center;
        padding: 0.25rem;
    }

    .footer-toggle {
        display: inline-block;
        position: relative;
        width: 100%;

    }

    .footer-toggle:after {
        content: '';
        position: absolute;
        border-top: 1px solid #000;
        border-right: 1px solid #000;
        transform: rotate(135deg);
        height: 6px;
        width: 6px;
        right: 0px;
        top: 5px;
    }

    .footer-toggle h5 {
        border-bottom: 1px solid #ccc;
        padding-bottom: 5px;
    }

    .footer-header {
        border-bottom: 1px solid #ccc;
        padding-bottom: 5px;
    }

    .footer-col-one-fifth .footer-links , .footer-col-one-fourth .footer-links{
        display: none;
    }

}



img {
    border: none;
}
p.italic {
    font-family:ProximaNova-Reg, Arial, Helvetica, sans-serif;;
    font-size:20px;
    text-align:left;
    padding-left:20px;
    padding-top:10px;
    color:#4b4949;
}
.runningtxtlogin {
    color: #525252;
    font-size: 24px;
    font-weight: 300;
    letter-spacing: 0.3px;
    line-height: 30px;
    padding: 15px 0 5px;
    text-align: left;
}
.lu2 {
    color: #525252;
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size: 15px;
    letter-spacing: 0.5px;
    line-height: 30px;
    padding: 15px 0 5px;
    text-align: left;
    list-style: disc inside none;
}

.dotline {
    border-bottom-style: dotted;
    border-bottom-width: 1px;
    border-bottom-color: rgb(119, 119, 119);
}
span.italic {
    font-family:ProximaNova-Reg, Arial, Helvetica, sans-serif;;
    text-align:left;
    padding-top:10px;
    color:#777777;
}
div.italicbd {
    font-family:ProximaNova-Reg, Arial, Helvetica, sans-serif;;
    font-size:13px;
    font-weight:500;
    text-align:left;
    padding-left:20px;
    padding-right:30px;
    padding-top:10px;
    color:#727272;
    font-style:italic;
}
.f h5 {
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size: 16px;
    padding-bottom: 25px;
    text-transform: uppercase;
    color: #444444;
}
p.text{
    font-family:ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size:14px;
    text-align:left;
    color:#777777;
    line-height:24px;
}
p.press{
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size:12px;
    text-align:left;
    color:#000000;
    line-height:18px;
}
span.heading-1 {
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size:13px;
    text-align:left;
    color:#000000;
    line-height:18px;
    padding-top: 5px;
}
div.texthover{
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size:11px;
    text-align:left;
    color:#777777;
    line-height:20px;
}
p.formtext{
    font-family:ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size:14px;
    text-align:left;
    color:#444444;
    line-height:24px;
    padding-top:15px;
}
p.free{
    font-family:ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size:30px;
    text-align:left;
    color:#444444;
    padding-top:15px;
    line-height:24px;
}
span.text{
    font-family:ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size: 14px;
    text-align: left;
    color: #777777;
    line-height: 24px;
    margin-bottom: 10px;
    padding-top: 10px;
}
span.sign{
    font-family:ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size: 15px;
    text-align: left;
    color: #444444;
    line-height: 18px;
    font-weight: 500;
}
span.head{
    font-family:ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size:15px;
    text-align:center;
    color:#444444;
    line-height:24px;
    font-weight:500;
}
span.text2 {
    color: #535353;
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size: 11px;
    line-height: 20px;
    margin-bottom: 10px;
    text-align: left;
}
span.testtxt{
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size:12px;
    text-align:left;
    color:#444444;
    line-height:20px;
    margin-bottom:10px;
    font-style:italic;
    padding-right: 20px;
}
td.text2{
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size:12px;
    text-align:left;
    color:#444444;
    line-height:24px;
    margin-bottom:10px;
}
span.cost{
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;
    text-align:left;
    font-size: 30px;
    font-weight: 500;
    letter-spacing: -1px;
    line-height: 1em;
    margin-bottom:10px;
    color:#363636;
}
span.rec{
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size:15px;
    text-align:center;
    color:#444444;
    line-height:24px;
    font-weight:bold;
}
td.text3{
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size:13px;
    text-align:center;
    color:#444444;
    line-height:24px;
    margin-bottom:10px;}

.striketext {
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size:14px;
    text-align:center;
    color:#444444;
    line-height:24px;
    margin-bottom:10px;
    text-decoration:line-through;
}
span.learn{
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size:12px;
    text-align:left;
    color:#666666;
    line-height:24px;

}
span.learn2{
    font-family:ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size:12px;
    text-align:left;
    color:#000;
    line-height:24px;

}
ul.litxt{
    font-family:ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size:12px;
    text-align:left;
    color:#000 !important;
    line-height:18px;
    padding-left:15px;
    list-style:outside;
}
span.smtxt{
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size:10px;
    text-align:left;
    color:#000;
    line-height:18px;
}
span.trial{
    text-align:center;
    font-size: 10px;
    font-weight: 500;
    letter-spacing: 0px;
    line-height: 1em;
    color:#FFFFFF;
    text-decoration:none;
    font-style:normal;
}
span.per{
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;
    text-align:center;
    font-size: 11px;
    letter-spacing: 0px;
    line-height: 1em;
    color:#727272;
    text-decoration:none;
    font-style:normal;
    margin-top:0px;
}
div.pricingper{
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;
    text-align:left;
    font-size: 10px;
    letter-spacing: 0px;
    line-height: 16px;
    color:#999797;
    text-decoration:none;
    font-style:normal;
    margin-top:0px;
    position:relative;
    top:0px;
    margin-bottom:15px;
}
span.mainheading{
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size:16px;
    text-align:left;
    color:#333333;
    line-height:24px;
}
h3.heading {
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size:36px;
    text-align:left;
    padding-left:20px;
    padding-top:10px;
    color:#444444;
}
p.heading {
    color:#484848;
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size: 24px;
    font-weight: 300;
    letter-spacing: 0;
    line-height: 1em;
    padding-top:10px;
    text-align:left;
}
p.headinginner20 {
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;
    text-align:left;
    font-size: 20px;
    font-weight: 300;
    letter-spacing: 0px;
    line-height: 1.4em;
    padding-top:10px;
    color:#515151;
}
p.headinginnert20 {
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;
    text-align:left;
    font-size: 24px;
    font-weight: 500;
    letter-spacing: -1px;
    line-height: 1.4em;
    padding-top:10px;
    color:#515151;
}
.publicPageSignUpText {
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;
    text-align:left;
    font-size: 16px;
    font-weight: 600;
    letter-spacing: 0px;
    line-height: 1.4em;
    margin-top:10px;
    color:#515151;
}
.publicpageheader { width: 100%; height: 59px; clear: both; }
p.headinginner {
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;
    text-align:left;
    font-size: 22px;
    font-weight: 300;
    letter-spacing: -1px;
    line-height: 1.4em;
    padding-top:10px;
    color:#000000;
}
p.headinginner2 {
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;
    text-align:left;
    font-size: 18px;
    font-weight: 300;
    letter-spacing: -1px;
    line-height: 1em;
    padding-top:10px;
    color:#000000;
}
td.rec {
    font-family:ProximaNova-Reg, Arial, Helvetica, sans-serif;
    text-align:center;
    font-size: 14px;
    font-weight:bold;
    letter-spacing: -1px;
    line-height: 1em;
    padding-top:10px;
    color:#727272;
}
#temp-head {
    min-width: 1020px;
    width: 100%;
}
.rectangle2 {
    background-color: #FFFFFF;
    border: 2px dotted #83B633;
    color: #525252;
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size: 13px;
    height: 30px;
    padding: 5px 0 5px 5px;
}
.border-none td { border-left:none!important; border-right:none!important;}
td .tooltipcontainer {
    position: relative;
}
td .tooltip {
    display: none;
    position: absolute;
    /* More positioning, heigh, width, etc */
}
td a:hover .tooltip {
    display: block;
}
p.heading2 {
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size:30px;
    text-align:left;
    padding-left:20px;
    padding-top:10px;
}
p.heading3 {
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size:34px;
    text-align:center;
    padding-bottom:40px;
    padding-top:40px;
    color:#444444;
    line-height:48px;
}
.runningtxt{
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;
    color: #555555;
    font-size: 14px;
    letter-spacing: 0.5px;
    line-height: 23px;
    padding: 15px 0 5px;
    font-weight:400;
}
.running {
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;
    color: #777777;
    font-size: 11px;
    letter-spacing: 0.5px;
    line-height: 18px;
    padding-left:20px;

}
.ctext {
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;
    color: #777777;
    font-size: 11px;
    font-weight: 500;
    letter-spacing: 0.5px;
    line-height: 15px;
    text-align: left;
    padding-left: 5px;
}
.loctext {
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;
    color: #000000;
    font-size: 7px;
    font-weight: 500;
    letter-spacing: 0.5px;
    line-height: 15px;
    text-align: left;
}
.accesstext{
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;
    color: #444444;
    font-size: 13px;
    font-weight: 500;
    letter-spacing: 0.5px;
    text-align: left;
}
.dlfontl { // Domain result location font;
    color: #000000;
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size: 13px;
    font-weight: 500;
    letter-spacing: 0px;
    line-height: 1.4em;
    padding-top: 5px;
}
.dlfont11l { // Domain result location font;
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size: 11px;
}
.dlfont12n {
    color: #000000;
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size: 12px;
    font-weight: 500;
    letter-spacing: 0px;
    line-height: 1.4em;
    padding-top: 5px;
    text-align: center;
}
.dlfont { // Domain result location font;
    color: #000000;
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size: 13px;
    font-weight: 500;
    letter-spacing: 0px;
    line-height: 1.4em;
    padding-top: 5px;
    text-align: center;
}
.dlfontb { // Domain result location font;
    color: #000000;
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size: 14px;
    font-weight: bold;
    letter-spacing: 0px;
    line-height: 1.4em;
    padding-top: 5px;
    text-align: center;
}
.dlfont12 { // Domain result location font 12;
    color: #000000;
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size: 11px;
    font-weight: 300;
    letter-spacing: 1px;
    line-height: 1.4em;
    padding-top: 5px;
    text-align: center;
}
.dlfont9 { // Domain result location font 12;
    color: #000000;
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size: 12px;
    font-weight: 500;
    letter-spacing: 1px;
    line-height: 1.4em;
    padding-top: 5px;
    text-align: center;
}
.dlfont9l { // Domain result location font 12;
    color: #000000;
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size: 12px;
    font-weight: 500;
    letter-spacing: 1px;
    line-height: 1.4em;
    padding-top: 5px;
    text-align: left;
}
.datetimefont {
    color: #000000;
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size: 18px;
    font-weight: 300;
    letter-spacing: 0.5px;
    line-height: 1.4em;
    padding-top: 10px;
    text-align: left;
}
.grptext {
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;
    color: #333333;
    font-size: 11px;
    font-weight: 500;
    letter-spacing: 0.5px;
    line-height: 23px;
    text-align: center;
}
.expand{
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size:12px;
    color:#777777;
    line-height:24px;
    font-weight:300;
}
span.offer {
    color: #444444;
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size: 14px;
    font-weight: 500;
    line-height: 24px;
    text-align: center;
}
p.latest {
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;;
    text-align:left;
    font-size: 13px;
    font-weight: 350;
    letter-spacing:0px;
    line-height: 1em;
    padding-top:10px;
    color:#000000;

}
.tag{
    color: #777777;
    display: block;
    font-size: 15px;
    font-weight: 300;
    letter-spacing: 0.5px;
    padding-top: 10px;
    padding-bottom: 10px;
    line-height:24px;
}
.loginform {
    padding-left:20px;
    padding-top:10px;
}
.signuppricingbtn {
    background: none repeat scroll 0 0 #83B633;
    color: #FFFFFF;
    display: block;
    font-size: 16px;
    font-weight: 400;
    line-height: 16px;
    margin-left: 8px;
    padding: 4px 15px;
    text-decoration: none;
    width: 102px;
}
.freetxt{
    background: none repeat scroll 0 0 #F9F9F9;
    border: 1px solid #E4E4E4;
    height: 54px;
    left: 0;
    position: absolute;
    top: 48px;
    width: 293px;
    padding-top:5px;
    text-align:center;
}
.freetxt2{
    background: none repeat scroll 0 0 #FFFFFF;
    border: 1px solid #E4E4E4;
    height: 84px;
    left: 0;
    position: absolute;

    top: 106px;
    width: 293px;
    text-align:center;
}
.signupprice {
    background: none repeat scroll 0 0 #83B633;
    color: #FFFFFF;
    display: block;
    font-size: 14px;
    font-weight: lighter;
    line-height: 16px;
    margin-left: 66px;
    padding: 8px 9px;
    text-decoration: none;
    width: 100px;
}
/* $Id$ */
/* ALL THE FOLLOWING CONTENTS ARE FOR THIYAGU */
.dottedline {
    border-bottom: 1px dotted #CCCCCC;
}
.mobileweb-bg {
    background:url(../images/mobileweb-header1.jpg) no-repeat scroll 0 0 transparent;
    color: #6C6E6F;
    font: 18px  ProximaNova-Reg, Arial, Helvetica, sans-serif;
    height: 358px;
    margin: 0 auto;
    width: 981px;
}
*{
    padding: 0;
    margin: 0;
    color: #333333;
}
.col-box{
    width:310px;
    height:95px;
    background-image:url('../images/inner-box-bg.jpg');
    background-repeat:no-repeat;
    text-align:left;
    margin-left:0px;
    margin-right:13px;
    float:left;
    padding:5px;
}
.col-box .img{
    float:left;
    margin:10px;
}
.col-box .heading-1{
    font:normal 13px  ProximaNova-Reg, Arial, Helvetica, sans-serif;
    color:#000;
}
.col-box {
    font:normal 10px  ProximaNova-Reg, Arial, Helvetica, sans-serif;
    color:#b7b7b7;
}
.col-box:hover{
    background-image:url('../images/inner-box-bg-hover.jpg');
}
.col-box2{
    width:480px;
    height:150px;
    text-align:left;
    margin-left:0px;
    margin-right:30px;
    margin-bottom:0px;
    float:left;
    padding:15px 0px 3px 0px;
}
.col-boxlast{
    width:490px;
    height:150px;
    text-align:left;
    margin-left:0px;
    margin-right:0px;
    margin-bottom:0px;
    float:left;
    padding:15px 0px 3px 0px;
}
.dotline{
    border-bottom:dotted 1px  #777777;

}
.link
{
    font:normal 10px  ProximaNova-Reg, Arial, Helvetica, sans-serif;
    color:#000;
    text-decoration:none;
}
#pagecointainer table p a {
    color: #727272;
}
.col-box2 .img{
    float:left;
    margin:10px;
}
.col-box2 .heading-1{
    color:#000;
}
.col-box2 .heading-2{
    font:normal 10px  ProximaNova-Reg, Arial, Helvetica, sans-serif;
    color:#666666;
}
.content h3 {
    font: 22px  ProximaNova-Reg, Arial, Helvetica, sans-serif;
}
.content h3 a{color:#727272;}
a {
    outline: medium none;
    text-decoration: none;
}
.first {
    border: 0 none;
    clear: left;
    padding-left: 0;
}
.mainheading {
    padding-top: 20px;
}
.mainheading {
    margin-top: 20px;
    padding-bottom: 45px;
    padding-right: 0;
    width: 315px;
    text-align:left;
    color:#333333;
}
.testimonial{
    background-color:#F3F4F4;
    border-bottom:1px solid #DDDDDD;
    border-top:1px solid #DDDDDD;
    width:100%;
}
.testimonialinner{
    width:1000px;
    margin:auto;
    padding-bottom:30px;
}
.italiccont{
    font-size:13px;
    color:#777777;
}

#mainContent table td{text-align:middle;}

/* Included for pricing */
.radiotabs table td table td{ padding:4px;}
td.noborder{border:0px;}
td.borderbox{border-bottom:1px solid #e4e4e4; border-left:1px solid #e4e4e4; border-right:1px solid #e4e4e4;}
td.borderbox2{border-bottom:1px solid #e4e4e4; border-left:1px solid #e4e4e4; border-right:1px solid #e4e4e4; border-top:1px solid #e4e4e4;}
td.greybox{background-color:#F9F9F9; }
td.yellowbox{background-color:#f3d55b;}
td.noborderbox{ border-bottom:1px solid #e4e4e4;}
td.allborderbox{border:1px solid #e4e4e4;}
td.topborder{border-top:1px solid #E4E4E4;}

input.tabs {position:absolute; left:-9999px; cursor:pointer;}
input.tabs + label {
    background: none repeat scroll 0 0 #fff;
    color: #525252;
    cursor: pointer;
    display: block;
    float: left;
    font: 12px/30px  ProximaNova-Reg, Arial, Helvetica, sans-serif;
    margin-right: 2px;
    padding: 0 20px;
    position: relative;
    text-decoration: none;
}
input.tabs + label img {position:absolute; left:0; top:0; width:100%; height:100%; cursor:pointer;}
.tabcontent {width:100%; padding:0px; background:#fff; position:relative; z-index:10; display:none; clear:left; top:-1px;

}
/* .tabcontent p {padding:-1px 0 5px 0; margin:0; font:normal 12px/20px  ProximaNova-Reg, Arial, Helvetica, sans-serif; color:#333;} */
.tabcontent h4 {padding:0 0 10px 0; margin:0; font:bold 14px/25px  ProximaNova-Reg, Arial, Helvetica, sans-serif; color:#000;}
.tabcontent {display:none;}
input.tabs:checked + label {
    background-color: #758691;
    color: #fff;
    cursor: pointer;
    z-index: 20;
    height:30px;
}
input#tab1:checked ~ div#view1 {display:block;}
input#tab2:checked ~ div#view2 {display:block;}
input#tab3:checked ~ div#view3 {display:block;}
input#tab4:checked ~ div#view4 {display:block;}
input#tab5:checked ~ div#view5 {display:block;}
/* END OF THIYAGU CSS *********************/
/* START OF EDWIN TOOLS CSS ***************/
.linesep2
{
    border-bottom: 2px solid #DDDDDD;
    width: 1000px;
    margin: 0px auto;
}
/*.linesep4
{
    border-bottom: 4px solid #EFEFEF;
    width: 1000px;
    margin: 0px auto;
} */
.inner-box-2 .img{
    float:left;
    margin:10px;
}
.inner-box .img{
    float:left;
    margin:2px 12px 35px;
}
.radiotabs {
    margin: 0 auto;
    width: 1024px;
}
.tabindent { margin-left: 5px;}
.pricing-table .tooltip-container .icon-cursor {
    color: #ccc;
    margin-left: 10px;
}
.icon-cursor {
    cursor: pointer;
}
.pricing-table .tooltip-container  .tooltip-container2 .tooltip-content {
    margin-left: 9px;
}
.tooltip-content {
    background-color: #fff1b1;
    border:2px solid #fbdf5a;
    -webkit-border-radius: 4px;
    -moz-border-radius: 4px;
    border-radius: 4px;
    color: #000;
    font-size: 12px;
    padding: 15px 20px;
    position: absolute;
    display:none;
    width: 250px;
    box-shadow: 10px 10px 5px #888888;
    z-index: 1;
}
.tooltip-content > p {
    line-height: 1.5em;
    margin: 0 0 0.5em;
    text-align: left;
}
.pricing-table .tooltip-container .tooltip-container2 {
    margin: 0 1em 0 0;
    float: left;
}
.tooltip-container .tooltip-container2 {
    margin: 0px 0 0 0px;
    position: relative;
}
.tooltip-content:after {

    border-color: #FFF1B1 transparent transparent;
    border-style: solid;
    border-width: 12px 12px 0;
    top: -8px;
    content: "";
    display: block;
    height: 0;
    left: 50px;
    position: absolute;
    /*  transform: rotate(180deg);*/
    -webkit-transform:rotate(180deg);-moz-transform:rotate(180deg);-o-transform:rotate(180deg);-ms-transform: rotate(180deg);
    width: 0;
}
.icon-cursor{
    cursor:pointer;}
.line {
    background: none repeat scroll 0 0 #758691;
    height:3px;
    position:relative;
    top:33px;
    width: 1000px;
}
.pop{}
.pop1{}
.dec{
    border-bottom: 1px dotted #999999;
}
.mb{
    position:absolute;
    top:75px;
    margin-left:850px;
    float:right;
}


.gartinertxt{
    color: #777777;
    font-size: 11px;
    letter-spacing: 0.5px;
    line-height: 18px;
    padding: 15px 0 5px;
    text-align:left;
}
.pop2{}
.hoverct {
    background-color: #fff1b1;
    border:1px solid #fbdf5a;
    border-radius: 6px 6px 6px 6px;
    -webkit-border-radius: 6px;
    -moz-border-radius: 6px;
    border-radius: 6px;
    bottom: -114px;
    color: #999;
    font-size: 14px;
    padding: 15px 20px;
    position: absolute;
    display:block;
    width: 250px;
    z-index: 1;
    bottom:22px;
    box-shadow: 10px 10px 5px #888888;
}
.hoverct > p {
    line-height: 1.5em;
    margin: 0 0 0.5em;
    text-align: left;
}
.leftbox {
    position: relative;
}
.hoverct:after {
    border-color: #FFF1B1 transparent transparent;
    border-style: solid;
    border-width: 16px 16px 0;
    bottom: -6px;
    content: "";
    height: 0;
    left:61px;
    position: absolute;
    transform: rotate(270deg);
    width: 0;
}

.pricintab{
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size: 14px;
    font-weight: bold;}

.prichead{
    font: 22px  ProximaNova-Reg, Arial, Helvetica, sans-serif;
    color:#727272;
    text-align:left;
    line-height:28px;
    letter-spacing:0px;

}

/*Pricing Ends*/
.testbg{
    background-color:#FFFFFF;
    border:1px solid #e9e9e9;
    padding-top:20px;
    padding-bottom:20px;
    margin:auto;
}
.site{
    padding-bottom:15px;
}

.rectangle{
    background-color:#f7f7f7;
    height:30px;
    padding-top:10px;
    padding-left:10px;
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size:12px;
    color:#888888;
    border:1px solid #efefef;

}
.yr{
    position:absolute;
    top:260px;
    margin-left:210px;
}

.listleft {
    padding-left:30px;
    list-style:disc;
    line-height:24px;
    margin-left:20px;
}

.listo{
    list-style:disc;
}

.ct{
    padding-left:20px;}


.loginbox{
    border:1px solid #eaeaea;
    width:40%;
    border-radius:4px; -moz-box-shadow: 0 0 10px #e0dfdf;
    -webkit-box-shadow: 0 0 10px #e0dfdf;
    overflow:hidden; margin:3px 0 15px 5px;
    min-height: 222px; line-height:22px;
    box-shadow: 0 0 10px #e0dfdf;
    float:right;
    margin-top:20px;
}
.loginleft{
    float:left; padding-top:15px;
    width:58%;

}


.loginform{
    padding-left:20px;
    padding-top:10px;
}

.forget{
    float:left;
    position:relative;
    margin-top:15px;
}

.discount{
    position:absolute;
    top:200px;
    padding-left:890px;

}



.seltab-none {
    background: none!important;
}
.setupSelectedHeading {
    color: #AAAAAA;
    font-size: 20px;
    font-weight: normal;
    padding: 0 0 5px 14px;
    text-shadow: 0 1px 0 #FFFFFF;
}
.commentabmenu {
    display: block;
    margin: 0;
    padding: 0;
}
.commentabmenu li, .commentabmenu td {
    cursor: pointer;
    float: left;
    font-size: 13px;
    margin: 0;
    padding: 9px 15px 4px;
}
img {
    vertical-align: middle
}
.mrgtop {
    margin-top:24px!important;
}
.mrgtop10 {
    margin-top: 10px;
}
.ib, .iblock, .greyIb {
    display: inline-block;

    /*.li p {
        list-style:circle;
        list-style:inside;
        margin-left:50px;}*/

}
.android_header {
    margin: 0;
}
.android_header {
    background: url("../images/android-img.jpg?p=Jan_30_2014_2") no-repeat scroll 0 0 transparent;
    height: 422px;
    width: 1005px;
}
.fixtable {
    table-layout: fixed;
    width: 990px;
    *margin-left: -100px;/*ie7*/
}
th {
    vertical-align: top;
    padding-top:10px;
    width:300px;
    font-size:12px;
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;

}
.heading4 {
    vertical-align: top;
    padding-top:10px;
    width:400px;
    font-size:12px;
    font-weight:bold;
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;

}
.col {
    vertical-align: top;
    padding:10px;
    width:300px;
    text-align:left;
    font-size:12px;
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;
}
.bordertop {

    border-top: 1px solid #ccc;

    width:250px;
}
th {
    /*position:absolute;*/
    *position: relative; /*ie7*/
    left:0;
    width:300px;
    text-align:left;
}
.outer {position:relative}
.inner {
    overflow-x:scroll;
    overflow-y:visible;
    margin-left:255px;
}
.arrow inner{
    overflow-x:scroll;
    overflow-y:visible;
}
.mandatory{
    color:#F00;}


.latest-box2 {
    margin: 0 auto;
    width: 1000px;
}
.latest-box2 ul {
    margin: 0 0 0 10px;
    padding: 0;
}
.latest-box2 li:first-child {
    border: medium none;
    padding-left: 0;
}
.latest-box2 li {
    border-left: 1px dotted #DDDDDD;
    color: #777777;
    float: left;
    list-style: none outside none;
    padding: 0px 40px 24px;
    width: 176px;
}
.latest-box2 li a {
    display: block;
    margin-bottom: 30px;
}
.list-more {
    border: medium none;
    min-height: 0;
    padding-top: 0;
    text-align: right;
}


.social-icons {
    background: none repeat scroll 0 0 #EEEEEE;
    border: 1px solid #DDDDDD;
    padding: 5px 0;
    position: fixed;
    right: 0;
}
.social-icons a.fb {
    background-position: 0 0;
}
.social-icons a.tw {
    background-position: -40px 0;
}
.social-icons a.gp {
    background-position: 0 -40px;
}
.social-icons a {
    display: inline-block;
    height: 40px;
    margin: 5px 10px;
    width: 40px;
}
.n{
    padding-left:5px;}
//$Id$
   #menutools {
       font-family:ProximaNova-Reg, Arial, Helvetica, sans-serif;
       font-size: 14px;
       padding: 5px 12px;
       text-decoration: none;
   }
#menutools li {
    float:left;
    display:block;
    text-align:center;
    position:relative;
    padding: 4px 9px 4px 9px;
    border:none;
}
.gbth {
    float:right;
    top: 90px;
    position:relative;
    margin-right: 14px;
}
#menutools li:hover {
    padding: 4px 9px 4px 9px;
}
#menutools li.drop:hover {
    background-color: #FFFFFF;
    box-shadow: 0px 1px 2px 1px #CCC;
    height: 38px;
}
.ml li.dp {

}
.ml li.dp:hover {
    background-color: #FFFFFF;
    /*box-shadow: 1px 1px 2px 1px; */
    height: 38px;
    width: 81px;
}
#menutools li a {
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size:14px;
    text-decoration:none;
    padding: 5px 12px 5px 12px;
}
#menutools li a:hover {
    /*box-shadow: 1px 1px 1px 1px; */
}
/*#menutools li:hover a {
    color:#161616;
} */
/*.ml li:hover a {
    color:#161616;
} */
#menutools li .drop {
    padding-right:20px;
    background: url("../images/tools/menu-dropdown.gif") no-repeat scroll right 4px top 16px rgba(0, 0, 0, 0);
}
.ml li .dp {
    padding-right:20px;
    background:url("../images/tools/menu-dropdown.gif") no-repeat right 10px top 7px;
    box
}
#menutools li:hover .drop {
    background: url("../images/tools/menu-dropdown.gif") no-repeat scroll right 4px top 16px rgba(0, 0, 0, 0);
}
.ml li:hover .dp {
    background: url("../images/tools/menu-dropdown.gif") no-repeat scroll right 10px top 7px rgba(0, 0, 0, 0);
}
.headtext{
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size:14px;
    color: #000000;
}

.selecttext{
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size:14px;
    color: #000000;
    padding:5px 10px 5px 15px;
}
.dropdown_4columns {
    background-color: #FFFFFF;
    box-shadow: 0px 2px 2px 0;
    float: left;
    margin: 6px auto 4px;
    padding: 10px 10px 10px 5px;
    position: absolute;
    right: -999em;
    text-align: left;
    z-index: 999;
}
.dropdown_4columns {width: 580px; display:none;}
.ml p, .ml h2, .ml h3, .ml ul li {
    font-family:ProximaNova-Reg, Arial, Helvetica, sans-serif;
    line-height:21px;
    font-size:12px;
    text-align:left;
}
.ml h2 {
    font-size:21px;
    font-weight:400;
    letter-spacing:-1px;
    margin:7px 0 14px 0;
    padding-bottom:14px;
}
.ml h3 {
    font-size:14px;
    margin:7px 0 14px 0;
    padding-bottom:7px;
    font-weight: bold;
    color: #000000;
}
.dp {
    width: 90px;
}
.dp .adrop {
    background: url("../images/tools/menu-dropdown.gif") no-repeat scroll right 2px top 9px rgba(0, 0, 0, 0);
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size: 15px;
    height: 44px;
    margin-left: -9px;
    margin-top: 7px;
    width: 90px;
}
.ml p {
    line-height:18px;
    margin:0 0 10px 0;
}
.ml li:hover div a {
    font-size:12px;
    color:#141414;
}
.ml li:hover div a:hover {
    color:#029feb;
}
.strong {
    font-weight:bold;
}
.italic {
    font-style:italic;
}
.ml li .black_box {
    background-color:#333333;
    color: #eeeeee;
    padding:4px 6px 4px 6px;
}
.ml li ul {
    list-style:none;
    padding:0;
    margin:0 0 12px 0;
    z-index:9999;
}
.ml li ul li {
    font-size:12px;
    line-height:24px;
    position:relative;
    padding:0;
    margin:0;
    float:none;
    text-align:left;
    z-index:9999;
}
.ml li ul li:hover {
    background:none;
    border:none;
    padding:0;
    margin:0;
    z-index:9999;
}
/* *************************************************************/
#menutools li:hover .dropdown_4columns {
    right: 0px;
    top:38px;
    display: block;
}
.col_4
{
    display:inline;
    float: left;
    position: relative;
    margin-left: 30px;
    margin-right: 10px;
}
#menutools p, #menutools h2, #menutools h3, #menutools ul li {
    font-family:ProximaNova-Reg, Arial, Helvetica, sans-serif;
    line-height:21px;
    font-size:12px;
    text-align:left;
}
#menutools h2 {
    font-size:21px;
    font-weight:400;
    letter-spacing:-1px;
    margin:7px 0 14px 0;
    padding-bottom:14px;
}
#menutools h3 {
    font-size:14px;
    margin:7px 0 14px 0;
    padding-bottom:7px;
    font-weight: bold;
    color: #000000;
}
#menutools p {
    line-height:18px;
    margin:0 0 10px 0;
}
#menutools li:hover div a {
    font-size:12px;
    color:#141414;
}
#menutools li:hover div a:hover {
}
.strong {
    font-weight:bold;
}
.italic {
    font-style:italic;
}
#menutools li .black_box {
    background-color:#333333;
    color: #eeeeee;
    padding:4px 6px 4px 6px;
}
#menutools li ul {
    list-style:none;
    padding:0;
    margin:0 0 12px 0;
    z-index:9999;
}
#menutools li ul li {
    font-size:12px;
    line-height:24px;
    position:relative;
    padding:0;
    margin:0;
    float:none;
    text-align:left;
    z-index:9999;
}
#menutools li ul li:hover {
    background:none;
    border:none;
    padding:0;
    margin:0;
    z-index:9999;
}
#menutools li .greybox li {
    background:#F4F4F4;
    border:1px solid #bbbbbb;
    margin:0px 0px 4px 0px;
    padding:4px 6px 4px 6px;
    width:116px;
    z-index:9999;
}
#menutools li .greybox li:hover {
    background:#ffffff;
    border:1px solid #aaaaaa;
    padding:4px 6px 4px 6px;
    margin:0px 0px 4px 0px;
    z-index:9999;
}
#menu-2 li {
    border: medium none;
    display: block;
    float: left;
    padding: 4px 0px;
    position: relative;
    text-align: center;
}
//$Id: $
body {margin: 0px auto 0px auto};
/* remove the list style */
.twitter-share-button {
    width: 86px !important;
}
.tag-tools {
    color: #777777;
    display: block;
    font-size: 12px;
    line-height: 24px;
    padding-bottom: 10px;
    padding-top: 10px;
    text-align: center;
}
#wrapper {
    width: 100%; margin: 0px auto 0px auto; background-color: #ffffff;
}
a {
    text-decoration:none;
}
.toolshdrbtn {
    background-color: #83B633!important;
    font-family:ProximaNova-Reg, Arial, Helvetica, sans-serif;
}
#header { clear: both; height: 57px; margin: 0; text-align: center; width: 100%; }
.headerrow1 { width: 100%; height: 25px; clear: both; margin: 0px;}
#row1 { width: 1000px; height: 25px; clear: both; margin: 0px auto 0px auto; }
#row1menu{  width: 95px; height: 20px; float:right;  clear: both; border-bottom:1px solid #f1f1f1; padding-top:7px; }
.headerrow2 { width: 100%; height: 59px; clear: both; background-color:#FFF; border-bottom:solid 1px #DDDDDD; }
.headerrow3 { width: 100%; height: 30px; clear: both; background-color:#FFF; border-bottom:solid 1px #DDDDDD; display:none; z-index:9999999;}
#row2 { width: 1000px; height: 60px; clear: both; margin: 0px auto 0px auto;}
#row2logo{
    width: 110px;
    height: 20px;
    padding: 10px 0px 10px 0px;
}
#row2spacer{
    width: 300px;
    height: 45px;
}
#row2menu{
    width: 551px;
    height: 40px;
    margin-top:0px;
}
#slider {
    width: 100%; height: 320px; text-align: center; background-color: #f2f2f2; padding-top:96px; margin:0; clear: both;
}
#middle {
    clear: both;
    margin: 0px 0 auto;
    padding: 0;
    width: 100%;
    height:auto;
    background: none repeat scroll 0 0 rgb(243, 244, 244);
    border-bottom: 1px solid rgb(221, 221, 221);
}
#middle2 {
    clear: both;
    margin: 15px  auto;
    padding: 0;
    width: 100%;
    height:auto;
}
.spacer {
    width:1000px; height:20px; clear: both;
}
.selecttext {
    font-family:ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size: 14px;
    color : #000000;
    padding: 5px 10px 5px 15px;
}
.txtbox250new3 {
    border: 1px solid #C9C9C9;
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size: 11px;
}
.newtestbutton {
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif; font-size: 13px; width: 112px; color: #ffffff; text-decoration:none; font-weight:bold; text-align:center; background-color: #83B633;  padding-top:9px; padding-bottom: 9px; height:auto !important; cursor: pointer; cursor:hand;
}
.grbutton {
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif; font-size: 13px; width: 112px; color: #ffffff; text-decoration:none; font-weight:bold; text-align:center; background-color: #83B633;  padding-top:9px; cursor: pointer; cursor:hand;
}
.quicktestsmbox {
    width:300px; border:1px solid #cdcdcd; background-color:#fff; padding:7px 0px 5px 15px;
}
.chatsmbox {
    width:247px; border:1px solid #cdcdcd; background-color:#fff; padding:11px; text-align:left; line-height:15px; margin-left:60px;
}
.imgsm {
    float:left;
    margin:0px 5px 0px 5px;
}
.headingsm-1{
    font:normal 13px  ProximaNova-Reg, Arial, Helvetica, sans-serif;
    line-height:8px;
}
.fonttopverd12 {
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size: 12px;
    color: black;
    text-decoration: none;
    font-weight: normal;
    text-align: left;
    padding-top: 10px;
    line-height: 18px;
}
.headingsm-2{
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size: 11px;
    color:#b7b7b7;
}
.hdrfont
{
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;  font-size: 10px;  color: #727272; text-decoration:none;    font-weight:normal; text-align:left;
}
.relatedtests {
    cursor: pointer;
    cursor: hand;
    text-align: right;
}
.f10{
    font:normal 10px  ProximaNova-Reg, Arial, Helvetica, sans-serif; color:#b7b7b7; text-decoration:none; font-weight:normal;  text-align:center;
}
.font10
{
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;  font-size: 10px;  color: #575656; text-decoration:none;    font-weight:normal;  text-align:left;
}
.font10u
{
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;  font-size: 10px;  color: #575656; text-decoration:underline; font-weight:normal; text-align:left;
}
.font10gr
{
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;  font-size: 10px;  color: #d5d5d5; text-decoration:none;    font-weight:normal; text-align:left;
}
.font11
{
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;  font-size: 11px;  color: #000000; text-decoration:none;    font-weight:normal;  text-align:left;
}
.font11bb
{
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;     font-size: 11px; color: #0e81b9;    text-decoration:none;    font-weight:bold; text-align:left;
}
.font12
{
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;  font-size: 12px;  color: #575656; text-decoration:none;    font-weight:normal; text-align:left;
}
.fontverd12
{
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;  font-size: 12px;  color: #000000; text-decoration:none;    font-weight:normal; text-align:center;
}
.font12b
{
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;     font-size: 12px; color: #343434;    text-decoration:none;    font-weight:bold; text-align:left;
}
.font12gra
{
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;     font-size: 12px; color: #666666;    text-decoration:none;    font-weight:normal; text-align:left;
}
.font11gra
{
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;     font-size: 11px; color: #666666;    text-decoration:none;    font-weight:normal; text-align:left;
}
.fontverd12gra
{
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif; font-size: 12px; color: #5c9624;    text-decoration:none;    font-weight:bold; text-align:center;
}
.font12w
{
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;     font-size: 12px; color: #ffffff;    text-decoration:none;    font-weight:normal;    text-align:left;
}
.font12wb
{
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;     font-size: 12px; color: #ffffff;    text-decoration:none;    font-weight:bold; text-align:left;
}
.font14
{
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;  font-size:14px;  color: #343434; text-decoration:none;    font-weight:normal; text-align:left;
}
.font14b
{
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;     font-size: 14px; color: #343434;    text-decoration:none;    font-weight:bold;    text-align:left;
}
.font16bg
{
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;     font-size: 16px; color: #5c9624;    text-decoration:none;    font-weight:bold;    text-align:left;
}
.font14bb
{
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;     font-size: 14px; color: #0e81b9;    text-decoration:none;    font-weight:bold; text-align:left; padding-bottom:7px;
}
.tollfont12bb
{
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;     font-size: 12px; color: #0e81b9;    text-decoration:none;    font-weight:bold; text-align:left;
}
.permafont
{
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;     font-size: 15px; color:#999;    text-decoration:none;    font-weight:bold; text-align:left;
}
.font16
{
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;  font-size: 16px;  color: #343434; text-decoration:none;    font-weight:normal; text-align:left;
}
.font16b
{
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;     font-size: 16px; color: #343434;    text-decoration:none;    font-weight:bold; text-align:left;
}
.font18bbl
{
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;     font-size: 18px; color: #0a4089;    font-weight:normal; text-align:center;
}
.font18
{
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;  font-size: 18px;  color: #343434; text-decoration:none;    font-weight:normal; text-align:left;
}
.font18b
{
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;     font-size: 18px; color: #343434;    text-decoration:none;    font-weight:bold; text-align:left;
}
.font18bb
{
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;     font-size: 18px; color: #0e81b9;    text-decoration:none;    font-weight:bold; text-align:left;
}
.font22
{
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;  font-size: 20px;  color: #343434; text-decoration:none;    font-weight:normal;text-align:left;
}
.font22b
{
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;     font-size: 22px; color: #343434;    text-decoration:none;    font-weight:bold; text-align:left;
}
.font30bb
{
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;     font-size: 30px; color: #0e81b9;    text-decoration:none;    font-weight:bold; text-align:left; padding-bottom:7px; text-align:left;
}
.pad {
    padding:10px 0px 0px;
}
.pad4 {
    padding-top: 4px;
}
.pad5 {
    padding:5px;
}
.padbot {
    padding-bottom:10px;
}
.padtop7 {
    padding-top:7px;
}
.padtop4 {
    padding-top: 4px;
}
.padtop {
    padding-top:10px;
}
.padtop5 {
    padding-top:5px;
}
.marbot {
    margin-bottom:10px;
}
.marleft {
    margin-left:10px;
}
.martop {
    margin-top:10px;
}
.clear {
    clear: both;
}
.resultrowborder {
    margin-top: 1px;
    border-bottom: 1px solid #d4d4d4;
    border-left: 1px solid #d4d4d4;
    border-right: 1px solid #d4d4d4;
}
.floatright {
    float:right;
}
.floatleft {
    float:left;
}
.border    {
    border:1px solid #d4d4d4;
    padding-left: 0px;
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;
    height:0px;
}
.topdownborder    {
    border-top:1px solid #d4d4d4;
    border-bottom:1px solid #d4d4d4;
    padding-left: 0px;
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;
}
.downborder    {
    border-bottom:1px solid #d4d4d4;
    padding-left: 0px;
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;
}
.bordergr    {
    border:1px solid #22a100;
}
/*footer*/
.allproduct-headline {
    border-bottom: 1px dotted #999999;
    color: #5D686C;
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;
    margin:0 auto;
}
.footer-td1 {width:26%; line-height:22px;}
.footer-td2 {width:28%; line-height:21px;}
.footer-td3 {width:22%; line-height:25px;}
.footer-td4 {width:24%; line-height:22px;}
.topborder { border-top: 1px solid #CCC}
.footernew-title, .footernew-title a { font-weight:bold; font-size:12px!important; font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif; margin:0 0 3px 0; color:#666;}
a .secondlevellink-footer:link, a.secondlevellink-footer:active, .secondlevellink-footer,
a .secondlevellink-footer, a .secondlevellink-footer a:hover { color:#666!important;}
.secondlevellink-footer a { color:#666!important}
#newfooter, #newfooter a { color:#666; margin-bottom:10px}
.footer-bg-grey {background-image:url(../images/footernew-bg.gif); background-repeat:repeat-x; background-position:top center; font-size:11px; margin: 0px auto; overflow:hidden; clear:both; clear:both; box-shadow:0 7px 22px -10px rgba(0, 0, 0, 0.3) inset, 0 -30px 50px 0 #FFFFFF inset, 0 1px 0 #C4C4C4 inset}
.txt9-footer, .txt9-footer a { font-size:9px!important; color:#666; font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;}
.txt9-footer a:hover { color:#000; text-decoration: underline; font-size:9px}
.txt9-footer a { color:#1A74BA; text-decoration:none}
#footer table p a:hover{ color: #390}
.featurestable {margin:0px 0px 3px 0px; float:left; width:985px;}
.footernew {font-size:11px}
.clr { clear:both; height:15px;}
.clr_30 {height:30px; clear:both}
#pagewrapper {

    margin: 0 auto;
    /* background-color: #F2F2F2; */
    width: 100%;
    height: 320px;
}
/*Press Release Style*/
.comment-pr {
    margin: 0 0px 35px;
    width:610px;
}
.date { font-size:11px; color:#000; padding:2px 3px}
/* Footer starts */

a.secondlevellink:link, a.secondlevellink:active, .secondlevellink, .secondlevellink a { color:#666!important;}
#footer, #footer a { color:#666}
.footer-bg {background-image:url(../images/footernew-bg.gif?p=WEBMON_BUILD_NUMBER); background-repeat:repeat-x; background-position:bottom center;margin: 0px auto; overflow:hidden; clear:both; height:444px}
.txt9, .txt9 a { font-size:9px!important; color:#666; font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;}
.txt9 a:hover { color:#000; text-decoration:underline; font-size:9px}
#pagecointainer table p a { color: #727272}
#pagecointainer table p a:hover{ color: #000; text-decoration:underline}
.notes-box {color:#207ECF; background-color:#f7f7f7; width:700px; padding:15px; border:1px solid #ddd; font-size:18px;}
/*footer end*/
.selwebcoun{width:730px; margin-bottom:30px; margin-top:30px;  text-align:center; clear: both; margin: 0px auto 0px auto;  text-align:left;}
.selWeb{height:68px; background-color: #83B633; margin-top: 10px;}
.selWeb p{font-size:16px; color:#fff; float:left; width:200px; margin:24px 15px;  text-align:left; }
/*.websitename {
background-color: #FFFFFF;
border: medium none;
color: #000000;
float: left;
height: 35px;
margin: 17px;
text-align: left;
width: 411px;
font-size: 15px;
} */
.clearfix{clear:both}
.overflowcont{overflow:hidden}
.selCoun h3{font-size:14px; margin:10px  text-align:left;}
ul.listcount{padding:0px; margin:0px  text-align:left; background-color:#AEAEAE;}
ul.listcount li{width:135px; float:left; list-style-type:none; display:inline; padding:3px 0px; background-color:#F4F4F4; font-size:13px; margin-right:10px; color:#fff; text-align:left; height: 24px;}
ul.listcountciti{margin:0px; padding:5px 0px; width:200px; float:left;  text-align:left;  }
ul.listcountciti li{list-style-type:none; display:block; padding:0px;  font-size:11px; margin-right:10px; text-align:left; }
.countselbox{margin:0px auto 0px auto; text-align:left; width: 1000px; }
input[type="checkbox"]{border:0px; margin:5px 3px 0px 10px ; padding;0px; background-color:#AEAEAE; vertical-align:bottom;}
.counhead{border-bottom:2px solid #DDDDDD; padding:12px 0px 5px; margin:0px; background-color:#FFF; height:22px;}
.white-border{ border-top:10px solid #FFFFFF;}
.counhead input{ margin:0px 5px 0px 10px}
.counhead label{font-size:11px; text-align:left; font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;}
.citiesbox{background-color:#F7F7F7; text-align:left;}
.signin {cursor: hand; cursor: pointer;}
.s247blogs { cursor: hand; cursor: pointer;}
.cus { cursor: hand; cursor: pointer;}
.signup { cursor:hand; cursor: pointer;}
//$Id: $
@charset "UTF-8";
/* CSS Document */
applet, object, iframe, h1, h2, h3, h4, h5, h6, p, blockquote, pre, a, abbr, acronym, address, big, cite, code, del, dfn, em, img, ins, kbd, q, s, samp, small, strike, strong, sub, sup, tt, var, b, u, i, center, dl, dt, dd, ol, ul, li, canvas, embed, output, ruby, summary, time, mark, audio, video {
    border: 0 none;
    font: inherit;
    outline: medium none;
    padding: 0;
    vertical-align: baseline;
}
article, aside, details, figcaption, figure, footer, header, hgroup, menu, nav, section {
    display: block;
}
body {
    line-height: 1;
}
ol, ul {
    list-style: none outside none;
}
.zls {
    position: relative;
}
.zls .timing {
    color: #666666;
    font-size: 9px;
    left: 134px;
    position: absolute;
    top: 27px;
    width: 150px;
}
#TB_secondLine {
    color: #666666;
    font-size: 10px;
}
#TB_window a:link {
    color: #666666;
}
#TB_window a:visited {
    color: #666666;
}
#TB_window a:hover {
    color: #000000;
}
#TB_window a:active {
    color: #666666;
}
#TB_window a:focus {
    color: #666666;
}
#TB_overlay {
    background: none repeat scroll 0 0 #EEEEEE;
    height: 100%;
    left: 0;
    opacity: 0.8;
    position: fixed;
    top: 0;
    width: 100%;
    z-index: 100;
}
.TB_overlayBG {
    background-color: #000000;
    opacity: 0.75;
}
#TB_window {
    background: none repeat scroll 0 0 #FFFFFF;
    border: 4px solid #525252;
    color: #000000;
    display: none;
    left: 50%;
    position: fixed;
    text-align: left;
    top: 50%;
    z-index: 102;
}
#TB_window img#TB_Image {
    border-color: #666666 #CCCCCC #CCCCCC #666666;
    border-style: solid;
    border-width: 1px;
    display: block;
    margin: 15px 0 0 15px;
}
#TB_caption {
    float: left;
    height: 25px;
    padding: 7px 30px 10px 25px;
}
#TB_closeWindow {
    float: right;
    height: 25px;
    padding: 11px 25px 10px 0;
}
#TB_closeAjaxWindow {
    float: right;
    margin-bottom: 1px;
    padding: 7px 10px 5px 0;
    text-align: right;
}
#TB_ajaxWindowTitle {
    float: left;
    margin-bottom: 1px;
    padding: 7px 0 5px 10px;
}
#TB_title {
    background-color: #E8E8E8;
    height: 27px;
}
#TB_ajaxContent {
    clear: both;
    line-height: 1.4em;
    overflow: auto;
    padding: 2px 15px 15px;
    text-align: left;
}
#TB_ajaxContent.TB_modal {
    padding: 15px;
}
#TB_ajaxContent p {
    padding: 5px 0;
}
#TB_load {
    display: none;
    height: 13px;
    left: 50%;
    margin: -6px 0 0 -104px;
    position: fixed;
    top: 50%;
    width: 208px;
    z-index: 103;
}
#TB_HideSelect {
    background-color: #FFFFFF;
    border: medium none;
    height: 100%;
    left: 0;
    opacity: 0;
    position: fixed;
    top: 0;
    width: 100%;
    z-index: 99;
}
#TB_iframeContent {
    border: medium none;
    clear: both;
    margin-bottom: -1px;
    margin-top: 1px;
}
body {
    color: #444444;
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size: 16px;
    line-height: 1.2em;
    margin: 0;
    padding: 0;
}
a {
    color: #333333;
    text-decoration: none;
}
.heading a {
    color: #727272;
    text-decoration: none;
}
a:hover {
    text-decoration: none;
}
.heading a:hover {
    text-decoration: none;
}
.l a {
    font-size: 27px;
    line-height: 30px;
}
.coda-slider, .coda-nav,.ar{
    width: 100%;
    margin:0 auto;
}
.h {
    border-bottom: 1px solid #DDDDDD;
}
.ll, .b, .cc, .fe, .ao, .be, .ao ul, .buz, .panel,.c, .f, .fei, #headercontainer {
    width: 1000px;
    margin:0 auto;
}
.cc, .b, .coda-slider-wrapper, .c, .ms, .f, #headercontainer {
    margin: 0 auto;
}
.l, .panel, .si a,  .fe, .ao ul, .buz, .bib, .bis span, .tl-so li, .tl-so a, .ml a, .coda-slider, .is, .cs, .fei, .cs p, .coda-nav, .coda-nav li, #coda-nav-left-1 a, #coda-nav-right-1 a, #coda-nav-right-1 a, .cb, .s1, .fl, .fl span, .ao, .be, .ao a, .bs1, .bis, .bcs, .bs2, .beb, .beb span, .feb a,  .ls, .fb, .fcs, .fs a {
    float: left;
}
.lin a, .twt a, .fab a, .gplus a, .lo a, #coda-nav-left-1 a, #coda-nav-right-1 a, .fl span, .bis, .bs2 .bis, .bis span, .fs a, .sg a, .beb span {
    background-image: url(../images/sp1.png);
}
.ll, #fw, .ms {
    clear: both;
}
.coda-slider, .fl h2, .beb, .fs {
    position: relative;
}
.coda-nav, #coda-nav-left-1, #coda-nav-right-1, .fl span, .beb span, .fs ul {
    position: absolute;
}
#slidercontainer {
    background: none repeat scroll 0 0 #F3F4F4;
    border-bottom: 1px solid #DDDDDD;
}
.ll {
    min-height: 47px;
    padding-top: 6px;
}
.l {
    height: 30px;
    /*   min-width: 160px;*/
}
.ml {
    float: right;
    padding-top: 5px;
}
.ml li {
    display: inline;
}
.ml a {
    font-size: 15px;
    line-height: 27px;
    margin-left: 27px;
}
.ml a:hover {
    color: #000000;
    text-decoration: none;
}
#home a {
    font-weight: bold;
}
/*.lo a {
background: none repeat scroll 0 0 #83B633;
color: #FFFFFF !important;
line-height: 28px;
text-align: center;
width: 63px;
}*/
.pr a {
    background-color: #D82133;
    color: #FFFFFF;
    height: 30px;
    line-height: 28px;
    text-align: center;
    width: 201px;
}
.menupr a {
    background-color: #D82133;
    border: 1px solid #DDDDDD;
    line-height: 28px;
    text-align: center;
    width: 211.9px;
    color:#ffffff;
    height:30px;
}
.menupr a:hover {
    background: none repeat scroll 0 0 #D82133;
    text-decoration: none;
}
/*.pr a:hover {
    background: none repeat scroll 0 0 #D82133;
    text-decoration: none;
} */
h1, h2, h3, h4, h5, tophd {
    font-weight: 300;
}
/*h1 {
     border-bottom: 1px dotted #CDCDCD;
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size: 30px;
    height: 101px;
    letter-spacing: -1px;
    line-height: 92px;
    position: relative;
    text-align: center;
    color:#727272;
}*/
.main {
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;
    border-bottom: 1px dotted #CDCDCD;
    font-size: 39px;
    font-weight: 300;
    height: 101px;
    letter-spacing: -2px;
    line-height: 92px;
    position: relative;
    text-align: center;
    /* [disabled]top: 1px; */
    z-index: 101;
}
.coda-slider-wrapper {
    min-height: 390px;
    width: 978px;
}
.coda-slider {
    background-position: center -168px;
    height: 415px !important;
    overflow: hidden;
}
.panel {
    margin-top: -84px;
    padding: 20px 0;
}
.trk {
    margin-top: 62px;
}
.mob {
    margin-top: 110px;
}
.prod {
    margin-left: 30px;
    margin-top: 70px;
}
.is {
    margin-top: 65px;
    width: 470px;
}
.cs {
    padding: 135px 0 0;
    width: 510px;
}
.cs h2 {
    font-size: 29px;
    letter-spacing: -1px;
    padding: 0px 0 15px;
    line-height:35px;
}
.cs ul {
    padding: 15px 5px 0;
}
.cs li {
    color: #FFFFFF;
    display: block;
    font-size: 13px;
    padding-bottom: 18px;
    padding-left: 20px;
}
.cs p {
    color: #525252;
    font-size: 16px;
    font-weight: 300;
    letter-spacing: 0.5px;
    line-height: 24px;
    padding: 5px 0 0;
}
.cs .si, .cs .si1 {
    clear: both;
    margin-top: 20px;
}
.cs .si1 img {
    margin-right: 20px;
}
.coda-nav {
    top:5px;
}
#coda-nav-left-1 {
    left:0;
    top:270px;
}
#coda-nav-left-1 a, #coda-nav-right-1 a {
    background-position:left -68px;
    height:45px;
    text-indent:-999em;
    width:45px;
    background-repeat:no-repeat;
}
#coda-nav-left-1 a:hover {
    background-position:left -118px;
}
#coda-nav-right-1 {
    right:0;
    top:270px;
}
#coda-nav-right-1 a {
    background-position:-42px -119px;

}
#coda-nav-right-1 a:hover {
    background-position:-42px -71px;
}
.si {
    margin-top: 10px;
}
.si a, .sg a {
    color: #FFFFFF;
    display: block;
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size: 16px;
    font-weight: 600;
    text-align: center;
    text-transform: uppercase;
    vertical-align: middle;
    width: 170px;
}
.s1 h3 {
    color: #444444;
    font-size: 22px;
    letter-spacing: -1px;
    line-height: 50px;
    margin-bottom: 40px;
}
.s1 h2.ma {
    color: #777777;
    font-size: 27px;
    font-weight: 300;
    letter-spacing: -0.02em;
    line-height: 39px;
    margin-bottom: 40px;
    padding: 15px 90px 20px;
    text-align: center;
}
.s1 h2.ma a {
    color: #88909B;
    font-size: 17px;
    text-decoration: underline;
}
.fe {
    margin-bottom: 40px;
}
.fe, .ao, .be {
    border-bottom: 1px solid #EEEEEE;
}
.fl {
    padding-bottom: 60px;
    padding-left: 35px;
    width: 302px;
}
.flf {
    border: 0 none;
    clear: left;
    padding-left: 0;
}
.fl h2 {
    font-size: 16px;
    font-weight: 400;
    letter-spacing: -0.5px;
    line-height: 20px;
    min-height: 50px;
    padding-left: 50px;
    padding-top: 15px;
}
.fl span {
    left: 0;
    top: 0;
}
.ms {
    background: -moz-linear-gradient(center top , #F2F2F2, #F7F7F7) repeat scroll 0 0 transparent;
    background:-webkit-gradient(linear, left top, left bottom, from(#fff), to(#f5f5f5));
    box-shadow: 0 2px 1px 0 #DDDDDD inset;
    color: #333333;
    font-size: 19px;
    font-weight: 300;
    letter-spacing: -0.5px;
    line-height: 40px;
    margin: 60px 0 40px;
    padding: 20px 0 30px;
    text-align: center;
}
.ms a {
    color: #D82133;
    float: none;
    font-size: 33px;
    height: auto;
    letter-spacing: -1px;
    margin: 0;
    text-decoration: underline;
    text-indent: 0;
    width: auto;
}
.mao {
    text-align: right;
}
.mao a {
    float: none;
    height: auto;
    margin: 0;
    text-decoration: underline;
}
.sg {
    border-top: 4px solid #EFEFEF;
    margin: 70px 0 0;
    min-height: 101px;
    padding-bottom: 80px;
    width: 1000px;
    margin:0 auto;
    text-align:center
}
.sg h3 {
    font-size: 28px;
    font-weight: 300;
    letter-spacing: -1px;
    line-height: 1em;
    margin-right: 25px;
    /*min-height: 72px;*/
    padding-top: 35px;
}
.sg h3 span {
    color: #777777;
    display: block;
    font-size: 17px;
    font-weight: 300;
    letter-spacing: -0.5px;
    padding-top: 4px;
}
.sg a {
    float: right;
    margin-top: 0px;
}
#fw {
    background-color: #F5F5F5;
    border-top: 1px solid #DDDDDD;
}
.f {
    overflow: auto;
    padding: 50px 0 10px;
}
.f a {
    color: #777777;
}
.fb {
    margin-left: 40px;
    max-width: 225px;
}
.fbtools {
    max-width: 980px;
}
.f h5 {
    font-size: 15px;
    padding-bottom: 25px;
    text-transform: uppercase;
}
.fcs ul.fcsl li {
    display: inline;
    margin-left: 20px;
}
.fb ul {
    margin-bottom: 20px;
}
.fb li {
    font-size: 12px;
    line-height: 18px;
    padding-bottom: 15px;
}
.fcs {
    width: 980px;
}
.fs {
    border-bottom: 1px dotted #DDDDDD;
    margin-bottom: 15px;
}
.fs h5 {
    padding-bottom: 15px;
    padding-right: 100px;
    text-align: right;
}
.fs li {
    display: inline;
    margin: 0;
}
.fcs p {
    color: #777777;
    font-family:ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size: 11px;
    line-height: 20px;
    text-align: right;
}
.fcs ul {
    font-size: 11px;
    line-height: 20px;
    text-align: right;
}
.co {
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size: 11px;
    line-height: 20px;
    margin-top: 0px;
    text-align: right;
    font-weight:normal;
}
.fs ul {
    margin: 0;
    right: 0;
    top: 0;
}
.fs a {
    height: 16px;
    margin: 0 5px;
    text-align: left;
    text-indent: -999em;
    width: 18px;
}
.fs .lin a {
    background-position: -447px -131px;
}
.fs .twt a {
    background-position: -475px -131px;
}
.fs .fab a {
    background-position: -501px -131px;
}
.footercontainerbgtools {
    background-color: #F3F4F4;
    border-top: medium none #000000;
    clear: both;
    height: 190px;
}
.footercontainerbg {
    background-color:#F3F4F4;
    border-top:#000000;
    clear: both;
}
.signupfreebtn {
    background: none repeat scroll 0 0 #83B633;
    color: #FFFFFF;
    font-size: 19px;
    font-weight: lighter;
    padding: 7px 15px;
    text-decoration: none;
    line-height:16px;
}
.signupfreebtn2 {
    background: none repeat scroll 0 0 #D82133;
    line-height: 16px;
    padding: 14px 15px;
    text-decoration: none;
}
.buttons{
    color: #FFFFFF;
    display: block;
    font-size: 16px;
    font-weight: bold;
    line-height: 40px;
    text-align: center;
    text-transform: uppercase;
    width: 170px;
}

#bw {
    background: none repeat scroll 0 0 #F5F5F5;
    border-bottom: 1px solid #DDDDDD;
    min-height: 84px;
    width: 100%;
}
.topheading {

    font-size: 27px;
    letter-spacing: -2px;
    line-height: 101px;
    position: relative;
    text-align:left;
    z-index: 101;
}
.bc-signup {
    position: absolute;
    right: 0;
    text-align: center;
    top: 21px;
}
.bc-signup1 {
    top: 20px;
}
.bc-signup a, .sg a {
    background: none repeat scroll 0 0 #D82133;
    box-shadow: 0 1px 4px #A9A7A7;
    color: #FFFFFF;
    display: block;
    font-size: 16px;
    font-weight: 600;
    line-height: 15px;
    margin-top: 3px;
    text-align: center;
    text-transform: uppercase;
    width: 150px;
    height:30px;
    /*padding: 4px 0;*/
}
.bc-signup a:hover {
    background: none repeat scroll 0 0 #D82133;
    border: medium none;
    text-decoration:none;
}
.sg a {
    background: none repeat scroll 0 0 #D82133;
    box-shadow: 0 1px 4px #A9A7A7;
    color: #FFFFFF;
    display: block;
    font-size: 18px;
    font-weight: 600;
    line-height: 15px;
    margin-top: 3px;
    text-align: center;
    text-transform: uppercase;
    width: 200px;
    height:36px;
    padding-top: 9px;
    /*padding: 4px 0;*/
}
.b {
    margin: 0 auto;
    position: relative;
}
.topheading {

    font-size: 27px;
    letter-spacing: -2px;
    line-height: 101px;
    position: relative;
    text-align:left;
    z-index: 101;
}

.runningtxt2{
    color: #555555;
    font-size: 11px;
    letter-spacing: 0.5px;
    line-height: 23px;
    padding: 15px 0 5px;
    text-align:left;
    font-weight:400;
}


.faqtxt{
    color: #777777;
    font-size: 11px;
    letter-spacing: 0.5px;
    line-height: 18px;
    padding: 15px 0 5px;
    text-align:left;}

.loctxt{
    color: #777777;
    font-size: 11px;
    letter-spacing: 0.5px;
    line-height: 23px;
    padding: 15px 0 5px 15px;
    text-align:left;}

.lu{
    color: #777777;
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size: 12px;
    letter-spacing: 0.5px;
    line-height: 30px;
    padding: 15px 0 5px;
    text-align:left;
}
.zoho-logo {
    background-image: url(../images/zoho-logo.png);
    background-repeat: no-repeat;
    background-position: center;
    background-size: 45px 15.5px;
    width: 45px;
    height: 15.5px;
    display: inline-block;
    margin-bottom: -2px;
}
.partn {
    line-height: 2.2em;
    text-align:center;
    font-size:12px;
    color:#777;
}
.coda-slider, .coda-nav, .ar {
    width: 100%;
    margin: 1px auto;
}
.coda-nav ul li a {
    background: url("../images/bg_pager.png") no-repeat scroll 0 -21px transparent;
    color: #4D525E;
    float: left;
    font-size: 12px;
    font-weight: normal;
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;
    padding: 20px 16px 0px 10px;
    text-decoration: none;
}
.coda-nav ul li a.current, .coda-nav ul li a:hover {
    background-position: 0 0;
    text-decoration: none;
}
#header {
    clear: both;
    margin: 0px;
    text-align: center;
    width: 100%;
}
.headerrow1 {
    width: 100%;
    height: 25px;
    clear: both;
    margin: 0px;
}
.l {
    height: 30px;
}
#row1 {
    width: 1000px;
    height: 25px;
    clear: both;
    margin: 0px auto;
}
#row1menu {
    width: 96px;
    height: 20px;
    padding-top: 2px;
    padding-bottom: 3px;
    float: right;
    clear: both;
    border-bottom-width: 1px;
    border-bottom-style: solid;
    border-bottom-color: rgb(241, 241, 241);
}
.headerrow2 {
    width: 100%;
    height: 59px;
    clear: both;
    border-bottom-style: solid;
    border-bottom-width: 1px;
    border-bottom-color: rgb(221, 221, 221);
    background-color: rgb(255, 255, 255);
}
.headerrow3 {
    width: 100%;
    height: 60px;
    clear: both;
    border-bottom-style: solid;
    border-bottom-width: 1px;
    border-bottom-color: rgb(221, 221, 221);
    display: none;
    z-index: 9999999;
    background-color: rgb(255, 255, 255);
}
.ml {
    height: 43px;
    list-style: none outside none;
    position: inherit;
    text-align: right;
    width: 765px;
    z-index: 1;
    font-size: 15px;
}
.ml li {
    border: medium none;
    float: left;
    margin-top: 3px;
    padding: 4px 0 0 14px;
    position: relative;
    text-align: center;
}
.p a {
    background: none repeat scroll 0 0 #83B633;
    color: #FFFFFF !important;
    height: 30px;
    text-align: center;
    width: 80px;
}
.lo a {
    background: -moz-linear-gradient(center top , #ffffff, #f5f5f5) repeat scroll 0 0 transparent;
    border: 1px solid rgb(221, 221, 221);
    height: 29px;
    line-height: 26px;
    margin-left: 12px;
    text-align: center;
    width: 63px;
}
ml li lo {
    float: right;
}
.ml li a {
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;
    text-decoration: none;
    color:#000;
}
.ml li:hover a {
    color: rgb(22, 22, 22);
}
.ml p, .ml h2, .ml h3, .ml ul li {
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;
    line-height: 21px;
    font-size: 12px;
    text-align: left;
}
.ml h2 {
    font-size: 21px;
    font-weight: 400;
    letter-spacing: -1px;
    margin: 7px 0px 14px;
    padding-bottom: 14px;
}
.ml h3 {
    font-size: 14px;
    margin: 7px 0px 14px;
    padding-bottom: 7px;
    font-weight: bold;
    color: rgb(0, 0, 0);
}
.ml p {
    line-height: 18px;
    margin: 0px 0px 10px;
}
.ml li:hover div a {
    font-size: 12px;
    color: rgb(20, 20, 20);
}
.ml li:hover div a:hover {
    color: rgb(2, 159, 235);
}
.ml li .black_box {
    color: rgb(238, 238, 238);
    padding: 4px 6px;
    background-color: rgb(51, 51, 51);
}
.ml li ul {
    list-style: none;
    padding: 0px;
    margin: 0px 0px 12px;
    z-index: 9999;
}
.ml li ul li {
    font-size: 12px;
    line-height: 24px;
    position: relative;
    padding: 0px;
    margin: 0px;
    float: none;
    text-align: left;
    z-index: 9999;
}
.ml li ul li:hover {
    border: none;
    padding: 0px;
    margin: 0px;
    z-index: 9999;
    background: none;
}
#my_fixable_table_header {
    height: 61px;
    z-index: 999;
}
.lots_of_stuff_in_here {
    height: 25px;
}
.fixed {
    top: 0px;
    left: 0px;
    position: fixed;
}
.floatr {
    float: right;
}
.headerrow2 {
    background-color: #FFFFFF;
    border-bottom: 1px solid #DDDDDD;
    clear: both;
    height: 59px;
    width: 100%;
}
p.toolheading {
    color: #555;
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size: 28px;
    font-weight: 600;
    letter-spacing: -1px;
    line-height: 1em;
    padding-top: 10px;
    text-align: left;
}
.toolsrunningtxt {
    color: #888;
    font-size: 12px;
    letter-spacing: 0.5px;
    line-height: 18px;
    padding: 15px 0 5px;
    text-align: left;
}
span.toolstext {
    color: #484848;
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size: 17px;
    line-height: 24px;
    margin-bottom: 10px;
    padding-top: 10px;
    text-align: left;
    font-weight:500;
    letter-spacing:0.1px;
}
.hostnameonly {
    -moz-border-bottom-colors: none;
    -moz-border-left-colors: none;
    -moz-border-right-colors: none;
    -moz-border-top-colors: none;
    background-color: #fff;
    border-color: #cccccc;
    border-image: none;
    border-style: solid solid solid solid;
    border-width: 1px 1px 1px 1px;
    color: #888;
    float: left;
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size: 18px;
    font-weight: 300;

    height: 52px;
    margin-bottom: 6px;
    margin-left: 0;
    margin-top: 6px;
    text-align: left;
    width: 360px;
}
.websitename {
    -moz-border-bottom-colors: none;
    -moz-border-left-colors: none;
    -moz-border-right-colors: none;
    -moz-border-top-colors: none;
    background-color: #fff;
    border-color: #cccccc;
    border-image: none;
    border-style: solid solid solid solid;
    border-width: 1px 1px 1px 1px;
    color: #888;
    float: left;
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size: 18px;
    font-weight: 300;

    height: 52px;
    margin-bottom: 6px;
    margin-left: 0;
    margin-top: 6px;
    text-align: left;
    width: 360px;
}
.drop select {
    background-color: #ededed;
    border-color: #ccc;
    border-image: none;
    border-style: solid;
    border-width: 1px 1px 1px 1px;
    color: #888;
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size: 18px;
    font-weight: 300;
    background: url("../images/arrows.png") no-repeat scroll right 2px top 26px #ededed;
    height: 54px;
    width: 80px;
    margin-top: 6px;
    padding-left:5px;
    -webkit-appearance:none;
    appearance:none;
    text-indent: 0.1px;
    text-overflow:"";
    -webkit-border-radius:none;
    -webkit-border-radius: 0px;
    -moz-appearance:dialog;
    -prefix-appearance:none;
    cursor:pointer;
    padding-top:11px;
    padding-bottom:11px;
}
.location{
    width:auto;
    float:left;
    font-size:11px;
    padding-right:5px;
}

.location  li{
    display:flex;
    width:auto;
    height:30px;
    line-height:30px;
    float:right;
    margin-right:5px;
    font-size:12px;
    background-color:#eee;
    border:1px solid #ddd;
    text-align:center;
    padding-left:10px;
    padding-right:10px;
}

.addlink{
    font-size:11px;
    color:#444;
    position:relative;
    float:left;
    margin-left:5px;
}


.grbutton {
    background-color:#83b633;
    color: #ffffff;
    cursor: pointer;
    font-family:ProximaNova-Reg, Arial, Helvetica, sans-serif;,  ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size:17px;
    font-weight: 500;
    line-height:28px;
    text-align: center;
    text-decoration: none;
    width: 150px;
    letter-spacing:-0.5px;
    padding: 10px;
}
.grbuttonlight {
    background-color:#83b633;
    color: #ffffff;
    cursor: pointer;
    font-family:ProximaNova-Reg, Arial, Helvetica, sans-serif;,  ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size: 17px;
    font-weight: 500;
    height: 40px;
    line-height:40px;
    text-align: center;
    text-decoration: none;
    width: 150px;
    margin:auto;
    letter-spacing:-0.5px;
}
.black_overlay{
    display: none;
    position:absolute;
    top: 0%;
    left: 0%;
    width:100%;
    height:1380px;
    background-color: black;
    z-index:1001;
    -moz-opacity: 0.8;
    opacity:.80;
    filter: alpha(opacity=80);
}
.white_content {
    display: none;
    position: absolute;
    top: 10%;
    left: 20%;
    width: 60%;
    height:auto;
    padding: 16px;
    border: 2px solid #83b633;
    background-color: white;
    z-index:1002;
    overflow: auto;
}

.countryname
{
    font-size:14px;
    font-weight:600;    }

.input-box { position: relative; }

.unit {   color: #888;
    display: block;
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;;
    font-size: 18px;
    font-weight: 300;
    left: 5px;
    position: absolute;
    top: 27px;
    z-index:9; }

.inner-box-2 {
    background-color: #fff;
    border: 1px solid #ddd;
    float: left;
    height: 73px;
    margin-left: 0;
    margin-right:0px;
    margin-bottom:13px;
    padding-top: 17px;
    text-align: left;
    width: 308px;
}
.inner-box-2 .img {
    float: left;
    margin: 10px;
}
.inner-box {
    background-color: #fff;
    border: 1px solid #ddd;
    float: left;
    height: 100px;
    margin-left: 0;
    margin-right: 13px;
    margin-bottom: 13px;
    padding: 12px 10px;
    text-align: left;
    width: 325px;
}
.inner-box .img {
    float: left;
    margin: 2px 12px 29px;
}
span.heading-1 {
    color: #000000;
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size: 16px;
    line-height: 18px;
    padding-top: 5px;
    text-align: left;
}
span.heading-2 {
    color: #777777;
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size: 12px;
    line-height: 18px;
    text-align: left;
}
a.loctooltip {outline:none; }
a.loctooltip strong {line-height:30px;}
a.loctooltip:hover {text-decoration:none;}
a.loctooltip span {
    z-index:10;
    display:none;
    padding:14px 20px;
    margin-top:-85px;
    margin-left:-45px;
    width:300px;
    line-height:16px;
}
a.loctooltip:hover span{
    display:inline;
    position:absolute;
    border:2px solid #FFF;
    color:#666;
    background:#F3F3F3;
}
a.loctooltip span
{
    border-radius:2px;
    box-shadow: 0px 0px 8px 4px #888;
    /*opacity: 0.8;*/
}
.jsonstring { color: green; }
.jsoninteger { color: darkorange; }
.jsonboolean { color: blue; }
.jsonnull { color: magenta; }
.jsonkey { color: red; }
.jsoninputtextarea { width:700px; height:200px; font-size: 11px; border: 1px solid grey; overflow:auto; text-align: left; }
.jsonoutputtextarea { width:1000px; height:500px; font-size: 11px; border: 1px solid grey; overflow:auto; text-align: left; }
.jsonbutton { width:6%; height:100%; align:center; }
.jsonresult { outline: 1px solid #ccc; padding: 5px; margin: 5px; }
.toolsResultText {
    color: #777777;
    font-size: 14px;
    letter-spacing: 0.5px;
    line-height: 23px;
}
.jsonResultTextGreen {
    color: green;
    font-size: 14px;
    letter-spacing: 0.5px;
    line-height: 23px;
    padding: 15px 0 5px;
}
.toolsResultTextRed {
    color: red;
    font-size: 12px;
    letter-spacing: 0.5px;
    line-height: 23px;

}
.toolsgrbutton {
    background-color: #83b633;
    color: #ffffff;
    cursor: pointer;
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;,  ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size: 17px;
    font-weight: 500;
    height: 30px;
    line-height: 28px;
    text-align: center;
    text-decoration: none;
    width: 115px;
    letter-spacing: -0.5px;
    margin-left:10px;
    margin-right:10px;
    padding-bottom:3px;
}
.toolsHeading {
    color: #555555;
    font-size: 16px;
    letter-spacing: 0.5px;
    line-height: 23px;
}
.toolstextarea { width:1000px; height:300px; font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif; color:blue; font-size: 14px; border: 1px solid grey; overflow-x: scroll; white-space: nowrap;overflow:auto; background-color: #FFFFFF; text-align: left; }
.Utility {
    font-weight: bold;
    color: black;
    font-size: 11px;
}
.NodeName {
    font-weight: bold;
    font-size: 11px;
    color: rgb(25, 118, 116);
}
.AttributeName {
    font-weight: bold;
    font-size: 11px;
    color: #FB6DE3;
}
.AttributeValue {
    font-weight: bold;
    font-size: 11px;
    color: blue;
}
.NodeValue {
    font-weight: bold;
    color: black;
    font-size: 11px;
}
.Element {
    font-weight: bold;
    border-left-color: #F2F2F2;
    border-left-width: thin;
    border-left-style: solid;
    padding-top: 0px;
    margin-top: 0px;
    font-size: 11px;
}
.Clickable {
    font-weight: bold;
    font-size: 11px;
    color: #800080;
    cursor: pointer;
    vertical-align: middle;
}
.sqlunion {color: darkorange;}
.sqlkeyword {color: blue;}
.sqlstring {color: #FB6DE3;}
span.subnettoolstext {
    color: #484848;
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size: 14px;
    line-height: 24px;
    margin-bottom: 10px;
    padding-top: 10px;
    text-align: left;
    font-weight:500;
    letter-spacing:0.1px;
}
.ipv6labeltext {
    color: #484848;
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size: 14px;
    line-height: 24px;
    margin-bottom: 10px;
    padding-top: 10px;
    text-align: left;
    font-weight:500;
    letter-spacing:0.1px;
}
.subnetcalctextbox {
    -moz-border-bottom-colors: none;
    -moz-border-left-colors: none;
    -moz-border-right-colors: none;
    -moz-border-top-colors: none;
    background-color: #fff;
    border-color: #cccccc;
    border-image: none;
    border-style: solid solid solid solid;
    border-width: 1px 1px 1px 1px;
    color: #888;
    float: left;
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size: 14px;
    font-weight: 300;
    height: 32px;
    margin-bottom: 6px;
    margin-left: 10px;
    margin-top: 6px;
    text-align: left;
    padding-left:6px;
    line-height: 32px;
    width: 280px;
}
.ipv6subnetcalctextbox {
    -moz-border-bottom-colors: none;
    -moz-border-left-colors: none;
    -moz-border-right-colors: none;
    -moz-border-top-colors: none;
    background-color: #fff;
    border-color: #cccccc;
    border-image: none;
    border-style: solid solid solid solid;
    border-width: 1px 1px 1px 1px;
    color: #888;
    float: left;
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size: 13px;
    font-weight: 300;
    height: 32px;
    margin-bottom: 6px;
    margin-top: 6px;
    text-align: left;
    padding-left:6px;
    line-height: 32px;
    width: 292px;
}
.dynamicTableCell {
    -moz-border-bottom-colors: none;
    -moz-border-left-colors: none;
    -moz-border-right-colors: none;
    -moz-border-top-colors: none;
    background-color: #fff;
    border-color: #cccccc;
    border-image: none;
    border-style: solid solid solid solid;
    border-width: 1px 1px 1px 1px;
    color: #444;
    float: left;
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size: 13px;
    font-weight: 300;
    height: 42px;
    text-align: center;
    padding-left:6px;
    line-height: 19px;
    width: 273px;
}
.dynamicTableCellText {
    color: #888;
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size: 13px;
    font-weight: 300;
    text-align: center;
    padding-left:6px;
    line-height: 19px;
}
.dynamicTable {
    -moz-border-bottom-colors: none;
    -moz-border-left-colors: none;
    -moz-border-right-colors: none;
    -moz-border-top-colors: none;
    color: #888;
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size: 14px;
    font-weight: 300;
    line-height: 32px;
}
.subnetcalcdivbox {
    -moz-border-bottom-colors: none;
    -moz-border-left-colors: none;
    -moz-border-right-colors: none;
    -moz-border-top-colors: none;
    background-color: #fff;
    border-color: #cccccc;
    border-image: none;
    border-style: solid solid solid solid;
    border-width: 1px 1px 1px 1px;
    color: #888;
    float: left;
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size: 14px;
    font-weight: 300;
    height: 32px;
    margin-bottom: 6px;
    margin-left: 10px;
    margin-top: 6px;
    text-align: left;
    padding-left:6px;
    line-height: 32px;
    width: 280px;
}
.ipv6subnetcalcdivbox {
    -moz-border-bottom-colors: none;
    -moz-border-left-colors: none;
    -moz-border-right-colors: none;
    -moz-border-top-colors: none;
    background-color: #fff;
    border-color: #cccccc;
    border-image: none;
    border-style: solid solid solid solid;
    border-width: 1px 1px 1px 1px;
    color: #888;
    float: left;
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size: 13px;
    font-weight: 300;
    height: 32px;
    margin-bottom: 6px;
    margin-top: 6px;
    text-align: left;
    padding-left:6px;
    line-height: 32px;
    width: 450px;
    letter-spacing:-0.25px;
}
.subnetcalcdropdownbox {
    -moz-border-bottom-colors: none;
    -moz-border-left-colors: none;
    -moz-border-right-colors: none;
    -moz-border-top-colors: none;
    background-color: #fff;
    border-color: #cccccc;
    border-image: none;
    border-style: solid solid solid solid;
    border-width: 1px 1px 1px 1px;
    color: #888;
    float: left;
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size: 14px;
    font-weight: 300;
    height: 32px;
    margin-bottom: 6px;
    margin-left: 10px;
    margin-top: 6px;
    text-align: left;
    padding-left:5px;
    line-height: 32px;
    width: 288px;
}
.ipv6subnetcalcdropdownbox {
    -moz-border-bottom-colors: none;
    -moz-border-left-colors: none;
    -moz-border-right-colors: none;
    -moz-border-top-colors: none;
    background-color: #fff;
    border-color: #cccccc;
    border-image: none;
    border-style: solid solid solid solid;
    border-width: 1px 1px 1px 1px;
    color: #888;
    float: left;
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size: 13px;
    font-weight: 300;
    height: 32px;
    margin-bottom: 6px;
    margin-top: 6px;
    text-align: left;
    padding-left:5px;
    line-height: 32px;
    width: 300px;
}
.subnetDescriptionText {
    width:1000px;
    margin:20px auto;
}
.toolsDescriptionSeparator {
    border:1px solid #ddd;
    width:1000px;
    margin:auto;
    margin-bottom:10px;
}

/* thread dump tables */
.thread th  {
    left: 0;
    position: relative;
    width: 300px;
    text-align: left;
}
table.threaddumptable {
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;;
    background-color: #CDCDCD;
    margin:10px 0pt 15px;
    font-size: 8pt;
    width: 100%;
    text-align: left;
}
table.threaddumptable thead tr th, table.threaddumptable tfoot tr th {
    background-color: #e6EEEE;
    border: 1px solid #FFF;
    font-size: 8pt;
    padding: 4px;
}
table.threaddumptable thead tr .header {
    background-image: url(../images/tablesort_bg.gif);
    background-repeat: no-repeat;
    background-position: center right;
    cursor: pointer;
}
table.threaddumptable tbody td {
    color: #3D3D3D;
    padding: 4px;
    background-color: #FFF;
    vertical-align: top;
}
table.threaddumptable tbody tr.odd td {
    background-color:#F0F0F6;
}
table.threaddumptable thead tr .headerSortUp {
    background-image: url(../images/tablesort_asc.gif);
}
table.threaddumptable thead tr .headerSortDown {
    background-image: url(../images/tablesort_desc.gif);
}
table.threaddumptable thead tr .headerSortDown, table.threaddumptable thead tr .headerSortUp {
    background-color: #8dbdd8;
}
/* CSS for Random Password Generator - starts */

.marright {
    margin-right:16px;
}
.passcheckbox {
    position : relative;
    top : 0;
    margin-top : 0;
}
.passradio {
    position:relative;
    top:0px;
    margin-top:0px;
    margin-right:5px
}
.passlength {
    -moz-border-bottom-colors: none;
    -moz-border-left-colors: none;
    -moz-border-right-colors: none;
    -moz-border-top-colors: none;
    background-color: #fff;
    border-color: #cccccc;
    border-image: none;
    border-style: solid solid solid solid;
    border-width: 1px 1px 1px 1px;
    color: #888;
    float: left;
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size: 15px;
    font-weight: 300;
    height: auto;
    margin:8px 0px 3px 0px;
    text-align: center;
}
.websitename {
    -moz-border-bottom-colors: none;
    -moz-border-left-colors: none;
    -moz-border-right-colors: none;
    -moz-border-top-colors: none;
    background-color: #fff;
    border-color: #cccccc;
    border-image: none;
    border-style: solid solid solid solid;
    border-width: 1px 1px 1px 1px;
    color: #888;
    float: left;
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size: 18px;
    font-weight: 300;
    height: 52px;
    margin-bottom: 6px;
    margin-left: 0;
    margin-top: 6px;
    text-align: left;
    width: 360px;
}
input.grnbutton {
    background-color:#83b633;
    color: #ffffff;
    cursor: pointer;
    font-family:ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size:17px;
    font-weight: 500;
    height: 53px;
    line-height:28px;
    text-align: center;
    text-decoration: none;
    width: auto;
    letter-spacing:-0.5px;
    border:0;
    padding:10px;
    margin-bottom:15px;
    margin-top:10px;
}
.copypass {
    padding:20px 15px;
}
.showopts {
    width:360px;
    text-align:right;
}
.labelname {
    color: #484848;
    font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size: 14px;
    line-height: 17px;
    margin-bottom: 10px;
    padding-top: 10px;
    text-align: left;
    font-weight:500;
    letter-spacing:0.1px;
}

/* CSS for Random Password Generator - ends */
/* media query*/

@media (min-width: 320px) and (max-width: 768px) {

    #middle2{
        width:100%;
    }
    .radiotabs {
        margin: auto;
        width: 100%!important;
        padding:10px;
    }
    .line {
        width:100%!important;
    }

    .coda-slider-wrapper{
        width:100%;
    }

    .navbar-toggle {
        position: relative;
        float: right;
        padding: 9px 10px;
        margin-top: 8px;
        margin-right: 15px;
        margin-bottom: 8px;
        background-color: transparent;
        background-image: none;
        border: 1px solid transparent;
        border-radius: 4px;
    }

    .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0,0,0,0);
        border: 0;
    }

    .bs-docs-nav .navbar-toggle .icon-bar {
        background-color: #563d7c;
    }
    .navbar-toggle .icon-bar {
        display: block;
        width: 22px;
        height: 2px;
        border-radius: 1px;
    }

    .spacer{width:100%;}

    .inner-box,.inner-box-2{height:100%!important; padding:10px;}

    input.tabs + label {
        font: 11px/30px  ProximaNova-Reg, Arial, Helvetica, sans-serif;
        margin-right: 2px;
        max-width: 100%;
        background: #ddd none repeat scroll 0 0;
        padding: 0 3px;
        text-decoration: none;
        width: 49.3%;
    }
    label{
        margin-bottom:2px!important;
    }
    .line {
        background: none repeat scroll 0 0 #758691;
        height:3px;
        position:relative;
        top:65px;
    }
    .slide-content{
        height:320px;
        padding:15px;
    }

    .bs-docs-nav .navbar-brand, .bs-docs-nav .navbar-nav > li > a {
        color: #000;
        font-weight: 500;
    }
    .bs-docs-nav .navbar-nav > .active > a, .bs-docs-nav .navbar-nav > .active > a:hover, .bs-docs-nav .navbar-nav > li > a:hover {
        background-color: #ddd!important;
        color: #000!important;
    }
    .bs-docs-nav .navbar-toggle .icon-bar {
        background-color: #000;
    }
    .bs-docs-nav .navbar-header .navbar-toggle {
        border-color: #fff;
    }
    .bs-docs-nav .navbar-header .navbar-toggle:focus, .bs-docs-nav .navbar-header .navbar-toggle:hover {
        background-color: #fff;
        border-color: #fff;
    }

    .si a, .sg a {
        color: #ffffff;
        display: block;
        font-family:  ProximaNova-Reg, Arial, Helvetica, sans-serif;
        font-size: 16px;
        font-weight: 600;
        height: 45px
    }
    .navbar-collapse{
        background-color:#fff;
    }
    .navbar-toggle{
        float:left!important;
    }

    .navbar-brand {
        font-size: 18px;
        height: 50px;
        line-height: 50px!important;
        padding: 15px;
        text-align: center!important;
        float:none!important;
        position:relative;
        left:-20px;

    }


    .navbar-brand > img {
        display:inline-block!important;
    }


    h2, .h2 {
        font-size: 28px!important;
    }

    .no_mrgtop{margin-top:0px;}
    .mrgtop{margin-top:6px;}
    .mrgtop15{margin-top:15px;}

    .inner-box .img {
        float: left;
        margin: 2px 12px 29px;
    }


    .nav > li{
        text-align:left;
        border-bottom:1px solid #ddd;
    }

    .nav > li > a:hover,
    .nav > li > a:focus {
        text-decoration: none;
        background-color: #fff!important;
    }

    .menu_top{
        margin-top:0px;
    }

}


@media (max-width: 768px) {
    .navbar-header {
        float: none;
    }
    .navbar-toggle {
        display: block;
    }
    .navbar-collapse {
        border-top: 1px solid transparent;
        box-shadow: inset 0 1px 0 rgba(255,255,255,0.1);
    }
    .navbar-collapse.collapse {
        display: none!important;
    }
    .navbar-nav {
        float: none!important;
        margin: 7.5px -15px;
    }
    .navbar-nav>li {
        float: none;
        padding-left:15px;
    }
    .navbar-nav>li>a {
        padding-top: 10px;
        padding-bottom: 10px;
    }
    .navbar-text {
        float: none;
        margin: 15px 0;
    }
    /* since 3.1.0 */
    .navbar-collapse.collapse.in {
        display: block!important;
    }
    .collapsing {
        overflow: hidden!important;
    }

}



/*desktop new css*/
@media (min-width: 960px){
    .col-md-4
    {
        width:32%!important;
    }


    .menu_top_button{
        margin-top:-4px;
    }

}


.center{
    text-align:center;
}

p {
    color: #525252;
    font-size: 16px;
    font-weight: 300;
    letter-spacing: 0px;
    line-height: 24px;
    padding: 5px 0 0;
}

.btn {
    display: inline-block;
    margin-bottom: 0;
    font-weight: normal;
    text-align: center;
    vertical-align: middle;
    -ms-touch-action: manipulation;
    touch-action: manipulation;
    cursor: pointer;
    background-image: none;
    border: 1px solid transparent;
    white-space: nowrap;
    padding: 6px 12px;
    font-size: 14px;
    line-height: 1.42857143;
    border-radius: 0px;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
}

.btn-success {
    color: #fff;
    background-color: #83b633;
    border-color: #4cae4c;
    vertical-align:middle;
}


.btn-success:hover, btn-success:focus, btn-success:active{
    color: #fff;
    background-color: #83b633;
    border-color: #4cae4c;
}
.btn-success-signup {
    color: #fff;
    background-color: #83b633;
    border-color: none;
}
.btn-default {
    color: #333333;
    background-color: #ffffff;
    border-color: #cccccc;
}

.menu_top{
    margin-top:3px;
}


.nav > li > a:hover,
.nav > li > a:focus {
    text-decoration: none;
    background-color: #fff!important;
}

.mrg_bottom_nil {
    margin-bottom:0px;
}

/*new css navigation dropdown in mobile*/

.nav-tabs-dropdown {
    display: none;
    border-bottom-left-radius: 0;
    border-bottom-right-radius: 0;
}

.nav-tabs-dropdown:after {
    content:"\25bc";
    position: absolute;
    right: 30px;
}

@media screen and (min-width: 769px) {
    #nav-tabs-wrapper {
        display: block!important;
    }

    .s247-logo {
        width: 204px;
        line-height:normal;
    }

    .s247-logo img {
        width: 100px;
    }

}
@media screen and (max-width: 768px) {
    .nav-tabs-dropdown {
        display: block;
    }
    #nav-tabs-wrapper {
        display: none;
        border-top-left-radius: 0;
        border-top-right-radius: 0;
        text-align: center;
    }
    .nav-tabs-horizontal {
        min-height: 20px;
        padding: 6px;
    }
    .nav-tabs-horizontal  > li {
        float: none;
    }
    .nav-tabs-horizontal  > li + li {
        margin-left: 2px;
    }
    .nav-tabs-horizontal > li,
    .nav-tabs-horizontal > li > a {
        background: transparent;
        width: 100%;
    }
    .nav-tabs-horizontal  > li > a {
        border-radius: 4px;
    }
    .nav-tabs-horizontal  > li.active > a,
    .nav-tabs-horizontal  > li.active > a:hover,
    .nav-tabs-horizontal  > li.active > a:focus {
        color: #ffffff;
        background-color: #428bca;
    }
}
/*end*/

/*devtools css start*/
div#devtools #title{
    margin: 10px 0px 5px;
}
div#devtools #container {
    margin: 0px auto;
    width: 1000px;
}
div#devtools h2 {
    text-align: center;
}
div#devtools .output-btn {
    margin: 1%;
    border: 1px solid transparent;
    height: 40px;
}
div#devtools #precontainer {
    padding-top: 0px;
    margin: 0px;
    width: 100%;
    overflow: hidden;
    display: inline-block;
}
div#devtools .half-editor {
    width: 497px;
    margin: 0px;
    display: inline-block;
    position: relative;
}
div#devtools .io-half-editor {
    width: 95%;
    height: 300px;
    border: 1px solid;
    border-color: rgb(169, 169, 169);
}
div#devtools #editor {
    width: 80%;
    height: 350px;
    margin: 0;
    display: inline-block;
    position: relative;
}
div#devtools #output {
    margin-top: 0;
    width:80%;
    height:60%;
    margin: 0 10% 0 0;
    float:left;
    white-space: pre;
    box-sizing: border-box;
    display: inline-block;
    position: relative;
}
div#devtools #ocontainer {
    word-break: break-all;
    float: right;
}
div#devtools #fileinput {
    display:none;
}
div#devtools .loadbtn {
    display: block;
    width: 97.5%;
    text-align: center;
    padding: 5px 0px;
    color: white;
    text-decoration: none;
    border: 1px solid #119911;
    font-family: sans-serif;
    font-variant: small-caps;
    font-weight: 500;
    margin: 5px 0px;
    cursor: pointer;
    background: #119911;
}
div#devtools .loadbtn:hover {
    background: #33bb33;
}
div#devtools .loadbtn:active {
    background: #44cc44;
}
div#devtools .sidelower {
    position: absolute;
    width: 90%;
    bottom: 0px;
}
div#devtools .errormsg {
    color:red;
    font-size:0.9em;
    font-family:monospace;
}
div#devtools .half-editor .toolsHeading{
    text-align: center;
    width: 95%;
    display: inline-block;
    padding-bottom: 10px;
}

div#devtools .grey-btn{
    background-color: #aaaaaa;
}
div#devtools .output-btn:focus {
    outline: none;
}
div#devtools.topicon {
    display: inline-block;
    font-size:26px;
    font-weight:500;
    float:right;
    cursor:pointer;
    user-select: none;
    -moz-user-select:none;
    position: relative;
    right: 10px;
}
div#devtools .top-link {
    position: absolute;
    width: 90px;
    padding: 2px;
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;
    font-size: 12px;
    cursor: pointer;
    right: 4.5%;
}

.icon-checkweb,.icon-analyze,.icon-ping,.icon-dns,.icon-ip,.icon-finddomain,.icon-checkport,.icon-traceroute,.icon-ssl,.icon-heartbleed,
.icon-sslv3,.icon-ipv4,.icon-ipv6,.icon-randompassword,.icon-awsdesigner,.icon-compareweb,.icon-serverheader,.icon-linkchecker,.icon-codecleaner,.icon-html,.icon-redirectchecker,.icon-linkexplore,.icon-lynx,.icon-textratio,.icon-webspeed,.icon-jsonformatter,.icon-xmlformatter,.icon-sqlformatter,.icon-jsonminifer,.icon-javaminifier,.icon-cssminifier,.icon-jsonbeautifier,.icon-javabeautifier,.icon-cssbeautifier,.icon-jsontojava,.icon-jsongenerator,.icon-jsontoprotobuf,.icon-jsontoxml,.icon-jsontoyaml,.icon-regex,.icon-xmltojson,.icon-xmltoyaml,.icon-imagedata,.icon-initojson,.icon-initoyaml,.icon-initoxml,.icon-csvtojson,.icon-csvtoyaml,.icon-csvtoxml,.icon-threaddump,.icon-timestamp,.icon-urlsplitter,.icon-colorpicker,.icon-dataimage,.icon-harview, .icon-jsonpath, .icon-jsontophp,.icon-jsontocsharp, .icon-xmltoxsd, .icon-xpathevaluator,.icon-sqltomongodb, .icon-csvtosql,.icon-brand-reputation-check,.icon-blacklist-check,.icon-websocket{
    background-image:url(../images/tools-icon-sprite.png);
    width:57px;
    height:57px;
    background-repeat: no-repeat;
    margin-bottom: 13px;
}

.icon-checkweb{
    background-position:0 -5px;
}

.icon-analyze{
    background-position: 0 -66px;
}

.icon-ping{
    background-position: 0 -133px;
}

.icon-dns{
    background-position: 0px -194px;
}
.icon-ip{
    background-position: 0px -256px;
}
.icon-finddomain{
    background-position: 0px -316px;
}
.icon-checkport{
    background-position: 0px -372px;
}
.icon-traceroute{
    background-position: 0px -435px;
}
.icon-ssl{
    background-position: 0px -496px;
}
.icon-heartbleed{
    background-position: 0px -557px;
}
.icon-sslv3{
    background-position: 0px -618px;
}
.icon-ipv4{
    background-position: 0px -686px;
}
.icon-ipv6{
    background-position: 0px -742px;
}
.icon-randompassword{
    background-position: 0px -803px;
}
.icon-awsdesigner{
    background-position: 0px -864px;
}
.icon-compareweb{
    background-position: 0px -925px;
}
.icon-serverheader{
    background-position: -61px -12px;
}
.icon-linkchecker{background-position: -61px -75px;}
.icon-codecleaner{background-position: -61px -136px;}
.icon-html{background-position: -61px -197px;}
.icon-redirectchecker{background-position: -61px -258px;}
.icon-linkexplore{background-position: -126px -16px;}
.icon-lynx{background-position: -126px -77px;}
.icon-textratio{background-position: -126px -138px;}
.icon-webspeed{background-position: -126px -199px;}
.icon-jsonformatter{background-position: -187px -15px;}
.icon-xmlformatter{background-position: -187px -76px;}
.icon-sqlformatter{background-position: -187px -133px;}
.icon-jsonminifer{background-position: -187px -188px;}
.icon-javaminifier{background-position: -245px 0px;}
.icon-cssminifier{background-position: -245px -190px;}
.icon-jsonbeautifier{background-position: -187px -371px;}
.icon-javabeautifier{background-position: -245px -68px;}
.icon-cssbeautifier{background-position: -245px -246px;}
.icon-jsontojava{background-position: -187px -554px;}
.icon-jsongenerator{background-position: -187px -615px;}
.icon-jsontoprotobuf{background-position: -187px -676px;}
.icon-jsontoxml{background-position: -187px -737px;}
.icon-jsontoyaml{background-position: -187px -796px;}
.icon-regex{background-position: -187px -859px;}
.icon-xmltojson{background-position: -187px -920px;}
.icon-xmltoyaml{background-position: -187px -981px;}
.icon-imagedata{background-position: -187px -1042px;}
.icon-initojson{background-position: -187px -1103px;}
.icon-initoyaml{background-position: -187px -1164px;}
.icon-initoxml{background-position: -187px -1225px;}
.icon-csvtojson{background-position: -187px -1286px;}
.icon-csvtoyaml{background-position: -187px -1347px;}
.icon-csvtoxml{background-position: -187px -1408px;}
.icon-threaddump{background-position: -187px -1477px;}
.icon-timestamp{background-position: -187px -1532px;}
.icon-urlsplitter{background-position: -245px -128px;}
.icon-colorpicker{background-position: -245px -306px;}
.icon-dataimage{background-position: -245px -428px;}
.icon-harview{background-position: -245px -495px;}
.icon-jsonpath{background-position:-187px -1775px;}
.icon-jsontophp{background-position:-187px -491px;}
.icon-jsontocsharp{background-position:-187px -430px;}
.icon-xmltoxsd{background-position: -187px -1711px;}
.icon-xpathevaluator{background-position: -187px -1837px;}
.icon-sqltomongodb{background-position: -187px -1651px;}
.icon-csvtosql{background-position: -187px -1588px;}
.icon-brand-reputation-check{background-position: -61px -318px;}
.icon-blacklist-check{background-position: -61px -379px;}
.icon-websocket{background-position: -63px -439px;}

.icon_left{
    float:left;

}

.icon_left_2{
    float:left;

}
.toolsioheading {
    text-align: center;
    width: 46%;
    margin: 10px -1.0% 0;
    display: inline-block;
    padding-bottom: 10px;
}
#imguri {
    width: 745px;
    font-weight: bold;
    padding: 3px 2px;
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;, ProximaNova-Reg, Arial, Helvetica, sans-serif;
    margin-bottom: 15px;
    height: 18px;
}
.imgul {
    width:115px;
    display:inline-block;
    cursor: pointer;
    height: 30px;
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;
}
.halfwidth {
    width:100%;
    padding: 0px;
    height:300px;
    overflow-y: auto;
    display: inline-block;
    box-sizing: border-box;
}
#preview {
    border: 2px solid #aaa;
    width:100%;
}
#preview.free-img {
    padding-top: 135px;
    font-size: 18px;
    line-height: 20px;
    text-align: center;
    color: #888;
    font-weight: 500;
    border-style: dashed;
    border-width: 3px;
}
#preview img {
    width: 100%;
}
.result{
    height: 80px;
    width:95%;
    color: #666666;
    font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;, sans-serif !important;
    font-weight: 400;
    padding: 5px;
}
.preview1{
    width:95%;
    height:40px;
}
#box1{
    width:95%;
    height:40px;
    background-color:#22142b;
}
.heading1{
    font-size:15px;
    font-weight:600;
    text-align:center;
}
.input {width: 47%;height: 300px;margin: 0;display: inline-block;position: relative;}

.icontainer {width: 100%;height: 100%;border-color: rgb(169, 169, 169); padding: 5px; font-size: 14px;}

.joutput {margin-top: 0;width:47%;height:300px;margin: 0;float:right;box-sizing: border-box;display: inline-block;}

.ocontainer {width: 100%;height: 100%;border-color: rgb(169, 169, 169);white-space: pre;color: #333333; padding: 5px;}

.convert{cursor: pointer;background: #83b633;height:40px;border: 1px solid transparent;border-radius: 0px;color: white;font-family: ProximaNova-Reg, Arial, Helvetica, sans-serif;,  ProximaNova-Reg, Arial, Helvetica, sans-serif;font-weight: 500;font-size:17px; margin: 10px 0 15px;}

.convert:focus {outline: none;}

.inputclear{background-color: #aaaaaa;height:40px;display: inline;cursor: pointer;border: 1px solid transparent;border-radius: 0px;text-align:center;margin-left:10px;color: white;}

.inputclear:focus {outline: none;}

.copybtn{background-color: #aaaaaa;height:40px;display: inline;cursor: pointer;border: 1px solid transparent;border-radius: 0px;text-align:center;color: white; float:right; margin: 10px 10px;font-size: 17px;}

.copybtn:focus{outline:none;}

.savebtn{background-color: #aaaaaa;height:40px;display: inline;cursor: pointer;border: 1px solid transparent;border-radius: 0px;text-align:center;margin-left:10px;color: white; float:right; margin: 10px -2px 0px 2px;font-size: 17px;}

.savebtn:focus{outline:none;}

.footer_link{width: 100%; margin: 0px auto 15px; font-size: 15px; padding-top: 10px; padding-bottom: 10px;}

h2 {text-align: center;}

textarea{font-size: 9pt;resize: none;}

textarea:focus{outline: none;}



/*devtools css end*/

.foot_text { float: left;    padding: 2px;    font-size: 12px; }
.foot_margin { margin: 15px 120px; }
.tools-head{ font-size: 30px; padding-top:25px; }
.container{ width: 1170px; margin: 0 auto; }
table.row-shade-even  tr:nth-child(even) td{
           background:#f2f2f2;
}
table.row-bg-white-odd  tr:nth-child(odd) td{
           background:white;
}
.rblfont {
    font-size: 12px;
    letter-spacing: 1px;
    padding-top: 4px;
    padding-bottom:4px;
    text-align: center;
}
.border-right-bottom {
    border-bottom: 1px solid #d4d4d4;
    border-right: 1px solid #d4d4d4;
}

/*Brand Reputation icon Starts */
.brand-icons-sprites{
    background-image: url("../images/brand-icons.svg");
    width:20px;
    height: 20px;
    background-repeat: no-repeat;
    background-size: 360px;
    float: left;
    margin: 5px;
}
.brand-icons-status{
    background-image: url("../images/brand-icons.svg");
    width:20px;
    height: 20px;
    background-repeat: no-repeat;
    background-size: 280px;
    float: left;
    margin: 5px;
}
.icon-ios{background-position: -9px -25px;}
.icon-windows{background-position: -68px -26px;}
.icon-linux{background-position: -127px -27px;}
.icon-android{background-position: -184px -29px;}
.icon-osx{background-position: -253px -28px;}
.icon-chrome{background-position: -318px -30px;}
.icon-stts-up{background-position: -5px -50px;}
.icon-stts-down{background-position: -50px -50px;}
.icon-stts-none{background-position: -98px -50px;}
.icon-stts-trouble{background-position: -143px -50px;}
/*Brand Reputation icon Starts */

</style>

<!-- END TOOLS OPERATION INCLUDES -->

 
 <body onload="setDefaultIPv6Values();">
<!-- START OF HEADER -->
 


<!-- END OF HEADER -->
<div id="pagewrapper" style="height: 0px;">
	<div id="pagecointainer">
		<div id="mainContent">
		<div>
			<table width="100%" border="0" cellspacing="0" cellpadding="0">
                  <tbody><tr>
                    <td width="100%" height="21" rowspan="2" align="center" valign="middle">
                    <!-- InstanceBeginEditable name="mainContent" -->
						<table width="100%" border="0">
	  						<tbody><tr>
								<td>
									<div style="width:100%;" class="normalconttools">
										





<script>
$(document).ready(function() {
	$('#id_request_div').show();
	$('#id_response_div').hide();
	$('.tabcontent').hide();
	$('#view1').show();
	$('#tab1').attr('checked',true);  //No I18N	
});
</script>



<div id="middle">
	<div id="id_request_div">
		<div id="id_check_request_page" style="width:1000px; margin: 0px auto 0px auto;" class="clear">
			<div class="floatleft" style="width:998px;"><p class="toolheading" style="margin-top:10px;">IPv6 Subnet Calculator</p>
  					<p class="runningtxt">The IPv6 Subnet Calculator performs network calculations on the given network address block, routing prefix and determines subnet address, host range and notation for the subnet.</p>
   			</div>
			<div id="cidr_calc">
				<table>
					<tbody><tr>
						<td width="170">
							<table width="170">
								<tbody><tr>
									<td width="120" height="50">
										<label class="ipv6labeltext">Network address block</label>
									</td>
								</tr>
								<tr>							
									<td width="120" height="50">
										<label class="ipv6labeltext">Number of Subnets</label>
									</td>
								</tr>
							</tbody></table>
						</td>
						<td width="30"></td>
						<td width="450" valign="top">
							<table width="450">
								<tbody><tr>							
									<td width="250" height="50">
										<input id="ipv6AddressBlock" class="ipv6subnetcalctextbox" type="text" onchange="calculateAndUpdateValues(&#39;setAddress&#39;);">
									</td>
								</tr>
								<tr>
									<td width="250" height="50">
										<select id="ipv6SubnetBitsVsNoOfSubnets" class="ipv6subnetcalcdropdownbox" onchange="calculateAndUpdateValues(&#39;setNoOfSubnets&#39;);"><option value="0">/8 (1 subnet)</option><option value="1">/9 (2 subnets)</option><option value="2">/10 (4 subnets)</option><option value="3">/11 (8 subnets)</option><option value="4">/12 (16 subnets)</option><option value="5">/13 (32 subnets)</option><option value="6">/14 (64 subnets)</option><option value="7">/15 (128 subnets)</option><option value="8">/16 (256 subnets)</option><option value="9">/17 (512 subnets)</option><option value="10">/18 (1024 subnets)</option><option value="11">/19 (2048 subnets)</option><option value="12">/20 (4096 subnets)</option><option value="13">/21 (8192 subnets)</option><option value="14">/22 (16384 subnets)</option><option value="15">/23 (32768 subnets)</option><option value="16">/24 (65536 subnets)</option><option value="17">/25 (131072 subnets)</option><option value="18">/26 (262144 subnets)</option><option value="19">/27 (524288 subnets)</option><option value="20">/28 (1048576 subnets)</option><option value="21">/29 (2097152 subnets)</option><option value="22">/30 (4194304 subnets)</option><option value="23">/31 (8388608 subnets)</option><option value="24">/32 (16777216 subnets)</option><option value="25">/33 (33554432 subnets)</option><option value="26">/34 (67108864 subnets)</option><option value="27">/35 (134217728 subnets)</option><option value="28">/36 (268435456 subnets)</option><option value="29">/37 (536870912 subnets)</option><option value="30">/38 (1073741824 subnets)</option><option value="31">/39 (2147483648 subnets)</option><option value="32">/40 (4294967296 subnets)</option><option value="33">/41 (8589934592 subnets)</option><option value="34">/42 (17179869184 subnets)</option><option value="35">/43 (34359738368 subnets)</option><option value="36">/44 (68719476736 subnets)</option><option value="37">/45 (137438953472 subnets)</option><option value="38">/46 (274877906944 subnets)</option><option value="39">/47 (549755813888 subnets)</option><option value="40">/48 (1099511627776 subnets)</option><option value="41">/49 (2199023255552 subnets)</option><option value="42">/50 (4398046511104 subnets)</option><option value="43">/51 (8796093022208 subnets)</option><option value="44">/52 (17592186044416 subnets)</option><option value="45">/53 (35184372088832 subnets)</option><option value="46">/54 (70368744177664 subnets)</option><option value="47">/55 (140737488355328 subnets)</option><option value="48">/56 (281474976710656 subnets)</option><option value="49">/57 (562949953421312 subnets)</option><option value="50">/58 (1125899906842624 subnets)</option><option value="51">/59 (2251799813685248 subnets)</option><option value="52">/60 (4503599627370496 subnets)</option><option value="53">/61 (9007199254740992 subnets)</option><option value="54">/62 (18014398509481984 subnets)</option><option value="55">/63 (36028797018963970 subnets)</option><option value="56">/64 (72057594037927940 subnets)</option></select>  
									</td>
								</tr>
							</tbody></table>
						</td>
					</tr>
				</tbody></table>
			</div>	
			<br>
			<div id="SubnetInfoDiv" style="margin-bottom: 5px; display: block;"><span class="toolstext">Subnet Details</span></div>
			<br>
			<div id="tableDiv"><div id="newDiv" style="height: auto;width:950px"><table id="newtable" width="935px" class="dynamicTable"><tbody><tr><td class="dynamicTableCell" style="font-weight:bold;width:140px;line-height:40px;">Subnet ID</td><td class="dynamicTableCell" style="font-weight:bold;width:253px;line-height:40px;">Subnet Address</td><td class="dynamicTableCell" style="font-weight:bold;width:253px;line-height:40px;">Host Address Range</td><td class="dynamicTableCell" style="font-weight:bold;width:253px;line-height:40px;">Notation</td></tr><tr><td class="dynamicTableCell" style="width:140px;line-height:40px;">1</td><td class="dynamicTableCell" style="width:253px;line-height:40px;">fd00::</td><td class="dynamicTableCell" style="width:253px;line-height:40px;">fd00:: - fdff:ffff:ffff:ffff::</td><td class="dynamicTableCell" style="width:253px;line-height:40px;">fd00::/8</td></tr></tbody></table></div></div>
			<br>
		</div>
	</div>	
	<br>
	<br>
</div>




	
									</div>
								</td>
						  	</tr>
			  			</tbody></table>
			  		</td>
			  	</tr>
			  </tbody></table>
		  </div>
	  </div>
  </div>		
</div>


</body></html>